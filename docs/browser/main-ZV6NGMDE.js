var xB=Object.defineProperty,KQ=Object.defineProperties;var qQ=Object.getOwnPropertyDescriptors;var _B=Object.getOwnPropertySymbols;var YQ=Object.prototype.hasOwnProperty,QQ=Object.prototype.propertyIsEnumerable;var yB=(t,e,i)=>e in t?xB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,te=(t,e)=>{for(var i in e||={})YQ.call(e,i)&&yB(t,i,e[i]);if(_B)for(var i of _B(e))QQ.call(e,i)&&yB(t,i,e[i]);return t},Pt=(t,e)=>KQ(t,qQ(e));var JQ=(t,e)=>{for(var i in e)xB(t,i,{get:e[i],enumerable:!0})};var CB=null,um=!1,VC=1,hm=Symbol("SIGNAL");function ht(t){let e=CB;return CB=t,e}function XQ(){return um}var WC={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ZQ(t){if(!($C(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===VC)){if(!t.producerMustRecompute(t)&&!pm(t)){t.dirty=!1,t.lastCleanEpoch=VC;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=VC}}function eJ(t){if(t.liveConsumerNode===void 0)return;let e=um;um=!0;try{for(let i of t.liveConsumerNode)i.dirty||SB(i)}finally{um=e}}function SB(t){t.dirty=!0,eJ(t),t.consumerMarkedDirty?.(t)}function GC(t){return t&&(t.nextProducerIndex=0),ht(t)}function zC(t,e){if(ht(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($C(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)jC(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pm(t){cm(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(ZQ(i),n!==i.version))return!0}return!1}function UC(t){if(cm(t),$C(t))for(let e=0;e<t.producerNode.length;e++)jC(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function jC(t,e){if(tJ(t),cm(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)jC(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];cm(o),o.producerIndexOfThis[n]=e}}function $C(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function cm(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function tJ(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function iJ(){throw new Error}var nJ=iJ;function bB(t){nJ=t}function DB(t,e,i){let n=Object.create(oJ);i&&(n.consumerAllowSignalWrites=!0),n.fn=t,n.schedule=e;let o=l=>{n.cleanupFn=l};function r(l){return l.fn===null&&l.schedule===null}function a(l){r(l)||(UC(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=HC)}let s=()=>{if(n.fn===null)return;if(XQ())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!pm(n))return;n.hasRun=!0;let l=GC(n);try{n.cleanupFn(),n.cleanupFn=HC,n.fn(o)}finally{zC(n,l)}};return n.ref={notify:()=>SB(n),run:s,cleanup:()=>n.cleanupFn(),destroy:()=>a(n),[hm]:n},n.ref}var HC=()=>{},oJ=Pt(te({},WC),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:HC});function Pe(t){return typeof t=="function"}function qd(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var gm=qd(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,o)=>`${o+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Il(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Tt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let r of i)r.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(Pe(n))try{n()}catch(r){e=r instanceof gm?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{wB(r)}catch(a){e=e??[],a instanceof gm?e=[...e,...a.errors]:e.push(a)}}if(e)throw new gm(e)}}add(e){var i;if(e&&e!==this)if(this.closed)wB(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Il(i,e)}remove(e){let{_finalizers:i}=this;i&&Il(i,e),e instanceof t&&e._removeParent(this)}};Tt.EMPTY=(()=>{let t=new Tt;return t.closed=!0,t})();var KC=Tt.EMPTY;function fm(t){return t instanceof Tt||t&&"closed"in t&&Pe(t.remove)&&Pe(t.add)&&Pe(t.unsubscribe)}function wB(t){Pe(t)?t():t.unsubscribe()}var Wo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yd={setTimeout(t,e,...i){let{delegate:n}=Yd;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Yd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mm(t){Yd.setTimeout(()=>{let{onUnhandledError:e}=Wo;if(e)e(t);else throw t})}function Sh(){}var EB=qC("C",void 0,void 0);function OB(t){return qC("E",void 0,t)}function IB(t){return qC("N",t,void 0)}function qC(t,e,i){return{kind:t,value:e,error:i}}var Fl=null;function Qd(t){if(Wo.useDeprecatedSynchronousErrorHandling){let e=!Fl;if(e&&(Fl={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Fl;if(Fl=null,i)throw n}}else t()}function FB(t){Wo.useDeprecatedSynchronousErrorHandling&&Fl&&(Fl.errorThrown=!0,Fl.error=t)}var Tl=class extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fm(e)&&e.add(this)):this.destination=sJ}static create(e,i,n){return new da(e,i,n)}next(e){this.isStopped?QC(IB(e),this):this._next(e)}error(e){this.isStopped?QC(OB(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?QC(EB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rJ=Function.prototype.bind;function YC(t,e){return rJ.call(t,e)}var JC=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){vm(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){vm(n)}else vm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){vm(i)}}},da=class extends Tl{constructor(e,i,n){super();let o;if(Pe(e)||!e)o={next:e??void 0,error:i??void 0,complete:n??void 0};else{let r;this&&Wo.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&YC(e.next,r),error:e.error&&YC(e.error,r),complete:e.complete&&YC(e.complete,r)}):o=e}this.destination=new JC(o)}};function vm(t){Wo.useDeprecatedSynchronousErrorHandling?FB(t):mm(t)}function aJ(t){throw t}function QC(t,e){let{onStoppedNotification:i}=Wo;i&&Yd.setTimeout(()=>i(t,e))}var sJ={closed:!0,next:Sh,error:aJ,complete:Sh};var Jd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function un(t){return t}function XC(...t){return ZC(t)}function ZC(t){return t.length===0?un:t.length===1?t[0]:function(i){return t.reduce((n,o)=>o(n),i)}}var lt=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,o){let r=dJ(i)?i:new da(i,n,o);return Qd(()=>{let{operator:a,source:s}=this;r.add(a?a.call(r,s):s?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=TB(n),new n((o,r)=>{let a=new da({next:s=>{try{i(s)}catch(l){r(l),a.unsubscribe()}},error:r,complete:o});this.subscribe(a)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[Jd](){return this}pipe(...i){return ZC(i)(this)}toPromise(i){return i=TB(i),new i((n,o)=>{let r;this.subscribe(a=>r=a,a=>o(a),()=>n(r))})}}return t.create=e=>new t(e),t})();function TB(t){var e;return(e=t??Wo.Promise)!==null&&e!==void 0?e:Promise}function lJ(t){return t&&Pe(t.next)&&Pe(t.error)&&Pe(t.complete)}function dJ(t){return t&&t instanceof Tl||lJ(t)&&fm(t)}function eS(t){return Pe(t?.lift)}function ze(t){return e=>{if(eS(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(t,e,i,n,o){return new tS(t,e,i,n,o)}var tS=class extends Tl{constructor(e,i,n,o,r,a){super(e),this.onFinalize=r,this.shouldUnsubscribe=a,this._next=i?function(s){try{i(s)}catch(l){e.error(l)}}:super._next,this._error=o?function(s){try{o(s)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xd(){return ze((t,e)=>{let i=null;t._refCount++;let n=Ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let o=t._connection,r=i;i=null,o&&(!r||o===r)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var Zd=class extends lt{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,eS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;let i=this.getSubject();e.add(this.source.subscribe(Ue(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return Xd()(this)}};var MB=qd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ot=(()=>{class t extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new _m(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new MB}next(i){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:o,observers:r}=this;return n||o?KC:(this.currentObservers=null,r.push(i),new Tt(()=>{this.currentObservers=null,Il(r,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:o,isStopped:r}=this;n?i.error(o):r&&i.complete()}asObservable(){let i=new lt;return i.source=this,i}}return t.create=(e,i)=>new _m(e,i),t})(),_m=class extends Ot{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:KC}};var Si=class extends Ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var iS={now(){return(iS.delegate||Date).now()},delegate:void 0};var ym=class extends Tt{constructor(e,i){super()}schedule(e,i=0){return this}};var bh={setInterval(t,e,...i){let{delegate:n}=bh;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=bh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xm=class extends ym{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let o=this.id,r=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(r,o,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(r,this.id,i),this}requestAsyncId(e,i,n=0){return bh.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&bh.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,o;try{this.work(e)}catch(r){n=!0,o=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Il(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var eu=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};eu.now=iS.now;var Cm=class extends eu{constructor(e,i=eu.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var AB=new Cm(xm);var cn=new lt(t=>t.complete());function RB(t){return t&&Pe(t.schedule)}function nS(t){return t[t.length-1]}function Sm(t){return Pe(nS(t))?t.pop():void 0}function yr(t){return RB(nS(t))?t.pop():void 0}function BB(t,e){return typeof nS(t)=="number"?t.pop():e}function PB(t,e,i,n){function o(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(u){try{d(n.next(u))}catch(c){a(c)}}function l(u){try{d(n.throw(u))}catch(c){a(c)}}function d(u){u.done?r(u.value):o(u.value).then(s,l)}d((n=n.apply(t,e||[])).next())})}function kB(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ml(t){return this instanceof Ml?(this.v=t,this):new Ml(t)}function NB(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(g){return function(m){return Promise.resolve(m).then(g,c)}}function s(g,m){n[g]&&(o[g]=function(y){return new Promise(function(C,b){r.push([g,y,C,b])>1||l(g,y)})},m&&(o[g]=m(o[g])))}function l(g,m){try{d(n[g](m))}catch(y){p(r[0][3],y)}}function d(g){g.value instanceof Ml?Promise.resolve(g.value.v).then(u,c):p(r[0][2],g)}function u(g){l("next",g)}function c(g){l("throw",g)}function p(g,m){g(m),r.shift(),r.length&&l(r[0][0],r[0][1])}}function LB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof kB=="function"?kB(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=t[r]&&function(a){return new Promise(function(s,l){a=t[r](a),o(s,l,a.done,a.value)})}}function o(r,a,s,l){Promise.resolve(l).then(function(d){r({value:d,done:s})},a)}}var bm=t=>t&&typeof t.length=="number"&&typeof t!="function";function Dm(t){return Pe(t?.then)}function wm(t){return Pe(t[Jd])}function Em(t){return Symbol.asyncIterator&&Pe(t?.[Symbol.asyncIterator])}function Om(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uJ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Im=uJ();function Fm(t){return Pe(t?.[Im])}function Tm(t){return NB(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:o}=yield Ml(i.read());if(o)return yield Ml(void 0);yield yield Ml(n)}}finally{i.releaseLock()}})}function Mm(t){return Pe(t?.getReader)}function Ht(t){if(t instanceof lt)return t;if(t!=null){if(wm(t))return cJ(t);if(bm(t))return hJ(t);if(Dm(t))return pJ(t);if(Em(t))return VB(t);if(Fm(t))return gJ(t);if(Mm(t))return fJ(t)}throw Om(t)}function cJ(t){return new lt(e=>{let i=t[Jd]();if(Pe(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hJ(t){return new lt(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function pJ(t){return new lt(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,mm)})}function gJ(t){return new lt(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function VB(t){return new lt(e=>{mJ(t,e).catch(i=>e.error(i))})}function fJ(t){return VB(Tm(t))}function mJ(t,e){var i,n,o,r;return PB(this,void 0,void 0,function*(){try{for(i=LB(t);n=yield i.next(),!n.done;){let a=n.value;if(e.next(a),e.closed)return}}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&(yield r.call(i))}finally{if(o)throw o.error}}e.complete()})}function Cn(t,e,i,n=0,o=!1){let r=e.schedule(function(){i(),o?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(r),!o)return r}function Am(t,e=0){return ze((i,n)=>{i.subscribe(Ue(n,o=>Cn(n,t,()=>n.next(o),e),()=>Cn(n,t,()=>n.complete(),e),o=>Cn(n,t,()=>n.error(o),e)))})}function Rm(t,e=0){return ze((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function HB(t,e){return Ht(t).pipe(Rm(e),Am(e))}function WB(t,e){return Ht(t).pipe(Rm(e),Am(e))}function GB(t,e){return new lt(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function zB(t,e){return new lt(i=>{let n;return Cn(i,e,()=>{n=t[Im](),Cn(i,e,()=>{let o,r;try{({value:o,done:r}=n.next())}catch(a){i.error(a);return}r?i.complete():i.next(o)},0,!0)}),()=>Pe(n?.return)&&n.return()})}function Bm(t,e){if(!t)throw new Error("Iterable cannot be null");return new lt(i=>{Cn(i,e,()=>{let n=t[Symbol.asyncIterator]();Cn(i,e,()=>{n.next().then(o=>{o.done?i.complete():i.next(o.value)})},0,!0)})})}function UB(t,e){return Bm(Tm(t),e)}function jB(t,e){if(t!=null){if(wm(t))return HB(t,e);if(bm(t))return GB(t,e);if(Dm(t))return WB(t,e);if(Em(t))return Bm(t,e);if(Fm(t))return zB(t,e);if(Mm(t))return UB(t,e)}throw Om(t)}function ei(t,e){return e?jB(t,e):Ht(t)}function De(...t){let e=yr(t);return ei(t,e)}function cs(t,e){let i=Pe(t)?t:()=>t,n=o=>o.error(i());return new lt(e?o=>e.schedule(n,0,o):n)}function oS(t){return!!t&&(t instanceof lt||Pe(t.lift)&&Pe(t.subscribe))}var ua=qd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ie(t,e){return ze((i,n)=>{let o=0;i.subscribe(Ue(n,r=>{n.next(t.call(e,r,o++))}))})}var{isArray:vJ}=Array;function _J(t,e){return vJ(e)?t(...e):t(e)}function km(t){return Ie(e=>_J(t,e))}var{isArray:yJ}=Array,{getPrototypeOf:xJ,prototype:CJ,keys:SJ}=Object;function Pm(t){if(t.length===1){let e=t[0];if(yJ(e))return{args:e,keys:null};if(bJ(e)){let i=SJ(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function bJ(t){return t&&typeof t=="object"&&xJ(t)===CJ}function Nm(t,e){return t.reduce((i,n,o)=>(i[n]=e[o],i),{})}function tu(...t){let e=yr(t),i=Sm(t),{args:n,keys:o}=Pm(t);if(n.length===0)return ei([],e);let r=new lt(DJ(n,e,o?a=>Nm(o,a):un));return i?r.pipe(km(i)):r}function DJ(t,e,i=un){return n=>{$B(e,()=>{let{length:o}=t,r=new Array(o),a=o,s=o;for(let l=0;l<o;l++)$B(e,()=>{let d=ei(t[l],e),u=!1;d.subscribe(Ue(n,c=>{r[l]=c,u||(u=!0,s--),s||n.next(i(r.slice()))},()=>{--a||n.complete()}))},n)},n)}}function $B(t,e,i){t?Cn(i,t,e):e()}function KB(t,e,i,n,o,r,a,s){let l=[],d=0,u=0,c=!1,p=()=>{c&&!l.length&&!d&&e.complete()},g=y=>d<n?m(y):l.push(y),m=y=>{r&&e.next(y),d++;let C=!1;Ht(i(y,u++)).subscribe(Ue(e,b=>{o?.(b),r?g(b):e.next(b)},()=>{C=!0},void 0,()=>{if(C)try{for(d--;l.length&&d<n;){let b=l.shift();a?Cn(e,a,()=>m(b)):m(b)}p()}catch(b){e.error(b)}}))};return t.subscribe(Ue(e,g,()=>{c=!0,p()})),()=>{s?.()}}function bi(t,e,i=1/0){return Pe(e)?bi((n,o)=>Ie((r,a)=>e(n,r,o,a))(Ht(t(n,o))),i):(typeof e=="number"&&(i=e),ze((n,o)=>KB(n,o,t,i)))}function Dh(t=1/0){return bi(un,t)}function qB(){return Dh(1)}function hs(...t){return qB()(ei(t,yr(t)))}function Lm(t){return new lt(e=>{Ht(t()).subscribe(e)})}function rS(...t){let e=Sm(t),{args:i,keys:n}=Pm(t),o=new lt(r=>{let{length:a}=i;if(!a){r.complete();return}let s=new Array(a),l=a,d=a;for(let u=0;u<a;u++){let c=!1;Ht(i[u]).subscribe(Ue(r,p=>{c||(c=!0,d--),s[u]=p},()=>l--,void 0,()=>{(!l||!c)&&(d||r.next(n?Nm(n,s):s),r.complete())}))}});return e?o.pipe(km(e)):o}function Vm(...t){let e=yr(t),i=BB(t,1/0),n=t;return n.length?n.length===1?Ht(n[0]):Dh(i)(ei(n,e)):cn}function Li(t,e){return ze((i,n)=>{let o=0;i.subscribe(Ue(n,r=>t.call(e,r,o++)&&n.next(r)))})}function xr(t){return ze((e,i)=>{let n=null,o=!1,r;n=e.subscribe(Ue(i,void 0,void 0,a=>{r=Ht(t(a,xr(t)(e))),n?(n.unsubscribe(),n=null,r.subscribe(i)):o=!0})),o&&(n.unsubscribe(),n=null,r.subscribe(i))})}function YB(t,e,i,n,o){return(r,a)=>{let s=i,l=e,d=0;r.subscribe(Ue(a,u=>{let c=d++;l=s?t(l,u,c):(s=!0,u),n&&a.next(l)},o&&(()=>{s&&a.next(l),a.complete()})))}}function ps(t,e){return Pe(e)?bi(t,e,1):bi(t,1)}function wh(t,e=AB){return ze((i,n)=>{let o=null,r=null,a=null,s=()=>{if(o){o.unsubscribe(),o=null;let d=r;r=null,n.next(d)}};function l(){let d=a+t,u=e.now();if(u<d){o=this.schedule(void 0,d-u),n.add(o);return}s()}i.subscribe(Ue(n,d=>{r=d,a=e.now(),o||(o=e.schedule(l,t),n.add(o))},()=>{s(),n.complete()},void 0,()=>{r=o=null}))})}function gs(t){return ze((e,i)=>{let n=!1;e.subscribe(Ue(i,o=>{n=!0,i.next(o)},()=>{n||i.next(t),i.complete()}))})}function Ki(t){return t<=0?()=>cn:ze((e,i)=>{let n=0;e.subscribe(Ue(i,o=>{++n<=t&&(i.next(o),t<=n&&i.complete())}))})}function aS(t){return Ie(()=>t)}function sS(t,e=un){return t=t??wJ,ze((i,n)=>{let o,r=!0;i.subscribe(Ue(n,a=>{let s=e(a);(r||!t(o,s))&&(r=!1,o=s,n.next(a))}))})}function wJ(t,e){return t===e}function Hm(t=EJ){return ze((e,i)=>{let n=!1;e.subscribe(Ue(i,o=>{n=!0,i.next(o)},()=>n?i.complete():i.error(t())))})}function EJ(){return new ua}function fs(t){return ze((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function Cr(t,e){let i=arguments.length>=2;return n=>n.pipe(t?Li((o,r)=>t(o,r,n)):un,Ki(1),i?gs(e):Hm(()=>new ua))}function iu(t){return t<=0?()=>cn:ze((e,i)=>{let n=[];e.subscribe(Ue(i,o=>{n.push(o),t<n.length&&n.shift()},()=>{for(let o of n)i.next(o);i.complete()},void 0,()=>{n=null}))})}function lS(t,e){let i=arguments.length>=2;return n=>n.pipe(t?Li((o,r)=>t(o,r,n)):un,iu(1),i?gs(e):Hm(()=>new ua))}function dS(t,e){return ze(YB(t,e,arguments.length>=2,!0))}function cS(t={}){let{connector:e=()=>new Ot,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=t;return r=>{let a,s,l,d=0,u=!1,c=!1,p=()=>{s?.unsubscribe(),s=void 0},g=()=>{p(),a=l=void 0,u=c=!1},m=()=>{let y=a;g(),y?.unsubscribe()};return ze((y,C)=>{d++,!c&&!u&&p();let b=l=l??e();C.add(()=>{d--,d===0&&!c&&!u&&(s=uS(m,o))}),b.subscribe(C),!a&&d>0&&(a=new da({next:O=>b.next(O),error:O=>{c=!0,p(),s=uS(g,i,O),b.error(O)},complete:()=>{u=!0,p(),s=uS(g,n),b.complete()}}),Ht(y).subscribe(a))})(r)}}function uS(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new da({next:()=>{n.unsubscribe(),t()}});return Ht(e(...i)).subscribe(n)}function Eh(t){return Li((e,i)=>t<=i)}function ca(...t){let e=yr(t);return ze((i,n)=>{(e?hs(t,i,e):hs(t,i)).subscribe(n)})}function Sn(t,e){return ze((i,n)=>{let o=null,r=0,a=!1,s=()=>a&&!o&&n.complete();i.subscribe(Ue(n,l=>{o?.unsubscribe();let d=0,u=r++;Ht(t(l,u)).subscribe(o=Ue(n,c=>n.next(e?e(l,c,u,d++):c),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function io(t){return ze((e,i)=>{Ht(t).subscribe(Ue(i,()=>i.complete(),Sh)),!i.closed&&e.subscribe(i)})}function jt(t,e,i){let n=Pe(t)||e||i?{next:t,error:e,complete:i}:t;return n?ze((o,r)=>{var a;(a=n.subscribe)===null||a===void 0||a.call(n);let s=!0;o.subscribe(Ue(r,l=>{var d;(d=n.next)===null||d===void 0||d.call(n,l),r.next(l)},()=>{var l;s=!1,(l=n.complete)===null||l===void 0||l.call(n),r.complete()},l=>{var d;s=!1,(d=n.error)===null||d===void 0||d.call(n,l),r.error(l)},()=>{var l,d;s&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(d=n.finalize)===null||d===void 0||d.call(n)}))}):un}var Bk="https://g.co/ng/security#xss",we=class extends Error{constructor(e,i){super(Tb(e,i)),this.code=e}};function Tb(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hh(t){return{toString:t}.toString()}var Wm="__parameters__";function OJ(t){return function(...i){if(t){let n=t(...i);for(let o in n)this[o]=n[o]}}}function kk(t,e,i){return Hh(()=>{let n=OJ(e);function o(...r){if(this instanceof o)return n.apply(this,r),this;let a=new o(...r);return s.annotation=a,s;function s(l,d,u){let c=l.hasOwnProperty(Wm)?l[Wm]:Object.defineProperty(l,Wm,{value:[]})[Wm];for(;c.length<=u;)c.push(null);return(c[u]=c[u]||[]).push(a),l}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Al=globalThis;function At(t){for(let e in t)if(t[e]===At)return e;throw Error("Could not find renamed property on target object.")}function IJ(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function Dn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function ES(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var FJ=At({__forward_ref__:At});function mu(t){return t.__forward_ref__=mu,t.toString=function(){return Dn(this())},t}function hn(t){return Pk(t)?t():t}function Pk(t){return typeof t=="function"&&t.hasOwnProperty(FJ)&&t.__forward_ref__===mu}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function j(t){return{providers:t.providers||[],imports:t.imports||[]}}function _v(t){return QB(t,Lk)||QB(t,Vk)}function Nk(t){return _v(t)!==null}function QB(t,e){return t.hasOwnProperty(e)?t[e]:null}function TJ(t){let e=t&&(t[Lk]||t[Vk]);return e||null}function JB(t){return t&&(t.hasOwnProperty(XB)||t.hasOwnProperty(MJ))?t[XB]:null}var Lk=At({\u0275prov:At}),XB=At({\u0275inj:At}),Vk=At({ngInjectableDef:At}),MJ=At({ngInjectorDef:At}),Ce=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=re({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hk(t){return t&&!!t.\u0275providers}var AJ=At({\u0275cmp:At}),RJ=At({\u0275dir:At}),BJ=At({\u0275pipe:At}),kJ=At({\u0275mod:At}),Zm=At({\u0275fac:At}),Oh=At({__NG_ELEMENT_ID__:At}),ZB=At({__NG_ENV_ID__:At});function au(t){return typeof t=="string"?t:t==null?"":String(t)}function PJ(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():au(t)}function NJ(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new we(-200,t)}function Mb(t,e){throw new we(-201,!1)}var Ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ye||{}),OS;function Wk(){return OS}function no(t){let e=OS;return OS=t,e}function Gk(t,e,i){let n=_v(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&Ye.Optional)return null;if(e!==void 0)return e;Mb(t,"Injector")}var LJ={},Ih=LJ,IS="__NG_DI_FLAG__",ev="ngTempTokenPath",VJ="ngTokenPath",HJ=/\n/gm,WJ="\u0275",ek="__source",su;function GJ(){return su}function ms(t){let e=su;return su=t,e}function zJ(t,e=Ye.Default){if(su===void 0)throw new we(-203,!1);return su===null?Gk(t,void 0,e):su.get(t,e&Ye.Optional?null:void 0,e)}function ne(t,e=Ye.Default){return(Wk()||zJ)(hn(t),e)}function Z(t,e=Ye.Default){return ne(t,yv(e))}function yv(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function FS(t){let e=[];for(let i=0;i<t.length;i++){let n=hn(t[i]);if(Array.isArray(n)){if(n.length===0)throw new we(900,!1);let o,r=Ye.Default;for(let a=0;a<n.length;a++){let s=n[a],l=UJ(s);typeof l=="number"?l===-1?o=s.token:r|=l:o=s}e.push(ne(o,r))}else e.push(ne(n))}return e}function zk(t,e){return t[IS]=e,t.prototype[IS]=e,t}function UJ(t){return t[IS]}function jJ(t,e,i,n){let o=t[ev];throw e[ek]&&o.unshift(e[ek]),t.message=$J(`
`+t.message,o,i,n),t[VJ]=o,t[ev]=null,t}function $J(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==WJ?t.slice(2):t;let o=Dn(e);if(Array.isArray(e))o=e.map(Dn).join(" -> ");else if(typeof e=="object"){let r=[];for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];r.push(a+":"+(typeof s=="string"?JSON.stringify(s):Dn(s)))}o=`{${r.join(", ")}}`}return`${i}${n?"("+n+")":""}[${o}]: ${t.replace(HJ,`
  `)}`}var xv=zk(kk("Optional"),8);var Ab=zk(kk("SkipSelf"),4);function du(t,e){let i=t.hasOwnProperty(Zm);return i?t[Zm]:null}function KJ(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let o=t[n],r=e[n];if(i&&(o=i(o),r=i(r)),r!==o)return!1}return!0}function qJ(t){return t.flat(Number.POSITIVE_INFINITY)}function Rb(t,e){t.forEach(i=>Array.isArray(i)?Rb(i,e):e(i))}function Uk(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function tv(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YJ(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function QJ(t,e,i,n){let o=t.length;if(o==e)t.push(i,n);else if(o===1)t.push(n,t[0]),t[0]=i;else{for(o--,t.push(t[o-1],t[o]);o>e;){let r=o-2;t[o]=t[r],o--}t[e]=i,t[e+1]=n}}function Bb(t,e,i){let n=Wh(t,e);return n>=0?t[n|1]=i:(n=~n,QJ(t,n,e,i)),n}function hS(t,e){let i=Wh(t,e);if(i>=0)return t[i|1]}function Wh(t,e){return JJ(t,e,1)}function JJ(t,e,i){let n=0,o=t.length>>i;for(;o!==n;){let r=n+(o-n>>1),a=t[r<<i];if(e===a)return r<<i;a>e?o=r:n=r+1}return~(o<<i)}var uu={},bn=[],cu=new Ce(""),jk=new Ce("",-1),$k=new Ce(""),iv=class{get(e,i=Ih){if(i===Ih){let n=new Error(`NullInjectorError: No provider for ${Dn(e)}!`);throw n.name="NullInjectorError",n}return i}},Kk=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Kk||{}),Dr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dr||{}),St=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(St||{});function XJ(t,e,i){let n=t.length;for(;;){let o=t.indexOf(e,i);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let r=e.length;if(o+r===n||t.charCodeAt(o+r)<=32)return o}i=o+1}}function TS(t,e,i){let n=0;for(;n<i.length;){let o=i[n];if(typeof o=="number"){if(o!==0)break;n++;let r=i[n++],a=i[n++],s=i[n++];t.setAttribute(e,a,s,r)}else{let r=o,a=i[++n];ZJ(r)?t.setProperty(e,r,a):t.setAttribute(e,r,a),n++}}return n}function qk(t){return t===3||t===4||t===6}function ZJ(t){return t.charCodeAt(0)===64}function Fh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let o=e[n];typeof o=="number"?i=o:i===0||(i===-1||i===2?tk(t,i,o,null,e[++n]):tk(t,i,o,null,null))}}return t}function tk(t,e,i,n,o){let r=0,a=t.length;if(e===-1)a=-1;else for(;r<t.length;){let s=t[r++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=r-1;break}}}for(;r<t.length;){let s=t[r];if(typeof s=="number")break;if(s===i){if(n===null){o!==null&&(t[r+1]=o);return}else if(n===t[r+1]){t[r+2]=o;return}}r++,n!==null&&r++,o!==null&&r++}a!==-1&&(t.splice(a,0,e),r=a+1),t.splice(r++,0,i),n!==null&&t.splice(r++,0,n),o!==null&&t.splice(r++,0,o)}var Yk="ng-template";function eX(t,e,i,n){let o=0;if(n){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&XJ(e[o+1].toLowerCase(),i,0)!==-1)return!0}else if(kb(t))return!1;if(o=e.indexOf(1,o),o>-1){let r;for(;++o<e.length&&typeof(r=e[o])=="string";)if(r.toLowerCase()===i)return!0}return!1}function kb(t){return t.type===4&&t.value!==Yk}function tX(t,e,i){let n=t.type===4&&!i?Yk:t.value;return e===n}function iX(t,e,i){let n=4,o=t.attrs,r=o!==null?rX(o):0,a=!1;for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number"){if(!a&&!Go(n)&&!Go(l))return!1;if(a&&Go(l))continue;a=!1,n=l|n&1;continue}if(!a)if(n&4){if(n=2|n&1,l!==""&&!tX(t,l,i)||l===""&&e.length===1){if(Go(n))return!1;a=!0}}else if(n&8){if(o===null||!eX(t,o,l,i)){if(Go(n))return!1;a=!0}}else{let d=e[++s],u=nX(l,o,kb(t),i);if(u===-1){if(Go(n))return!1;a=!0;continue}if(d!==""){let c;if(u>r?c="":c=o[u+1].toLowerCase(),n&2&&d!==c){if(Go(n))return!1;a=!0}}}}return Go(n)||a}function Go(t){return(t&1)===0}function nX(t,e,i,n){if(e===null)return-1;let o=0;if(n||!i){let r=!1;for(;o<e.length;){let a=e[o];if(a===t)return o;if(a===3||a===6)r=!0;else if(a===1||a===2){let s=e[++o];for(;typeof s=="string";)s=e[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=r?1:2}return-1}else return aX(e,t)}function Qk(t,e,i=!1){for(let n=0;n<e.length;n++)if(iX(t,e[n],i))return!0;return!1}function oX(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function rX(t){for(let e=0;e<t.length;e++){let i=t[e];if(qk(i))return e}return t.length}function aX(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function sX(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let o=0;o<t.length;o++)if(t[o]!==n[o])continue e;return!0}}return!1}function ik(t,e){return t?":not("+e.trim()+")":e}function lX(t){let e=t[0],i=1,n=2,o="",r=!1;for(;i<t.length;){let a=t[i];if(typeof a=="string")if(n&2){let s=t[++i];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else n&8?o+="."+a:n&4&&(o+=" "+a);else o!==""&&!Go(a)&&(e+=ik(r,o),o=""),n=a,r=r||!Go(n);i++}return o!==""&&(e+=ik(r,o)),e}function dX(t){return t.map(lX).join(",")}function uX(t){let e=[],i=[],n=1,o=2;for(;n<t.length;){let r=t[n];if(typeof r=="string")o===2?r!==""&&e.push(r,t[++n]):o===8&&i.push(r);else{if(!Go(o))break;o=r}n++}return{attrs:e,classes:i}}function Se(t){return Hh(()=>{let e=tP(t),i=Pt(te({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kk.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dr.Emulated,styles:t.styles||bn,_:null,schemas:t.schemas||null,tView:null,id:""});iP(i);let n=t.dependencies;return i.directiveDefs=ok(n,!1),i.pipeDefs=ok(n,!0),i.id=pX(i),i})}function cX(t){return kl(t)||Jk(t)}function hX(t){return t!==null}function $(t){return Hh(()=>({type:t.type,bootstrap:t.bootstrap||bn,declarations:t.declarations||bn,imports:t.imports||bn,exports:t.exports||bn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nk(t,e){if(t==null)return uu;let i={};for(let n in t)if(t.hasOwnProperty(n)){let o=t[n],r,a,s=St.None;Array.isArray(o)?(s=o[0],r=o[1],a=o[2]??r):(r=o,a=o),e?(i[r]=s!==St.None?[n,s]:n,e[r]=a):i[r]=n}return i}function ao(t){return Hh(()=>{let e=tP(t);return iP(e),e})}function kl(t){return t[AJ]||null}function Jk(t){return t[RJ]||null}function Xk(t){return t[BJ]||null}function Zk(t){let e=kl(t)||Jk(t)||Xk(t);return e!==null?e.standalone:!1}function eP(t,e){let i=t[kJ]||null;if(!i&&e===!0)throw new Error(`Type ${Dn(t)} does not have '\u0275mod' property.`);return i}function tP(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||uu,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nk(t.inputs,e),outputs:nk(t.outputs),debugInfo:null}}function iP(t){t.features?.forEach(e=>e(t))}function ok(t,e){if(!t)return null;let i=e?Xk:cX;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(hX)}function pX(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of i)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Cv(t){return{\u0275providers:t}}function gX(...t){return{\u0275providers:nP(!0,t),\u0275fromNgModule:!0}}function nP(t,...e){let i=[],n=new Set,o,r=a=>{i.push(a)};return Rb(e,a=>{let s=a;MS(s,r,[],n)&&(o||=[],o.push(s))}),o!==void 0&&oP(o,r),i}function oP(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:o}=t[i];Pb(o,r=>{e(r,n)})}}function MS(t,e,i,n){if(t=hn(t),!t)return!1;let o=null,r=JB(t),a=!r&&kl(t);if(!r&&!a){let l=t.ngModule;if(r=JB(l),r)o=l;else return!1}else{if(a&&!a.standalone)return!1;o=t}let s=n.has(o);if(a){if(s)return!1;if(n.add(o),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of l)MS(d,e,i,n)}}else if(r){if(r.imports!=null&&!s){n.add(o);let d;try{Rb(r.imports,u=>{MS(u,e,i,n)&&(d||=[],d.push(u))})}finally{}d!==void 0&&oP(d,e)}if(!s){let d=du(o)||(()=>new o);e({provide:o,useFactory:d,deps:bn},o),e({provide:$k,useValue:o,multi:!0},o),e({provide:cu,useValue:()=>ne(o),multi:!0},o)}let l=r.providers;if(l!=null&&!s){let d=t;Pb(l,u=>{e(u,d)})}}else return!1;return o!==t&&t.providers!==void 0}function Pb(t,e){for(let i of t)Hk(i)&&(i=i.\u0275providers),Array.isArray(i)?Pb(i,e):e(i)}var fX=At({provide:String,useValue:At});function rP(t){return t!==null&&typeof t=="object"&&fX in t}function mX(t){return!!(t&&t.useExisting)}function vX(t){return!!(t&&t.useFactory)}function hu(t){return typeof t=="function"}function _X(t){return!!t.useClass}var Sv=new Ce(""),$m={},yX={},pS;function Nb(){return pS===void 0&&(pS=new iv),pS}var jn=class{},Th=class extends jn{get destroyed(){return this._destroyed}constructor(e,i,n,o){super(),this.parent=i,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,RS(e,a=>this.processProvider(a)),this.records.set(jk,nu(void 0,this)),o.has("environment")&&this.records.set(jn,nu(void 0,this));let r=this.records.get(Sv);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get($k,bn,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ht(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ht(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=ms(this),n=no(void 0),o;try{return e()}finally{ms(i),no(n)}}get(e,i=Ih,n=Ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZB))return e[ZB](this);n=yv(n);let o,r=ms(this),a=no(void 0);try{if(!(n&Ye.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=DX(e)&&_v(e);d&&this.injectableDefInScope(d)?l=nu(AS(e),$m):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let s=n&Ye.Self?Nb():this.parent;return i=n&Ye.Optional&&i===Ih?null:i,s.get(e,i)}catch(s){if(s.name==="NullInjectorError"){if((s[ev]=s[ev]||[]).unshift(Dn(e)),r)throw s;return jJ(s,e,"R3InjectorError",this.source)}else throw s}finally{no(a),ms(r)}}resolveInjectorInitializers(){let e=ht(null),i=ms(this),n=no(void 0),o;try{let r=this.get(cu,bn,Ye.Self);for(let a of r)a()}finally{ms(i),no(n),ht(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Dn(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(e){e=hn(e);let i=hu(e)?e:hn(e&&e.provide),n=CX(e);if(!hu(e)&&e.multi===!0){let o=this.records.get(i);o||(o=nu(void 0,$m,!0),o.factory=()=>FS(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=ht(null);try{return i.value===$m&&(i.value=yX,i.value=i.factory()),typeof i.value=="object"&&i.value&&bX(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ht(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=hn(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function AS(t){let e=_v(t),i=e!==null?e.factory:du(t);if(i!==null)return i;if(t instanceof Ce)throw new we(204,!1);if(t instanceof Function)return xX(t);throw new we(204,!1)}function xX(t){if(t.length>0)throw new we(204,!1);let i=TJ(t);return i!==null?()=>i.factory(t):()=>new t}function CX(t){if(rP(t))return nu(void 0,t.useValue);{let e=aP(t);return nu(e,$m)}}function aP(t,e,i){let n;if(hu(t)){let o=hn(t);return du(o)||AS(o)}else if(rP(t))n=()=>hn(t.useValue);else if(vX(t))n=()=>t.useFactory(...FS(t.deps||[]));else if(mX(t))n=()=>ne(hn(t.useExisting));else{let o=hn(t&&(t.useClass||t.provide));if(SX(t))n=()=>new o(...FS(t.deps));else return du(o)||AS(o)}return n}function nu(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function SX(t){return!!t.deps}function bX(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DX(t){return typeof t=="function"||typeof t=="object"&&t instanceof Ce}function RS(t,e){for(let i of t)Array.isArray(i)?RS(i,e):i&&Hk(i)?RS(i.\u0275providers,e):e(i)}function Ul(t,e){t instanceof Th&&t.assertNotDestroyed();let i,n=ms(t),o=no(void 0);try{return e()}finally{ms(n),no(o)}}function sP(){return Wk()!==void 0||GJ()!=null}function wX(t){if(!sP())throw new we(-203,!1)}function EX(t){return typeof t=="function"}var fa=0,We=1,Te=2,Vi=3,Uo=4,$n=5,Mh=6,Ah=7,oo=8,pu=9,wr=10,pi=11,Rh=12,rk=13,vu=14,jo=15,Gh=16,ou=17,ha=18,bv=19,lP=20,vs=21,Km=22,Pl=23,ro=25,dP=1;var Nl=7,nv=8,gu=9,wn=10,Lb=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lb||{});function Rl(t){return Array.isArray(t)&&typeof t[dP]=="object"}function ma(t){return Array.isArray(t)&&t[dP]===!0}function uP(t){return(t.flags&4)!==0}function Dv(t){return t.componentOffset>-1}function Vb(t){return(t.flags&1)===1}function _s(t){return!!t.template}function OX(t){return(t[Te]&512)!==0}var BS=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function cP(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function On(){return hP}function hP(t){return t.type.prototype.ngOnChanges&&(t.setInput=FX),IX}On.ngInherit=!0;function IX(){let t=gP(this),e=t?.current;if(e){let i=t.previous;if(i===uu)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function FX(t,e,i,n,o){let r=this.declaredInputs[n],a=gP(t)||TX(t,{previous:uu,current:null}),s=a.current||(a.current={}),l=a.previous,d=l[r];s[r]=new BS(d&&d.currentValue,i,l===uu),cP(t,e,o,i)}var pP="__ngSimpleChanges__";function gP(t){return t[pP]||null}function TX(t,e){return t[pP]=e}var ak=null;var Sr=function(t,e,i){ak?.(t,e,i)},MX="svg",AX="math",RX=!1;function BX(){return RX}function Er(t){for(;Array.isArray(t);)t=t[fa];return t}function fP(t,e){return Er(e[t])}function so(t,e){return Er(e[t.index])}function Hb(t,e){return t.data[e]}function kX(t,e){return t[e]}function bs(t,e){let i=e[t];return Rl(i)?i:i[fa]}function PX(t){return(t[Te]&4)===4}function Wb(t){return(t[Te]&128)===128}function NX(t){return ma(t[Vi])}function ov(t,e){return e==null?null:t[e]}function mP(t){t[ou]=0}function LX(t){t[Te]&1024||(t[Te]|=1024,Wb(t)&&Bh(t))}function VX(t,e){for(;t>0;)e=e[vu],t--;return e}function Gb(t){return!!(t[Te]&9216||t[Pl]?.dirty)}function kS(t){t[wr].changeDetectionScheduler?.notify(1),Gb(t)?Bh(t):t[Te]&64&&(BX()?(t[Te]|=1024,Bh(t)):t[wr].changeDetectionScheduler?.notify())}function Bh(t){t[wr].changeDetectionScheduler?.notify();let e=kh(t);for(;e!==null&&!(e[Te]&8192||(e[Te]|=8192,!Wb(e)));)e=kh(e)}function vP(t,e){if((t[Te]&256)===256)throw new we(911,!1);t[vs]===null&&(t[vs]=[]),t[vs].push(e)}function HX(t,e){if(t[vs]===null)return;let i=t[vs].indexOf(e);i!==-1&&t[vs].splice(i,1)}function kh(t){let e=t[Vi];return ma(e)?e[Vi]:e}var je={lFrame:EP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WX(){return je.lFrame.elementDepthCount}function GX(){je.lFrame.elementDepthCount++}function zX(){je.lFrame.elementDepthCount--}function _P(){return je.bindingsEnabled}function yP(){return je.skipHydrationRootTNode!==null}function UX(t){return je.skipHydrationRootTNode===t}function jX(){je.skipHydrationRootTNode=null}function pt(){return je.lFrame.lView}function Hi(){return je.lFrame.tView}function Ds(t){return je.lFrame.contextLView=t,t[oo]}function ws(t){return je.lFrame.contextLView=null,t}function In(){let t=xP();for(;t!==null&&t.type===64;)t=t.parent;return t}function xP(){return je.lFrame.currentTNode}function $X(){let t=je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zh(t,e){let i=je.lFrame;i.currentTNode=t,i.isParent=e}function CP(){return je.lFrame.isParent}function SP(){je.lFrame.isParent=!1}function KX(){return je.lFrame.contextLView}function qX(){let t=je.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function YX(){return je.lFrame.bindingIndex}function QX(t){return je.lFrame.bindingIndex=t}function Uh(){return je.lFrame.bindingIndex++}function zb(t){let e=je.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function JX(){return je.lFrame.inI18n}function XX(t,e){let i=je.lFrame;i.bindingIndex=i.bindingRootIndex=t,PS(e)}function ZX(){return je.lFrame.currentDirectiveIndex}function PS(t){je.lFrame.currentDirectiveIndex=t}function eZ(t){let e=je.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bP(){return je.lFrame.currentQueryIndex}function Ub(t){je.lFrame.currentQueryIndex=t}function tZ(t){let e=t[We];return e.type===2?e.declTNode:e.type===1?t[$n]:null}function DP(t,e,i){if(i&Ye.SkipSelf){let o=e,r=t;for(;o=o.parent,o===null&&!(i&Ye.Host);)if(o=tZ(r),o===null||(r=r[vu],o.type&10))break;if(o===null)return!1;e=o,t=r}let n=je.lFrame=wP();return n.currentTNode=e,n.lView=t,!0}function jb(t){let e=wP(),i=t[We];je.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function wP(){let t=je.lFrame,e=t===null?null:t.child;return e===null?EP(t):e}function EP(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OP(){let t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var IP=OP;function $b(){let t=OP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function iZ(t){return(je.lFrame.contextLView=VX(t,je.lFrame.contextLView))[oo]}function Es(){return je.lFrame.selectedIndex}function Ll(t){je.lFrame.selectedIndex=t}function Kb(){let t=je.lFrame;return Hb(t.tView,t.selectedIndex)}function nZ(){return je.lFrame.currentNamespace}var FP=!0;function qb(){return FP}function Yb(t){FP=t}function oZ(t,e,i){let{ngOnChanges:n,ngOnInit:o,ngDoCheck:r}=e.type.prototype;if(n){let a=hP(e);(i.preOrderHooks??=[]).push(t,a),(i.preOrderCheckHooks??=[]).push(t,a)}o&&(i.preOrderHooks??=[]).push(0-t,o),r&&((i.preOrderHooks??=[]).push(t,r),(i.preOrderCheckHooks??=[]).push(t,r))}function Qb(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let r=t.data[i].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:u}=r;a&&(t.contentHooks??=[]).push(-i,a),s&&((t.contentHooks??=[]).push(i,s),(t.contentCheckHooks??=[]).push(i,s)),l&&(t.viewHooks??=[]).push(-i,l),d&&((t.viewHooks??=[]).push(i,d),(t.viewCheckHooks??=[]).push(i,d)),u!=null&&(t.destroyHooks??=[]).push(i,u)}}function qm(t,e,i){TP(t,e,3,i)}function Ym(t,e,i,n){(t[Te]&3)===i&&TP(t,e,i,n)}function gS(t,e){let i=t[Te];(i&3)===e&&(i&=16383,i+=1,t[Te]=i)}function TP(t,e,i,n){let o=n!==void 0?t[ou]&65535:0,r=n??-1,a=e.length-1,s=0;for(let l=o;l<a;l++)if(typeof e[l+1]=="number"){if(s=e[l],n!=null&&s>=n)break}else e[l]<0&&(t[ou]+=65536),(s<r||r==-1)&&(rZ(t,i,e,l),t[ou]=(t[ou]&4294901760)+l+2),l++}function sk(t,e){Sr(4,t,e);let i=ht(null);try{e.call(t)}finally{ht(i),Sr(5,t,e)}}function rZ(t,e,i,n){let o=i[n]<0,r=i[n+1],a=o?-i[n]:i[n],s=t[a];o?t[Te]>>14<t[ou]>>16&&(t[Te]&3)===e&&(t[Te]+=16384,sk(s,r)):sk(s,r)}var lu=-1,Vl=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function aZ(t){return t instanceof Vl}function sZ(t){return(t.flags&8)!==0}function lZ(t){return(t.flags&16)!==0}function MP(t){return t!==lu}function rv(t){return t&32767}function dZ(t){return t>>16}function av(t,e){let i=dZ(t),n=e;for(;i>0;)n=n[vu],i--;return n}var NS=!0;function lk(t){let e=NS;return NS=t,e}var uZ=256,AP=uZ-1,RP=5,cZ=0,br={};function hZ(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(Oh)&&(n=i[Oh]),n==null&&(n=i[Oh]=cZ++);let o=n&AP,r=1<<o;e.data[t+(o>>RP)]|=r}function sv(t,e){let i=BP(t,e);if(i!==-1)return i;let n=e[We];n.firstCreatePass&&(t.injectorIndex=e.length,fS(n.data,t),fS(e,null),fS(n.blueprint,null));let o=Jb(t,e),r=t.injectorIndex;if(MP(o)){let a=rv(o),s=av(o,e),l=s[We].data;for(let d=0;d<8;d++)e[r+d]=s[a+d]|l[a+d]}return e[r+8]=o,r}function fS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BP(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jb(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,o=e;for(;o!==null;){if(n=VP(o),n===null)return lu;if(i++,o=o[vu],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return lu}function LS(t,e,i){hZ(t,e,i)}function pZ(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,o=0;for(;o<n;){let r=i[o];if(qk(r))break;if(r===0)o=o+2;else if(typeof r=="number")for(o++;o<n&&typeof i[o]=="string";)o++;else{if(r===e)return i[o+1];o=o+2}}}return null}function kP(t,e,i){if(i&Ye.Optional||t!==void 0)return t;Mb(e,"NodeInjector")}function PP(t,e,i,n){if(i&Ye.Optional&&n===void 0&&(n=null),!(i&(Ye.Self|Ye.Host))){let o=t[pu],r=no(void 0);try{return o?o.get(e,n,i&Ye.Optional):Gk(e,n,i&Ye.Optional)}finally{no(r)}}return kP(n,e,i)}function NP(t,e,i,n=Ye.Default,o){if(t!==null){if(e[Te]&2048&&!(n&Ye.Self)){let a=vZ(t,e,i,n,br);if(a!==br)return a}let r=LP(t,e,i,n,br);if(r!==br)return r}return PP(e,i,n,o)}function LP(t,e,i,n,o){let r=fZ(i);if(typeof r=="function"){if(!DP(e,t,n))return n&Ye.Host?kP(o,i,n):PP(e,i,n,o);try{let a;if(a=r(n),a==null&&!(n&Ye.Optional))Mb(i);else return a}finally{IP()}}else if(typeof r=="number"){let a=null,s=BP(t,e),l=lu,d=n&Ye.Host?e[jo][$n]:null;for((s===-1||n&Ye.SkipSelf)&&(l=s===-1?Jb(t,e):e[s+8],l===lu||!uk(n,!1)?s=-1:(a=e[We],s=rv(l),e=av(l,e)));s!==-1;){let u=e[We];if(dk(r,s,u.data)){let c=gZ(s,e,i,a,n,d);if(c!==br)return c}l=e[s+8],l!==lu&&uk(n,e[We].data[s+8]===d)&&dk(r,s,e)?(a=u,s=rv(l),e=av(l,e)):s=-1}}return o}function gZ(t,e,i,n,o,r){let a=e[We],s=a.data[t+8],l=n==null?Dv(s)&&NS:n!=a&&(s.type&3)!==0,d=o&Ye.Host&&r===s,u=Qm(s,a,i,l,d);return u!==null?Hl(e,a,u,s):br}function Qm(t,e,i,n,o){let r=t.providerIndexes,a=e.data,s=r&1048575,l=t.directiveStart,d=t.directiveEnd,u=r>>20,c=n?s:s+u,p=o?s+u:d;for(let g=c;g<p;g++){let m=a[g];if(g<l&&i===m||g>=l&&m.type===i)return g}if(o){let g=a[l];if(g&&_s(g)&&g.type===i)return l}return null}function Hl(t,e,i,n){let o=t[i],r=e.data;if(aZ(o)){let a=o;a.resolving&&NJ(PJ(r[i]));let s=lk(a.canSeeViewProviders);a.resolving=!0;let l,d=a.injectImpl?no(a.injectImpl):null,u=DP(t,n,Ye.Default);try{o=t[i]=a.factory(void 0,r,t,n),e.firstCreatePass&&i>=n.directiveStart&&oZ(i,r[i],e)}finally{d!==null&&no(d),lk(s),a.resolving=!1,IP()}}return o}function fZ(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Oh)?t[Oh]:void 0;return typeof e=="number"?e>=0?e&AP:mZ:e}function dk(t,e,i){let n=1<<t;return!!(i[e+(t>>RP)]&n)}function uk(t,e){return!(t&Ye.Self)&&!(t&Ye.Host&&e)}var Bl=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return NP(this._tNode,this._lView,e,yv(n),i)}};function mZ(){return new Bl(In(),pt())}function Ai(t){return Hh(()=>{let e=t.prototype.constructor,i=e[Zm]||VS(e),n=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==n;){let r=o[Zm]||VS(o);if(r&&r!==i)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function VS(t){return Pk(t)?()=>{let e=VS(hn(t));return e&&e()}:du(t)}function vZ(t,e,i,n,o){let r=t,a=e;for(;r!==null&&a!==null&&a[Te]&2048&&!(a[Te]&512);){let s=LP(r,a,i,n|Ye.Self,br);if(s!==br)return s;let l=r.parent;if(!l){let d=a[lP];if(d){let u=d.get(i,br,n);if(u!==br)return u}l=VP(a),a=a[vu]}r=l}return o}function VP(t){let e=t[We],i=e.type;return i===2?e.declTNode:i===1?t[$n]:null}function _u(t){return pZ(In(),t)}function ck(t,e=null,i=null,n){let o=HP(t,e,i,n);return o.resolveInjectorInitializers(),o}function HP(t,e=null,i=null,n,o=new Set){let r=[i||bn,gX(t)];return n=n||(typeof t=="object"?void 0:Dn(t)),new Th(r,e||Nb(),n||null,o)}var yu=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ih}static{this.NULL=new iv}static create(i,n){if(Array.isArray(i))return ck({name:""},n,i,"");{let o=i.name??"";return ck({name:o},i.parent,i.providers,o)}}static{this.\u0275prov=re({token:t,providedIn:"any",factory:()=>ne(jk)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var _Z="ngOriginalError";function mS(t){return t[_Z]}var En=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&mS(e);for(;i&&mS(i);)i=mS(i);return i||null}},WP=new Ce("",{providedIn:"root",factory:()=>Z(En).handleError.bind(void 0)}),Xb=(()=>{class t{static{this.__NG_ELEMENT_ID__=yZ}static{this.__NG_ENV_ID__=i=>i}}return t})(),HS=class extends Xb{constructor(e){super(),this._lView=e}onDestroy(e){return vP(this._lView,e),()=>HX(this._lView,e)}};function yZ(){return new HS(pt())}function xZ(){return xu(In(),pt())}function xu(t,e){return new dt(so(t,e))}var dt=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=xZ}}return t})();function CZ(t){return t instanceof dt?t.nativeElement:t}var WS=class extends Ot{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,sP()&&(this.destroyRef=Z(Xb,{optional:!0})??void 0)}emit(e){let i=ht(null);try{super.next(e)}finally{ht(i)}}subscribe(e,i,n){let o=e,r=i||(()=>null),a=n;if(e&&typeof e=="object"){let l=e;o=l.next?.bind(l),r=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(r=vS(r),o&&(o=vS(o)),a&&(a=vS(a)));let s=super.subscribe({next:o,error:r,complete:a});return e instanceof Tt&&e.add(s),s}};function vS(t){return e=>{setTimeout(t,void 0,e)}}var Mt=WS;function SZ(){return this._results[Symbol.iterator]()}var ys=class t{get changes(){return this._changes??=new Mt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=SZ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=qJ(e);(this._changesDetected=!KJ(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function GP(t){return(t.flags&128)===128}var zP=new Map,bZ=0;function DZ(){return bZ++}function wZ(t){zP.set(t[bv],t)}function EZ(t){zP.delete(t[bv])}var hk="__ngContext__";function Wl(t,e){Rl(e)?(t[hk]=e[bv],wZ(e)):t[hk]=e}function UP(t){return $P(t[Rh])}function jP(t){return $P(t[Uo])}function $P(t){for(;t!==null&&!ma(t);)t=t[Uo];return t}var GS;function KP(t){GS=t}function qP(){if(GS!==void 0)return GS;if(typeof document<"u")return document;throw new we(210,!1)}var jh=new Ce("",{providedIn:"root",factory:()=>OZ}),OZ="ng",Zb=new Ce(""),Di=new Ce("",{providedIn:"platform",factory:()=>"unknown"});var $h=new Ce(""),Kh=new Ce("",{providedIn:"root",factory:()=>qP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function YP(t){return t}function IZ(){let t=new eD;return Z(Di)==="browser"&&(t.store=FZ(qP(),Z(jh))),t}var eD=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=re({token:t,providedIn:"root",factory:IZ})}get(i,n){return this.store[i]!==void 0?this.store[i]:n}set(i,n){this.store[i]=n}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(i,n){this.onSerializeCallbacks[i]=n}toJson(){for(let i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(n){console.warn("Exception in onSerialize callback: ",n)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function FZ(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var TZ="h",MZ="b";var AZ=()=>null;function tD(t,e,i=!1){return AZ(t,e,i)}var QP=!1,RZ=new Ce("",{providedIn:"root",factory:()=>QP});var Gm;function BZ(){if(Gm===void 0&&(Gm=null,Al.trustedTypes))try{Gm=Al.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gm}function wv(t){return BZ()?.createHTML(t)||t}var pa=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bk})`}},zS=class extends pa{getTypeName(){return"HTML"}},US=class extends pa{getTypeName(){return"Style"}},jS=class extends pa{getTypeName(){return"Script"}},$S=class extends pa{getTypeName(){return"URL"}},KS=class extends pa{getTypeName(){return"ResourceURL"}};function va(t){return t instanceof pa?t.changingThisBreaksApplicationSecurity:t}function Cu(t,e){let i=kZ(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${Bk})`)}return i===e}function kZ(t){return t instanceof pa&&t.getTypeName()||null}function JP(t){return new zS(t)}function XP(t){return new US(t)}function ZP(t){return new jS(t)}function eN(t){return new $S(t)}function tN(t){return new KS(t)}function PZ(t){let e=new YS(t);return NZ()?new qS(e):e}var qS=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(wv(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},YS=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=wv(e),i}};function NZ(){try{return!!new window.DOMParser().parseFromString(wv(""),"text/html")}catch{return!1}}var LZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iD(t){return t=String(t),t.match(LZ)?t:"unsafe:"+t}function _a(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function qh(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var iN=_a("area,br,col,hr,img,wbr"),nN=_a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oN=_a("rp,rt"),VZ=qh(oN,nN),HZ=qh(nN,_a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),WZ=qh(oN,_a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pk=qh(iN,HZ,WZ,VZ),rN=_a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),GZ=_a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zZ=_a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),UZ=qh(rN,GZ,zZ),jZ=_a("script,style,template"),QS=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,o=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){o.push(i),i=qZ(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let r=KZ(i);if(r){i=r;break}i=o.pop()}}return this.buf.join("")}startElement(e){let i=gk(e).toLowerCase();if(!pk.hasOwnProperty(i))return this.sanitizedSomething=!0,!jZ.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let o=0;o<n.length;o++){let r=n.item(o),a=r.name,s=a.toLowerCase();if(!UZ.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=r.value;rN[s]&&(l=iD(l)),this.buf.push(" ",a,'="',fk(l),'"')}return this.buf.push(">"),!0}endElement(e){let i=gk(e).toLowerCase();pk.hasOwnProperty(i)&&!iN.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(fk(e))}};function $Z(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function KZ(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw aN(e);return e}function qZ(t){let e=t.firstChild;if(e&&$Z(t,e))throw aN(e);return e}function gk(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function aN(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var YZ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QZ=/([^\#-~ |!])/g;function fk(t){return t.replace(/&/g,"&amp;").replace(YZ,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(QZ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zm;function sN(t,e){let i=null;try{zm=zm||PZ(t);let n=e?String(e):"";i=zm.getInertBodyElement(n);let o=5,r=n;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,n=r,r=i.innerHTML,i=zm.getInertBodyElement(n)}while(n!==r);let s=new QS().sanitizeChildren(mk(i)||i);return wv(s)}finally{if(i){let n=mk(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function mk(t){return"content"in t&&JZ(t)?t.content:null}function JZ(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Fn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fn||{});function lN(t){return t instanceof Function?t():t}var ga=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ga||{}),XZ;function nD(t,e){return XZ(t,e)}function ru(t,e,i,n,o){if(n!=null){let r,a=!1;ma(n)?r=n:Rl(n)&&(a=!0,n=n[fa]);let s=Er(n);t===0&&i!==null?o==null?pN(e,i,s):dv(e,i,s,o||null,!0):t===1&&i!==null?dv(e,i,s,o||null,!0):t===2?pee(e,s,a):t===3&&e.destroyNode(s),r!=null&&fee(e,t,r,i,o)}}function ZZ(t,e){return t.createText(e)}function eee(t,e,i){t.setValue(e,i)}function dN(t,e,i){return t.createElement(e,i)}function tee(t,e){uN(t,e),e[fa]=null,e[$n]=null}function iee(t,e,i,n,o,r){n[fa]=o,n[$n]=e,Ev(t,n,i,1,o,r)}function uN(t,e){e[wr].changeDetectionScheduler?.notify(1),Ev(t,e,e[pi],2,null,null)}function nee(t){let e=t[Rh];if(!e)return _S(t[We],t);for(;e;){let i=null;if(Rl(e))i=e[Rh];else{let n=e[wn];n&&(i=n)}if(!i){for(;e&&!e[Uo]&&e!==t;)Rl(e)&&_S(e[We],e),e=e[Vi];e===null&&(e=t),Rl(e)&&_S(e[We],e),i=e&&e[Uo]}e=i}}function oee(t,e,i,n){let o=wn+n,r=i.length;n>0&&(i[o-1][Uo]=e),n<r-wn?(e[Uo]=i[o],Uk(i,wn+n,e)):(i.push(e),e[Uo]=null),e[Vi]=i;let a=e[Gh];a!==null&&i!==a&&ree(a,e);let s=e[ha];s!==null&&s.insertView(t),kS(e),e[Te]|=128}function ree(t,e){let i=t[gu],o=e[Vi][Vi][jo];e[jo]!==o&&(t[Te]|=Lb.HasTransplantedViews),i===null?t[gu]=[e]:i.push(e)}function cN(t,e){let i=t[gu],n=i.indexOf(e);i.splice(n,1)}function lv(t,e){if(t.length<=wn)return;let i=wn+e,n=t[i];if(n){let o=n[Gh];o!==null&&o!==t&&cN(o,n),e>0&&(t[i-1][Uo]=n[Uo]);let r=tv(t,wn+e);tee(n[We],n);let a=r[ha];a!==null&&a.detachView(r[We]),n[Vi]=null,n[Uo]=null,n[Te]&=-129}return n}function oD(t,e){if(!(e[Te]&256)){let i=e[pi];i.destroyNode&&Ev(t,e,i,3,null,null),nee(e)}}function _S(t,e){if(e[Te]&256)return;let i=ht(null);try{e[Te]&=-129,e[Te]|=256,e[Pl]&&UC(e[Pl]),see(t,e),aee(t,e),e[We].type===1&&e[pi].destroy();let n=e[Gh];if(n!==null&&ma(e[Vi])){n!==e[Vi]&&cN(n,e);let o=e[ha];o!==null&&o.detachView(t)}EZ(e)}finally{ht(i)}}function aee(t,e){let i=t.cleanup,n=e[Ah];if(i!==null)for(let r=0;r<i.length-1;r+=2)if(typeof i[r]=="string"){let a=i[r+3];a>=0?n[a]():n[-a].unsubscribe(),r+=2}else{let a=n[i[r+1]];i[r].call(a)}n!==null&&(e[Ah]=null);let o=e[vs];if(o!==null){e[vs]=null;for(let r=0;r<o.length;r++){let a=o[r];a()}}}function see(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let o=e[i[n]];if(!(o instanceof Vl)){let r=i[n+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){let s=o[r[a]],l=r[a+1];Sr(4,s,l);try{l.call(s)}finally{Sr(5,s,l)}}else{Sr(4,o,r);try{r.call(o)}finally{Sr(5,o,r)}}}}}function hN(t,e,i){return lee(t,e.parent,i)}function lee(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[fa];{let{componentOffset:o}=n;if(o>-1){let{encapsulation:r}=t.data[n.directiveStart+o];if(r===Dr.None||r===Dr.Emulated)return null}return so(n,i)}}function dv(t,e,i,n,o){t.insertBefore(e,i,n,o)}function pN(t,e,i){t.appendChild(e,i)}function vk(t,e,i,n,o){n!==null?dv(t,e,i,n,o):pN(t,e,i)}function dee(t,e,i,n){t.removeChild(e,i,n)}function rD(t,e){return t.parentNode(e)}function uee(t,e){return t.nextSibling(e)}function gN(t,e,i){return hee(t,e,i)}function cee(t,e,i){return t.type&40?so(t,i):null}var hee=cee,_k;function aD(t,e,i,n){let o=hN(t,n,e),r=e[pi],a=n.parent||e[$n],s=gN(a,n,e);if(o!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)vk(r,o,i[l],s,!1);else vk(r,o,i,s,!1);_k!==void 0&&_k(r,n,e,i,o)}function Jm(t,e){if(e!==null){let i=e.type;if(i&3)return so(e,t);if(i&4)return JS(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Jm(t,n);{let o=t[e.index];return ma(o)?JS(-1,o):Er(o)}}else{if(i&32)return nD(e,t)()||Er(t[e.index]);{let n=fN(t,e);if(n!==null){if(Array.isArray(n))return n[0];let o=kh(t[jo]);return Jm(o,n)}else return Jm(t,e.next)}}}return null}function fN(t,e){if(e!==null){let n=t[jo][$n],o=e.projection;return n.projection[o]}return null}function JS(t,e){let i=wn+t+1;if(i<e.length){let n=e[i],o=n[We].firstChild;if(o!==null)return Jm(n,o)}return e[Nl]}function pee(t,e,i){let n=rD(t,e);n&&dee(t,n,e,i)}function sD(t,e,i,n,o,r,a){for(;i!=null;){let s=n[i.index],l=i.type;if(a&&e===0&&(s&&Wl(Er(s),n),i.flags|=2),(i.flags&32)!==32)if(l&8)sD(t,e,i.child,n,o,r,!1),ru(e,t,o,s,r);else if(l&32){let d=nD(i,n),u;for(;u=d();)ru(e,t,o,u,r);ru(e,t,o,s,r)}else l&16?mN(t,e,n,i,o,r):ru(e,t,o,s,r);i=a?i.projectionNext:i.next}}function Ev(t,e,i,n,o,r){sD(i,n,t.firstChild,e,o,r,!1)}function gee(t,e,i){let n=e[pi],o=hN(t,i,e),r=i.parent||e[$n],a=gN(r,i,e);mN(n,0,e,i,o,a)}function mN(t,e,i,n,o,r){let a=i[jo],l=a[$n].projection[n.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let u=l[d];ru(e,t,o,u,r)}else{let d=l,u=a[Vi];GP(n)&&(d.flags|=128),sD(t,e,d,u,o,r,!0)}}function fee(t,e,i,n,o){let r=i[Nl],a=Er(i);r!==a&&ru(e,t,n,r,o);for(let s=wn;s<i.length;s++){let l=i[s];Ev(l[We],l,t,e,n,r)}}function mee(t,e,i,n,o){if(e)o?t.addClass(i,n):t.removeClass(i,n);else{let r=n.indexOf("-")===-1?void 0:ga.DashCase;o==null?t.removeStyle(i,n,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=ga.Important),t.setStyle(i,n,o,r))}}function vee(t,e,i){t.setAttribute(e,"style",i)}function vN(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function _N(t,e,i){let{mergedAttrs:n,classes:o,styles:r}=i;n!==null&&TS(t,e,n),o!==null&&vN(t,e,o),r!==null&&vee(t,e,r)}var $o={};function Qe(t=1){yN(Hi(),pt(),Es()+t,!1)}function yN(t,e,i,n){if(!n)if((e[Te]&3)===3){let r=t.preOrderCheckHooks;r!==null&&qm(e,r,i)}else{let r=t.preOrderHooks;r!==null&&Ym(e,r,0,i)}Ll(i)}function B(t,e=Ye.Default){let i=pt();if(i===null)return ne(t,e);let n=In();return NP(n,i,hn(t),e)}function xN(t,e,i,n,o,r){let a=ht(null);try{let s=null;o&St.SignalBased&&(s=e[n][hm]),s!==null&&s.transformFn!==void 0&&(r=s.transformFn(r)),o&St.HasDecoratorInputTransform&&(r=t.inputTransforms[n].call(e,r)),t.setInput!==null?t.setInput(e,s,r,i,n):cP(e,s,n,r)}finally{ht(a)}}function _ee(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let o=i[n];if(o<0)Ll(~o);else{let r=o,a=i[++n],s=i[++n];XX(a,r);let l=e[r];s(2,l)}}}finally{Ll(-1)}}function Ov(t,e,i,n,o,r,a,s,l,d,u){let c=e.blueprint.slice();return c[fa]=o,c[Te]=n|4|128|8|64,(d!==null||t&&t[Te]&2048)&&(c[Te]|=2048),mP(c),c[Vi]=c[vu]=t,c[oo]=i,c[wr]=a||t&&t[wr],c[pi]=s||t&&t[pi],c[pu]=l||t&&t[pu]||null,c[$n]=r,c[bv]=DZ(),c[Mh]=u,c[lP]=d,c[jo]=e.type==2?t[jo]:c,c}function Yh(t,e,i,n,o){let r=t.data[e];if(r===null)r=yee(t,e,i,n,o),JX()&&(r.flags|=32);else if(r.type&64){r.type=i,r.value=n,r.attrs=o;let a=$X();r.injectorIndex=a===null?-1:a.injectorIndex}return zh(r,!0),r}function yee(t,e,i,n,o){let r=xP(),a=CP(),s=a?r:r&&r.parent,l=t.data[e]=wee(t,s,i,e,n,o);return t.firstChild===null&&(t.firstChild=l),r!==null&&(a?r.child==null&&l.parent!==null&&(r.child=l):r.next===null&&(r.next=l,l.prev=r)),l}function CN(t,e,i,n){if(i===0)return-1;let o=e.length;for(let r=0;r<i;r++)e.push(n),t.blueprint.push(n),t.data.push(null);return o}function SN(t,e,i,n,o){let r=Es(),a=n&2;try{Ll(-1),a&&e.length>ro&&yN(t,e,ro,!1),Sr(a?2:0,o),i(n,o)}finally{Ll(r),Sr(a?3:1,o)}}function bN(t,e,i){if(uP(e)){let n=ht(null);try{let o=e.directiveStart,r=e.directiveEnd;for(let a=o;a<r;a++){let s=t.data[a];if(s.contentQueries){let l=i[a];s.contentQueries(1,l,a)}}}finally{ht(n)}}}function DN(t,e,i){_P()&&(Mee(t,e,i,so(i,e)),(i.flags&64)===64&&TN(t,e,i))}function wN(t,e,i=so){let n=e.localNames;if(n!==null){let o=e.index+1;for(let r=0;r<n.length;r+=2){let a=n[r+1],s=a===-1?i(e,t):t[a];t[o++]=s}}}function EN(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=lD(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lD(t,e,i,n,o,r,a,s,l,d,u){let c=ro+n,p=c+o,g=xee(c,p),m=typeof d=="function"?d():d;return g[We]={type:t,blueprint:g,template:i,queries:null,viewQuery:s,declTNode:e,data:g.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function xee(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:$o);return i}function Cee(t,e,i,n){let r=n.get(RZ,QP)||i===Dr.ShadowDom,a=t.selectRootElement(e,r);return See(a),a}function See(t){bee(t)}var bee=()=>null;function Dee(t,e,i,n){let o=RN(e);o.push(i),t.firstCreatePass&&BN(t).push(n,o.length-1)}function wee(t,e,i,n,o,r){let a=e?e.injectorIndex:-1,s=0;return yP()&&(s|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yk(t,e,i,n,o){for(let r in e){if(!e.hasOwnProperty(r))continue;let a=e[r];if(a===void 0)continue;n??={};let s,l=St.None;Array.isArray(a)?(s=a[0],l=a[1]):s=a;let d=r;if(o!==null){if(!o.hasOwnProperty(r))continue;d=o[r]}t===0?xk(n,i,d,s,l):xk(n,i,d,s)}return n}function xk(t,e,i,n,o){let r;t.hasOwnProperty(i)?(r=t[i]).push(e,n):r=t[i]=[e,n],o!==void 0&&r.push(o)}function Eee(t,e,i){let n=e.directiveStart,o=e.directiveEnd,r=t.data,a=e.attrs,s=[],l=null,d=null;for(let u=n;u<o;u++){let c=r[u],p=i?i.get(c):null,g=p?p.inputs:null,m=p?p.outputs:null;l=yk(0,c.inputs,u,l,g),d=yk(1,c.outputs,u,d,m);let y=l!==null&&a!==null&&!kb(e)?Gee(l,u,a):null;s.push(y)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=s,e.inputs=l,e.outputs=d}function Oee(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ON(t,e,i,n,o,r,a,s){let l=so(e,i),d=e.inputs,u;!s&&d!=null&&(u=d[n])?(dD(t,i,u,n,o),Dv(e)&&Iee(i,e.index)):e.type&3?(n=Oee(n),o=a!=null?a(o,e.value||"",n):o,r.setProperty(l,n,o)):e.type&12}function Iee(t,e){let i=bs(e,t);i[Te]&16||(i[Te]|=64)}function IN(t,e,i,n){if(_P()){let o=n===null?null:{"":-1},r=Ree(t,i),a,s;r===null?a=s=null:[a,s]=r,a!==null&&FN(t,e,i,a,o,s),o&&Bee(i,n,o)}i.mergedAttrs=Fh(i.mergedAttrs,i.attrs)}function FN(t,e,i,n,o,r){for(let d=0;d<n.length;d++)LS(sv(i,e),t,n[d].type);Pee(i,t.data.length,n.length);for(let d=0;d<n.length;d++){let u=n[d];u.providersResolver&&u.providersResolver(u)}let a=!1,s=!1,l=CN(t,e,n.length,null);for(let d=0;d<n.length;d++){let u=n[d];i.mergedAttrs=Fh(i.mergedAttrs,u.hostAttrs),Nee(t,i,e,l,u),kee(l,u,o),u.contentQueries!==null&&(i.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(i.flags|=64);let c=u.type.prototype;!a&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),a=!0),!s&&(c.ngOnChanges||c.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),s=!0),l++}Eee(t,i,r)}function Fee(t,e,i,n,o){let r=o.hostBindings;if(r){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;Tee(a)!=s&&a.push(s),a.push(i,n,r)}}function Tee(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function Mee(t,e,i,n){let o=i.directiveStart,r=i.directiveEnd;Dv(i)&&Lee(e,i,t.data[o+i.componentOffset]),t.firstCreatePass||sv(i,e),Wl(n,e);let a=i.initialInputs;for(let s=o;s<r;s++){let l=t.data[s],d=Hl(e,t,s,i);if(Wl(d,e),a!==null&&Wee(e,s-o,d,l,i,a),_s(l)){let u=bs(i.index,e);u[oo]=Hl(e,t,s,i)}}}function TN(t,e,i){let n=i.directiveStart,o=i.directiveEnd,r=i.index,a=ZX();try{Ll(r);for(let s=n;s<o;s++){let l=t.data[s],d=e[s];PS(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Aee(l,d)}}finally{Ll(-1),PS(a)}}function Aee(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ree(t,e){let i=t.directiveRegistry,n=null,o=null;if(i)for(let r=0;r<i.length;r++){let a=i[r];if(Qk(e,a.selectors,!1))if(n||(n=[]),_s(a))if(a.findHostDirectiveDefs!==null){let s=[];o=o||new Map,a.findHostDirectiveDefs(a,s,o),n.unshift(...s,a);let l=s.length;XS(t,e,l)}else n.unshift(a),XS(t,e,0);else o=o||new Map,a.findHostDirectiveDefs?.(a,n,o),n.push(a)}return n===null?null:[n,o]}function XS(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function Bee(t,e,i){if(e){let n=t.localNames=[];for(let o=0;o<e.length;o+=2){let r=i[e[o+1]];if(r==null)throw new we(-301,!1);n.push(e[o],r)}}}function kee(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;_s(e)&&(i[""]=t)}}function Pee(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Nee(t,e,i,n,o){t.data[n]=o;let r=o.factory||(o.factory=du(o.type,!0)),a=new Vl(r,_s(o),B);t.blueprint[n]=a,i[n]=a,Fee(t,e,n,CN(t,i,o.hostVars,$o),o)}function Lee(t,e,i){let n=so(e,t),o=EN(i),r=t[wr].rendererFactory,a=16;i.signals?a=4096:i.onPush&&(a=64);let s=Iv(t,Ov(t,o,null,a,n,e,null,r.createRenderer(n,i),null,null,null));t[e.index]=s}function Vee(t,e,i,n,o,r){let a=so(t,e);Hee(e[pi],a,r,t.value,i,n,o)}function Hee(t,e,i,n,o,r,a){if(r==null)t.removeAttribute(e,o,i);else{let s=a==null?au(r):a(r,n||"",o);t.setAttribute(e,o,s,i)}}function Wee(t,e,i,n,o,r){let a=r[e];if(a!==null)for(let s=0;s<a.length;){let l=a[s++],d=a[s++],u=a[s++],c=a[s++];xN(n,i,l,d,u,c)}}function Gee(t,e,i){let n=null,o=0;for(;o<i.length;){let r=i[o];if(r===0){o+=4;continue}else if(r===5){o+=2;continue}if(typeof r=="number")break;if(t.hasOwnProperty(r)){n===null&&(n=[]);let a=t[r];for(let s=0;s<a.length;s+=3)if(a[s]===e){n.push(r,a[s+1],a[s+2],i[o+1]);break}}o+=2}return n}function MN(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function AN(t,e){let i=t.contentQueries;if(i!==null){let n=ht(null);try{for(let o=0;o<i.length;o+=2){let r=i[o],a=i[o+1];if(a!==-1){let s=t.data[a];Ub(r),s.contentQueries(2,e[a],a)}}}finally{ht(n)}}}function Iv(t,e){return t[Rh]?t[rk][Uo]=e:t[Rh]=e,t[rk]=e,e}function ZS(t,e,i){Ub(0);let n=ht(null);try{e(t,i)}finally{ht(n)}}function RN(t){return t[Ah]||(t[Ah]=[])}function BN(t){return t.cleanup||(t.cleanup=[])}function kN(t,e){let i=t[pu],n=i?i.get(En,null):null;n&&n.handleError(e)}function dD(t,e,i,n,o){for(let r=0;r<i.length;){let a=i[r++],s=i[r++],l=i[r++],d=e[a],u=t.data[a];xN(u,d,n,s,l,o)}}function PN(t,e,i){let n=fP(e,t);eee(t[pi],n,i)}function zee(t,e){let i=bs(e,t),n=i[We];Uee(n,i);let o=i[fa];o!==null&&i[Mh]===null&&(i[Mh]=tD(o,i[pu])),uD(n,i,i[oo])}function Uee(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function uD(t,e,i){jb(e);try{let n=t.viewQuery;n!==null&&ZS(1,n,i);let o=t.template;o!==null&&SN(t,e,o,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[ha]?.finishViewCreation(t),t.staticContentQueries&&AN(t,e),t.staticViewQueries&&ZS(2,t.viewQuery,i);let r=t.components;r!==null&&jee(e,r)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[Te]&=-5,$b()}}function jee(t,e){for(let i=0;i<e.length;i++)zee(t,e[i])}function NN(t,e,i,n){let o=ht(null);try{let r=e.tView,s=t[Te]&4096?4096:16,l=Ov(t,r,i,s,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),d=t[e.index];l[Gh]=d;let u=t[ha];return u!==null&&(l[ha]=u.createEmbeddedView(r)),uD(r,l,i),l}finally{ht(o)}}function $ee(t,e){let i=wn+e;if(i<t.length)return t[i]}function eb(t,e){return!e||e.firstChild===null||GP(t)}function LN(t,e,i,n=!0){let o=e[We];if(oee(o,e,t,i),n){let a=JS(i,t),s=e[pi],l=rD(s,t[Nl]);l!==null&&iee(o,t[$n],s,e,l,a)}let r=e[Mh];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function Kee(t,e){let i=lv(t,e);return i!==void 0&&oD(i[We],i),i}function uv(t,e,i,n,o=!1){for(;i!==null;){let r=e[i.index];r!==null&&n.push(Er(r)),ma(r)&&qee(r,n);let a=i.type;if(a&8)uv(t,e,i.child,n);else if(a&32){let s=nD(i,e),l;for(;l=s();)n.push(l)}else if(a&16){let s=fN(e,i);if(Array.isArray(s))n.push(...s);else{let l=kh(e[jo]);uv(l[We],l,s,n,!0)}}i=o?i.projectionNext:i.next}return n}function qee(t,e){for(let i=wn;i<t.length;i++){let n=t[i],o=n[We].firstChild;o!==null&&uv(n[We],n,o,e)}t[Nl]!==t[fa]&&e.push(t[Nl])}var VN=[];function Yee(t){return t[Pl]??Qee(t)}function Qee(t){let e=VN.pop()??Object.create(Xee);return e.lView=t,e}function Jee(t){t.lView[Pl]!==t&&(t.lView=null,VN.push(t))}var Xee=Pt(te({},WC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bh(t.lView)},consumerOnSignalRead(){this.lView[Pl]=this}}),HN=100;function WN(t,e=!0,i=0){let n=t[wr],o=n.rendererFactory,r=!1;r||o.begin?.();try{Zee(t,i)}catch(a){throw e&&kN(t,a),a}finally{r||(o.end?.(),n.inlineEffectRunner?.flush())}}function Zee(t,e){tb(t,e);let i=0;for(;Gb(t);){if(i===HN)throw new we(103,!1);i++,tb(t,1)}}function ete(t,e,i,n){let o=e[Te];if((o&256)===256)return;let r=!1;!r&&e[wr].inlineEffectRunner?.flush(),jb(e);let a=null,s=null;!r&&tte(t)&&(s=Yee(e),a=GC(s));try{mP(e),QX(t.bindingStartIndex),i!==null&&SN(t,e,i,2,n);let l=(o&3)===3;if(!r)if(l){let c=t.preOrderCheckHooks;c!==null&&qm(e,c,null)}else{let c=t.preOrderHooks;c!==null&&Ym(e,c,0,null),gS(e,0)}if(ite(e),GN(e,0),t.contentQueries!==null&&AN(t,e),!r)if(l){let c=t.contentCheckHooks;c!==null&&qm(e,c)}else{let c=t.contentHooks;c!==null&&Ym(e,c,1),gS(e,1)}_ee(t,e);let d=t.components;d!==null&&UN(e,d,0);let u=t.viewQuery;if(u!==null&&ZS(2,u,n),!r)if(l){let c=t.viewCheckHooks;c!==null&&qm(e,c)}else{let c=t.viewHooks;c!==null&&Ym(e,c,2),gS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Km]){for(let c of e[Km])c();e[Km]=null}r||(e[Te]&=-73)}catch(l){throw Bh(e),l}finally{s!==null&&(zC(s,a),Jee(s)),$b()}}function tte(t){return t.type!==2}function GN(t,e){for(let i=UP(t);i!==null;i=jP(i))for(let n=wn;n<i.length;n++){let o=i[n];zN(o,e)}}function ite(t){for(let e=UP(t);e!==null;e=jP(e)){if(!(e[Te]&Lb.HasTransplantedViews))continue;let i=e[gu];for(let n=0;n<i.length;n++){let o=i[n],r=o[Vi];LX(o)}}}function nte(t,e,i){let n=bs(e,t);zN(n,i)}function zN(t,e){Wb(t)&&tb(t,e)}function tb(t,e){let n=t[We],o=t[Te],r=t[Pl],a=!!(e===0&&o&16);if(a||=!!(o&64&&e===0),a||=!!(o&1024),a||=!!(r?.dirty&&pm(r)),r&&(r.dirty=!1),t[Te]&=-9217,a)ete(n,t,n.template,t[oo]);else if(o&8192){GN(t,1);let s=n.components;s!==null&&UN(t,s,1)}}function UN(t,e,i){for(let n=0;n<e.length;n++)nte(t,e[n],i)}function cD(t){for(t[wr].changeDetectionScheduler?.notify();t;){t[Te]|=64;let e=kh(t);if(OX(t)&&!e)return t;t=e}return null}var Gl=class{get rootNodes(){let e=this._lView,i=e[We];return uv(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oo]}set context(e){this._lView[oo]=e}get destroyed(){return(this._lView[Te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vi];if(ma(e)){let i=e[nv],n=i?i.indexOf(this):-1;n>-1&&(lv(e,n),tv(i,n))}this._attachedToViewContainer=!1}oD(this._lView[We],this._lView)}onDestroy(e){vP(this._lView,e)}markForCheck(){cD(this._cdRefInjectingView||this._lView)}detach(){this._lView[Te]&=-129}reattach(){kS(this._lView),this._lView[Te]|=128}detectChanges(){this._lView[Te]|=1024,WN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,uN(this._lView[We],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=e,kS(this._lView)}},xs=(()=>{class t{static{this.__NG_ELEMENT_ID__=ate}}return t})(),ote=xs,rte=class extends ote{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let o=NN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Gl(o)}};function ate(){return hD(In(),pt())}function hD(t,e){return t.type&4?new rte(e,t,xu(t,e)):null}var zVe=new RegExp(`^(\\d+)*(${MZ}|${TZ})*(.*)`);var ste=()=>null;function ib(t,e){return ste(t,e)}var nb=class{},ob=class{},cv=class{};function lte(t){let e=Error(`No component factory found for ${Dn(t)}.`);return e[dte]=t,e}var dte="ngComponent";var rb=class{resolveComponentFactory(e){throw lte(e)}},Fv=(()=>{class t{static{this.NULL=new rb}}return t})(),Ph=class{},ya=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ute()}}return t})();function ute(){let t=pt(),e=In(),i=bs(e.index,t);return(Rl(i)?i:t)[pi]}var cte=(()=>{class t{static{this.\u0275prov=re({token:t,providedIn:"root",factory:()=>null})}}return t})(),yS={};var Ck=new Set;function Tv(t){Ck.has(t)||(Ck.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Sk(...t){}function hte(){let t=typeof Al.requestAnimationFrame=="function",e=Al[t?"requestAnimationFrame":"setTimeout"],i=Al[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ne=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&i,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=hte().nativeRequestAnimationFrame,fte(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new we(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,o){let r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+o,e,pte,Sk,Sk);try{return r.runTask(a,i,n)}finally{r.cancelTask(a)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},pte={};function pD(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gte(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Al,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ab(t),t.isCheckStableRunning=!0,pD(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ab(t))}function fte(t){let e=()=>{gte(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,o,r,a,s)=>{if(mte(s))return i.invokeTask(o,r,a,s);try{return bk(t),i.invokeTask(o,r,a,s)}finally{(t.shouldCoalesceEventChangeDetection&&r.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Dk(t)}},onInvoke:(i,n,o,r,a,s,l)=>{try{return bk(t),i.invoke(o,r,a,s,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Dk(t)}},onHasTask:(i,n,o,r)=>{i.hasTask(o,r),n===o&&(r.change=="microTask"?(t._hasPendingMicrotasks=r.microTask,ab(t),pD(t)):r.change=="macroTask"&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,n,o,r)=>(i.handleError(o,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}function ab(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dk(t){t._nesting--,pD(t)}function mte(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var jN=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let n of i)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=re({token:t,providedIn:"root",factory:()=>new t})}}return t})();function sb(t,e,i){let n=i?t.styles:null,o=i?t.classes:null,r=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")r=s;else if(r==1)o=ES(o,s);else if(r==2){let l=s,d=e[++a];n=ES(n,l+": "+d+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=o:t.classesWithoutHost=o}var hv=class extends Fv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=kl(e);return new Nh(i,this.ngModule)}};function wk(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function vte(t){let e=t.toLowerCase();return e==="svg"?MX:e==="math"?AX:null}var lb=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=yv(n);let o=this.injector.get(e,yS,n);return o!==yS||i===yS?o:this.parentInjector.get(e,i,n)}},Nh=class extends cv{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=wk(e.inputs);if(i!==null)for(let o of n)i.hasOwnProperty(o.propName)&&(o.transform=i[o.propName]);return n}get outputs(){return wk(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=dX(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,o){let r=ht(null);try{o=o||this.ngModule;let a=o instanceof jn?o:o?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let s=a?new lb(e,a):e,l=s.get(Ph,null);if(l===null)throw new we(407,!1);let d=s.get(cte,null),u=s.get(jN,null),c=s.get(nb,null),p={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:c},g=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=n?Cee(g,n,this.componentDef.encapsulation,s):dN(g,m,vte(m)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let b=null;y!==null&&(b=tD(y,s,!0));let O=lD(0,null,null,1,0,null,null,null,null,null,null),k=Ov(null,O,null,C,null,null,p,g,s,null,b);jb(k);let J,U;try{let z=this.componentDef,ce,fe=null;z.findHostDirectiveDefs?(ce=[],fe=new Map,z.findHostDirectiveDefs(z,ce,fe),ce.push(z)):ce=[z];let he=_te(k,y),it=yte(he,y,z,ce,k,p,g);U=Hb(O,ro),y&&Ste(g,z,y,n),i!==void 0&&bte(U,this.ngContentSelectors,i),J=Cte(it,z,ce,fe,k,[Dte]),uD(O,k,null)}finally{$b()}return new db(this.componentType,J,xu(U,k),k,U)}finally{ht(r)}}},db=class extends ob{constructor(e,i,n,o,r){super(),this.location=n,this._rootLView=o,this._tNode=r,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Gl(o,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,o;if(n!==null&&(o=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let r=this._rootLView;dD(r[We],r,o,e,i),this.previousInputValues.set(e,i);let a=bs(this._tNode.index,r);cD(a)}}get injector(){return new Bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _te(t,e){let i=t[We],n=ro;return t[n]=e,Yh(i,n,2,"#host",null)}function yte(t,e,i,n,o,r,a){let s=o[We];xte(n,t,e,a);let l=null;e!==null&&(l=tD(e,o[pu]));let d=r.rendererFactory.createRenderer(e,i),u=16;i.signals?u=4096:i.onPush&&(u=64);let c=Ov(o,EN(i),null,u,o[t.index],t,r,d,null,null,l);return s.firstCreatePass&&XS(s,t,n.length-1),Iv(o,c),o[t.index]=c}function xte(t,e,i,n){for(let o of t)e.mergedAttrs=Fh(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(sb(e,e.mergedAttrs,!0),i!==null&&_N(n,i,e))}function Cte(t,e,i,n,o,r){let a=In(),s=o[We],l=so(a,o);FN(s,o,a,i,null,n);for(let u=0;u<i.length;u++){let c=a.directiveStart+u,p=Hl(o,s,c,a);Wl(p,o)}TN(s,o,a),l&&Wl(l,o);let d=Hl(o,s,a.directiveStart+a.componentOffset,a);if(t[oo]=o[oo]=d,r!==null)for(let u of r)u(d,e);return bN(s,a,o),d}function Ste(t,e,i,n){if(n)TS(t,i,["ng-version","17.3.12"]);else{let{attrs:o,classes:r}=uX(e.selectors[0]);o&&TS(t,i,o),r&&r.length>0&&vN(t,i,r.join(" "))}}function bte(t,e,i){let n=t.projection=[];for(let o=0;o<e.length;o++){let r=i[o];n.push(r!=null?Array.from(r):null)}}function Dte(){let t=In();Qb(pt()[We],t)}var xa=(()=>{class t{static{this.__NG_ELEMENT_ID__=wte}}return t})();function wte(){let t=In();return KN(t,pt())}var Ete=xa,$N=class extends Ete{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return xu(this._hostTNode,this._hostLView)}get injector(){return new Bl(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jb(this._hostTNode,this._hostLView);if(MP(e)){let i=av(e,this._hostLView),n=rv(e),o=i[We].data[n+8];return new Bl(o,i)}else return new Bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=Ek(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(e,i,n){let o,r;typeof n=="number"?o=n:n!=null&&(o=n.index,r=n.injector);let a=ib(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(i||{},r,a);return this.insertImpl(s,o,eb(this._hostTNode,a)),s}createComponent(e,i,n,o,r){let a=e&&!EX(e),s;if(a)s=i;else{let m=i||{};s=m.index,n=m.injector,o=m.projectableNodes,r=m.environmentInjector||m.ngModuleRef}let l=a?e:new Nh(kl(e)),d=n||this.parentInjector;if(!r&&l.ngModule==null){let y=(a?d:this.parentInjector).get(jn,null);y&&(r=y)}let u=kl(l.componentType??{}),c=ib(this._lContainer,u?.id??null),p=c?.firstChild??null,g=l.create(d,o,p,r);return this.insertImpl(g.hostView,s,eb(this._hostTNode,c)),g}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let o=e._lView;if(NX(o)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let l=o[Vi],d=new $N(l,l[$n],l[Vi]);d.detach(d.indexOf(e))}}let r=this._adjustIndex(i),a=this._lContainer;return LN(a,o,r,n),e.attachToViewContainerRef(),Uk(xS(a),r,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=Ek(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=lv(this._lContainer,i);n&&(tv(xS(this._lContainer),i),oD(n[We],n))}detach(e){let i=this._adjustIndex(e,-1),n=lv(this._lContainer,i);return n&&tv(xS(this._lContainer),i)!=null?new Gl(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function Ek(t){return t[nv]}function xS(t){return t[nv]||(t[nv]=[])}function KN(t,e){let i,n=e[t.index];return ma(n)?i=n:(i=MN(n,e,null,t),e[t.index]=i,Iv(e,i)),Ite(i,e,t,n),new $N(i,t,e)}function Ote(t,e){let i=t[pi],n=i.createComment(""),o=so(e,t),r=rD(i,o);return dv(i,r,n,uee(i,o),!1),n}var Ite=Mte,Fte=()=>!1;function Tte(t,e,i){return Fte(t,e,i)}function Mte(t,e,i,n){if(t[Nl])return;let o;i.type&8?o=Er(n):o=Ote(e,i),t[Nl]=o}var ub=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cb=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,o=[];for(let r=0;r<n;r++){let a=i.getByIndex(r),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)gD(e,i).matches!==null&&this.queries[i].setDirty()}},pv=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=Vte(e):this.predicate=e}},hb=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let o=i!==null?i.length:0,r=this.getByIndex(n).embeddedTView(e,o);r&&(r.indexInDeclarationView=n,i!==null?i.push(r):i=[r])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},pb=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){let r=n[o];this.matchTNodeWithReadOption(e,i,Ate(i,r)),this.matchTNodeWithReadOption(e,i,Qm(i,e,r,!1,!1))}else n===xs?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Qm(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let o=this.metadata.read;if(o!==null)if(o===dt||o===xa||o===xs&&i.type&4)this.addMatch(i.index,-2);else{let r=Qm(i,e,o,!1,!1);r!==null&&this.addMatch(i.index,r)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function Ate(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function Rte(t,e){return t.type&11?xu(t,e):t.type&4?hD(t,e):null}function Bte(t,e,i,n){return i===-1?Rte(e,t):i===-2?kte(t,e,n):Hl(t,t[We],i,e)}function kte(t,e,i){if(i===dt)return xu(e,t);if(i===xs)return hD(e,t);if(i===xa)return KN(e,t)}function qN(t,e,i,n){let o=e[ha].queries[n];if(o.matches===null){let r=t.data,a=i.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let d=a[l];if(d<0)s.push(null);else{let u=r[d];s.push(Bte(e,u,a[l+1],i.metadata.read))}}o.matches=s}return o.matches}function gb(t,e,i,n){let o=t.queries.getByIndex(i),r=o.matches;if(r!==null){let a=qN(t,e,o,i);for(let s=0;s<r.length;s+=2){let l=r[s];if(l>0)n.push(a[s/2]);else{let d=r[s+1],u=e[-l];for(let c=wn;c<u.length;c++){let p=u[c];p[Gh]===p[Vi]&&gb(p[We],p,d,n)}if(u[gu]!==null){let c=u[gu];for(let p=0;p<c.length;p++){let g=c[p];gb(g[We],g,d,n)}}}}}return n}function Pte(t,e){return t[ha].queries[e].queryList}function YN(t,e,i){let n=new ys((i&4)===4);return Dee(t,e,n,n.destroy),(e[ha]??=new cb).queries.push(new ub(n))-1}function Nte(t,e,i){let n=Hi();return n.firstCreatePass&&(QN(n,new pv(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),YN(n,pt(),e)}function Lte(t,e,i,n){let o=Hi();if(o.firstCreatePass){let r=In();QN(o,new pv(e,i,n),r.index),Hte(o,t),(i&2)===2&&(o.staticContentQueries=!0)}return YN(o,pt(),i)}function Vte(t){return t.split(",").map(e=>e.trim())}function QN(t,e,i){t.queries===null&&(t.queries=new hb),t.queries.track(new pb(e,i))}function Hte(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function gD(t,e){return t.queries.getByIndex(e)}function Wte(t,e){let i=t[We],n=gD(i,e);return n.crossesNgTemplate?gb(i,t,e,[]):qN(i,t,n,e)}function fD(t){return typeof t=="function"&&t[hm]!==void 0}function Gte(t){return Object.getPrototypeOf(t.prototype).constructor}function Le(t){let e=Gte(t.type),i=!0,n=[t];for(;e;){let o;if(_s(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new we(903,!1);o=e.\u0275dir}if(o){if(i){n.push(o);let a=t;a.inputs=Um(t.inputs),a.inputTransforms=Um(t.inputTransforms),a.declaredInputs=Um(t.declaredInputs),a.outputs=Um(t.outputs);let s=o.hostBindings;s&&Kte(t,s);let l=o.viewQuery,d=o.contentQueries;if(l&&jte(t,l),d&&$te(t,d),zte(t,o),IJ(t.outputs,o.outputs),_s(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let a=0;a<r.length;a++){let s=r[a];s&&s.ngInherit&&s(t),s===Le&&(i=!1)}}e=Object.getPrototypeOf(e)}Ute(n)}function zte(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let o=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function Ute(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let o=t[n];o.hostVars=e+=o.hostVars,o.hostAttrs=Fh(o.hostAttrs,i=Fh(i,o.hostAttrs))}}function Um(t){return t===uu?{}:t===bn?[]:t}function jte(t,e){let i=t.viewQuery;i?t.viewQuery=(n,o)=>{e(n,o),i(n,o)}:t.viewQuery=e}function $te(t,e){let i=t.contentQueries;i?t.contentQueries=(n,o,r)=>{e(n,o,r),i(n,o,r)}:t.contentQueries=e}function Kte(t,e){let i=t.hostBindings;i?t.hostBindings=(n,o)=>{e(n,o),i(n,o)}:t.hostBindings=e}function Ir(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let o=e[n];Array.isArray(o)&&o[3]&&(i[n]=o[3])}t.inputTransforms=i}var Cs=class{},Lh=class{};var fb=class extends Cs{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hv(this);let o=eP(e);this._bootstrapComponents=lN(o.bootstrap),this._r3Injector=HP(e,i,[{provide:Cs,useValue:this},{provide:Fv,useValue:this.componentFactoryResolver},...n],Dn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mb=class extends Lh{constructor(e){super(),this.moduleType=e}create(e){return new fb(this.moduleType,e,[])}};var gv=class extends Cs{constructor(e){super(),this.componentFactoryResolver=new hv(this),this.instance=null;let i=new Th([...e.providers,{provide:Cs,useValue:this},{provide:Fv,useValue:this.componentFactoryResolver}],e.parent||Nb(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function mD(t,e,i=null){return new gv({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Qh=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Si(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function JN(t){return Yte(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function qte(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function Yte(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Qte(t,e,i){return t[e]=i}function Jte(t,e){return t[e]}function Or(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function Xte(t,e,i,n){let o=Or(t,e,i);return Or(t,e+1,n)||o}function Zte(t,e,i,n,o){let r=Xte(t,e,i,n);return Or(t,e+2,o)||r}function eie(t){return(t.flags&32)===32}function tie(t,e,i,n,o,r,a,s,l){let d=e.consts,u=Yh(e,t,4,a||null,ov(d,s));IN(e,i,u,ov(d,l)),Qb(e,u);let c=u.tView=lD(2,u,n,o,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,u),c.queries=e.queries.embeddedTView(u)),u}function Ko(t,e,i,n,o,r,a,s){let l=pt(),d=Hi(),u=t+ro,c=d.firstCreatePass?tie(u,d,l,e,i,n,o,r,a):d.data[u];zh(c,!1);let p=iie(d,l,c,t);qb()&&aD(d,l,p,c),Wl(p,l);let g=MN(p,l,p,c);return l[u]=g,Iv(l,g),Tte(g,c,l),Vb(c)&&DN(d,l,c),a!=null&&wN(l,c,s),Ko}var iie=nie;function nie(t,e,i,n){return Yb(!0),e[pi].createComment("")}function Fr(t,e,i,n){let o=pt(),r=Uh();if(Or(o,r,e)){let a=Hi(),s=Kb();Vee(s,o,t,e,i,n)}return Fr}function oie(t,e,i,n){return Or(t,Uh(),i)?e+au(i)+n:$o}function rie(t,e,i,n,o,r,a,s){let l=YX(),d=Zte(t,l,i,o,a);return zb(3),d?e+au(i)+n+au(o)+r+au(a)+s:$o}function jm(t,e){return t<<17|e<<2}function zl(t){return t>>17&32767}function aie(t){return(t&2)==2}function sie(t,e){return t&131071|e<<17}function vb(t){return t|2}function fu(t){return(t&131068)>>2}function CS(t,e){return t&-131069|e<<2}function lie(t){return(t&1)===1}function _b(t){return t|1}function die(t,e,i,n,o,r){let a=r?e.classBindings:e.styleBindings,s=zl(a),l=fu(a);t[n]=i;let d=!1,u;if(Array.isArray(i)){let c=i;u=c[1],(u===null||Wh(c,u)>0)&&(d=!0)}else u=i;if(o)if(l!==0){let p=zl(t[s+1]);t[n+1]=jm(p,s),p!==0&&(t[p+1]=CS(t[p+1],n)),t[s+1]=sie(t[s+1],n)}else t[n+1]=jm(s,0),s!==0&&(t[s+1]=CS(t[s+1],n)),s=n;else t[n+1]=jm(l,0),s===0?s=n:t[l+1]=CS(t[l+1],n),l=n;d&&(t[n+1]=vb(t[n+1])),Ok(t,u,n,!0),Ok(t,u,n,!1),uie(e,u,t,n,r),a=jm(s,l),r?e.classBindings=a:e.styleBindings=a}function uie(t,e,i,n,o){let r=o?t.residualClasses:t.residualStyles;r!=null&&typeof e=="string"&&Wh(r,e)>=0&&(i[n+1]=_b(i[n+1]))}function Ok(t,e,i,n){let o=t[i+1],r=e===null,a=n?zl(o):fu(o),s=!1;for(;a!==0&&(s===!1||r);){let l=t[a],d=t[a+1];cie(l,e)&&(s=!0,t[a+1]=n?_b(d):vb(d)),a=n?zl(d):fu(d)}s&&(t[i+1]=n?vb(o):_b(o))}function cie(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wh(t,e)>=0:!1}var zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hie(t){return t.substring(zo.key,zo.keyEnd)}function pie(t){return gie(t),XN(t,ZN(t,0,zo.textEnd))}function XN(t,e){let i=zo.textEnd;return i===e?-1:(e=zo.keyEnd=fie(t,zo.key=e,i),ZN(t,e,i))}function gie(t){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=t.length}function ZN(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function fie(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function gt(t,e,i){let n=pt(),o=Uh();if(Or(n,o,e)){let r=Hi(),a=Kb();ON(r,a,n,t,e,n[pi],i,!1)}return gt}function yb(t,e,i,n,o){let r=e.inputs,a=o?"class":"style";dD(t,i,r[a],a,n)}function Os(t,e){return vie(t,e,null,!0),Os}function Mv(t){_ie(Die,mie,t,!0)}function mie(t,e){for(let i=pie(e);i>=0;i=XN(e,i))Bb(t,hie(e),!0)}function vie(t,e,i,n){let o=pt(),r=Hi(),a=zb(2);if(r.firstUpdatePass&&tL(r,t,a,n),e!==$o&&Or(o,a,e)){let s=r.data[Es()];iL(r,s,o,o[pi],t,o[a+1]=Eie(e,i),n,a)}}function _ie(t,e,i,n){let o=Hi(),r=zb(2);o.firstUpdatePass&&tL(o,null,r,n);let a=pt();if(i!==$o&&Or(a,r,i)){let s=o.data[Es()];if(nL(s,n)&&!eL(o,r)){let l=n?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(i=ES(l,i||"")),yb(o,s,a,i,n)}else wie(o,s,a,a[pi],a[r+1],a[r+1]=bie(t,e,i),n,r)}}function eL(t,e){return e>=t.expandoStartIndex}function tL(t,e,i,n){let o=t.data;if(o[i+1]===null){let r=o[Es()],a=eL(t,i);nL(r,n)&&e===null&&!a&&(e=!1),e=yie(o,r,e,n),die(o,r,e,i,a,n)}}function yie(t,e,i,n){let o=eZ(t),r=n?e.residualClasses:e.residualStyles;if(o===null)(n?e.classBindings:e.styleBindings)===0&&(i=SS(null,t,e,i,n),i=Vh(i,e.attrs,n),r=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==o)if(i=SS(o,t,e,i,n),r===null){let l=xie(t,e,n);l!==void 0&&Array.isArray(l)&&(l=SS(null,t,e,l[1],n),l=Vh(l,e.attrs,n),Cie(t,e,n,l))}else r=Sie(t,e,n)}return r!==void 0&&(n?e.residualClasses=r:e.residualStyles=r),i}function xie(t,e,i){let n=i?e.classBindings:e.styleBindings;if(fu(n)!==0)return t[zl(n)]}function Cie(t,e,i,n){let o=i?e.classBindings:e.styleBindings;t[zl(o)]=n}function Sie(t,e,i){let n,o=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<o;r++){let a=t[r].hostAttrs;n=Vh(n,a,i)}return Vh(n,e.attrs,i)}function SS(t,e,i,n,o){let r=null,a=i.directiveEnd,s=i.directiveStylingLast;for(s===-1?s=i.directiveStart:s++;s<a&&(r=e[s],n=Vh(n,r.hostAttrs,o),r!==t);)s++;return t!==null&&(i.directiveStylingLast=s),n}function Vh(t,e,i){let n=i?1:2,o=-1;if(e!==null)for(let r=0;r<e.length;r++){let a=e[r];typeof a=="number"?o=a:o===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Bb(t,a,i?!0:e[++r]))}return t===void 0?null:t}function bie(t,e,i){if(i==null||i==="")return bn;let n=[],o=va(i);if(Array.isArray(o))for(let r=0;r<o.length;r++)t(n,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&t(n,r,o[r]);else typeof o=="string"&&e(n,o);return n}function Die(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&Bb(t,n,i)}function wie(t,e,i,n,o,r,a,s){o===$o&&(o=bn);let l=0,d=0,u=0<o.length?o[0]:null,c=0<r.length?r[0]:null;for(;u!==null||c!==null;){let p=l<o.length?o[l+1]:void 0,g=d<r.length?r[d+1]:void 0,m=null,y;u===c?(l+=2,d+=2,p!==g&&(m=c,y=g)):c===null||u!==null&&u<c?(l+=2,m=u):(d+=2,m=c,y=g),m!==null&&iL(t,e,i,n,m,y,a,s),u=l<o.length?o[l]:null,c=d<r.length?r[d]:null}}function iL(t,e,i,n,o,r,a,s){if(!(e.type&3))return;let l=t.data,d=l[s+1],u=lie(d)?Ik(l,e,i,o,fu(d),a):void 0;if(!fv(u)){fv(r)||aie(d)&&(r=Ik(l,null,i,o,s,a));let c=fP(Es(),i);mee(n,a,c,o,r)}}function Ik(t,e,i,n,o,r){let a=e===null,s;for(;o>0;){let l=t[o],d=Array.isArray(l),u=d?l[1]:l,c=u===null,p=i[o+1];p===$o&&(p=c?bn:void 0);let g=c?hS(p,n):u===n?p:void 0;if(d&&!fv(g)&&(g=hS(l,n)),fv(g)&&(s=g,a))return s;let m=t[o+1];o=a?zl(m):fu(m)}if(e!==null){let l=r?e.residualClasses:e.residualStyles;l!=null&&(s=hS(l,n))}return s}function fv(t){return t!==void 0}function Eie(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dn(va(t)))),t}function nL(t,e){return(t.flags&(e?8:16))!==0}function Av(t,e,i){Tv("NgControlFlow");let n=pt(),o=Uh(),r=Oie(n,ro+t),a=0;if(Or(n,o,e)){let s=ht(null);try{if(Kee(r,a),e!==-1){let l=Iie(n[We],ro+e),d=ib(r,l.tView.ssrId),u=NN(n,l,i,{dehydratedView:d});LN(r,u,a,eb(l,d))}}finally{ht(s)}}else{let s=$ee(r,a);s!==void 0&&(s[oo]=i)}}function Oie(t,e){return t[e]}function Iie(t,e){return Hb(t,e)}function Fie(t,e,i,n,o,r){let a=e.consts,s=ov(a,o),l=Yh(e,t,2,n,s);return IN(e,i,l,ov(a,r)),l.attrs!==null&&sb(l,l.attrs,!1),l.mergedAttrs!==null&&sb(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function nt(t,e,i,n){let o=pt(),r=Hi(),a=ro+t,s=o[pi],l=r.firstCreatePass?Fie(a,r,o,e,i,n):r.data[a],d=Tie(r,o,l,s,e,t);o[a]=d;let u=Vb(l);return zh(l,!0),_N(s,d,l),!eie(l)&&qb()&&aD(r,o,d,l),WX()===0&&Wl(d,o),GX(),u&&(DN(r,o,l),bN(r,l,o)),n!==null&&wN(o,l),nt}function st(){let t=In();CP()?SP():(t=t.parent,zh(t,!1));let e=t;UX(e)&&jX(),zX();let i=Hi();return i.firstCreatePass&&(Qb(i,t),uP(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&sZ(e)&&yb(i,e,pt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lZ(e)&&yb(i,e,pt(),e.stylesWithoutHost,!1),st}function wi(t,e,i,n){return nt(t,e,i,n),st(),wi}var Tie=(t,e,i,n,o,r)=>(Yb(!0),dN(n,o,nZ()));function Jh(){return pt()}function Rv(t,e,i){let n=pt(),o=Uh();if(Or(n,o,e)){let r=Hi(),a=Kb();ON(r,a,n,t,e,n[pi],i,!0)}return Rv}var mv="en-US";var Mie=mv;function Aie(t){typeof t=="string"&&(Mie=t.toLowerCase().replace(/_/g,"-"))}function Wi(t,e,i,n){let o=pt(),r=Hi(),a=In();return Bie(r,o,o[pi],a,t,e,n),Wi}function Rie(t,e,i,n){let o=t.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let a=o[r];if(a===i&&o[r+1]===n){let s=e[Ah],l=o[r+2];return s.length>l?s[l]:null}typeof a=="string"&&(r+=2)}return null}function Bie(t,e,i,n,o,r,a){let s=Vb(n),d=t.firstCreatePass&&BN(t),u=e[oo],c=RN(e),p=!0;if(n.type&3||a){let y=so(n,e),C=a?a(y):y,b=c.length,O=a?J=>a(Er(J[n.index])):n.index,k=null;if(!a&&s&&(k=Rie(t,e,o,n.index)),k!==null){let J=k.__ngLastListenerFn__||k;J.__ngNextListenerFn__=r,k.__ngLastListenerFn__=r,p=!1}else{r=Tk(n,e,u,r,!1);let J=i.listen(C,o,r);c.push(r,J),d&&d.push(o,O,b,b+1)}}else r=Tk(n,e,u,r,!1);let g=n.outputs,m;if(p&&g!==null&&(m=g[o])){let y=m.length;if(y)for(let C=0;C<y;C+=2){let b=m[C],O=m[C+1],U=e[b][O].subscribe(r),z=c.length;c.push(r,U),d&&d.push(o,n.index,z,-(z+1))}}}function Fk(t,e,i,n){let o=ht(null);try{return Sr(6,e,i),i(n)!==!1}catch(r){return kN(t,r),!1}finally{Sr(7,e,i),ht(o)}}function Tk(t,e,i,n,o){return function r(a){if(a===Function)return n;let s=t.componentOffset>-1?bs(t.index,e):e;cD(s);let l=Fk(e,i,n,a),d=r.__ngNextListenerFn__;for(;d;)l=Fk(e,i,d,a)&&l,d=d.__ngNextListenerFn__;return o&&l===!1&&a.preventDefault(),l}}function Ca(t=1){return iZ(t)}function kie(t,e){let i=null,n=oX(t);for(let o=0;o<e.length;o++){let r=e[o];if(r==="*"){i=o;continue}if(n===null?Qk(t,r,!0):sX(n,r))return o}return i}function Tn(t){let e=pt()[jo][$n];if(!e.projection){let i=t?t.length:1,n=e.projection=YJ(i,null),o=n.slice(),r=e.child;for(;r!==null;){let a=t?kie(r,t):0;a!==null&&(o[a]?o[a].projectionNext=r:n[a]=r,o[a]=r),r=r.next}}}function qi(t,e=0,i){let n=pt(),o=Hi(),r=Yh(o,ro+t,16,null,i||null);r.projection===null&&(r.projection=e),SP(),(!n[Mh]||yP())&&(r.flags&32)!==32&&gee(o,n,r)}function _t(t,e,i,n){Lte(t,e,i,n)}function Xh(t,e,i){Nte(t,e,i)}function ot(t){let e=pt(),i=Hi(),n=bP();Ub(n+1);let o=gD(i,n);if(t.dirty&&PX(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let r=Wte(e,n);t.reset(r,CZ),t.notifyOnChanges()}return!0}return!1}function rt(){return Pte(pt(),bP())}function vD(t){let e=KX();return kX(e,ro+t)}function ti(t,e=""){let i=pt(),n=Hi(),o=t+ro,r=n.firstCreatePass?Yh(n,o,1,e,null):n.data[o],a=Pie(n,i,r,e,t);i[o]=a,qb()&&aD(n,i,a,r),zh(r,!1)}var Pie=(t,e,i,n,o)=>(Yb(!0),ZZ(e[pi],n));function Su(t){return _D("",t,""),Su}function _D(t,e,i){let n=pt(),o=oie(n,t,e,i);return o!==$o&&PN(n,Es(),o),_D}function yD(t,e,i,n,o,r,a){let s=pt(),l=rie(s,t,e,i,n,o,r,a);return l!==$o&&PN(s,Es(),l),yD}function Nie(t,e,i){let n=Hi();if(n.firstCreatePass){let o=_s(t);xb(i,n.data,n.blueprint,o,!0),xb(e,n.data,n.blueprint,o,!1)}}function xb(t,e,i,n,o){if(t=hn(t),Array.isArray(t))for(let r=0;r<t.length;r++)xb(t[r],e,i,n,o);else{let r=Hi(),a=pt(),s=In(),l=hu(t)?t:hn(t.provide),d=aP(t),u=s.providerIndexes&1048575,c=s.directiveStart,p=s.providerIndexes>>20;if(hu(t)||!t.multi){let g=new Vl(d,o,B),m=DS(l,e,o?u:u+p,c);m===-1?(LS(sv(s,a),r,l),bS(r,t,e.length),e.push(l),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),i.push(g),a.push(g)):(i[m]=g,a[m]=g)}else{let g=DS(l,e,u+p,c),m=DS(l,e,u,u+p),y=g>=0&&i[g],C=m>=0&&i[m];if(o&&!C||!o&&!y){LS(sv(s,a),r,l);let b=Hie(o?Vie:Lie,i.length,o,n,d);!o&&C&&(i[m].providerFactory=b),bS(r,t,e.length,0),e.push(l),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),i.push(b),a.push(b)}else{let b=oL(i[o?m:g],d,!o&&n);bS(r,t,g>-1?g:m,b)}!o&&n&&C&&i[m].componentProviders++}}}function bS(t,e,i,n){let o=hu(e),r=_X(e);if(o||r){let l=(r?hn(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=d.indexOf(i);u===-1?d.push(i,[n,l]):d[u+1].push(n,l)}else d.push(i,l)}}}function oL(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function DS(t,e,i,n){for(let o=i;o<n;o++)if(e[o]===t)return o;return-1}function Lie(t,e,i,n){return Cb(this.multi,[])}function Vie(t,e,i,n){let o=this.multi,r;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=Hl(i,i[We],this.providerFactory.index,n);r=s.slice(0,a),Cb(o,r);for(let l=a;l<s.length;l++)r.push(s[l])}else r=[],Cb(o,r);return r}function Cb(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function Hie(t,e,i,n,o){let r=new Vl(t,i,B);return r.multi=[],r.index=e,r.componentProviders=0,oL(r,o,n&&!i),r}function bt(t,e=[]){return i=>{i.providersResolver=(n,o)=>Nie(n,o?o(t):t,e)}}var Wie=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let n=nP(!1,i.type),o=n.length>0?mD([n],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=re({token:t,providedIn:"environment",factory:()=>new t(ne(jn))})}}return t})();function lo(t){Tv("NgStandalone"),t.getStandaloneInjector=e=>e.get(Wie).getOrCreateStandaloneInjector(t)}function rL(t,e,i){let n=qX()+t,o=pt();return o[n]===$o?Qte(o,n,i?e.call(i):e()):Jte(o,n)}var Ss=class{constructor(e){this.full=e;let i=e.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}},aL=new Ss("17.3.12"),Bv=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var sL=new Ce("");function bu(t){return!!t&&typeof t.then=="function"}function lL(t){return!!t&&typeof t.subscribe=="function"}var dL=new Ce(""),uL=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n}),this.appInits=Z(dL,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let r=o();if(bu(r))i.push(r);else if(lL(r)){let a=new Promise((s,l)=>{r.subscribe({complete:s,error:l})});i.push(a)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{n()}).catch(o=>{this.reject(o)}),i.length===0&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xD=new Ce("");function Gie(){bB(()=>{throw new we(600,!1)})}function zie(t){return t.isBoundToModule}function Uie(t,e,i){try{let n=i();return bu(n)?n.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var Zh=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(WP),this.afterRenderEffectManager=Z(jN),this.externalTestViews=new Set,this.beforeRender=new Ot,this.afterTick=new Ot,this.componentTypes=[],this.components=[],this.isStable=Z(Qh).hasPendingTasks.pipe(Ie(i=>!i)),this._injector=Z(jn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,n){let o=i instanceof cv;if(!this._injector.get(uL).done){let p=!o&&Zk(i),g=!1;throw new we(405,g)}let a;o?a=i:a=this._injector.get(Fv).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let s=zie(a)?void 0:this._injector.get(Cs),l=n||a.selector,d=a.create(yu.NULL,[],l,s),u=d.location.nativeElement,c=d.injector.get(sL,null);return c?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),wS(this.components,d),c?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new we(101,!1);let n=ht(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ht(n)}}detectChangesInAttachedViews(i){let n=0,o=this.afterRenderEffectManager;for(;;){if(n===HN)throw new we(103,!1);if(i){let r=n===0;this.beforeRender.next(r);for(let{_lView:a,notifyErrorHandler:s}of this._views)jie(a,r,s)}if(n++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:r})=>Sb(r))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:r})=>Sb(r))))break}}attachView(i){let n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){let n=i;wS(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let n=this._injector.get(xD,[]);[...this._bootstrapListeners,...n].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>wS(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new we(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wS(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function jie(t,e,i){!e&&!Sb(t)||$ie(t,i,e)}function Sb(t){return Gb(t)}function $ie(t,e,i){let n;i?(n=0,t[Te]|=1024):t[Te]&64?n=0:n=1,WN(t,e,n)}var bb=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},CD=(()=>{class t{compileModuleSync(i){return new mb(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let n=this.compileModuleSync(i),o=eP(i),r=lN(o.declarations).reduce((a,s)=>{let l=kl(s);return l&&a.push(new Nh(l)),a},[]);return new bb(n,r)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Kie=(()=>{class t{constructor(){this.zone=Z(Ne),this.applicationRef=Z(Zh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qie(t){return[{provide:Ne,useFactory:t},{provide:cu,multi:!0,useFactory:()=>{let e=Z(Kie,{optional:!0});return()=>e.initialize()}},{provide:cu,multi:!0,useFactory:()=>{let e=Z(Xie);return()=>{e.initialize()}}},{provide:WP,useFactory:Yie}]}function Yie(){let t=Z(Ne),e=Z(En);return i=>t.runOutsideAngular(()=>e.handleError(i))}function Qie(t){let e=qie(()=>new Ne(Jie(t)));return Cv([[],e])}function Jie(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Xie=(()=>{class t{constructor(){this.subscription=new Tt,this.initialized=!1,this.zone=Z(Ne),this.pendingTasks=Z(Qh)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zie(){return typeof $localize<"u"&&$localize.locale||mv}var kv=new Ce("",{providedIn:"root",factory:()=>Z(kv,Ye.Optional|Ye.SkipSelf)||Zie()});var cL=new Ce("");var Xm=null;function ene(t=[],e){return yu.create({name:e,providers:[{provide:Sv,useValue:"platform"},{provide:cL,useValue:new Set([()=>Xm=null])},...t]})}function tne(t=[]){if(Xm)return Xm;let e=ene(t);return Xm=e,Gie(),ine(e),e}function ine(t){t.get(Zb,null)?.forEach(i=>i())}var qo=(()=>{class t{static{this.__NG_ELEMENT_ID__=nne}}return t})();function nne(t){return one(In(),pt(),(t&16)===16)}function one(t,e,i){if(Dv(t)&&!i){let n=bs(t.index,e);return new Gl(n,n)}else if(t.type&47){let n=e[jo];return new Gl(n,e)}return null}var Db=class{constructor(){}supports(e){return JN(e)}create(e){return new wb(e)}},rne=(t,e)=>e,wb=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rne}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,o=0,r=null;for(;i||n;){let a=!n||i&&i.currentIndex<Mk(n,o,r)?i:n,s=Mk(a,o,r),l=a.currentIndex;if(a===n)o--,n=n._nextRemoved;else if(i=i._next,a.previousIndex==null)o++;else{r||(r=[]);let d=s-o,u=l-o;if(d!=u){for(let p=0;p<d;p++){let g=p<r.length?r[p]:r[p]=0,m=g+p;u<=m&&m<d&&(r[p]=g+1)}let c=a.previousIndex;r[c]=u-d}}s!==l&&e(a,s,l)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!JN(e))throw new we(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,o,r,a;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)r=e[s],a=this._trackByFn(s,r),i===null||!Object.is(i.trackById,a)?(i=this._mismatch(i,r,a,s),n=!0):(n&&(i=this._verifyReinsertion(i,r,a,s)),Object.is(i.item,r)||this._addIdentityChange(i,r)),i=i._next}else o=0,qte(e,s=>{a=this._trackByFn(o,s),i===null||!Object.is(i.trackById,a)?(i=this._mismatch(i,s,a,o),n=!0):(n&&(i=this._verifyReinsertion(i,s,a,o)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,o){let r;return e===null?r=this._itTail:(r=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,r,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,o),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,r,o)):e=this._addAfter(new Eb(i,n),r,o)),e}_verifyReinsertion(e,i,n,o){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return r!==null?e=this._reinsertAfter(r,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,r=e._nextRemoved;return o===null?this._removalsHead=r:o._nextRemoved=r,r===null?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let o=i===null?this._itHead:i._next;return e._next=o,e._prev=i,o===null?this._itTail=e:o._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new vv),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Eb=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ob=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},vv=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new Ob,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,o=this.map.get(n);return o?o.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mk(t,e,i){let n=t.previousIndex;if(n===null)return n;let o=0;return i&&n<i.length&&(o=i[n]),n+e+o}function Ak(){return new ep([new Db])}var ep=(()=>{class t{static{this.\u0275prov=re({token:t,providedIn:"root",factory:Ak})}constructor(i){this.factories=i}static create(i,n){if(n!=null){let o=n.factories.slice();i=i.concat(o)}return new t(i)}static extend(i){return{provide:t,useFactory:n=>t.create(i,n||Ak()),deps:[[t,new Ab,new xv]]}}find(i){let n=this.factories.find(o=>o.supports(i));if(n!=null)return n;throw new we(901,!1)}}return t})();function hL(t){try{let{rootComponent:e,appProviders:i,platformProviders:n}=t,o=tne(n),r=[Qie(),...i||[]],s=new gv({providers:r,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,l=s.get(Ne);return l.run(()=>{s.resolveInjectorInitializers();let d=s.get(En,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:g=>{d.handleError(g)}})});let c=()=>s.destroy(),p=o.get(cL);return p.add(c),s.onDestroy(()=>{u.unsubscribe(),p.delete(c)}),Uie(d,l,()=>{let g=s.get(uL);return g.runInitializers(),g.donePromise.then(()=>{let m=s.get(kv,mv);Aie(m||mv);let y=s.get(Zh);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function Mn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function tp(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var ane=new Ce("",{providedIn:"root",factory:()=>Z(sne)}),sne=(()=>{class t{static{this.\u0275prov=re({token:t,providedIn:"root",factory:()=>new Ib})}}return t})(),Ib=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Z(Qh),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let i=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(i),this.taskId=null})}}enqueue(e){let i=e.creationZone;this.queues.has(i)||this.queues.set(i,new Set);let n=this.queues.get(i);n.has(e)||(this.queuedEffectCount++,n.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,i]of this.queues)e===null?this.flushQueue(i):e.run(()=>this.flushQueue(i))}flushQueue(e){for(let i of e)e.delete(i),this.queuedEffectCount--,i.run()}},Fb=class{constructor(e,i,n,o,r,a){this.scheduler=e,this.effectFn=i,this.creationZone=n,this.injector=r,this.watcher=DB(s=>this.runEffect(s),()=>this.schedule(),a),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(i){this.injector.get(En,null,{optional:!0})?.handleError(i)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function SD(t,e){Tv("NgSignals"),!e?.injector&&wX(SD);let i=e?.injector??Z(yu),n=e?.manualCleanup!==!0?i.get(Xb):null,o=new Fb(i.get(ane),t,typeof Zone>"u"?null:Zone.current,n,i,e?.allowSignalWrites??!1),r=i.get(qo,null,{optional:!0});return!r||!(r._lView[Te]&8)?o.watcher.notify():(r._lView[Km]??=[]).push(o.watcher.notify),o}var mL=null;function Du(){return mL}function vL(t){mL??=t}var Pv=class{};var ft=new Ce(""),_L=(()=>{class t{historyGo(i){throw new Error("")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>Z(lne),providedIn:"platform"})}}return t})();var lne=(()=>{class t extends _L{constructor(){super(),this._doc=Z(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Du().getBaseHref(this._doc)}onPopState(i){let n=Du().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){let n=Du().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,o){this._history.pushState(i,n,o)}replaceState(i,n,o){this._history.replaceState(i,n,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function yL(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function pL(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function jl(t){return t&&t[0]!=="?"?"?"+t:t}var Nv=(()=>{class t{historyGo(i){throw new Error("")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>Z(xL),providedIn:"root"})}}return t})(),dne=new Ce(""),xL=(()=>{class t extends Nv{constructor(i,n){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??Z(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return yL(this._baseHref,i)}path(i=!1){let n=this._platformLocation.pathname+jl(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${n}${o}`:n}pushState(i,n,o,r){let a=this.prepareExternalUrl(o+jl(r));this._platformLocation.pushState(i,n,a)}replaceState(i,n,o,r){let a=this.prepareExternalUrl(o+jl(r));this._platformLocation.replaceState(i,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static{this.\u0275fac=function(n){return new(n||t)(ne(_L),ne(dne,8))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ip=(()=>{class t{constructor(i){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let n=this._locationStrategy.getBaseHref();this._basePath=hne(pL(gL(n))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+jl(n))}normalize(i){return t.stripTrailingSlash(cne(this._basePath,gL(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",o=null){this._locationStrategy.pushState(o,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+jl(n)),o)}replaceState(i,n="",o=null){this._locationStrategy.replaceState(o,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+jl(n)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(o=>o(i,n))}subscribe(i,n,o){return this._subject.subscribe({next:i,error:n,complete:o})}static{this.normalizeQueryParams=jl}static{this.joinWithSlash=yL}static{this.stripTrailingSlash=pL}static{this.\u0275fac=function(n){return new(n||t)(ne(Nv))}}static{this.\u0275prov=re({token:t,factory:()=>une(),providedIn:"root"})}}return t})();function une(){return new ip(ne(Nv))}function cne(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function gL(t){return t.replace(/\/index.html$/,"")}function hne(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}function CL(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[o,r]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(o.trim()===e)return decodeURIComponent(r)}return null}var bD=class{constructor(e,i,n,o){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},SL=(()=>{class t{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,n,o){this._viewContainer=i,this._template=n,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let n=this._viewContainer;i.forEachOperation((o,r,a)=>{if(o.previousIndex==null)n.createEmbeddedView(this._template,new bD(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)n.remove(r===null?void 0:r);else if(r!==null){let s=n.get(r);n.move(s,a),fL(s,o)}});for(let o=0,r=n.length;o<r;o++){let s=n.get(o).context;s.index=o,s.count=r,s.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let r=n.get(o.currentIndex);fL(r,o)})}static ngTemplateContextGuard(i,n){return!0}static{this.\u0275fac=function(n){return new(n||t)(B(xa),B(xs),B(ep))}}static{this.\u0275dir=ao({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function fL(t,e){t.context.$implicit=e.item}var DD=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=$({type:t})}static{this.\u0275inj=j({})}}return t})(),wD="browser",pne="server";function bL(t){return t===wD}function np(t){return t===pne}var wu=class{};var OD=class{};var Eu=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let o=i.slice(0,n),r=o.toLowerCase(),a=i.slice(n+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let o=(e.op==="a"?this.headers.get(i):void 0)||[];o.push(...n),this.headers.set(i,o);break;case"d":let r=e.value;if(!r)this.headers.delete(i),this.normalizedNames.delete(i);else{let a=this.headers.get(i);if(!a)return;a=a.filter(s=>r.indexOf(s)===-1),a.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,a)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(r=>r.toString()),o=e.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var ID=class{encodeKey(e){return wL(e)}encodeValue(e){return wL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gne(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[a,s]=r==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,r)),e.decodeValue(o.slice(r+1))],l=i.get(a)||[];l.push(s),i.set(a,l)}),i}var fne=/%(\d[a-f0-9])/gi,mne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wL(t){return encodeURIComponent(t).replace(fne,(e,i)=>mne[i]??e)}function Lv(t){return`${t}`}var Is=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ID,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gne(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],o=Array.isArray(n)?n.map(Lv):[Lv(n)];this.map.set(i,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let o=e[n];Array.isArray(o)?o.forEach(r=>{i.push({param:n,value:r,op:"a"})}):i.push({param:n,value:o,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Lv(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],o=n.indexOf(Lv(e.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var FD=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function vne(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function EL(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OL(t){return typeof Blob<"u"&&t instanceof Blob}function IL(t){return typeof FormData<"u"&&t instanceof FormData}function _ne(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var op=class t{constructor(e,i,n,o){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(vne(this.method)||o?(this.body=n!==void 0?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Eu,this.context??=new FD,!this.params)this.params=new Is,this.urlWithParams=i;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=i;else{let s=i.indexOf("?"),l=s===-1?"?":s<i.length-1?"&":"";this.urlWithParams=i+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||EL(this.body)||OL(this.body)||IL(this.body)||_ne(this.body)?this.body:this.body instanceof Is?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||IL(this.body)?null:OL(this.body)?this.body.type||null:EL(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Is?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,o=e.responseType||this.responseType,r=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,s=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,u=e.params||this.params,c=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),d)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),u)),new t(i,n,a,{params:u,headers:d,context:c,reportProgress:l,responseType:o,withCredentials:s,transferCache:r})}},FL=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(FL||{}),TD=class{constructor(e,i=TL.Ok,n="OK"){this.headers=e.headers||new Eu,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var MD=class t extends TD{constructor(e={}){super(e),this.type=FL.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var TL=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(TL||{});function ED(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ML=(()=>{class t{constructor(i){this.handler=i}request(i,n,o={}){let r;if(i instanceof op)r=i;else{let l;o.headers instanceof Eu?l=o.headers:l=new Eu(o.headers);let d;o.params&&(o.params instanceof Is?d=o.params:d=new Is({fromObject:o.params})),r=new op(i,n,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=De(r).pipe(ps(l=>this.handler.handle(l)));if(i instanceof op||o.observe==="events")return a;let s=a.pipe(Li(l=>l instanceof MD));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(Ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(Ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return s.pipe(Ie(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:new Is().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,o={}){return this.request("PATCH",i,ED(o,n))}post(i,n,o={}){return this.request("POST",i,ED(o,n))}put(i,n,o={}){return this.request("PUT",i,ED(o,n))}static{this.\u0275fac=function(n){return new(n||t)(ne(OD))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var BD=class extends Pv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},kD=class t extends BD{static makeCurrent(){vL(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=xne();return i==null?null:Cne(i)}resetBaseElement(){rp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return CL(document.cookie,e)}},rp=null;function xne(){return rp=rp||document.querySelector("base"),rp?rp.getAttribute("href"):null}function Cne(t){return new URL(t,document.baseURI).pathname}var Sne=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})(),PD=new Ce(""),kL=(()=>{class t{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,o){return this._findPluginFor(n).addEventListener(i,n,o)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(r=>r.supports(i)),!n)throw new we(5101,!1);return this._eventNameToPlugin.set(i,n),n}static{this.\u0275fac=function(n){return new(n||t)(ne(PD),ne(Ne))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})(),Vv=class{constructor(e){this._doc=e}},AD="ng-app-id",PL=(()=>{class t{constructor(i,n,o,r={}){this.doc=i,this.appId=n,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=np(r),this.resetHostNodes()}addStyles(i){for(let n of i)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(i){for(let n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){let n=this.styleRef;n.get(i)?.elements?.forEach(o=>o.remove()),n.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${AD}="${this.appId}"]`);if(i?.length){let n=new Map;return i.forEach(o=>{o.textContent!=null&&n.set(o.textContent,o)}),n}return null}changeUsageCount(i,n){let o=this.styleRef;if(o.has(i)){let r=o.get(i);return r.usage+=n,r.usage}return o.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){let o=this.styleNodesInDOM,r=o?.get(n);if(r?.parentNode===i)return o.delete(n),r.removeAttribute(AD),r;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(AD,this.appId),i.appendChild(a),a}}addStyleToHost(i,n){let o=this.getStyleElement(i,n),r=this.styleRef,a=r.get(n)?.elements;a?a.push(o):r.set(n,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||t)(ne(ft),ne(jh),ne(Kh,8),ne(Di))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})(),RD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},LD=/%COMP%/g,NL="%COMP%",bne=`_nghost-${NL}`,Dne=`_ngcontent-${NL}`,wne=!0,Ene=new Ce("",{providedIn:"root",factory:()=>wne});function One(t){return Dne.replace(LD,t)}function Ine(t){return bne.replace(LD,t)}function LL(t,e){return e.map(i=>i.replace(LD,t))}var AL=(()=>{class t{constructor(i,n,o,r,a,s,l,d=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=np(s),this.defaultRenderer=new ap(i,a,l,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Dr.ShadowDom&&(n=Pt(te({},n),{encapsulation:Dr.Emulated}));let o=this.getOrCreateRenderer(i,n);return o instanceof Hv?o.applyToHost(i):o instanceof sp&&o.applyStyles(),o}getOrCreateRenderer(i,n){let o=this.rendererByCompId,r=o.get(n.id);if(!r){let a=this.doc,s=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,c=this.platformIsServer;switch(n.encapsulation){case Dr.Emulated:r=new Hv(l,d,n,this.appId,u,a,s,c);break;case Dr.ShadowDom:return new ND(l,d,i,n,a,s,this.nonce,c);default:r=new sp(l,d,n,u,a,s,c);break}o.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||t)(ne(kL),ne(PL),ne(jh),ne(Ene),ne(ft),ne(Di),ne(Ne),ne(Kh))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})(),ap=class{constructor(e,i,n,o){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(RD[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(RL(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(RL(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new we(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,o){if(o){i=o+":"+i;let r=RD[o];r?e.setAttributeNS(r,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let o=RD[n];o?e.removeAttributeNS(o,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,o){o&(ga.DashCase|ga.Important)?e.style.setProperty(i,n,o&ga.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&ga.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Du().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function RL(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ND=class extends ap{constructor(e,i,n,o,r,a,s,l){super(e,r,a,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=LL(o.id,o.styles);for(let u of d){let c=document.createElement("style");s&&c.setAttribute("nonce",s),c.textContent=u,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sp=class extends ap{constructor(e,i,n,o,r,a,s,l){super(e,r,a,s),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=o,this.styles=l?LL(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hv=class extends sp{constructor(e,i,n,o,r,a,s,l){let d=o+"-"+n.id;super(e,i,n,r,a,s,l,d),this.contentAttr=One(d),this.hostAttr=Ine(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},Fne=(()=>{class t extends Vv{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,o){return i.addEventListener(n,o,!1),()=>this.removeEventListener(i,n,o)}removeEventListener(i,n,o){return i.removeEventListener(n,o)}static{this.\u0275fac=function(n){return new(n||t)(ne(ft))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})(),BL=["alt","control","meta","shift"],Tne={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mne={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ane=(()=>{class t extends Vv{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,n,o){let r=t.parseEventName(n),a=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Du().onAndCancel(i,r.domEventName,a))}static parseEventName(i){let n=i.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let r=t._normalizeKey(n.pop()),a="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),a="code."),BL.forEach(d=>{let u=n.indexOf(d);u>-1&&(n.splice(u,1),a+=d+".")}),a+=r,n.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(i,n){let o=Tne[i.key]||i.key,r="";return n.indexOf("code.")>-1&&(o=i.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),BL.forEach(a=>{if(a!==o){let s=Mne[a];s(i)&&(r+=a+".")}}),r+=o,r===n)}static eventCallback(i,n,o){return r=>{t.matchEventFullKeyCode(r,i)&&o.runGuarded(()=>n(r))}}static _normalizeKey(i){return i==="esc"?"escape":i}static{this.\u0275fac=function(n){return new(n||t)(ne(ft))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();function VL(t,e){return hL(te({rootComponent:t},Rne(e)))}function Rne(t){return{appProviders:[...Lne,...t?.providers??[]],platformProviders:Nne}}function Bne(){kD.makeCurrent()}function kne(){return new En}function Pne(){return KP(document),document}var Nne=[{provide:Di,useValue:wD},{provide:Zb,useValue:Bne,multi:!0},{provide:ft,useFactory:Pne,deps:[]}];var Lne=[{provide:Sv,useValue:"root"},{provide:En,useFactory:kne,deps:[]},{provide:PD,useClass:Fne,multi:!0,deps:[ft,Ne,Di]},{provide:PD,useClass:Ane,multi:!0,deps:[ft]},AL,PL,kL,{provide:Ph,useExisting:AL},{provide:wu,useClass:Sne,deps:[]},[]];var HL=(()=>{class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static{this.\u0275fac=function(n){return new(n||t)(ne(ft))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var VD=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:function(n){let o=null;return n?o=new(n||t):o=ne(Vne),o},providedIn:"root"})}}return t})(),Vne=(()=>{class t extends VD{constructor(i){super(),this._doc=i}sanitize(i,n){if(n==null)return null;switch(i){case Fn.NONE:return n;case Fn.HTML:return Cu(n,"HTML")?va(n):sN(this._doc,String(n)).toString();case Fn.STYLE:return Cu(n,"Style")?va(n):n;case Fn.SCRIPT:if(Cu(n,"Script"))return va(n);throw new we(5200,!1);case Fn.URL:return Cu(n,"URL")?va(n):iD(String(n));case Fn.RESOURCE_URL:if(Cu(n,"ResourceURL"))return va(n);throw new we(5201,!1);default:throw new we(5202,!1)}}bypassSecurityTrustHtml(i){return JP(i)}bypassSecurityTrustStyle(i){return XP(i)}bypassSecurityTrustScript(i){return ZP(i)}bypassSecurityTrustUrl(i){return eN(i)}bypassSecurityTrustResourceUrl(i){return tN(i)}static{this.\u0275fac=function(n){return new(n||t)(ne(ft))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var WL=YP,Tr=eD;var Ge="primary",Sp=Symbol("RouteTitle"),UD=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Mu(t){return new UD(t)}function Hne(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let o={};for(let r=0;r<n.length;r++){let a=n[r],s=t[r];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function Wne(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Mr(t[i],e[i]))return!1;return!0}function Mr(t,e){let i=t?jD(t):void 0,n=e?jD(e):void 0;if(!i||!n||i.length!=n.length)return!1;let o;for(let r=0;r<i.length;r++)if(o=i[r],!KL(t[o],e[o]))return!1;return!0}function jD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function KL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((o,r)=>n[r]===o)}else return t===e}function qL(t){return t.length>0?t[t.length-1]:null}function Ms(t){return oS(t)?t:bu(t)?ei(Promise.resolve(t)):De(t)}var Gne={exact:QL,subset:JL},YL={exact:zne,subset:Une,ignored:()=>!0};function GL(t,e,i){return Gne[i.paths](t.root,e.root,i.matrixParams)&&YL[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function zne(t,e){return Mr(t,e)}function QL(t,e,i){if(!ql(t.segments,e.segments)||!zv(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!QL(t.children[n],e.children[n],i))return!1;return!0}function Une(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>KL(t[i],e[i]))}function JL(t,e,i){return XL(t,e,e.segments,i)}function XL(t,e,i,n){if(t.segments.length>i.length){let o=t.segments.slice(0,i.length);return!(!ql(o,i)||e.hasChildren()||!zv(o,i,n))}else if(t.segments.length===i.length){if(!ql(t.segments,i)||!zv(t.segments,i,n))return!1;for(let o in e.children)if(!t.children[o]||!JL(t.children[o],e.children[o],n))return!1;return!0}else{let o=i.slice(0,t.segments.length),r=i.slice(t.segments.length);return!ql(t.segments,o)||!zv(t.segments,o,n)||!t.children[Ge]?!1:XL(t.children[Ge],e,r,n)}}function zv(t,e,i){return e.every((n,o)=>YL[i](t[o].parameters,n.parameters))}var Fs=class{constructor(e=new wt([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Mu(this.queryParams),this._queryParamMap}toString(){return Kne.serialize(this)}},wt=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uv(this)}},Kl=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=Mu(this.parameters),this._parameterMap}toString(){return eV(this)}};function jne(t,e){return ql(t,e)&&t.every((i,n)=>Mr(i.parameters,e[n].parameters))}function ql(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function $ne(t,e){let i=[];return Object.entries(t.children).forEach(([n,o])=>{n===Ge&&(i=i.concat(e(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==Ge&&(i=i.concat(e(o,n)))}),i}var vw=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>new $v,providedIn:"root"})}}return t})(),$v=class{parse(e){let i=new KD(e);return new Fs(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${lp(e.root,!0)}`,n=Qne(e.queryParams),o=typeof e.fragment=="string"?`#${qne(e.fragment)}`:"";return`${i}${n}${o}`}},Kne=new $v;function Uv(t){return t.segments.map(e=>eV(e)).join("/")}function lp(t,e){if(!t.hasChildren())return Uv(t);if(e){let i=t.children[Ge]?lp(t.children[Ge],!1):"",n=[];return Object.entries(t.children).forEach(([o,r])=>{o!==Ge&&n.push(`${o}:${lp(r,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=$ne(t,(n,o)=>o===Ge?[lp(t.children[Ge],!1)]:[`${o}:${lp(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ge]!=null?`${Uv(t)}/${i[0]}`:`${Uv(t)}/(${i.join("//")})`}}function ZL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wv(t){return ZL(t).replace(/%3B/gi,";")}function qne(t){return encodeURI(t)}function $D(t){return ZL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jv(t){return decodeURIComponent(t)}function zL(t){return jv(t.replace(/\+/g,"%20"))}function eV(t){return`${$D(t.path)}${Yne(t.parameters)}`}function Yne(t){return Object.entries(t).map(([e,i])=>`;${$D(e)}=${$D(i)}`).join("")}function Qne(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(o=>`${Wv(i)}=${Wv(o)}`).join("&"):`${Wv(i)}=${Wv(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var Jne=/^[^\/()?;#]+/;function HD(t){let e=t.match(Jne);return e?e[0]:""}var Xne=/^[^\/()?;=#]+/;function Zne(t){let e=t.match(Xne);return e?e[0]:""}var eoe=/^[^=?&#]+/;function toe(t){let e=t.match(eoe);return e?e[0]:""}var ioe=/^[^&#]+/;function noe(t){let e=t.match(ioe);return e?e[0]:""}var KD=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[Ge]=new wt(e,i)),n}parseSegment(){let e=HD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new we(4009,!1);return this.capture(e),new Kl(jv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=Zne(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=HD(this.remaining);o&&(n=o,this.capture(n))}e[jv(i)]=jv(n)}parseQueryParam(e){let i=toe(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let a=noe(this.remaining);a&&(n=a,this.capture(n))}let o=zL(i),r=zL(n);if(e.hasOwnProperty(o)){let a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(r)}else e[o]=r}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=HD(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new we(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Ge);let a=this.parseChildren();i[r]=Object.keys(a).length===1?a[Ge]:new wt([],a),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new we(4011,!1)}};function tV(t){return t.segments.length>0?new wt([],{[Ge]:t}):t}function iV(t){let e={};for(let[n,o]of Object.entries(t.children)){let r=iV(o);if(n===Ge&&r.segments.length===0&&r.hasChildren())for(let[a,s]of Object.entries(r.children))e[a]=s;else(r.segments.length>0||r.hasChildren())&&(e[n]=r)}let i=new wt(t.segments,e);return ooe(i)}function ooe(t){if(t.numberOfChildren===1&&t.children[Ge]){let e=t.children[Ge];return new wt(t.segments.concat(e.segments),e.children)}return t}function Au(t){return t instanceof Fs}function roe(t,e,i=null,n=null){let o=nV(t);return oV(o,e,i,n)}function nV(t){let e;function i(r){let a={};for(let l of r.children){let d=i(l);a[l.outlet]=d}let s=new wt(r.url,a);return r===t&&(e=s),s}let n=i(t.root),o=tV(n);return e??o}function oV(t,e,i,n){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return WD(o,o,o,i,n);let r=aoe(e);if(r.toRoot())return WD(o,o,new wt([],{}),i,n);let a=soe(r,o,t),s=a.processChildren?cp(a.segmentGroup,a.index,r.commands):aV(a.segmentGroup,a.index,r.commands);return WD(o,a.segmentGroup,s,i,n)}function Kv(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function gp(t){return typeof t=="object"&&t!=null&&t.outlets}function WD(t,e,i,n,o){let r={};n&&Object.entries(n).forEach(([l,d])=>{r[l]=Array.isArray(d)?d.map(u=>`${u}`):`${d}`});let a;t===e?a=i:a=rV(t,e,i);let s=tV(iV(a));return new Fs(s,r,o)}function rV(t,e,i){let n={};return Object.entries(t.children).forEach(([o,r])=>{r===e?n[o]=i:n[o]=rV(r,e,i)}),new wt(t.segments,n)}var qv=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Kv(n[0]))throw new we(4003,!1);let o=n.find(gp);if(o&&o!==qL(n))throw new we(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aoe(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qv(!0,0,t);let e=0,i=!1,n=t.reduce((o,r,a)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let s={};return Object.entries(r.outlets).forEach(([l,d])=>{s[l]=typeof d=="string"?d.split("/"):d}),[...o,{outlets:s}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:a===0?(r.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?i=!0:s===".."?e++:s!=""&&o.push(s))}),o):[...o,r]},[]);return new qv(i,e,n)}var Fu=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function soe(t,e,i){if(t.isAbsolute)return new Fu(e,!0,0);if(!i)return new Fu(e,!1,NaN);if(i.parent===null)return new Fu(i,!0,0);let n=Kv(t.commands[0])?0:1,o=i.segments.length-1+n;return loe(i,o,t.numberOfDoubleDots)}function loe(t,e,i){let n=t,o=e,r=i;for(;r>o;){if(r-=o,n=n.parent,!n)throw new we(4005,!1);o=n.segments.length}return new Fu(n,!1,o-r)}function doe(t){return gp(t[0])?t[0].outlets:{[Ge]:t}}function aV(t,e,i){if(t??=new wt([],{}),t.segments.length===0&&t.hasChildren())return cp(t,e,i);let n=uoe(t,e,i),o=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let r=new wt(t.segments.slice(0,n.pathIndex),{});return r.children[Ge]=new wt(t.segments.slice(n.pathIndex),t.children),cp(r,0,o)}else return n.match&&o.length===0?new wt(t.segments,{}):n.match&&!t.hasChildren()?qD(t,e,i):n.match?cp(t,0,o):qD(t,e,i)}function cp(t,e,i){if(i.length===0)return new wt(t.segments,{});{let n=doe(i),o={};if(Object.keys(n).some(r=>r!==Ge)&&t.children[Ge]&&t.numberOfChildren===1&&t.children[Ge].segments.length===0){let r=cp(t.children[Ge],e,i);return new wt(t.segments,r.children)}return Object.entries(n).forEach(([r,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[r]=aV(t.children[r],e,a))}),Object.entries(t.children).forEach(([r,a])=>{n[r]===void 0&&(o[r]=a)}),new wt(t.segments,o)}}function uoe(t,e,i){let n=0,o=e,r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=i.length)return r;let a=t.segments[o],s=i[n];if(gp(s))break;let l=`${s}`,d=n<i.length-1?i[n+1]:null;if(o>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!jL(l,d,a))return r;n+=2}else{if(!jL(l,{},a))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function qD(t,e,i){let n=t.segments.slice(0,e),o=0;for(;o<i.length;){let r=i[o];if(gp(r)){let l=coe(r.outlets);return new wt(n,l)}if(o===0&&Kv(i[0])){let l=t.segments[e];n.push(new Kl(l.path,UL(i[0]))),o++;continue}let a=gp(r)?r.outlets[Ge]:`${r}`,s=o<i.length-1?i[o+1]:null;a&&s&&Kv(s)?(n.push(new Kl(a,UL(s))),o+=2):(n.push(new Kl(a,{})),o++)}return new wt(n,{})}function coe(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=qD(new wt([],{}),0,n))}),e}function UL(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function jL(t,e,i){return t==i.path&&Mr(e,i.parameters)}var hp="imperative",Gi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Gi||{}),uo=class{constructor(e,i){this.id=e,this.url=i}},fp=class extends uo{constructor(e,i,n="imperative",o=null){super(e,i),this.type=Gi.NavigationStart,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yl=class extends uo{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=Gi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(qn||{}),YD=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(YD||{}),Ts=class extends uo{constructor(e,i,n,o){super(e,i),this.reason=n,this.code=o,this.type=Gi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ql=class extends uo{constructor(e,i,n,o){super(e,i),this.reason=n,this.code=o,this.type=Gi.NavigationSkipped}},mp=class extends uo{constructor(e,i,n,o){super(e,i),this.error=n,this.target=o,this.type=Gi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yv=class extends uo{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Gi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QD=class extends uo{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Gi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},JD=class extends uo{constructor(e,i,n,o,r){super(e,i),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=r,this.type=Gi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},XD=class extends uo{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Gi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ZD=class extends uo{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Gi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ew=class{constructor(e){this.route=e,this.type=Gi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tw=class{constructor(e){this.route=e,this.type=Gi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iw=class{constructor(e){this.snapshot=e,this.type=Gi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nw=class{constructor(e){this.snapshot=e,this.type=Gi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ow=class{constructor(e){this.snapshot=e,this.type=Gi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rw=class{constructor(e){this.snapshot=e,this.type=Gi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vp=class{},_p=class{constructor(e){this.url=e}};var aw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new t_,this.attachRef=null}},t_=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){let o=this.getOrCreateContext(i);o.outlet=n,this.contexts.set(i,o)}onChildOutletDestroyed(i){let n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new aw,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qv=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=sw(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=sw(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=lw(e,this._root);return i.length<2?[]:i[i.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return lw(e,this._root).map(i=>i.value)}};function sw(t,e){if(t===e.value)return e;for(let i of e.children){let n=sw(t,i);if(n)return n}return null}function lw(t,e){if(t===e.value)return[e];for(let i of e.children){let n=lw(t,i);if(n.length)return n.unshift(e),n}return[]}var Kn=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function Iu(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Jv=class extends Qv{constructor(e,i){super(e),this.snapshot=i,yw(this,e)}toString(){return this.snapshot.toString()}};function sV(t){let e=hoe(t),i=new Si([new Kl("",{})]),n=new Si({}),o=new Si({}),r=new Si({}),a=new Si(""),s=new Ru(i,n,r,a,o,Ge,t,e.root);return s.snapshot=e.root,new Jv(new Kn(s,[]),e)}function hoe(t){let e={},i={},n={},o="",r=new yp([],e,n,o,i,Ge,t,null,{});return new Xv("",new Kn(r,[]))}var Ru=class{constructor(e,i,n,o,r,a,s,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=r,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(d=>d[Sp]))??De(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(e=>Mu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(e=>Mu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _w(t,e,i="emptyOnly"){let n,{routeConfig:o}=t;return e!==null&&(i==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:te(te({},e.params),t.params),data:te(te({},e.data),t.data),resolve:te(te(te(te({},t.data),e.data),o?.data),t._resolvedData)}:n={params:te({},t.params),data:te({},t.data),resolve:te(te({},t.data),t._resolvedData??{})},o&&dV(o)&&(n.resolve[Sp]=o.title),n}var yp=class{get title(){return this.data?.[Sp]}constructor(e,i,n,o,r,a,s,l,d){this.url=e,this.params=i,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Xv=class extends Qv{constructor(e,i){super(i),this.url=e,yw(this,i)}toString(){return lV(this._root)}};function yw(t,e){e.value._routerState=t,e.children.forEach(i=>yw(t,i))}function lV(t){let e=t.children.length>0?` { ${t.children.map(lV).join(", ")} } `:"";return`${t.value}${e}`}function GD(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Mr(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),Mr(e.params,i.params)||t.paramsSubject.next(i.params),Wne(e.url,i.url)||t.urlSubject.next(i.url),Mr(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dw(t,e){let i=Mr(t.params,e.params)&&jne(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||dw(t.parent,e.parent))}function dV(t){return typeof t.title=="string"||t.title===null}var xw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ge,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=Z(t_),this.location=Z(xa),this.changeDetector=Z(qo),this.environmentInjector=Z(jn),this.inputBinder=Z(Cw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:n,previousValue:o}=i.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new we(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new uw(i,s,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=ao({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]})}}return t})(),uw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Ru?this.route:e===t_?this.childContexts:this.parent.get(e,i)}},Cw=new Ce("");function poe(t,e,i){let n=xp(t,e._root,i?i._root:void 0);return new Jv(n,e)}function xp(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let o=goe(t,e,i);return new Kn(n,o)}else{if(t.shouldAttach(e.value)){let r=t.retrieve(e.value);if(r!==null){let a=r.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>xp(t,s)),a}}let n=foe(e.value),o=e.children.map(r=>xp(t,r));return new Kn(n,o)}}function goe(t,e,i){return e.children.map(n=>{for(let o of i.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return xp(t,n,o);return xp(t,n)})}function foe(t){return new Ru(new Si(t.url),new Si(t.params),new Si(t.queryParams),new Si(t.fragment),new Si(t.data),t.outlet,t.component,t)}var uV="ngNavigationCancelingError";function cV(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=Au(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=hV(!1,qn.Redirect);return o.url=i,o.navigationBehaviorOptions=n,o}function hV(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[uV]=!0,i.cancellationCode=e,i}function moe(t){return pV(t)&&Au(t.url)}function pV(t){return!!t&&t[uV]}var voe=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Se({type:t,selectors:[["ng-component"]],standalone:!0,features:[lo],decls:1,vars:0,template:function(n,o){n&1&&wi(0,"router-outlet")},dependencies:[xw],encapsulation:2})}}return t})();function _oe(t,e){return t.providers&&!t._injector&&(t._injector=mD(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Sw(t){let e=t.children&&t.children.map(Sw),i=e?Pt(te({},t),{children:e}):te({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Ge&&(i.component=voe),i}function Ar(t){return t.outlet||Ge}function yoe(t,e){let i=t.filter(n=>Ar(n)===e);return i.push(...t.filter(n=>Ar(n)!==e)),i}function bp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var xoe=(t,e,i,n)=>Ie(o=>(new cw(e,o.targetRouterState,o.currentRouterState,i,n).activate(t),o)),cw=class{constructor(e,i,n,o,r){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=r}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),GD(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let o=Iu(i);e.children.forEach(r=>{let a=r.value.outlet;this.deactivateRoutes(r,o[a],n),delete o[a]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(e,i,n){let o=e.value,r=i?i.value:null;if(o===r)if(o.component){let a=n.getContext(o.outlet);a&&this.deactivateChildRoutes(e,i,a.children)}else this.deactivateChildRoutes(e,i,n);else r&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),o=n&&e.value.component?n.children:i,r=Iu(e);for(let a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);if(n&&n.outlet){let a=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),o=n&&e.value.component?n.children:i,r=Iu(e);for(let a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let o=Iu(i);e.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],n),this.forwardEvent(new rw(r.value.snapshot))}),e.children.length&&this.forwardEvent(new nw(e.value.snapshot))}activateRoutes(e,i,n){let o=e.value,r=i?i.value:null;if(GD(o),o===r)if(o.component){let a=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,i,a.children)}else this.activateChildRoutes(e,i,n);else if(o.component){let a=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),GD(s.route.value),this.activateChildRoutes(e,null,a.children)}else{let s=bp(o.snapshot);a.attachRef=null,a.route=o,a.injector=s,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}},Zv=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Tu=class{constructor(e,i){this.component=e,this.route=i}};function Coe(t,e,i){let n=t._root,o=e?e._root:null;return dp(n,o,i,[n.value])}function Soe(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ku(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!Nk(t)?t:e.get(t):n}function dp(t,e,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Iu(e);return t.children.forEach(a=>{boe(a,r[a.value.outlet],i,n.concat([a.value]),o),delete r[a.value.outlet]}),Object.entries(r).forEach(([a,s])=>pp(s,i.getContext(a),o)),o}function boe(t,e,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=t.value,a=e?e.value:null,s=i?i.getContext(t.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){let l=Doe(a,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Zv(n)):(r.data=a.data,r._resolvedData=a._resolvedData),r.component?dp(t,e,s?s.children:null,n,o):dp(t,e,i,n,o),l&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new Tu(s.outlet.component,a))}else a&&pp(e,s,o),o.canActivateChecks.push(new Zv(n)),r.component?dp(t,null,s?s.children:null,n,o):dp(t,null,i,n,o);return o}function Doe(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!ql(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ql(t.url,e.url)||!Mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dw(t,e)||!Mr(t.queryParams,e.queryParams);case"paramsChange":default:return!dw(t,e)}}function pp(t,e,i){let n=Iu(t),o=t.value;Object.entries(n).forEach(([r,a])=>{o.component?e?pp(a,e.children.getContext(r),i):pp(a,null,i):pp(a,e,i)}),o.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new Tu(e.outlet.component,o)):i.canDeactivateChecks.push(new Tu(null,o)):i.canDeactivateChecks.push(new Tu(null,o))}function Dp(t){return typeof t=="function"}function woe(t){return typeof t=="boolean"}function Eoe(t){return t&&Dp(t.canLoad)}function Ooe(t){return t&&Dp(t.canActivate)}function Ioe(t){return t&&Dp(t.canActivateChild)}function Foe(t){return t&&Dp(t.canDeactivate)}function Toe(t){return t&&Dp(t.canMatch)}function gV(t){return t instanceof ua||t?.name==="EmptyError"}var Gv=Symbol("INITIAL_VALUE");function Bu(){return Sn(t=>tu(t.map(e=>e.pipe(Ki(1),ca(Gv)))).pipe(Ie(e=>{for(let i of e)if(i!==!0){if(i===Gv)return Gv;if(i===!1||i instanceof Fs)return i}return!0}),Li(e=>e!==Gv),Ki(1)))}function Moe(t,e){return bi(i=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:a}}=i;return a.length===0&&r.length===0?De(Pt(te({},i),{guardsResult:!0})):Aoe(a,n,o,t).pipe(bi(s=>s&&woe(s)?Roe(n,r,t,e):De(s)),Ie(s=>Pt(te({},i),{guardsResult:s})))})}function Aoe(t,e,i,n){return ei(t).pipe(bi(o=>Loe(o.component,o.route,i,e,n)),Cr(o=>o!==!0,!0))}function Roe(t,e,i,n){return ei(e).pipe(ps(o=>hs(koe(o.route.parent,n),Boe(o.route,n),Noe(t,o.path,i),Poe(t,o.route,i))),Cr(o=>o!==!0,!0))}function Boe(t,e){return t!==null&&e&&e(new ow(t)),De(!0)}function koe(t,e){return t!==null&&e&&e(new iw(t)),De(!0)}function Poe(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return De(!0);let o=n.map(r=>Lm(()=>{let a=bp(e)??i,s=ku(r,a),l=Ooe(s)?s.canActivate(e,t):Ul(a,()=>s(e,t));return Ms(l).pipe(Cr())}));return De(o).pipe(Bu())}function Noe(t,e,i){let n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(a=>Soe(a)).filter(a=>a!==null).map(a=>Lm(()=>{let s=a.guards.map(l=>{let d=bp(a.node)??i,u=ku(l,d),c=Ioe(u)?u.canActivateChild(n,t):Ul(d,()=>u(n,t));return Ms(c).pipe(Cr())});return De(s).pipe(Bu())}));return De(r).pipe(Bu())}function Loe(t,e,i,n,o){let r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||r.length===0)return De(!0);let a=r.map(s=>{let l=bp(e)??o,d=ku(s,l),u=Foe(d)?d.canDeactivate(t,e,i,n):Ul(l,()=>d(t,e,i,n));return Ms(u).pipe(Cr())});return De(a).pipe(Bu())}function Voe(t,e,i,n){let o=e.canLoad;if(o===void 0||o.length===0)return De(!0);let r=o.map(a=>{let s=ku(a,t),l=Eoe(s)?s.canLoad(e,i):Ul(t,()=>s(e,i));return Ms(l)});return De(r).pipe(Bu(),fV(n))}function fV(t){return XC(jt(e=>{if(Au(e))throw cV(t,e)}),Ie(e=>e===!0))}function Hoe(t,e,i,n){let o=e.canMatch;if(!o||o.length===0)return De(!0);let r=o.map(a=>{let s=ku(a,t),l=Toe(s)?s.canMatch(e,i):Ul(t,()=>s(e,i));return Ms(l)});return De(r).pipe(Bu(),fV(n))}var Cp=class{constructor(e){this.segmentGroup=e||null}},e_=class extends Error{constructor(e){super(),this.urlTree=e}};function Ou(t){return cs(new Cp(t))}function Woe(t){return cs(new we(4e3,!1))}function Goe(t){return cs(hV(!1,qn.GuardRejected))}var hw=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],o=i.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return De(n);if(o.numberOfChildren>1||!o.children[Ge])return Woe(e.redirectTo);o=o.children[Ge]}}applyRedirectCommands(e,i,n){let o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new e_(o);return o}applyRedirectCreateUrlTree(e,i,n,o){let r=this.createSegmentGroup(e,i.root,n,o);return new Fs(r,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([o,r])=>{if(typeof r=="string"&&r.startsWith(":")){let s=r.substring(1);n[o]=i[s]}else n[o]=r}),n}createSegmentGroup(e,i,n,o){let r=this.createSegments(e,i.segments,n,o),a={};return Object.entries(i.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(e,l,n,o)}),new wt(r,a)}createSegments(e,i,n,o){return i.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,o):this.findOrReturn(r,n))}findPosParam(e,i,n){let o=n[i.path.substring(1)];if(!o)throw new we(4001,!1);return o}findOrReturn(e,i){let n=0;for(let o of i){if(o.path===e.path)return i.splice(n),o;n++}return e}},pw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zoe(t,e,i,n,o){let r=bw(t,e,i);return r.matched?(n=_oe(e,n),Hoe(n,e,i,o).pipe(Ie(a=>a===!0?r:te({},pw)))):De(r)}function bw(t,e,i){if(e.path==="**")return Uoe(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?te({},pw):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let o=(e.matcher||Hne)(i,t,e);if(!o)return te({},pw);let r={};Object.entries(o.posParams??{}).forEach(([s,l])=>{r[s]=l.path});let a=o.consumed.length>0?te(te({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:i.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function Uoe(t){return{matched:!0,parameters:t.length>0?qL(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function $L(t,e,i,n){return i.length>0&&Koe(t,i,n)?{segmentGroup:new wt(e,$oe(n,new wt(i,t.children))),slicedSegments:[]}:i.length===0&&qoe(t,i,n)?{segmentGroup:new wt(t.segments,joe(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new wt(t.segments,t.children),slicedSegments:i}}function joe(t,e,i,n){let o={};for(let r of i)if(i_(t,e,r)&&!n[Ar(r)]){let a=new wt([],{});o[Ar(r)]=a}return te(te({},n),o)}function $oe(t,e){let i={};i[Ge]=e;for(let n of t)if(n.path===""&&Ar(n)!==Ge){let o=new wt([],{});i[Ar(n)]=o}return i}function Koe(t,e,i){return i.some(n=>i_(t,e,n)&&Ar(n)!==Ge)}function qoe(t,e,i){return i.some(n=>i_(t,e,n))}function i_(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function Yoe(t,e,i,n){return Ar(t)!==n&&(n===Ge||!i_(e,i,t))?!1:bw(e,t,i).matched}function Qoe(t,e,i){return e.length===0&&!t.children[i]}var gw=class{};function Joe(t,e,i,n,o,r,a="emptyOnly"){return new fw(t,e,i,n,o,a,r).recognize()}var Xoe=31,fw=class{constructor(e,i,n,o,r,a,s){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new hw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new we(4002,`'${e.segmentGroup}'`)}recognize(){let e=$L(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(i=>{let n=new yp([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,{}),o=new Kn(n,i),r=new Xv("",o),a=roe(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(r._root,null),{state:r,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ge).pipe(xr(n=>{if(n instanceof e_)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Cp?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,o=_w(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),e.children.forEach(r=>this.inheritParamsAndData(r,n))}processSegmentGroup(e,i,n,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,o,!0).pipe(Ie(r=>r instanceof Kn?[r]:[]))}processChildren(e,i,n){let o=[];for(let r of Object.keys(n.children))r==="primary"?o.unshift(r):o.push(r);return ei(o).pipe(ps(r=>{let a=n.children[r],s=yoe(i,r);return this.processSegmentGroup(e,s,a,r)}),dS((r,a)=>(r.push(...a),r)),gs(null),lS(),bi(r=>{if(r===null)return Ou(n);let a=mV(r);return Zoe(a),De(a)}))}processSegment(e,i,n,o,r,a){return ei(i).pipe(ps(s=>this.processSegmentAgainstRoute(s._injector??e,i,s,n,o,r,a).pipe(xr(l=>{if(l instanceof Cp)return De(null);throw l}))),Cr(s=>!!s),xr(s=>{if(gV(s))return Qoe(n,o,r)?De(new gw):Ou(n);throw s}))}processSegmentAgainstRoute(e,i,n,o,r,a,s){return Yoe(n,o,r,a)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,n,r,a):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,o,i,n,r,a):Ou(o):Ou(o)}expandSegmentAgainstRouteUsingRedirect(e,i,n,o,r,a){let{matched:s,consumedSegments:l,positionalParamSegments:d,remainingSegments:u}=bw(i,o,r);if(!s)return Ou(i);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xoe&&(this.allowRedirects=!1));let c=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d);return this.applyRedirects.lineralizeSegments(o,c).pipe(bi(p=>this.processSegment(e,n,i,p.concat(u),a,!1)))}matchSegmentAgainstRoute(e,i,n,o,r){let a=zoe(i,n,o,e,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(Sn(s=>s.matched?(e=n._injector??e,this.getChildConfig(e,n,o).pipe(Sn(({routes:l})=>{let d=n._loadedInjector??e,{consumedSegments:u,remainingSegments:c,parameters:p}=s,g=new yp(u,p,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,tre(n),Ar(n),n.component??n._loadedComponent??null,n,ire(n)),{segmentGroup:m,slicedSegments:y}=$L(i,u,c,l);if(y.length===0&&m.hasChildren())return this.processChildren(d,l,m).pipe(Ie(b=>b===null?null:new Kn(g,b)));if(l.length===0&&y.length===0)return De(new Kn(g,[]));let C=Ar(n)===r;return this.processSegment(d,l,m,y,C?Ge:r,!0).pipe(Ie(b=>new Kn(g,b instanceof Kn?[b]:[])))}))):Ou(i)))}getChildConfig(e,i,n){return i.children?De({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?De({routes:i._loadedRoutes,injector:i._loadedInjector}):Voe(e,i,n,this.urlSerializer).pipe(bi(o=>o?this.configLoader.loadChildren(e,i).pipe(jt(r=>{i._loadedRoutes=r.routes,i._loadedInjector=r.injector})):Goe(i))):De({routes:[],injector:e})}};function Zoe(t){t.sort((e,i)=>e.value.outlet===Ge?-1:i.value.outlet===Ge?1:e.value.outlet.localeCompare(i.value.outlet))}function ere(t){let e=t.value.routeConfig;return e&&e.path===""}function mV(t){let e=[],i=new Set;for(let n of t){if(!ere(n)){e.push(n);continue}let o=e.find(r=>n.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...n.children),i.add(o)):e.push(n)}for(let n of i){let o=mV(n.children);e.push(new Kn(n.value,o))}return e.filter(n=>!i.has(n))}function tre(t){return t.data||{}}function ire(t){return t.resolve||{}}function nre(t,e,i,n,o,r){return bi(a=>Joe(t,e,i,n,a.extractedUrl,o,r).pipe(Ie(({state:s,tree:l})=>Pt(te({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function ore(t,e){return bi(i=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=i;if(!o.length)return De(i);let r=new Set(o.map(l=>l.route)),a=new Set;for(let l of r)if(!a.has(l))for(let d of vV(l))a.add(d);let s=0;return ei(a).pipe(ps(l=>r.has(l)?rre(l,n,t,e):(l.data=_w(l,l.parent,t).resolve,De(void 0))),jt(()=>s++),iu(1),bi(l=>s===a.size?De(i):cn))})}function vV(t){let e=t.children.map(i=>vV(i)).flat();return[t,...e]}function rre(t,e,i,n){let o=t.routeConfig,r=t._resolve;return o?.title!==void 0&&!dV(o)&&(r[Sp]=o.title),are(r,t,e,n).pipe(Ie(a=>(t._resolvedData=a,t.data=_w(t,t.parent,i).resolve,null)))}function are(t,e,i,n){let o=jD(t);if(o.length===0)return De({});let r={};return ei(o).pipe(bi(a=>sre(t[a],e,i,n).pipe(Cr(),jt(s=>{r[a]=s}))),iu(1),aS(r),xr(a=>gV(a)?cn:cs(a)))}function sre(t,e,i,n){let o=bp(e)??n,r=ku(t,o),a=r.resolve?r.resolve(e,i):Ul(o,()=>r(e,i));return Ms(a)}function zD(t){return Sn(e=>{let i=t(e);return i?ei(i).pipe(Ie(()=>e)):De(e)})}var _V=(()=>{class t{buildTitle(i){let n,o=i.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(r=>r.outlet===Ge);return n}getResolvedTitleForRoute(i){return i.data[Sp]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>Z(lre),providedIn:"root"})}}return t})(),lre=(()=>{class t extends _V{constructor(i){super(),this.title=i}updateTitle(i){let n=this.buildTitle(i);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||t)(ne(HL))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Dw=new Ce("",{providedIn:"root",factory:()=>({})}),ww=new Ce(""),dre=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(CD)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return De(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=Ms(i.loadComponent()).pipe(Ie(yV),jt(r=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=r}),fs(()=>{this.componentLoaders.delete(i)})),o=new Zd(n,()=>new Ot).pipe(Xd());return this.componentLoaders.set(i,o),o}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return De({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=ure(n,this.compiler,i,this.onLoadEndListener).pipe(fs(()=>{this.childrenLoaders.delete(n)})),a=new Zd(r,()=>new Ot).pipe(Xd());return this.childrenLoaders.set(n,a),a}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ure(t,e,i,n){return Ms(t.loadChildren()).pipe(Ie(yV),bi(o=>o instanceof Lh||Array.isArray(o)?De(o):ei(e.compileModuleAsync(o))),Ie(o=>{n&&n(t);let r,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(r=o.create(i).injector,a=r.get(ww,[],{optional:!0,self:!0}).flat()),{routes:a.map(Sw),injector:r}}))}function cre(t){return t&&typeof t=="object"&&"default"in t}function yV(t){return cre(t)?t.default:t}var Ew=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>Z(hre),providedIn:"root"})}}return t})(),hre=(()=>{class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pre=new Ce("");var gre=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ot,this.transitionAbortSubject=new Ot,this.configLoader=Z(dre),this.environmentInjector=Z(jn),this.urlSerializer=Z(vw),this.rootContexts=Z(t_),this.location=Z(ip),this.inputBindingEnabled=Z(Cw,{optional:!0})!==null,this.titleStrategy=Z(_V),this.options=Z(Dw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(Ew),this.createViewTransition=Z(pre,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>De(void 0),this.rootComponentType=null;let i=o=>this.events.next(new ew(o)),n=o=>this.events.next(new tw(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let n=++this.navigationId;this.transitions?.next(Pt(te(te({},this.transitions.value),i),{id:n}))}setupNavigations(i,n,o){return this.transitions=new Si({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hp,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(r=>r.id!==0),Ie(r=>Pt(te({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Sn(r=>{let a=!1,s=!1;return De(r).pipe(Sn(l=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),cn;this.currentTransition=r,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Pt(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&u!=="reload"){let c="";return this.events.next(new Ql(l.id,this.urlSerializer.serialize(l.rawUrl),c,YD.IgnoredSameUrlNavigation)),l.resolve(null),cn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return De(l).pipe(Sn(c=>{let p=this.transitions?.getValue();return this.events.next(new fp(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),p!==this.transitions?.getValue()?cn:Promise.resolve(c)}),nre(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),jt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Pt(te({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let p=new Yv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:c,extractedUrl:p,source:g,restoredState:m,extras:y}=l,C=new fp(c,this.urlSerializer.serialize(p),g,m);this.events.next(C);let b=sV(this.rootComponentType).snapshot;return this.currentTransition=r=Pt(te({},l),{targetSnapshot:b,urlAfterRedirects:p,extras:Pt(te({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,De(r)}else{let c="";return this.events.next(new Ql(l.id,this.urlSerializer.serialize(l.extractedUrl),c,YD.IgnoredByUrlHandlingStrategy)),l.resolve(null),cn}}),jt(l=>{let d=new QD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ie(l=>(this.currentTransition=r=Pt(te({},l),{guards:Coe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),r)),Moe(this.environmentInjector,l=>this.events.next(l)),jt(l=>{if(r.guardsResult=l.guardsResult,Au(l.guardsResult))throw cV(this.urlSerializer,l.guardsResult);let d=new JD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Li(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",qn.GuardRejected),!1)),zD(l=>{if(l.guards.canActivateChecks.length)return De(l).pipe(jt(d=>{let u=new XD(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Sn(d=>{let u=!1;return De(d).pipe(ore(this.paramsInheritanceStrategy,this.environmentInjector),jt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",qn.NoDataFromResolver)}}))}),jt(d=>{let u=new ZD(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),zD(l=>{let d=u=>{let c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(jt(p=>{u.component=p}),Ie(()=>{})));for(let p of u.children)c.push(...d(p));return c};return tu(d(l.targetSnapshot.root)).pipe(gs(null),Ki(1))}),zD(()=>this.afterPreactivation()),Sn(()=>{let{currentSnapshot:l,targetSnapshot:d}=r,u=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return u?ei(u).pipe(Ie(()=>r)):De(r)}),Ie(l=>{let d=poe(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r=Pt(te({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,r}),jt(()=>{this.events.next(new vp)}),xoe(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ki(1),jt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),io(this.transitionAbortSubject.pipe(jt(l=>{throw l}))),fs(()=>{!a&&!s&&this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),xr(l=>{if(s=!0,pV(l))this.events.next(new Ts(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),moe(l)?this.events.next(new _p(l.url)):r.resolve(!1);else{this.events.next(new mp(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0));try{r.resolve(i.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return cn}))}))}cancelNavigationTransition(i,n,o){let r=new Ts(i.id,this.urlSerializer.serialize(i.extractedUrl),n,o);this.events.next(r),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fre(t){return t!==hp}var mre=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>Z(vre),providedIn:"root"})}}return t})(),mw=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},vre=(()=>{class t extends mw{static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ai(t)))(o||t)}})()}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xV=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:()=>Z(_re),providedIn:"root"})}}return t})(),_re=(()=>{class t extends xV{constructor(){super(...arguments),this.location=Z(ip),this.urlSerializer=Z(vw),this.options=Z(Dw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(Ew),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(n=>{n.type==="popstate"&&i(n.url,n.state)})}handleRouterEvent(i,n){if(i instanceof fp)this.stateMemento=this.createStateMemento();else if(i instanceof Ql)this.rawUrlTree=n.initialUrl;else if(i instanceof Yv){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else i instanceof vp?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):i instanceof Ts&&(i.code===qn.GuardRejected||i.code===qn.NoDataFromResolver)?this.restoreHistory(n):i instanceof mp?this.restoreHistory(n,!0):i instanceof Yl&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,n){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let r=this.browserPageId,a=te(te({},n.extras.state),this.generateNgRouterState(n.id,r));this.location.replaceState(o,"",a)}else{let r=te(te({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",r)}}restoreHistory(i,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.currentUrlTree===i.finalUrl&&r===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ai(t)))(o||t)}})()}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),up=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(up||{});function yre(t,e){t.events.pipe(Li(i=>i instanceof Yl||i instanceof Ts||i instanceof mp||i instanceof Ql),Ie(i=>i instanceof Yl||i instanceof Ql?up.COMPLETE:(i instanceof Ts?i.code===qn.Redirect||i.code===qn.SupersededByNewNavigation:!1)?up.REDIRECTING:up.FAILED),Li(i=>i!==up.REDIRECTING),Ki(1)).subscribe(()=>{e()})}function xre(t){throw t}var Cre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},CV=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(Bv),this.stateManager=Z(xV),this.options=Z(Dw,{optional:!0})||{},this.pendingTasks=Z(Qh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(gre),this.urlSerializer=Z(vw),this.location=Z(ip),this.urlHandlingStrategy=Z(Ew),this._events=new Ot,this.errorHandler=this.options.errorHandler||xre,this.navigated=!1,this.routeReuseStrategy=Z(mre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(ww,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(Cw,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=Z(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(n,r),n instanceof Ts&&n.code!==qn.Redirect&&n.code!==qn.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Yl)this.navigated=!0;else if(n instanceof _p){let a=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),s={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fre(o.source)};this.scheduleNavigation(a,hp,null,s,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Dre(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",n)},0)})}navigateToSyncWithBrowser(i,n,o){let r={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=te({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let s=this.parseUrl(i);this.scheduleNavigation(s,n,a,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Sw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){let{relativeTo:o,queryParams:r,fragment:a,queryParamsHandling:s,preserveFragment:l}=n,d=l?this.currentUrlTree.fragment:a,u=null;switch(s){case"merge":u=te(te({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}u!==null&&(u=this.removeEmptyProps(u));let c;try{let p=o?o.snapshot:this.routerState.snapshot.root;c=nV(p)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),c=this.currentUrlTree.root}return oV(c,i,u,d??null)}navigateByUrl(i,n={skipLocationChange:!1}){let o=Au(i)?i:this.parseUrl(i),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,hp,null,n)}navigate(i,n={skipLocationChange:!1}){return bre(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,n){let o;if(n===!0?o=te({},Cre):n===!1?o=te({},Sre):o=n,Au(i))return GL(this.currentUrlTree,i,o);let r=this.parseUrl(i);return GL(this.currentUrlTree,r,o)}removeEmptyProps(i){return Object.entries(i).reduce((n,[o,r])=>(r!=null&&(n[o]=r),n),{})}scheduleNavigation(i,n,o,r,a){if(this.disposed)return Promise.resolve(!1);let s,l,d;a?(s=a.resolve,l=a.reject,d=a.promise):d=new Promise((c,p)=>{s=c,l=p});let u=this.pendingTasks.add();return yre(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:r,resolve:s,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(c=>Promise.reject(c))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bre(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new we(4008,!1)}function Dre(t){return!(t instanceof vp)&&!(t instanceof _p)}var wre=new Ce("");function SV(t,...e){return Cv([{provide:ww,multi:!0,useValue:t},[],{provide:Ru,useFactory:Ere,deps:[CV]},{provide:xD,multi:!0,useFactory:Ore},e.map(i=>i.\u0275providers)])}function Ere(t){return t.routerState.root}function Ore(){let t=Z(yu);return e=>{let i=t.get(Zh);if(e!==i.components[0])return;let n=t.get(CV),o=t.get(Ire);t.get(Fre)===1&&n.initialNavigation(),t.get(Tre,null,Ye.Optional)?.setUpPreloading(),t.get(wre,null,Ye.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Ire=new Ce("",{factory:()=>new Ot}),Fre=new Ce("",{providedIn:"root",factory:()=>1});var Tre=new Ce("");var bV=[{id:2,name:"Season 02 - Wrath of the Nomads",sections:[{id:"2.0",name:"Namkhan Archers",stages:[{id:"2.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"2.0.0.0",text:"In Field or Siege Battles, take archer units into battle 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.0.0.1",text:"In Field or Siege Battles, use archer units to deal 0/1,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"2.0.0.2",text:"In Field or Siege Battles, get an A rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.0.0.3",text:"In Field or Siege Battles, get 0/20 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.0.0.4",text:"In Field or Siege Battles, earn 0/150 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.0.0.5",text:"In 0/6 Expeditions, achieve a rating of C or better.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.0.0.6",text:"Join Free Battle 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.0.0.7",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"2.0.1.0",text:"In Field or Siege Battles, take archer units into battle and win 0/4 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.0.1.1",text:"In Field or Siege Battles, deploy 0/3 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.0.1.2",text:"In Siege Battles, kick over 0/10 ladders put up by the enemy.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.0.1.3",text:'Earn 0/10 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.0.1.4",text:"In Expeditions, take archer units into battle 0/6 times.",tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"2.0.1.5",text:"Inflict a total of 0/5,000,000 damage while on an Expedition.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.0.1.6",text:"Join a total of 0/5 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"2.0.1.7",text:"Achieve victory in 0/4 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Bronze",amount:2e4},{text:"Namkhan Archer Kits ",amount:32}]}]},{id:"2.1",name:"Selemchid Cavalry",stages:[{id:"2.1.0",name:"Stage 1",required:6,total:8,challenges:[{id:"2.1.0.0",text:"In Field or Siege Battles, use a sword cavalry unit in battle and win 0/2 times.",tags:["Siege","Field"],conditions:[]},{id:"2.1.0.1",text:"In Field or Siege Battles, kill 0/40 sword cavalry.",tags:["Siege","Field"],conditions:[]},{id:"2.1.0.2",text:"In Field or Siege Battles, use spearmen to take 0/1,200,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"2.1.0.3",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.1.0.4",text:"In Expeditions, get an A rating or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.1.0.5",text:"Win 0/2 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"2.1.0.6",text:"Search 0/10 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.1.1",name:"Stage 2",required:6,total:8,challenges:[{id:"2.1.1.0",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/5",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.1.1.1",text:"In Field or Siege Battles, get a B+ rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.1.1.2",text:"In Field or Siege Battles, kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"2.1.1.3",text:"In Field or Siege Battles, kill 0/10 heroes.",tags:["Siege","Field"],conditions:[]},{id:"2.1.1.4",text:"Win a total of 0/2 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"2.1.1.5",text:"Achieve victory in 0/4 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"2.1.1.6",text:"Complete 0/8 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Bronze",amount:2e4},{text:"Selemchid Kit",amount:18},{text:"Courser",amount:18}]}]},{id:"2.2",name:"Khorchins",stages:[{id:"2.2.0",name:"Stage 1",required:6,total:8,challenges:[{id:"2.2.0.0",text:"In Field or Siege Battles, get an A+ rating or better 0/3 times.",tags:["Siege","Field"],conditions:[]},{id:"2.2.0.1",text:"In Field or Siege Battles, deploy 0/3 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.2.0.2",text:"In Field or Siege Battles, be among the top 5 in the score rankings 0/3 times.",tags:["Siege","Field"],conditions:[]},{id:"2.2.0.3",text:"In Field or Siege Battles, use artillery to kill 0/100 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.2.0.4",text:'Earn 0/8 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.2.0.5",text:"In Expeditions, get an A+ rating or better 0/4 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.2.0.6",text:"In Free Battles, kill 0/80 troops.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.2.1",name:"Stage 2",required:6,total:8,challenges:[{id:"2.2.1.0",text:"Raise your hero 0/3 levels.",tags:["General"],conditions:[]},{id:"2.2.1.1",text:"In Field or Siege Battles, get 0/20 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.2.1.2",text:"In Siege Battles, destroy 0/3 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"2.2.1.3",text:"In Siege Battles, use trebuchets 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.2.1.4",text:'Earn 0/10 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.2.1.5",text:"Inflict a total of 0/5,000,000 damage during an Expedition.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.2.1.6",text:"Achieve victory in 0/4 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Bronze",amount:2e4},{text:"Khorchin Kit",amount:18},{text:"Courser",amount:18}]}]},{id:"2.3",name:"Tseregs",stages:[{id:"2.3.0",name:"Stage 1",required:6,total:8,challenges:[{id:"2.3.0.0",text:"In Field or Siege Battles, take sword infantry into battle 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.3.0.1",text:"In Field or Siege Battles, get an A+ rating or better 0/4 times.",tags:["Siege","Field"],conditions:[]},{id:"2.3.0.2",text:"In Field or Siege Battles, earn 0/240 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.3.0.3",text:"In Siege Battles, use trebuchets 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.3.0.4",text:"In Expeditions, use buckler infantry to deal 0/3,000,000 damage.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.3.0.5",text:"In Expeditions, get an A rating or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.3.0.6",text:"In Territory Wars, take buckler infantry into battle 0/4 times.",tags:["Free Battles","Siege","Territory Wars","Field"],conditions:[]},{id:"2.3.0.7",text:"Join a total of 0/4 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.3.1",name:"Stage 2",required:6,total:8,challenges:[{id:"2.3.1.0",text:"Win 0/5 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"2.3.1.1",text:"In Field or Siege Battles, get 0/30 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.3.1.2",text:"In Siege Battles, kick over 0/12 ladders put up by the enemy.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.3.1.3",text:"In Field or Siege Battles, kill 0/100 buckler infantry.",tags:["Siege","Field"],conditions:[]},{id:"2.3.1.4",text:"In Field or Siege Battles, use spearmen to take 0/1,500,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"2.3.1.5",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"2.3.1.6",text:"Search 0/20 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Taurean Banner",amount:1}]},{id:"2.3.2",name:"Stage 3",required:6,total:8,challenges:[{id:"2.3.2.0",text:"Raise your hero up 0/6 Levels.",tags:["General"],conditions:[]},{id:"2.3.2.1",text:"In Field or Siege Battles, use sword infantry to kill 0/200 troops.",tags:["Siege","Field"],conditions:[]},{id:"2.3.2.2",text:"In Field or Siege Battles, earn 0/240 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.3.2.3",text:"In Field or Siege Battles, destroy 0/10 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.3.2.4",text:'Earn 0/5 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.3.2.5",text:"In Expeditions, take Silver Era or later units into battle 0/8 times.",tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"2.3.2.6",text:"In Expeditions, get an A+ rating or better 0/4 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.3.2.7",text:"Win 0/4 Territory Wars.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.3.3",name:"Stage 4",required:6,total:8,challenges:[],rewards:[{text:"Bronze",amount:3e4},{text:"Tsereg Kit",amount:28}]}]},{id:"2.4",name:"Khevtuul Cavalry",stages:[{id:"2.4.0",name:"Stage 1",required:6,total:8,challenges:[{id:"2.4.0.0",text:"Add 0/6 hero levels.",tags:["General"],conditions:[]},{id:"2.4.0.1",text:"In Field or Siege Battles, take steppe units into battle 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.0.2",text:"In Field or Siege Battles, use artillery to kill 0/140 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.0.3",text:"In Field or Siege Battles, get an A rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.4.0.4",text:"In Field or Siege Battles, get 0/30 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.4.0.5",text:"In Expeditions, use Steppe units to deal 0/6 damage.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.4.0.6",text:"Complete any Fief Quest 0/10 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:10}]},{id:"2.4.1",name:"Stage 2",required:6,total:8,challenges:[{id:"2.4.1.0",text:'Earn 0/8 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.1.1",text:"Take Steppe units into battle and get a kill/death ratio of greater than 1 on 0/5",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.1.2",text:"Destroy 0/10 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.1.3",text:"Take Steppe units into any PvP battle and deal 0/3,000,000 damage.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.1.4",text:"Defeat a total of 0/500 soldiers during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.4.1.5",text:"In Expeditions, get an A or better rating 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.4.1.6",text:"Take part in 0/4 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"2.4.1.7",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Serpent of Moon and Sun Banner",amount:1}]},{id:"2.4.2",name:"Stage 3",required:6,total:8,challenges:[{id:"2.4.2.0",text:"In Field or Siege Battles, get a B+ rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"2.4.2.1",text:"In Field or Siege Battles, get 0/30 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.4.2.2",text:"In Field or Siege Battles, earn 0/240 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.4.2.3",text:'Earn 0/10 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.2.4",text:"In an Expedition, inflict a total of 0/10,000,000 damage.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.4.2.5",text:'Earn 0/5 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"2.4.2.6",text:"Kill 0/12 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"2.4.2.7",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.4.3",name:"Stage 4",required:6,total:8,challenges:[{id:"2.4.3.0",text:"In Field or Siege Battles, use artillery to kill 0/140 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.3.1",text:"In Siege Battles, destroy 0/4 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"2.4.3.2",text:"In Siege Battles, use trebuchets 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.3.3",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"2.4.3.4",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.4.3.5",text:"Win 0/2 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"2.4.3.6",text:"Win 0/4 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"2.4.3.7",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Bronze",amount:3e4},{text:"Khevtuul Kit",amount:16},{text:"Rouncey ",amount:16}]}]},{id:"2.5",name:"Kheshigs",stages:[{id:"2.5.0",name:"Stage 1",required:6,total:8,challenges:[{id:"2.5.0.0",text:"In Field or Siege Battles, destroy 0/12 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.0.1",text:"In Field or Siege Battles, interrupt enemies trying to capture points 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.0.2",text:"In Field or Siege Battles, get 0/300 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.5.0.3",text:'Earn 0/12 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.0.4",text:"Defeat a band of wandering Rebels 0/18 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.5.1",name:"Stage 2",required:6,total:8,challenges:[{id:"2.5.1.0",text:"In Field or Siege Battles, be among the top 5 in the score rankings 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.1.1",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.5.1.2",text:"In Field or Siege Battles, kill 0/500 troops.",tags:["Siege","Field"],conditions:[]},{id:"2.5.1.3",text:"In Siege Battles, destroy 0/6 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"2.5.1.4",text:"In Field or Siege Battles, get the Grand Bloodbath badge 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.1.5",text:"In Field or Siege Battles, get an A+ rating or better 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Northlands Raider's Armour",amount:1}]},{id:"2.5.2",name:"Stage 3",required:6,total:8,challenges:[{id:"2.5.2.0",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.2.1",text:"In Field or Siege Battles, kill 0/12 heroes.",tags:["Siege","Field"],conditions:[]},{id:"2.5.2.2",text:"Deploy 0/10 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.2.3",text:"Earn 0/100 badges.",tags:["General"],conditions:[]},{id:"2.5.2.4",text:"Search 0/30 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"2.5.2.5",text:"In Expeditions, get an A rating or better 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.2.6",text:"Win 0/4 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"2.5.2.7",text:"Achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.5.3",name:"Stage 4",required:6,total:8,challenges:[{id:"2.5.3.0",text:"In 0/10 Field or Siege Battles, send at least 4 units with different star levels into",tags:["Siege","Field"],conditions:[]},{id:"2.5.3.1",text:"In Field or Siege Battles, get an S rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.3.2",text:"In Field or Siege Battles, kill 0/500 troops.",tags:["Siege","Field"],conditions:[]},{id:"2.5.3.3",text:"In Field or Siege Battles, get a B+ rating or better 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.3.4",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"2.5.3.5",text:"Earn 0/20 silver quality or better badges.",tags:["General"],conditions:[]},{id:"2.5.3.6",text:"Win 0/4 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"2.5.3.7",text:"Win 0/2 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Northlands Raider's Helm",amount:1}]},{id:"2.5.4",name:"Stage 5",required:6,total:8,challenges:[{id:"2.5.4.0",text:"Add 0/8 hero levels.",tags:["General"],conditions:[]},{id:"2.5.4.1",text:"Win 0/5 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"2.5.4.2",text:"Destroy 0/15 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.4.3",text:"In Expeditions, take Steppe units into battle and have them cause damage 0/10",tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"2.5.4.4",text:"In Expeditions, use Steppe units to deal 0/10,000,000 damage.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.4.5",text:'Earn 0/8 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"2.5.4.6",text:"Win 0/3 Free Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.5.5",name:"Stage 6",required:6,total:8,challenges:[{id:"2.5.5.0",text:"In Field or Siege Battles, take steppe units into battle and win 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.5.1",text:"In Field or Siege Battles, get an A rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.5.2",text:"In Field or Siege Battles, use spearmen to take 0/2,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"2.5.5.3",text:"Deploy 0/10 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.5.4",text:"In Field or Siege Battles, use artillery to kill 0/200 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.5.5",text:"In Siege Battles, kick over 0/15 ladders put up by the enemy.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.5.6",text:"Defeat a band of wandering Rebels 0/18 times.",tags:["Open World"],conditions:[]},{id:"2.5.5.7",text:"Achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Huskarl's War Banner",amount:1}]},{id:"2.5.6",name:"Stage 7",required:6,total:8,challenges:[{id:"2.5.6.0",text:"In Field or Siege Battles, take steppe units into battle and deal 0/4,000,000",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.6.1",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/10",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.6.2",text:"In Siege Battles, kick over 0/15 ladders put up by the enemy.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.6.3",text:"In Siege Battles, destroy 0/12 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.6.4",text:"In Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"2.5.6.5",text:"In Expeditions, get an A+ or better rating 0/5 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.6.6",text:"Win 0/4 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"2.5.6.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.5.7",name:"Stage 8",required:6,total:8,challenges:[{id:"2.5.7.0",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"2.5.7.1",text:"In Field or Siege Battles, get 0/280 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.5.7.2",text:"Earn 0/100 badges.",tags:["General"],conditions:[]},{id:"2.5.7.3",text:"Deploy 0/10 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.7.4",text:"In an Expedition, inflict a total of 0/10,000,000 damage.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.7.5",text:"In Expeditions, get an S rating 0/5 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.7.6",text:"Join 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medals",amount:10}]},{id:"2.5.8",name:"Stage 9",required:6,total:8,challenges:[{id:"2.5.8.0",text:"In Field or Siege Battles, deal 0/10,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"2.5.8.1",text:"In Field or Siege Battles, get 0/280 capture points.",tags:["Siege","Field"],conditions:[]},{id:"2.5.8.2",text:"In Field or Siege Battles, be among the top 5 in the score rankings 0/3 times.",tags:["Siege","Field"],conditions:[]},{id:"2.5.8.3",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"2.5.8.4",text:"In Expeditions, get an A+ rating or better 0/5 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.8.5",text:"Defeat 0/700 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"2.5.8.6",text:"Defeat a band of wandering Rebels 0/18 times.",tags:["Open World"],conditions:[]},{id:"2.5.8.7",text:"Achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Bronze",amount:4e4},{text:"Kheshigs Kit",amount:18},{text:"Rouncey",amount:18}]}]}]},{id:3,name:"Season 03 - Soldiers of Fortune",sections:[{id:"3.0",name:"Condottieri Guards ",stages:[{id:"3.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"3.0.0.0",text:"Take a sword infantry unit into a Siege or Field battle 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.0.1",text:"In Field or Siege Battles, deploy 0/10 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.0.2",text:"In Field or Siege Battles, earn 0/150 capture points.",tags:["Siege","Field"],conditions:[]},{id:"3.0.0.3",text:"In Field or Siege Battles, use artillery to kill 0/100 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.0.4",text:'Earn 0/6 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.0.5",text:"In Expeditions, get an A+ rating or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.0.0.6",text:"In Free Battles, kill 0/100 troops.",tags:["Siege","Field"],conditions:[]}],rewards:[]},{id:"3.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"3.0.1.0",text:"Take a sword infantry unit into a Siege or Field battle and win 0/3 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.1.1",text:"In Field or Siege Battles, get an A rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"3.0.1.2",text:"In Field or Siege Battles, get 0/25 assists.",tags:["Siege","Field"],conditions:[]},{id:"3.0.1.3",text:"In Field or Siege Battles, be among the top 5 in the score rankings 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"3.0.1.4",text:'Earn 0/5 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.1.5",text:"Win 0/6 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.0.1.6",text:"Kick over 0/8 ladders put up by the enemy.",tags:["Siege","Free Battles"],conditions:[]},{id:"3.0.1.7",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Condottieri Guards' Kit",amount:30},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"3.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"3.0.2.0",text:"Add 0/5 hero levels.",tags:["General"],conditions:[]},{id:"3.0.2.1",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.0.2.2",text:"In Field or Siege Battles, kill 0/10 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.0.2.3",text:"In Field or Siege Battles, kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"3.0.2.4",text:"Win 0/3 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"3.0.2.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"3.0.2.6",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Condottieri Guards' Doctrine I",amount:1},{text:"Reduces Shock Attack's cooldown by 3 seconds",amount:null}]}]},{id:"3.1",name:"Fortebraccio Pikemen ",stages:[{id:"3.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"3.1.0.0",text:"Take a pike unit into a Siege or Field battle 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.0.1",text:"In Field or Siege Battles, get an A+ rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"3.1.0.2",text:"In Field or Siege Battles, earn 0/300 capture points.",tags:["Siege","Field"],conditions:[]},{id:"3.1.0.3",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.1.0.4",text:"Win 0/5 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"3.1.0.5",text:"Kick over 0/12 ladders put up by the enemy.",tags:["Siege","Free Battles"],conditions:[]},{id:"3.1.0.6",text:"Search 0/30 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[]},{id:"3.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"3.1.1.0",text:"Add 0/8 hero levels.",tags:["General"],conditions:[]},{id:"3.1.1.1",text:"Take a pike unit into a Siege or Field battle and win 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.1.2",text:"In Field or Siege Battles, deploy 0/15 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.1.3",text:"Earn 0/100 badges.",tags:["General"],conditions:[]},{id:"3.1.1.4",text:"In Expeditions, get an A+ or better rating 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.1.1.5",text:"Kill 0/20 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"3.1.1.6",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.1.1.7",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.1.1.8",text:"Kick over 0/12 ladders put up by the enemy.",tags:["Siege","Free Battles"],conditions:[]},{id:"3.1.1.9",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Fortebraccio Pikemen Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"3.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"3.1.2.0",text:"In Field or Siege Battles, your spearmen take 0/5,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"3.1.2.1",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.2.2",text:"In Siege Battles, destroy 0/6 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"3.1.2.3",text:"Have your unit push a siege tower to the walls 0/3 times.",tags:["Siege","Field"],conditions:[]},{id:"3.1.2.4",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.2.5",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.1.2.6",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.1.2.7",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.1.2.8",text:'Earn 0/10 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"3.1.2.9",text:"Use trebuchets 0/8 times.",tags:["Siege","Free Battles"],conditions:[]}],rewards:[{text:"Fortebraccio Pikemen Kit",amount:32},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"3.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"3.1.3.0",text:"In Field or Siege Battles, take Soldiers of Fortune units into battle and get a kill/death ratio of greater than 1 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.3.1",text:"In Field or Siege Battles, destroy 0/20 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.3.2",text:"In Field or Siege Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"3.1.3.3",text:"Defeat 0/1,000 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.1.3.4",text:'Earn 0/6 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.3.5",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.1.3.6",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.1.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.1.3.8",text:'Earn 0/10 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.1.3.9",text:"Defeat a band of wandering Rebels 0/20 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Fortebraccio Pikemens' Doctrine II",amount:null},{text:"Increases armour penetration versus cavalry by 150",amount:null}]}]},{id:"3.2",name:"Falconetti Gunners ",stages:[{id:"3.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"3.2.0.0",text:"Win 0/8 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.2.0.1",text:"In Field or Siege Battles, get 0/500 capture points.",tags:["Siege","Field"],conditions:[]},{id:"3.2.0.2",text:"In Field or Siege Battles, be among the top 5 in the score rankings 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"3.2.0.3",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.0.4",text:"In Expeditions, get an A rating or better 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.2.0.5",text:"Defeat 0/1,500 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.2.0.6",text:"Defeat a band of wandering Rebels 0/30 times.",tags:["Open World"],conditions:[]},{id:"3.2.0.7",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.2.0.8",text:"In Siege Battles, destroy 0/8 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"3.2.0.9",text:"Win 0/7 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.2.0.10",text:"Use trebuchets 0/10 times.",tags:["Siege","Free Battles"],conditions:[]},{id:"3.2.0.11",text:"Win 0/7 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[]},{id:"3.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"3.2.1.0",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"3.2.1.1",text:"In Field or Siege Battles, deal 0/10,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"3.2.1.2",text:"In Field or Siege Battles, get 0/500 capture points.",tags:["Siege","Field"],conditions:[]},{id:"3.2.1.3",text:"Through Siege Battles, Field Battles, or Expeditions, earn 0/120 badges.",tags:["Siege","Bandit Raid","Expedition","Field"],conditions:[]},{id:"3.2.1.4",text:"Win 0/7 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"3.2.1.5",text:"In Expeditions, get an S rating 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.2.1.6",text:"Deploy 0/20 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.1.7",text:"Join 0/8 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.2.1.8",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"3.2.1.9",text:"Get an A or better rating in Free Battle 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"3.2.1.10",text:"Search 0/40 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"3.2.1.11",text:"Defeat a band of wandering Rebels 0/30 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Falconetti Gunners Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"3.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"3.2.2.0",text:"In Field or Siege Battles, take Soldiers of Fortune into battle and deal 0/4,000,000 damage.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.2.1",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.2.2",text:"In Siege Battles, kick over 0/15 ladders put up by the enemy.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.2.3",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.2.2.4",text:"Earn 0/4 silver or better badges.",tags:["General"],conditions:[]},{id:"3.2.2.5",text:"In Expeditions, get an A or better rating 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.2.2.6",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.2.2.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"3.2.2.8",text:"Defeat 0/1,500 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.2.2.9",text:"Win 0/7 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.2.2.10",text:"In Siege Battles, destroy 0/8 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"3.2.2.11",text:"Win 0/7 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Falconetti Gunners' Doctrine III",amount:null},{text:"Increases piercing defence by 100",amount:null}]},{id:"3.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"3.2.3.0",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"3.2.3.1",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.2.3.2",text:"Deploy 0/20 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.3.3",text:"Earn 0/120 badges.",tags:["General"],conditions:[]},{id:"3.2.3.4",text:"Search 0/40 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"3.2.3.5",text:"In Expeditions, get an A rating or better 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.2.3.6",text:"Win 0/7 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"3.2.3.7",text:"Achieve victory in 0/12 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.2.3.8",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.3.9",text:'Earn 0/10 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"3.2.3.10",text:"Get an A or better rating in Free Battle 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"3.2.3.11",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Falconetti Gunner Kit",amount:10},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"3.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"3.2.4.0",text:"In 0/10 Field or Siege Battles, send at least 4 units with different star levels into battle.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.1",text:"In Field or Siege Battles, get an S rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.2",text:"In Field or Siege Battles, kill 0/500 troops.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.3",text:"In Field or Siege Battles, get a B+ rating or better 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.4",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.5",text:"Earn 0/20 silver or better badges.",tags:["General"],conditions:[]},{id:"3.2.4.6",text:"Win 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.7",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"3.2.4.8",text:"In Siege or Field Battles, your spearmen take 0/6,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.9",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.10",text:"In Siege Battles, destroy 0/8 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"3.2.4.11",text:"Take part in 0/4 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Falconetti Gunners Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"3.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"3.2.5.0",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"3.2.5.1",text:"In Field or Siege Battles, take Soldiers of Fortune into battle and win 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.5.2",text:"In Field or Siege Battles, interrupt enemies trying to capture points 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"3.2.5.3",text:"In Field or Siege Battles, get 0/500 capture points.",tags:["Siege","Field"],conditions:[]},{id:"3.2.5.4",text:'Earn 0/12 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.5.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.2.5.6",text:"Defeat a band of wandering Rebels 0/30 times.",tags:["Open World"],conditions:[]},{id:"3.2.5.7",text:"In Siege Battles, kick over 0/15 ladders put up by the enemy.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.2.5.8",text:"Achieve victory in 0/12 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.2.5.9",text:"Win 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.2.5.10",text:"Get 0/30 assists in Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Falconetti Gunners' Doctrine I",amount:null}]}]},{id:"3.3",name:"Pavise Crossbowmen ",stages:[{id:"3.3.0",name:"Stage 1",required:10,total:12,challenges:[{id:"3.3.0.0",text:"In Field or Siege Battles, get a B+ rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"3.3.0.1",text:"In Field or Siege Battles, use artillery to kill 0/300 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.0.2",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"3.3.0.3",text:"Have your unit push a siege tower to the walls 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"3.3.0.4",text:"In Field or Siege Battles, destroy 0/8 siege towers.",tags:["Siege","Field"],conditions:[]},{id:"3.3.0.5",text:"In Expeditions, take Soldiers of Fortune units into battle 0/8 times.",tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"3.3.0.6",text:"Complete any 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"3.3.0.7",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"3.3.0.8",text:"In 0/10 Field or Siege Battles, send at least 4 units with different star levels into battle.",tags:["Siege","Field"],conditions:[]},{id:"3.3.0.9",text:"In Field or Siege Battles, interrupt enemies trying to capture points 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"3.3.0.10",text:"Win 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[]},{id:"3.3.1",name:"Stage 2",required:10,total:12,challenges:[{id:"3.3.1.0",text:"In Field or Siege Battles, take Soldiers of Fortune units into battle and get a kill/death ratio of greater than 1 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.1.1",text:"In Field or Siege Battles, destroy 0/20 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.1.2",text:"In Field or Siege Battles, take Soldiers of Fortune into battle and deal 0/5,000,000 damage.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.1.3",text:'Earn 0/8 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.1.4",text:"In Expeditions, get an A or better rating 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.3.1.5",text:"Defeat 0/1,500 troopsduring Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.3.1.6",text:"Achieve victory in 0/12 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.3.1.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.3.1.8",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.3.1.9",text:'Earn 0/12 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.1.10",text:"In Siege Battles, use trebuchets 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.1.11",text:"Win 0/7 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Pavise Crossbowmen Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"3.3.2",name:"Stage 3",required:10,total:12,challenges:[{id:"3.3.2.0",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"3.3.2.1",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"3.3.2.2",text:"In Field or Siege Battles, earn 0/500 capture points.",tags:["Siege","Field"],conditions:[]},{id:"3.3.2.3",text:'Earn 0/12 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.2.4",text:"In Free Battles, kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"3.3.2.5",text:'Earn 0/8 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"3.3.2.6",text:"Kill 0/20 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"3.3.2.7",text:"Defeat a band of wandering Rebels 0/30 times.",tags:["Open World"],conditions:[]},{id:"3.3.2.8",text:"In Field or Siege Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"3.3.2.9",text:"In Field or Siege Battles, deploy 0/10 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.2.10",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.2.11",text:"Complete any 0/20 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Pavise Crossbowmens' Doctrine Ill",amount:null},{text:"Increases piercing damage by 90",amount:null}]},{id:"3.3.3",name:"Stage 4",required:10,total:12,challenges:[{id:"3.3.3.0",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.3.1",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.3.3.2",text:"In Field or Siege Battles, use artillery to kill 0/200 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.3.3",text:"In Siege Battles, destroy 0/8 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"3.3.3.4",text:"In Siege Battles, use trebuchets 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.3.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.3.3.6",text:"Win 0/7 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.3.3.7",text:"Achieve victory in 0/12 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.3.3.8",text:"In Field or Siege Battles, deal 0/10,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"3.3.3.9",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.3.3.10",text:"Search 0/40 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Falconetti Gunner Kit",amount:22},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"3.3.4",name:"Stage 5",required:10,total:12,challenges:[{id:"3.3.4.0",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"3.3.4.1",text:"In Field or Siege Battles, get an A+ rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"3.3.4.2",text:"In Field or Siege Battles, deploy 0/20 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.4.3",text:"In Field or Siege Battles, be among the top 10 in the score rankings 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"3.3.4.4",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"3.3.4.5",text:'Earn 0/8 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.4.6",text:"In Expeditions, get an A+ rating or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.3.4.7",text:"In Free Battles, kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"3.3.4.8",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.4.9",text:"Kill 0/20 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"3.3.4.10",text:"Kick over 0/15 ladders put up by the enemy.",tags:["Siege","Free Battles"],conditions:[]},{id:"3.3.4.11",text:"Defeat a band of wandering Rebels 0/30 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Pavise Crossbowmen Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"3.3.5",name:"Stage 6",required:10,total:12,challenges:[{id:"3.3.5.0",text:"Win 0/7 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"3.3.5.1",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"3.3.5.2",text:"In Siege Battles, destroy 0/8 siege engines.",tags:["Siege","Field"],conditions:[]},{id:"3.3.5.3",text:"In Siege Battles, use trebuchets 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.5.4",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.5.5",text:"Inflict a total of 0/10,000,000 damage during an Expedition.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"3.3.5.6",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"3.3.5.7",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"3.3.5.8",text:'Earn 0/8 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"3.3.5.9",text:"In Free Battles, kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"3.3.5.10",text:"Complete any 0/20 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Pavise Crossbowmens' Doctrine I",amount:null},{text:"Reduces melee damage taken by 80",amount:null}]}]}]},{id:4,name:"Season 04 - Blood of the Empire",sections:[{id:"4.0",name:"Janissaries ",stages:[{id:"4.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"4.0.0.0",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"4.0.0.1",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1 or above 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.0.2",text:"Take three or more units from different eras into a Siege or Field battle 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.0.3",text:"In 0/4 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"4.0.0.4",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.0.5",text:"Raise your hero up 0/5 Levels.",tags:["General"],conditions:[]},{id:"4.0.0.6",text:"Complete 0/8 Fief Quests.",tags:["Open World"],conditions:[]},{id:"4.0.0.7",text:'Earn 0/5 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[]},{id:"4.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"4.0.1.0",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.1.1",text:"Take a firearm unit into 0/5 Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.1.2",text:"In Siege or Field Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"4.0.1.3",text:"Win 0/4 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.0.1.4",text:"Win 0/6 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.0.1.5",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"4.0.1.6",text:"Get 0/40 hero kills or assists in Free Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Janissaries Kit",amount:18},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"4.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"4.0.2.0",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/5 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.2.1",text:"In Siege Battles, deploy or destroy an artillery piece in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.2.2",text:"In Siege Battles, use Janissaries and earn a kill/death ratio greater than 1 in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.2.3",text:"In Siege or Field Battles, use Janissaries to kill 0/180 troops.",tags:["Siege","Field"],conditions:[]},{id:"4.0.2.4",text:"In Siege or Field Battles, deal 0/180,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"4.0.2.5",text:"Kill 0/10 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"4.0.2.6",text:"Take Janissaries into 0/6 Free Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.0.2.7",text:'Earn 0/5 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Janissaries Unit Medal ",amount:4},{text:"Shared Unit XP each",amount:5e4},{text:"Janissaries Doctrine II",amount:1}]}]},{id:"4.1",name:"Azaps",stages:[{id:"4.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"4.1.0.0",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.0.1",text:"In Siege or Field Battles, use sword infantry units 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"4.1.0.2",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.1.0.3",text:"In Siege or Field Battles, your spearmen take 0/9,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"4.1.0.4",text:"In Siege or Field Battles, you or your group members get 0/30 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"4.1.0.5",text:"Earn 0/80 badges.",tags:["General"],conditions:[]},{id:"4.1.0.6",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.1.0.7",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.1.0.8",text:"In Expeditions, get an A rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[]},{id:"4.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"4.1.1.0",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/7 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.1.1.1",text:"Take a sword infantry unit into a Siege or Field battle 0/6 times and win.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.1.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/9 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.1.3",text:"In Siege or Field Battles, use artillery to kill 0/220 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.1.4",text:"In Siege or Field Battles, get ranked in the top 5 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"4.1.1.5",text:'Earn 0/7 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.1.6",text:'Earn 0/9 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.1.7",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"4.1.1.8",text:"In Free Battles, use sword infantry to kill 0/280 troops.",tags:["Siege","Field"],conditions:[]},{id:"4.1.1.9",text:"Achieve victory in 0/9 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Azap Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"4.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"4.1.2.0",text:"In Siege Battles, deploy or destroy an artillery piece in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.2.1",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"4.1.2.2",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1 or above 0/9 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.2.3",text:"In 0/9 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.2.4",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.1.2.5",text:"In Free Battles, deal 0/300,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"4.1.2.6",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"4.1.2.7",text:'Earn 0/6 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.2.8",text:"Kill 0/15 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"4.1.2.9",text:"In Expeditions, use sword infantry to kill 0/800 troops.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Azap Kit",amount:28},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"4.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"4.1.3.0",text:"Take Azaps into 0/5 Siege or Field battles and win.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.3.1",text:"In Siege or Field Battles, use Azaps to kill 0/250 troops.",tags:["Siege","Field"],conditions:[]},{id:"4.1.3.2",text:"Take Azaps into a Siege or Field battle 0/9 times and get a kill/death ratio greater than 1.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.3.3",text:"In 0/8 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"4.1.3.4",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.1.3.5",text:"Earn 0/30 silver or better badges.",tags:["General"],conditions:[]},{id:"4.1.3.6",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.1.3.7",text:"Using Azaps, achieve victory in 0/9 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"4.1.3.8",text:"In Free Battles, take Azaps into battle 0/9 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.1.3.9",text:"Take Azaps into Expeditions 0/9 times and win.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Azap Unit Medal ",amount:4},{text:"Shared Unit XP each",amount:5e4},{text:"Azap Doctrine II",amount:null},{text:"Reduces On Watch cooldown by 4 seconds",amount:null}]}]},{id:"4.2",name:"Sipahi ",stages:[{id:"4.2.0",name:"Stage 1",required:8,total:10,challenges:[{id:"4.2.0.0",text:"In Siege Battles, deploy or destroy an artillery piece in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.0.1",text:"In Siege or Field Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"4.2.0.2",text:"In Siege or Field Battles, use artillery to kill 0/200 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.0.3",text:"Win 0/5 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.2.0.4",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.0.5",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"4.2.0.6",text:"Achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"4.2.0.7",text:"Kill 0/12 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"4.2.0.8",text:'Earn 0/7 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.0.9",text:"Search 0/20 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[]},{id:"4.2.1",name:"Stage 2",required:8,total:10,challenges:[{id:"4.2.1.0",text:"In 0/9 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.1.1",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1 or above 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.1.2",text:"In 0/7 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"4.2.1.3",text:"In Siege or Field Battles, get an S rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"4.2.1.4",text:"Use a trebuchet or interrupt a capture in 0/9 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.1.5",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.2.1.6",text:"In Free Battles, use units from the Cavalry unit tree to deal 0/3,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"4.2.1.7",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"4.2.1.8",text:"In Expeditions, use units from the Cavalry unit tree to kill 0/1,000 troops.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Sipahi Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"4.2.2",name:"Stage 3",required:8,total:10,challenges:[{id:"4.2.2.0",text:"Use four units from different eras in a Siege or Field battle 0/5 times and win.",tags:["Siege","Field"],conditions:[]},{id:"4.2.2.1",text:"In Siege or Field Battles, use an Anadolou Empire unit to kill 0/600 troops.",tags:["Siege","Field"],conditions:[]},{id:"4.2.2.2",text:"Use a trebuchet or interrupt a capture in 0/9 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.2.3",text:"In Siege Battles, knock down two ladders put up by the enemy in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"4.2.2.4",text:"In Siege or Field Battles, get ranked in the top 8 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"4.2.2.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.2.6",text:'Earn 0/5 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.2.7",text:"Win 0/4 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"4.2.2.8",text:"In Expeditions, get an A rating or better 0/9 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.2.2.9",text:"Win 0/4 Free Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Sipahi Kit",amount:18},{text:"Barb",amount:18},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"4.2.3",name:"Stage 4",required:8,total:10,challenges:[{id:"4.2.3.0",text:"In Siege or Field Battles, use Sipahis 0/9 times",tags:["Siege","Field"],conditions:[]},{id:"4.2.3.1",text:"In Siege or Field Battles, use Sipahis to kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"4.2.3.2",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/7 battles.",tags:["Siege","Field"],conditions:[]},{id:"4.2.3.3",text:"In Siege or Field Battles, use the Sipahis' Croupade skill to deal 0/3,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"4.2.3.4",text:"In Siege Battles, deploy or destroy an artillery piece in 0/9 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.2.3.5",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"4.2.3.6",text:"Use Sipahis in, and win, 0/3 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.2.3.7",text:"Earn 0/100 badges.",tags:["General"],conditions:[]},{id:"4.2.3.8",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.2.3.9",text:"Win 0/4 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Sipahi Unit Medal ",amount:4},{text:"Shared Unit XP each",amount:5e4},{text:"Sipahi Doctrine II",amount:null},{text:"Reduces Short Charge cooldown by 4 seconds",amount:null}]}]},{id:"4.3",name:"Silahdars ",stages:[{id:"4.3.0",name:"Stage 1",required:10,total:12,challenges:[{id:"4.3.0.0",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.3.0.1",text:"In Siege Battles, push a siege tower to the ramparts or destroy an artillery piece 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.0.2",text:"In Siege or Field Battles, get ranked in the top 5 0/10 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"4.3.0.3",text:"In Siege or Field Battles, you or your group members get 0/35 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"4.3.0.4",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"4.3.0.5",text:'Earn 0/12 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.0.6",text:"In Expeditions, get an A rating or better 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.3.0.7",text:'Earn 0/6 "Drop Dead" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.0.8",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.3.0.9",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"4.3.0.10",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.3.0.11",text:"Search 0/25 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[]},{id:"4.3.1",name:"Stage 2",required:10,total:12,challenges:[{id:"4.3.1.0",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.1.1",text:"In 0/9 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"4.3.1.2",text:"In Siege or Field Battles, get an A rating or better 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"4.3.1.3",text:"Use a trebuchet or interrupt a capture in 0/12 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.1.4",text:"In Field or Siege Battles, deploy 0/15 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.1.5",text:"Raise your hero up 0/15 Levels.",tags:["General"],conditions:[]},{id:"4.3.1.6",text:"In Expeditions, get an S rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.3.1.7",text:'Earn 0/10 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.1.8",text:"Join Free Battle 0/12 times.",tags:["Siege","Field"],conditions:[]},{id:"4.3.1.9",text:"In Free Battles, you or your group collectively kills a total of 0/80 heroes.",tags:["Siege","Field"],conditions:[]},{id:"4.3.1.10",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.3.1.11",text:"Earn 0/120 badges.",tags:["General"],conditions:[]}],rewards:[{text:"Silahdars Unit Medal ",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"4.3.2",name:"Stage 3",required:8,total:12,challenges:[{id:"4.3.2.0",text:"In 0/10 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.2.1",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1 or above 0/12 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.2.2",text:"In Siege Battles, deploy or destroy an artillery piece in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.2.3",text:"Use a trebuchet or interrupt a capture in 0/10 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.2.4",text:"In Siege or Field Battles, use artillery to kill 0/300 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.2.5",text:"Raise your hero up 0/15 Levels.",tags:["General"],conditions:[]},{id:"4.3.2.6",text:"In Expeditions, get an A rating or better 0/12 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.3.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.3.2.8",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"4.3.2.9",text:"In Siege or Field Battles, you or your group members get 0/40 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"4.3.2.10",text:"In Deathmatch, get an A rating or better 0/8 times.",tags:["Deathmatch"],conditions:[]},{id:"4.3.2.11",text:"In Free Battles, kill 0/600 troops.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Sipahi Unit Medal",amount:4},{text:"Shared Unit XP each",amount:5e4},{text:"Silahdars Doctrine I",amount:null},{text:"Reduces ranged damage taken by 50",amount:null}]},{id:"4.3.3",name:"Stage 4",required:10,total:12,challenges:[{id:"4.3.3.0",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/9 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.3.3.1",text:"In Siege or Field Battles, use artillery to kill 0/300 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.3.2",text:"Use four units from different eras in a Siege or Field battle 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"4.3.3.3",text:"In Siege Battles, deploy or destroy an artillery piece in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.3.4",text:"Win 0/7 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"4.3.3.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"4.3.3.6",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"4.3.3.7",text:"In Expeditions, use an Anadolou Empire unit to kill 0/1,200 troops.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.3.3.8",text:"In Deathmatch, you or your group collectively kills a total of 0/120 heroes.",tags:["Deathmatch"],conditions:[]},{id:"4.3.3.9",text:"Raise your hero up 0/15 Levels.",tags:["General"],conditions:[]},{id:"4.3.3.10",text:"Achieve victory in 0/12 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"4.3.3.11",text:"In Free Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Silahdars Kit",amount:24},{text:"Unit Medal",amount:50},{text:"Barracks Expansion",amount:1}]},{id:"4.3.4",name:"Stage 5",required:10,total:12,challenges:[{id:"4.3.4.0",text:"In Siege Battles, deploy or destroy an artillery piece in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.4.1",text:"In Siege or Field Battles, get an S rating or better 0/7 times.",tags:["Siege","Field"],conditions:[]},{id:"4.3.4.2",text:"In Siege or Field Battles, you or your group members get 0/40 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"4.3.4.3",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/12 battles.",tags:["Siege","Field"],conditions:[]},{id:"4.3.4.4",text:"In Free Battles, deal 0/400,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"4.3.4.5",text:"Win 0/6 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"4.3.4.6",text:"In Free Battles, use the Silahdars' Deathstrike skill to deal 0/4,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"4.3.4.7",text:'Earn 0/12 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.4.8",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"4.3.4.9",text:"Earn 0/40 silver or better badges.",tags:["General"],conditions:[]},{id:"4.3.4.10",text:"In Expeditions, get an A rating or better 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"4.3.4.11",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Sipahi Unit Medal",amount:10},{text:"Shared Unit XP each",amount:5e4}]},{id:"4.3.5",name:"Stage 6",required:10,total:12,challenges:[{id:"4.3.5.0",text:"In Siege or Field Battles, take Silahdars into battle and get a kill/death ratio greater than 1 0/11 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.1",text:"In Siege or Field Battles, take Silahdars into battle and win 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.2",text:"In Siege or Field Battles, use Silahdars to kill 0/400 troops.",tags:["Siege","Field"],conditions:[]},{id:"4.3.5.3",text:"Use a trebuchet or interrupt a capture in 0/13 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.4",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.5",text:'Earn 0/12 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.6",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.7",text:"In Siege or Field Battles, use the Silahdars unit skill Decapitate to deal 0/4,500,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"4.3.5.8",text:"Search 0/20 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"4.3.5.9",text:"Raise your hero up 0/15 Levels.",tags:["General"],conditions:[]},{id:"4.3.5.10",text:"In Free Battles, take Silahdars into battle and win 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"4.3.5.11",text:"Win 0/5 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Silahdars Unit Medal ",amount:4},{text:"Shared Unit XP each",amount:5e4},{text:"Silahdars Doctrine II",amount:null}]}]}]},{id:5,name:"Season 05 - Legacy of Fire",sections:[{id:"5.0",name:"Zykalian Militia ",stages:[{id:"5.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"5.0.0.0",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/3 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.0.0.1",text:"In Siege Battles, deploy or destroy an artillery piece in 0/5 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.0.0.2",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.0.0.3",text:"In Siege or Field Battles, you or your group members get 0/20 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"5.0.0.4",text:"In Siege or Field Battles, get ranked in the top 5 0/5 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.0.0.5",text:"Win 0/5 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.0.0.6",text:"In Free Battles, you or your group collectively kills a total of 0/30 heroes.",tags:["Siege","Field"],conditions:[]},{id:"5.0.0.7",text:"In Free Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Zykalian Militia Unit Medal",amount:2},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"5.0.1.0",text:"In 0/6 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.0.1.1",text:"In Siege or Field Battles, use artillery to kill 0/180 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.0.1.2",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.0.1.3",text:"In Siege or Field Battles, deal 0/180,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"5.0.1.4",text:"Win 0/4 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.0.1.5",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"5.0.1.6",text:"Earn 0/60 badges.",tags:["General"],conditions:[]},{id:"5.0.1.7",text:"Kill 0/10 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Zykalian Militia Kits",amount:12},{text:"Zykalian Militia Unit Medal",amount:2},{text:"Shared Unit XP each",amount:5e4},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:50}]},{id:"5.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"5.0.2.0",text:"In Siege or Field Battles, use Zykalian Militia to kill 0/120 troops.",tags:["Siege","Field"],conditions:[]},{id:"5.0.2.1",text:"In Siege or Field Battles, use Zykalian Militia in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.0.2.2",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.0.2.3",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.0.2.4",text:"In Field or Siege Battles, get 0/40 kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"5.0.2.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"5.0.2.6",text:"Raise your hero up 0/5 Levels.",tags:["General"],conditions:[]},{id:"5.0.2.7",text:"In Expedition Mode get an A+ rating or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Zykalian Militia Unit Medal",amount:12},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"5.0.3.0",text:"In Siege or Field Battles, use Zykalian Militia in 0/6 battles and get a K/D ratio greater than 1.",tags:["Siege","Field"],conditions:[]},{id:"5.0.3.1",text:"In Siege Battles, push a siege tower to the ramparts once or interrupt a capture once in 0/4 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.0.3.2",text:"In Field or Siege Battles, kill 0/450 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"5.0.3.3",text:"In Siege or Field Battles, use Zykalian Militia in 0/3 battles and win.",tags:["Siege","Field"],conditions:[]},{id:"5.0.3.4",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"5.0.3.5",text:"Using Zykalian Militia, achieve victory in 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"5.0.3.6",text:"In Expeditions, use Zykalian Militia in 0/6 battles.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.0.3.7",text:'Earn 0/5 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Zykalian Supply Doctrine ",amount:1},{text:"Zykalian Militia Unit Medal",amount:2},{text:"Shared Unit XP each",amount:5e4}]}]},{id:"5.1",name:"Symmachean Stalwarts ",stages:[{id:"5.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"5.1.0.0",text:"In Siege or Field Battles, your spearmen take 0/9,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"5.1.0.1",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.0.2",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/7 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.0.3",text:"In Siege or Field Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"5.1.0.4",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.0.5",text:"Defeat 0/1,000 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.1.0.6",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.0.7",text:"Join 0/7 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.0.8",text:'Kill 0/450 enemy soldiers in Ranked Battles or get 0/5 "No',tags:["Ranked"],conditions:[]},{id:"5.1.0.9",text:'Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"5.1.0.10",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Spear Sergeants Unit kit",amount:32},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"5.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"5.1.1.0",text:"Use a trebuchet or interrupt a capture in 0/8 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.1.1",text:"In Field or Siege Battles, kill 0/600 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"5.1.1.2",text:"Use three or more units from different eras in a Siege or Field battle 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"5.1.1.3",text:"In 0/4 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"5.1.1.4",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.1.5",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"5.1.1.6",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.1.7",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]},{id:"5.1.1.8",text:'In Siege Battles, get the "Say Cheese" badge 0/3 times.',tags:["Siege","Field"],conditions:[]},{id:"5.1.1.9",text:'Earn 0/8 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20},{text:"Stalwarts Brace Doctrine",amount:null}]},{id:"5.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"5.1.2.0",text:"Take Spear Sergeants into a Siege or Field battle 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.2.1",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.2.2",text:"In Siege or Field Battles, use artillery to kill 0/240 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.2.3",text:"In 0/6 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.2.4",text:"In Siege or Field Battles, get ranked in the top 5 0/6 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.1.2.5",text:"Win 0/4 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.2.6",text:"Raise your hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"5.1.2.7",text:"Take Spear Sergeants into Expeditions 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.1.2.8",text:"Using Spear Sergeants, achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"5.1.2.9",text:"Win 0/5 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Spear Sergeants Unit kit",amount:32},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"5.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"5.1.3.0",text:"Take Spear Sergeants into a Siege or Field battle and win 0/4 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.3.1",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.3.2",text:"In Siege or Field Battles, use Spear Sergeants to kill 0/300 troops.",tags:["Siege","Field"],conditions:[]},{id:"5.1.3.3",text:"In Field or Siege Battles, deploy 0/8 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.3.4",text:"In Siege or Field Battles, you or your group members get 0/25 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"5.1.3.5",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/6 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.3.6",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"5.1.3.7",text:'Earn 0/5 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.1.3.8",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.1.3.9",text:"Win 0/8 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20},{text:"Stalwarts Stamina Doctrine",amount:null},{text:"Reduces Advance's cooldown by 3 seconds",amount:null}]}]},{id:"5.2",name:"Symmachean Paladins",stages:[{id:"5.2.0",name:"Stage 1",required:8,total:10,challenges:[{id:"5.2.0.0",text:"In Siege Battles, deploy or destroy an artillery piece in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.0.1",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/7 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.2.0.2",text:"In 0/7 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.0.3",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"5.2.0.4",text:"Win 0/4 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.2.0.5",text:"Get an A rating or better in 0/6 Ranked Battles or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.2.0.6",text:"Complete 0/14 Fief Quests.",tags:["Open World"],conditions:[]},{id:"5.2.0.7",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.0.8",text:"In Free Battles, kill 0/400 troops.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"5.2.1",name:"Stage 2",required:8,total:10,challenges:[{id:"5.2.1.0",text:"Use a trebuchet or interrupt a capture in 0/7 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.1.1",text:"In Siege or Field Battles, get ranked in the top 5 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.2.1.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.1.3",text:"Use four units from different eras in a Siege or Field battle 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"5.2.1.4",text:"In Field or Siege Battles, kill 0/600 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"5.2.1.5",text:"Win 0/5 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.2.1.6",text:"Win 0/8 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.2.1.7",text:"In Free Battles, use units to deal 0/250,000 Critical damage to enemy units.",tags:["Siege","Field"],conditions:[]},{id:"5.2.1.8",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.2.1.9",text:"Achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20},{text:"Paladin Sword Doctrine",amount:null},{text:"Increases piercing damage by 90",amount:null}]},{id:"5.2.2",name:"Stage 3",required:8,total:10,challenges:[{id:"5.2.2.0",text:"In 0/7 Siege or Field Battles, kill 80 troops or destroy 2 artillery pieces.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.2.1",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"5.2.2.2",text:"In 0/6 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"5.2.2.3",text:"In 0/7 Siege or Field Battles, use artillery to kill 30 troops or kill 2 enemy heroes.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.2.4",text:"Win 0/5 Ranked Battles or win 0/10 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.2.2.5",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"5.2.2.6",text:'Earn 0/6 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"5.2.3",name:"Stage 4",required:8,total:10,challenges:[{id:"5.2.3.0",text:"In Siege or Field Battles, get an S rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"5.2.3.1",text:"In Siege Battles, deploy or destroy an artillery piece in 0/9 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.2.3.2",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"5.2.3.3",text:"Get ranked in the top 5 in 0/6 Ranked Battles, or get MVP in 0/6 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.2.3.4",text:"Earn 0/100 badges.",tags:["General"],conditions:[]},{id:"5.2.3.5",text:"In Expedition Mode get an A+ rating or better 0/7 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.2.3.6",text:"In Free Battles, kill 0/15 enemy heroes.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Paladin Piety Doctrine",amount:null},{text:"Reduces Battle Prayer cooldown by 2 seconds",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"5.3",name:"Siphonarioi",stages:[{id:"5.3.0",name:"Stage 1",required:10,total:12,challenges:[{id:"5.3.0.0",text:"Use Hellfire or Symmachean units in 0/10 Siege or Field battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.0.1",text:"In Siege or Field Battles, get ranked in the top 5 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.0.2",text:"In Siege or Field Battles, you or your group members get 0/40 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"5.3.0.3",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.0.4",text:"In PvP Mode, win 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.0.5",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/7 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.0.6",text:"In Field or Siege Battles, kill 0/18 heroes.",tags:["Siege","Field"],conditions:[]},{id:"5.3.0.7",text:"Complete 0/18 Fief Quests.",tags:["Open World"],conditions:[]},{id:"5.3.0.8",text:"Win 0/6 Ranked Battles or win 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.0.9",text:"In Expedition Mode get an S rating 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.3.0.10",text:'Earn 0/12 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.0.11",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Siphonarioi Militia Unit Medal",amount:2},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.3.1",name:"Stage 2",required:10,total:12,challenges:[{id:"5.3.1.0",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.1.1",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.1.2",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"5.3.1.3",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/8 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.1.4",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.1.5",text:"In Siege or Field Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"5.3.1.6",text:"In Field or Siege Battles, deploy 0/15 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.1.7",text:"Use Hellfire or Symmachean units to kill 0/300 enemy soldiers in ranked battles or 0/600 enemy soldiers in Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.1.8",text:"Win 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.1.9",text:'In Siege Battles, get the "Say Cheese" badge 0/6 times.',tags:["Siege","Field"],conditions:[]},{id:"5.3.1.10",text:'Earn 0/10 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.1.11",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Siphonarioi Militia Unit Medal",amount:12},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.3.2",name:"Stage 3",required:10,total:12,challenges:[{id:"5.3.2.0",text:"In Siege or Field Battles, use Hellfire or Symmachean units to deal 0/5,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"5.3.2.1",text:"In 0/10 Siege or Field Battles, use artillery to kill 30 troops or kill 2 enemy heroes.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.2.2",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.2.3",text:"In Siege or Field Battles, get ranked in the top 5 0/9 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.2.4",text:"In Field or Siege Battles, get 0/40 assists.",tags:["Siege","Field"],conditions:[]},{id:"5.3.2.5",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.2.6",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.2.7",text:"Win 0/6 Ranked Battles or win 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.2.8",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.2.9",text:"Win 0/10 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.3.2.10",text:'Defeat 0/20 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"5.3.2.11",text:"Earn 0/40 silver or better badges.",tags:["General"],conditions:[]}],rewards:[{text:"Siphonarioi Flamethrower Doctrine",amount:null},{text:"Increases blunt damage by 200 when hellfire strikes target",amount:null},{text:"Siphonarioi Militia Unit Medal",amount:2},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.3.3",name:"Stage 4",required:10,total:12,challenges:[{id:"5.3.3.0",text:"In 0/8 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.1",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.2",text:"Your Hellfire or Symmachean units get a K/D ratio higher than 1 in 0/10 Siege or Field battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.3",text:"In Field or Siege Battles, kill 0/20 heroes.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.4",text:"In Siege Battles, deploy or destroy an artillery piece in 0/11 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.3.5",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.6",text:"In Field or Siege Battles, kill 0/750 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.7",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"5.3.3.8",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"5.3.3.9",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.3.10",text:"Use Hellfire or Symmachean units to kill 0/1,000 soldiers in Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"5.3.3.11",text:"Get an A rating or better in 0/10 Ranked Battles or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Siphonarioi Unit Kit",amount:7},{text:"Siphonarioi Militia Unit Medal",amount:2},{text:"Shared Unit XP each",amount:5e4},{text:"Unit Medal",amount:50}]},{id:"5.3.4",name:"Stage 5",required:10,total:12,challenges:[{id:"5.3.4.0",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.4.1",text:"In Siege or Field Battles, use Siphonarioi in 0/12 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.4.2",text:"In Siege or Field Battles, get an S rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"5.3.4.3",text:"In Siege or Field Battles, use artillery to kill 0/280 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.4.4",text:"In Field or Siege Battles, get 0/50 assists or kills.",tags:["Siege","Field"],conditions:[]},{id:"5.3.4.5",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.4.6",text:"Use a trebuchet or interrupt a capture in 0/12 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.4.7",text:"Use Siphonarioi and get a kill/death ratio of 1 or greater in 0/8 ranked battles or in 0/16 Siege or Field battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"5.3.4.8",text:"Use Siphonarioi to kill 0/260 enemy soldiers in ranked battles or 0/520 enemy soldiers in Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.4.9",text:"Kill 0/700 soldiers using Siphonarioi in Expeditions.",tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"5.3.4.10",text:"In Free Battles, use Siphonarioi and win 0/4 times.",tags:["Siege","Field"],conditions:[]},{id:"5.3.4.11",text:"Using Siphonarioi, achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Siphonarioi Militia Unit Medal",amount:12},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.3.5",name:"Stage 6",required:10,total:12,challenges:[{id:"5.3.5.0",text:"In Siege or Field Battles, use Siphonarioi in 0/5 battles and win.",tags:["Siege","Field"],conditions:[]},{id:"5.3.5.1",text:"In Siege or Field Battles, use Siphonarioi to deal 0/5,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"5.3.5.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.5.3",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"5.3.5.4",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.5.5",text:"In Field or Siege Battles, kill 0/20 heroes.",tags:["Siege","Field"],conditions:[]},{id:"5.3.5.6",text:"Use a trebuchet or interrupt a capture in 0/12 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.5.7",text:"In Deathmatch, get an A rating or better 0/7 times.",tags:["Deathmatch"],conditions:[]},{id:"5.3.5.8",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"5.3.5.9",text:'In Siege Battles, get the "Say Cheese" badge 0/8 times.',tags:["Siege","Field"],conditions:[]},{id:"5.3.5.10",text:"Win 0/6 Ranked Battles or win 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.5.11",text:"Win 0/10 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Siphonarioi Militia Unit Medal",amount:14},{text:"Shared Unit XP each",amount:5e4}]},{id:"5.3.6",name:"Stage 7",required:10,total:12,challenges:[{id:"5.3.6.0",text:"In Siege or Field Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"5.3.6.1",text:"In Siege or Field Battles, use Siphonarioi to kill 0/350 troops.",tags:["Siege","Field"],conditions:[]},{id:"5.3.6.2",text:"In Siege or Field Battles, use Siphonarioi in 0/10 battles and get a kill/death ratio of 1 or greater.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.6.3",text:"In Siege or Field Battles, deal 0/300,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"5.3.6.4",text:"In 0/8 Siege or Field Battles, use artillery to kill 30 troops or kill 2 enemy heroes.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.6.5",text:"In Siege Battles, push a siege tower to the ramparts once or interrupt a capture once in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.6.6",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"5.3.6.7",text:"Kill 0/300 soldiers using Siphonarioi in Free Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.6.8",text:"Win 0/5 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"5.3.6.9",text:"Get an S ranking in 0/8 ranked battles or get MVP in 0/8 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"5.3.6.10",text:'Earn 0/10 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"5.3.6.11",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Siphonarioi Hellfire Doctrine",amount:null},{text:"Increases flame duration by 2 seconds",amount:null},{text:"Siphonarioi Militia Unit Medal",amount:4},{text:"Shared Unit XP each",amount:5e4}]}]}]},{id:6,name:"Season 06 - Scourge of Winter",sections:[{id:"6.0",name:"Landsknechts ",stages:[{id:"6.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"6.0.0.0",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.0.0.1",text:"In Field or Siege Battles, get an A rating or better 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"6.0.0.2",text:"In Siege or Field Battles, use pikeman units and win 0/4 times.",tags:["Siege","Field"],conditions:[]},{id:"6.0.0.3",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.0.0.4",text:"In 0/5 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.0.0.5",text:'Earn 0/5 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.0.0.6",text:"Win 0/3 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.0.0.7",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]}],rewards:[{text:"Halberdier Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"6.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"6.0.1.0",text:"In Siege or Field Battles, use polearm infantry 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"6.0.1.1",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/4 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.0.1.2",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.0.1.3",text:"Raise our hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"6.0.1.4",text:"Win 0/4 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"6.0.1.5",text:'Earn 0/6 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.0.1.6",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"6.0.1.7",text:"Win 0/6 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Halberdier Kit",amount:28},{text:"Unit Medal",amount:70}]},{id:"6.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"6.0.2.0",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.0.2.1",text:"In Siege or Field Battles, use Landsknechts to kill 0/160 troops.",tags:["Siege","Field"],conditions:[]},{id:"6.0.2.2",text:"In Siege or Field Battles, you or your group members get 0/30 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"6.0.2.3",text:"In Siege Battles, deploy or destroy an artillery piece in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.0.2.4",text:"Join Free Battle 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"6.0.2.5",text:"Kill 0/10 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"6.0.2.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"6.0.2.7",text:"Using Landsknechts, achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Landsknechts' Charge Doctrine",amount:null},{text:"Reduces charge cooldown by 5 seconds",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"6.1",name:"Armiger Lancers ",stages:[{id:"6.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"6.1.0.0",text:"Use a trebuchet or interrupt a capture in 0/7 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.1.0.1",text:"In iege or Field Battles, get ranked in the top 5 0/6 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.1.0.2",text:"In Siege or Field Battles, use cavalry units 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"6.1.0.3",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1 or above 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.1.0.4",text:"In Expeditions, use cavalry 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"6.1.0.5",text:'Earn 0/7 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.1.0.6",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"6.1.0.7",text:'Kill 0/450 enemy soldiers in Ranked Battles or get 0/5 "No',tags:["Ranked"],conditions:[]},{id:"6.1.0.8",text:'Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"6.1.0.9",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Yeomen Kit",amount:18},{text:"Barb",amount:18},{text:"Barracks Expansion ",amount:1},{text:"Unit Medal",amount:70}]},{id:"6.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"6.1.1.0",text:"In 0/6 Siege Battles, destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"6.1.1.1",text:"In Siege or Field Battles, get an S rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"6.1.1.2",text:"In Siege Battles, deploy or destroy an artillery piece in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.1.1.3",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"6.1.1.4",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]},{id:"6.1.1.5",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.1.1.6",text:"Win 0/8 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"6.1.1.7",text:'In Siege Battles, get the "Say Cheese" badge 0/3 times.',tags:["Siege","Field"],conditions:[]},{id:"6.1.1.8",text:'Earn 0/5 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Armiger Lancers' Weapons Doctrine",amount:null},{text:"Unit Medal",amount:20}]},{id:"6.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"6.1.2.0",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/6 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.1.2.1",text:"In Field or Siege Battles, kill 0/600 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"6.1.2.2",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.1.2.3",text:"In Siege or Field Battles, deal 0/500,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"6.1.2.4",text:"Get 0/20 silver or better badges in any battle.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"6.1.2.5",text:"Using Yeomen, achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"6.1.2.6",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"6.1.2.7",text:'Earn 0/10 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"6.1.2.8",text:"Take part in 0/5 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"6.1.2.9",text:"Win 0/5 Ranked Battles or win 0/10 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Yeomen Kit",amount:18},{text:"Barb",amount:18},{text:"Unit Medal",amount:70}]},{id:"6.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"6.1.3.0",text:"In Siege or Field Battles, use Armiger Lancers 0/8 times",tags:["Siege","Field"],conditions:[]},{id:"6.1.3.1",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.1.3.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 40 soldiers in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.1.3.3",text:"Use a trebuchet or interrupt a capture in 0/8 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.1.3.4",text:"In Field or Siege Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"6.1.3.5",text:"Search 0/25 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"6.1.3.6",text:"In Expeditions, get an A+ rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"6.1.3.7",text:'Earn 0/5 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.1.3.8",text:"Win 0/5 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"6.1.3.9",text:"Join 0/7 Free Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Armiger Lancers' Gallop Doctrine",amount:null},{text:"Reduces Gallop cooldown by 4 seconds",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"6.2",name:"Liao",stages:[{id:"6.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"6.2.0.0",text:"In Siege or Field Battles, use cavalry units 0/9 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.0.1",text:"In Siege or Field Battles, get ranked in the top 5 0/9 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.2.0.2",text:"ln Field or Siege Battles, kill 0/20 heroes.",tags:["Siege","Field"],conditions:[]},{id:"6.2.0.3",text:"In Siege or Field Battles, deal 0/600,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"6.2.0.4",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/9 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.0.5",text:"Raise your hero up 0/12 Levels.",tags:["General"],conditions:[]},{id:"6.2.0.6",text:'In Siege Battles, get the "Say Cheese" badge 0/6 times.',tags:["Siege","Field"],conditions:[]},{id:"6.2.0.7",text:"Win 0/6 Ranked Battles or win 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.2.0.8",text:"Defeat a band of wandering Rebels 0/25 times.",tags:["Open World"],conditions:[]},{id:"6.2.0.9",text:'Earn 0/12 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.0.10",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Fire Lancer Kit",amount:18},{text:"Rouncey",amount:18},{text:"Barracks Expansion ",amount:1},{text:"Unit Medal",amount:70}]},{id:"6.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"6.2.1.0",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.1",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/10 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.2",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.3",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1 or above 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.1.4",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.5",text:"Use four units from different eras in a Siege or Field battle 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.6",text:"Get an A rating or better in 0/8 Ranked Battles or get an A+ rating or better in 0/8 Field or Siege Battles of any type. ",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.2.1.7",text:"Win 0/6 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"6.2.1.8",text:"In Free Battles, use units to deal 0/400,000 Critical damage to enemy units.",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.9",text:'Earn 0/10 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.1.10",text:"Win 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.1.11",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:120}]},{id:"6.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"6.2.2.0",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.2.1",text:"In Siege or Field Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.2.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.2.3",text:"In Siege or Field Battles, use cavalry units and win 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.2.4",text:"In Field or Siege Battles, use artillery to kill 0/220 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.2.5",text:"Defeat a band of wandering Rebels 0/25 times.",tags:["Open World"],conditions:[]},{id:"6.2.2.6",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.2.7",text:"Win 0/6 Ranked Battles or win 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.2.2.8",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.2.9",text:"In Expeditions, use Fire Lancers and win 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"6.2.2.10",text:"In Free Battles, get an A rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.2.11",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Liao's Rangers Weapons Doctrine",amount:null},{text:"Unit Medal",amount:20}]},{id:"6.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"6.2.3.0",text:"In 0/8 Siege Battles,destroy a siege engine or get 40 capture points.",tags:["Siege","Field"],conditions:[]},{id:"6.2.3.1",text:"In Field or Siege Battles, get 0/50 assists or kills.",tags:["Siege","Field"],conditions:[]},{id:"6.2.3.2",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.3.3",text:"In Field or Siege Battles, kill 0/750 troops.",tags:["Siege","Field"],conditions:[]},{id:"6.2.3.4",text:"In Siege or Field Battles, get ranked in the top 5 0/9 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.2.3.5",text:"In Siege or Field Battles, your cavalry units get a K/D ratio greater than 10/10 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.3.6",text:'Earn 0/10 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"6.2.3.7",text:"Using Fire Lancers, achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"6.2.3.8",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"6.2.3.9",text:"Win 0/6 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.3.10",text:'In Siege Battles, get the "Say Cheese" badge 0/6 times.',tags:["Siege","Field"],conditions:[]},{id:"6.2.3.11",text:"Get an A rating or better in 0/10 Ranked Battles or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Fire Lancer Kit",amount:18},{text:"Rouncey",amount:18},{text:"Unit Medal",amount:70}]},{id:"6.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"6.2.4.0",text:"In Siege or Field Battles, use Liao's Rangers 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.4.1",text:"In Siege or Field Battles, get an S rating or better 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.4.2",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/11 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.4.3",text:"Use a trebuchet or interrupt a capture in 0/12 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.4.4",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.4.5",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/8 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.4.6",text:"Use Liao's Rangers and get a kill/death ratio of greater than 1 in 0/10 ranked battles or 0/20 Field or Siege battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"6.2.4.7",text:"In Free Battles, use Liao's Rangers and win 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.4.8",text:"Using Liao's Rangers, achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"6.2.4.9",text:"Raise your hero up 0/12 Levels.",tags:["General"],conditions:[]},{id:"6.2.4.10",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"6.2.4.11",text:"Win 0/8 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:120}]},{id:"6.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"6.2.5.0",text:"In Siege or Field Battles, use Liao's Rangers and win 0/8 times.",tags:["Siege","Field"],conditions:[]},{id:"6.2.5.1",text:"In Field or Siege Battles, use artillery to kill 0/280 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.5.2",text:"In Siege or Field Battles, you or your group members get 0/60 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"6.2.5.3",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/12 battles.",tags:["Siege","Field"],conditions:[]},{id:"6.2.5.4",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.5.5",text:"Use four units from different eras in a Siege or Field battle 0/6 times Win..",tags:["Siege","Field"],conditions:[]},{id:"6.2.5.6",text:"Raise your hero up 0/12 Levels.",tags:["General"],conditions:[]},{id:"6.2.5.7",text:"In Deathmatch, get an A rating or better 0/7 times.",tags:["Deathmatch"],conditions:[]},{id:"6.2.5.8",text:"Take part in 0/8 TerritoryWar battles.",tags:["Territory Wars"],conditions:[]},{id:"6.2.5.9",text:'Earn 0/8 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"6.2.5.10",text:"Use Liao's Rangers and win 0/6 ranked battles or 0/12 Field or Siege battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"6.2.5.11",text:"Win 0/10 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Liao's Rangers Melee Doctrine",amount:null},{text:"Every level reduces Bludgeon's cooldown by 3 seconds",amount:null},{text:"Unit Medal",amount:20}]}]}]},{id:7,name:"Season 07 - Wolves of Ragnarok",sections:[{id:"7.0",name:"Sons of Fenrir ",stages:[{id:"7.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"7.0.0.0",text:'Earn 0/2 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.0.1",text:"In Siege Battles, deploy or destroy an artillery piece in 0/5 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.0.2",text:"Raise your hero up 0/5 Levels.",tags:["General"],conditions:[]},{id:"7.0.0.3",text:"Complete 0/8 Fief Quests.",tags:["Open World"],conditions:[]},{id:"7.0.0.4",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.0.0.5",text:"Kill 200 soldiers in a single battle in any mode 0/3 times.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"7.0.0.6",text:"Earn 0/50 badges.",tags:["General"],conditions:[]},{id:"7.0.0.7",text:"Win 0/5 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"7.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"7.0.1.0",text:"Take three or more units from different eras into a Siege or Field battle 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.1.1",text:"Raise your hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"7.0.1.2",text:"Defeat 0/800 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.0.1.3",text:"In 0/7 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.1.4",text:"In Field or Siege Battles, use artillery to kill 0/120 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.1.5",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.1.6",text:"Achieve victory in 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"7.0.1.7",text:"Join Free Battle 0/5 times.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Sons of Fenrir Kit",amount:18},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"7.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"7.0.2.0",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.2.1",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.2.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.2.3",text:"In Siege or Field Battles, get ranked in the top 5 0/6 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.0.2.4",text:'Earn 0/5 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.2.5",text:"In Siege or Field Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"7.0.2.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"7.0.2.7",text:"Kill 0/10 heroes in Deathmatch.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Wolf Doctrine",amount:null},{text:"Increases slashing damage by 50",amount:null},{text:"Increases slashing armour penetration by 50",amount:null},{text:"Unit Medal",amount:20}]},{id:"7.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"7.0.3.0",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/4 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.0.3.1",text:"Take the Sons of Fenrir into a Siege or Field battle and win 0/4 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.0.3.2",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"7.0.3.3",text:"In any mode, get an A rating or better 0/10 times.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"7.0.3.4",text:"Raise your season level by 0/6.",tags:["General"],conditions:[]},{id:"7.0.3.5",text:"Using Sons of Fenrir, achieve victory in 0/4 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"7.0.3.6",text:"Use the Sons of Fenrir to win 0/6 expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.0.3.7",text:"In Field or Siege Battles, use the Sons of Fenrir to kill 0/50 ranged soldiers.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20},{text:"Sons of Fenrir Cartoon Avatar",amount:null}]}]},{id:"7.1",name:"Beserkers ",stages:[{id:"7.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"7.1.0.0",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.1.0.1",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.1.0.2",text:'Earn 0/6 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.0.3",text:"Raise your hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"7.1.0.4",text:"In Field or Siege Battles, get 0/45 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"7.1.0.5",text:"Defeat 0/1,200 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.1.0.6",text:"Get 0/20 silver or better badges in any battle.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"7.1.0.7",text:"In Field or Siege Battles, get the Grand Bloodbath badge 0/4 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.0.8",text:"Win 0/3 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"7.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"7.1.1.0",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/5 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.1.1.1",text:"Get ranked in the top 5 in 0/6 Ranked Battles, or get MVP in 0/6 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.1.1.2",text:"In Siege or Field Battles, get an A rating or better 0/7 times.",tags:["Siege","Field"],conditions:[]},{id:"7.1.1.3",text:"In Siege or Field Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.1.4",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/7 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.1.5",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"7.1.1.6",text:"In 0/6 Siege or Field Battles, kill 60 troops per battle.",tags:["Siege","Field"],conditions:[]},{id:"7.1.1.7",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"7.1.1.8",text:'Earn 0/4 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:120}]},{id:"7.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"7.1.2.0",text:"Use a trebuchet or interrupt a capture in 0/7 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.2.1",text:"In Siege or Field Battles, get ranked in the top 5 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.1.2.2",text:'Earn 0/6 "Drop Dead" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.2.3",text:"In 0/8 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.2.4",text:"In Siege or Field Battles, use artillery to kill 0/180 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.2.5",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]},{id:"7.1.2.6",text:"Raise your hero up 0/10 Levels.",tags:["General"],conditions:[]},{id:"7.1.2.7",text:"Win 0/5 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.1.2.8",text:"Get ranked in the top 5 in 0/8 Ranked Battles, or get MVP in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.1.2.9",text:"In Expeditions, get an A+ rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Beserker Kit",amount:9},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:20}]},{id:"7.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"7.1.3.0",text:"In Siege Battles, deploy or destroy an artillery piece in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.3.1",text:'Earn 0/4 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.3.2",text:"In Field or Siege Battles, get 0/60 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"7.1.3.3",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"7.1.3.4",text:"Using Berserkers, achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"7.1.3.5",text:"Take Berserkers into 0/8 Siege or Field battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.3.6",text:"Use four units from different eras in a Siege or Field battle 0/6 times and win.",tags:["Siege","Field"],conditions:[]},{id:"7.1.3.7",text:"Get 0/25 silver or better badges in any battle.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"7.1.3.8",text:"Get an A rating or better in 0/7 Ranked Battles or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.1.3.9",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Berserkers' Doctrine",amount:null},{text:"Increases health by 360",amount:null},{text:"Reduces ranged damage taken by 50",amount:null},{text:"Unit Medal",amount:20}]},{id:"7.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"7.1.4.0",text:"In Field or Siege Battles, kill 0/20 heroes.",tags:["Siege","Field"],conditions:[]},{id:"7.1.4.1",text:"In 0/8 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.4.2",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/4 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.1.4.3",text:"Earn 0/80 badges.",tags:["General"],conditions:[]},{id:"7.1.4.4",text:"In Siege or Field Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"7.1.4.5",text:"In Free Battle mode, take the Berserkers into battle 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.1.4.6",text:"In Expedition, take the Berserkers into battle and defeat 0/2,000 troops.",tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"7.1.4.7",text:"Use Berserkers and get a kill/death ratio of 4 or greater in 0/6 ranked battles or in 0/12 Siege or Field battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"7.1.4.8",text:"In Expedition Mode get an A+ rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.1.4.9",text:"In Siege Battles, kill 0/200 enemies with the Berserkers' Frenzy skill.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Berserkers Cartoon Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"7.2",name:"Shieldmaidens ",stages:[{id:"7.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"7.2.0.0",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.0.1",text:"Win 0/6 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.0.2",text:"In Siege or Field Battles, get ranked in the top 5 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.0.3",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/6 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.0.4",text:"In Deathmatch, you or your group collectively kills a total of 0/120 heroes.",tags:["Deathmatch"],conditions:[]},{id:"7.2.0.5",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/7 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.0.6",text:'Earn 0/8 "Cakewalk" badges while using Northlander units during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"7.2.0.7",text:'Get the "A Deadly Century" badge 0/7 times.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.0.8",text:"Search 0/20 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"7.2.0.9",text:"Raise your hero up 0/12 Levels.",tags:["General"],conditions:[]},{id:"7.2.0.10",text:"In Expeditions, get an A rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"7.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"7.2.1.0",text:"In Siege or Field Battles, use Northlander units to kill 0/500 troops.",tags:["Siege","Field"],conditions:[]},{id:"7.2.1.1",text:"In Siege or Field Battles, deal 0/400,000 Critical damage.",tags:["Siege","Field"],conditions:[]},{id:"7.2.1.2",text:"In Siege or Field Battles, get ranked in the top 5 0/12 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.1.3",text:"Get a K/D ratio of 2 or greater with a Northlander unit, during 0/12 Expedition battles.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.2.1.4",text:"In Siege or Field Battles, use Northlander units and win 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"7.2.1.5",text:"Take a sword infantry unit into a Siege or Field battle 0/6 times and win.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.1.6",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.1.7",text:"Get 0/80 hero kills or assists in Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.1.8",text:'Earn 0/10 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.1.9",text:"In Field or Siege Battles, use artillery to kill 0/200 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.1.10",text:"Use Northlander units in 0/10 ranked battles or in 0/20 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.1.11",text:"Win 0/6 Ranked Battles or win 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:120}]},{id:"7.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"7.2.2.0",text:"Defeat 0/2,000 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.2.2.1",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.2.2",text:"Use four units from different eras in a Siege or Field battle 0/12 times and win.",tags:["Siege","Field"],conditions:[]},{id:"7.2.2.3",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"7.2.2.4",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"7.2.2.5",text:'Earn 0/12 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.2.6",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"7.2.2.7",text:"In Deathmatch, get an A rating or better 0/10 times.",tags:["Deathmatch"],conditions:[]},{id:"7.2.2.8",text:"Get 0/40 silver or better badges in any battle.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"7.2.2.9",text:'In Siege Battles, get the "Say Cheese" badge 0/4 times. ',tags:["Siege","Field"],conditions:[]},{id:"7.2.2.10",text:"In Siege Battles, deploy or destroy an artillery piece in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Shield Doctrine",amount:null},{text:"Increases slashing defence by 50",amount:null},{text:"Increases piercing defence by 50",amount:null},{text:"Increases blunt defence by 50",amount:null},{text:"Unit Medal",amount:20}]},{id:"7.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"7.2.3.0",text:"In Field or Siege Battles, kill 0/600 troops.",tags:["Siege","Field"],conditions:[]},{id:"7.2.3.1",text:"In 0/10 Field or Siege Battles, get 8 kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"7.2.3.2",text:"In Field or Siege Battles, have any unit's kill/death ratio reach 1 or above 0/12 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.3.3",text:"In Siege or Field Battles, get ranked in the top 5 0/10 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.3.4",text:"In Siege or Field Battles, you or your group members get 0/30 ratings of A+ or better.",tags:["Siege","Field"],conditions:[]},{id:"7.2.3.5",text:"Use Northlander units and win 0/5 ranked battles or 0/10 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.3.6",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/8 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.3.7",text:"In Expeditions, get an A rating or better 0/12 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.2.3.8",text:"Earn 0/120 badges.",tags:["General"],conditions:[]},{id:"7.2.3.9",text:"Get an A rating or better in 0/10 Ranked Battles or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.3.10",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"7.2.3.11",text:"Win 0/6 Deathmatches.",tags:["Deathmatch"],conditions:[]}],rewards:[{text:"Shieldmaidens",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"7.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"7.2.4.0",text:"In Siege or Field Battles, your spearmen take 0/6,000,000 damage",tags:["Siege","Field"],conditions:[]},{id:"7.2.4.1",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/12 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.4.2",text:"In Siege or Field Battles, get ranked in the top 5 0/10 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.4.3",text:"In Field or Siege Battles, kill 0/25 heroes.",tags:["Siege","Field"],conditions:[]},{id:"7.2.4.4",text:"In Free Battles, kill 0/60 troops.",tags:["Siege","Field"],conditions:[]},{id:"7.2.4.5",text:"In Siege or Field Battles, you or your group members get 0/50 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"7.2.4.6",text:"Raise your hero up 0/15 Levels.",tags:["General"],conditions:[]},{id:"7.2.4.7",text:'Earn 0/7 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.4.8",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"7.2.4.9",text:'Earn 0/8 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"7.2.4.10",text:"In Expedition Mode get an S rating 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.2.4.11",text:'Earn 0/6 "Drop Dead" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:220}]},{id:"7.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"7.2.5.0",text:"Take Shieldmaidens into a Siege or Field battle 0/12 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.5.1",text:"In Siege Battles, deploy or destroy an artillery piece in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.5.2",text:"In 0/12 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.5.3",text:"Win 0/10 Expeditions using Shieldmaidens.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"7.2.5.4",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/10 battles.",tags:["Siege","Field"],conditions:[]},{id:"7.2.5.5",text:"In Siege or Field Battles, get an S rating or better 0/7 times.",tags:["Siege","Field"],conditions:[]},{id:"7.2.5.6",text:'Earn 0/12 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.5.7",text:"Use Shieldmaidens and win 0/6 Ranked Battles or 0/12 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.5.8",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"7.2.5.9",text:"Win 0/8 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"7.2.5.10",text:"Get an S ranking in 0/8 ranked battles or get MVP in 0/8 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.5.11",text:"Get a Troop Kill Score of 1000 or higher in 0/3 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Attack Doctrine",amount:null},{text:"Reduces Freyja's Charge cooldown by 5 seconds",amount:null},{text:"Unit Medal",amount:20}]},{id:"7.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"7.2.6.0",text:"In Siege or Field Battles, get an A rating or better 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"7.2.6.1",text:"In Field or Siege Battles, use Shieldmaidens to kill 0/600 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"7.2.6.2",text:"In Siege or Field Battles, get ranked in the top 5 0/10 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"7.2.6.3",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/12 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.6.4",text:`In Field or Siege Battles, use Shieldmaidens' skill "Freyja's Charge" to deal 0/1,000,000 damage.`,tags:["Siege","Field"],conditions:[]},{id:"7.2.6.5",text:"Use Shieldmaidens and get a kill/death ratio of greater than 1 in 0/10 Ranked Battles or 0/20 Field or Siege Battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"7.2.6.6",text:"Take Shieldmaidens into 0/6 Free Battles and win.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"7.2.6.7",text:"In Free Battles, get an A rating or better 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"7.2.6.8",text:"Kill 200 soldiers in a single battle in any mode 0/10 times.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"7.2.6.9",text:"Using Shieldmaidens, achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"7.2.6.10",text:"In Field or Siege Battles, use Shieldmaidens to take 0/7,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"7.2.6.11",text:'Earn 0/2 "Combo Breaker" badges.',tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Shieldmaidens Cartoon Avatar",amount:null},{text:"Unit Medal",amount:20}]}]}]},{id:8,name:"Season 08 - Dynasty",sections:[{id:"8.0",name:"Cudgel Monks ",stages:[{id:"8.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"8.0.0.0",text:"Destroy or deploy an artillery piece in 0/5 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.0.1",text:'Earn 0/5 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.0.2",text:"Raise your hero 0/5 levels.",tags:["General"],conditions:[]},{id:"8.0.0.3",text:"In Field or Siege Battles, use artillery to kill 0/80 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.0.4",text:"Join 0/5 Deathmatches or kill 0/12 heroes in Field or Siege Battles.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"8.0.0.5",text:"In 0/5 Expeditions, achieve a rating of C or better.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.0.0.6",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1.5 or above 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.0.7",text:"Achieve victory in 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"8.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"8.0.1.0",text:"In Field or Siege Battles, get 0/50 assists or kills.",tags:["Siege","Field"],conditions:[]},{id:"8.0.1.1",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.0.1.2",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"8.0.1.3",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/6 Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"8.0.1.4",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.1.5",text:"Win 0/3 Free Battles or win 0/5 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"8.0.1.6",text:"Get ranked in the top 5 in 0/4 Ranked Battles, or get MVP in 0/4 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"8.0.1.7",text:"In Expeditions, get an A rating or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Cudgel Monk Kit",amount:18},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"8.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"8.0.2.0",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.2.1",text:"Earn 0/50 badges.",tags:["General"],conditions:[]},{id:"8.0.2.2",text:"In Siege or Field Battles, get ranked in the top 5 0/6 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"8.0.2.3",text:"Take Cudgel Monks into a Siege or Field battle 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.2.4",text:"Kill 5 heroes per battle, or destroy or deploy an artillery piece, in 0/6 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.0.2.5",text:"Achieve victory in 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"8.0.2.6",text:"Use Cudgel Monks to win 0/6 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.0.2.7",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Monastic Doctrine I",amount:null},{text:"Unit Medal",amount:20}]},{id:"8.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"8.0.3.0",text:"In Siege or Field Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"8.0.3.1",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"8.0.3.2",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.0.3.3",text:"Kill 0/12 heroes in Deathmatches or use artillery to kill 0/160 soldiers in Field or Siege Battles.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"8.0.3.4",text:"Use Cudgel Monks to win 0/3 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"8.0.3.5",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]},{id:"8.0.3.6",text:"Use Cudgel Monks in 0/6 ranked battles or in 0/12 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"8.0.3.7",text:"Destroy or deploy an artillery piece in 0/6 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]}]},{id:"8.1",name:"Greyhair Garrison ",stages:[{id:"8.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"8.1.0.0",text:"In Field or Siege Battles, use buckler infantry to deal 0/4,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"8.1.0.1",text:"Raise your hero 0/6 levels.",tags:["General"],conditions:[]},{id:"8.1.0.2",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"8.1.0.3",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1.5 or above 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.0.4",text:'In Siege or Field Battles, earn 0/6 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.0.5",text:"In Field or Siege Battles, kill 0/15 heroes.",tags:["Siege","Field"],conditions:[]},{id:"8.1.0.6",text:"In Expeditions, kill 200 soldiers 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.1.0.7",text:"Join 0/6 Free Battles, or deploy 0/15 artillery in Field or Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.0.8",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]},{id:"8.1.0.9",text:"In 0/6 Field or Siege Battles, send at least 4 units with different star levels into battle.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"8.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"8.1.1.0",text:"In Field or Siege Battles, use polearm units to deal 0/4,000,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"8.1.1.1",text:"Earn 0/25 silver or better badges.",tags:["General"],conditions:[]},{id:"8.1.1.2",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.1.1.3",text:"In Siege or Field Battles, earn 40 capture points or interrupt a capture in 0/7 battles.",tags:["Siege","Field"],conditions:[]},{id:"8.1.1.4",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"8.1.1.5",text:'Earn 0/2 "Combo Breaker" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.1.6",text:"Achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"8.1.1.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"8.1.1.8",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/7 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.1.9",text:"In Expeditions, get an A rating or better 0/9 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"8.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"8.1.2.0",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.1.2.1",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.2.2",text:"Win 0/3 Field or Siege Battles in a row or win 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"8.1.2.3",text:"In Field or Siege Battles, get 0/60 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"8.1.2.4",text:'Earn "No Quarter" 0/4 times.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/120 heroes.",tags:["Deathmatch"],conditions:[]},{id:"8.1.2.6",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]},{id:"8.1.2.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"8.1.2.8",text:"In Siege Battles, deploy or destroy an artillery piece in 0/7 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.2.9",text:"Defeat 0/1,500 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Greyhair Garrison Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"8.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"8.1.3.0",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.1.3.1",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.3.2",text:"Use the Greyhair Garrison in 0/7 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"8.1.3.3",text:'Defeat 0/20 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"8.1.3.4",text:"Win 0/3 Free Battles using the Greyhair Garrison.",tags:["Siege","Field"],conditions:[]},{id:"8.1.3.5",text:"In Siege or Field Battles, you or your group collectively kills a total of 240 soldiers in 0/7 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.1.3.6",text:"Take part in 0/7 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"8.1.3.7",text:"In Expedition Mode get an A+ rating or better 0/7 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.1.3.8",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"8.1.3.9",text:"Join 0/7 Free Battles or win 0/5 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Greyhair Doctrine II",amount:null},{text:"Increases slashing damage by 110 points",amount:null},{text:"Increases piercing damage by 110 points",amount:null},{text:"Increases blunt damage by 110 points",amount:null},{text:"Unit Medal",amount:30}]},{id:"8.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"8.1.4.0",text:"Take part in 0/7 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"8.1.4.1",text:'In Siege Battles, get the "Say Cheese" badge 0/3 times.',tags:["Siege","Field"],conditions:[]},{id:"8.1.4.2",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.1.4.3",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"8.1.4.4",text:"Use the Greyhair Garrison in 0/7 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.1.4.5",text:"Use the Greyhair Garrison and get a kill/death ratio of greater than 1.5 in 0/7 Ranked Battles or 0/14 Field or Siege Battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"8.1.4.6",text:"Win 0/4 Deathmatches or complete 0/15 Fief Quests.",tags:["Deathmatch","Open World"],conditions:[]},{id:"8.1.4.7",text:"In Expeditions, kill 200 soldiers 0/7 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.1.4.8",text:"Win 0/4 Field or Siege Battles using the Greyhair Garrison.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Greyhair Garrison Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"8.2",name:"Modao Battalion ",stages:[{id:"8.2.0",name:"Stage 1",required:8,total:10,challenges:[{id:"8.2.0.0",text:"In Siege or Field Battles, get an A rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"8.2.0.1",text:"In Siege Battles, push a siege tower to the ramparts once or destroy a siege engine in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"8.2.0.2",text:"Win 0/6 Deathmatches.",tags:["Deathmatch"],conditions:[]},{id:"8.2.0.3",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"8.2.0.4",text:"In Field or Siege Battles, get 0/30 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"8.2.0.5",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"8.2.0.6",text:"Join 0/6 Deathmaches or get ranked in the top 5 0/8 times in Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"8.2.0.7",text:"Get a Troop Kill Score of 1000 or higher in 0/3 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.0.8",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"8.2.1",name:"Stage 2",required:8,total:10,challenges:[{id:"8.2.1.0",text:"Earn 0/60 badges.",tags:["General"],conditions:[]},{id:"8.2.1.1",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.2.1.2",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/7 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.1.3",text:"In Field or Siege Battles, get an A rating or better 0/7 times.",tags:["Siege","Field"],conditions:[]},{id:"8.2.1.4",text:"In 0/6 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.1.5",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.1.6",text:'Earn 0/7 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.1.7",text:"Win 0/4 Free Battles or join 0/8 Territory Wars.",tags:["Siege","Territory Wars","Field"],conditions:[]},{id:"8.2.1.8",text:"Achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"8.2.1.9",text:"Use a trebuchet or interrupt a capture in 0/7 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"8.2.2",name:"Stage 3",required:8,total:10,challenges:[{id:"8.2.2.0",text:"In Field or Siege Battles, get 0/60 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"8.2.2.1",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1.5 or above 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.2.2",text:"In Field or Siege Battles, use buckler infantry to deal 0/4,500,000 damage.",tags:["Siege","Field"],conditions:[]},{id:"8.2.2.3",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"8.2.2.4",text:"Defeat 0/1,500 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.2.2.5",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.2.2.6",text:'Earn "No Quarter" 0/6 times.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.2.7",text:"In Field or Siege Battles, deploy 0/15 artillery.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.2.8",text:"Win 0/4 Ranked Battles or win 0/8 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"8.2.2.9",text:"Win 0/4 Deathmatches or get an S rating in 0/5 Field or Siege Battles.",tags:["Siege","Deathmatch","Field"],conditions:[]}],rewards:[{text:"Modao Battalion Unit Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:20}]},{id:"8.2.3",name:"Stage 4",required:8,total:10,challenges:[{id:"8.2.3.0",text:"Win 0/4 Free Battles or complete 0/15 Fief Quests.",tags:["Siege","Open World","Field"],conditions:[]},{id:"8.2.3.1",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.3.2",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"8.2.3.3",text:'In Siege Battles, get the "Say Cheese" badge 0/4 times.',tags:["Siege","Field"],conditions:[]},{id:"8.2.3.4",text:"Win 0/3 Field or Siege Battles in a row or win 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"8.2.3.5",text:"In Siege or Field Battles, get Drop Dead 0/3 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.3.6",text:"Defeat a band of wandering Rebels 0/12 times.",tags:["Open World"],conditions:[]},{id:"8.2.3.7",text:"Use Modao Battalion to win 0/7 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.2.3.8",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.2.3.9",text:"Use the Modao Battalion unit and win 0/4 ranked battles or 0/8 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Modao Doctrine II",amount:null},{text:"The unit's ability to stop cavalry is increased by 1 second",amount:null},{text:"Unit Medal",amount:30}]},{id:"8.2.4",name:"Stage 5",required:8,total:10,challenges:[{id:"8.2.4.0",text:"Use a trebuchet or interrupt a capture in 0/7 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.4.1",text:'Earn 0/7 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"8.2.4.2",text:"In Expedition Mode get an A+ rating or better 0/7 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"8.2.4.3",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"8.2.4.4",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"8.2.4.5",text:"In Siege or Field Battles, use Modao Battalion to kill 0/300 soldiers.",tags:["Siege","Field"],conditions:[]},{id:"8.2.4.6",text:"Use the Modao Battalion unit in 0/7 ranked battles or in 0/14 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"8.2.4.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"8.2.4.8",text:"Achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"8.2.4.9",text:"In Siege Battles, deploy or destroy an artillery piece in 0/7 battles.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Modao Battalion Avatar",amount:null},{text:"Unit Medal",amount:30}]}]}]},{id:9,name:"Season 09 - Tyranny",sections:[{id:"9.0",name:"Outriders ",stages:[{id:"9.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"9.0.0.0",text:"Raise your hero up 0/5 Levels.",tags:["General"],conditions:[]},{id:"9.0.0.1",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1.5 or above 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.0.2",text:"Earn a Troop Kill Score of 0/3,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.0.3",text:'Earn 0/3 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.0.4",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"9.0.0.5",text:"Destroy or deploy an artillery piece in 0/4 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.0.6",text:"Win 0/5 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"9.0.0.7",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"9.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"9.0.1.0",text:"In Field or Siege Battles, use artillery to kill 0/100 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.1.1",text:"Join 0/5 Deathmatches or kill 0/12 heroes in Field or Siege Battles.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"9.0.1.2",text:"Raise your hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"9.0.1.3",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"9.0.1.4",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"9.0.1.5",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.1.6",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.1.7",text:"In Field or Siege Battles, get an A+ rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Outrider Kit",amount:18},{text:"Courser",amount:18},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"9.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"9.0.2.0",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"9.0.2.1",text:"Earn a Troop Kill Score of 0/4,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.2.2",text:"Raise your hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"9.0.2.3",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]},{id:"9.0.2.4",text:'In Siege Battles, get the "Say Cheese" badge 0/3 times.',tags:["Siege","Field"],conditions:[]},{id:"9.0.2.5",text:"In 0/6 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.2.6",text:"Defeat 0/1,000 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"9.0.2.7",text:"Join 0/6 Deathmatches or win 0/5 Field or Siege Battles.",tags:["Siege","Deathmatch","Field"],conditions:[]}],rewards:[{text:"Outriders Incendiary Doctrine",amount:null},{text:"Reduces Burning Plains cooldown by 4 seconds",amount:null},{text:"Unit Medal",amount:20}]},{id:"9.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"9.0.3.0",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"9.0.3.1",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.3.2",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1.5 or above 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.3.3",text:"In Field or Siege Battles, use Outriders and get a Troop Kill Score of 200 or higher in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.0.3.4",text:"Join a total of 0/6 Deathmatches or complete 0/15 Fief Quests.",tags:["Deathmatch","Open World"],conditions:[]},{id:"9.0.3.5",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"9.0.3.6",text:"In Field or Siege Battles, use Outriders to kill 0/80 troops.",tags:["Siege","Field"],conditions:[]},{id:"9.0.3.7",text:"Using Outriders, achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Outriders Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"9.1",name:"Axe Raiders ",stages:[{id:"9.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"9.1.0.0",text:"Use a trebuchet or interrupt a capture in 0/6 Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.0.1",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/6 battles.",tags:["Siege","Field"],conditions:[]},{id:"9.1.0.2",text:"In Field or Siege Battles, get an A+ rating or better 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"9.1.0.3",text:"In Field or Siege Battles, use artillery to kill 0/140 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.0.4",text:"Earn 0/20 silver or better badges.",tags:["General"],conditions:[]},{id:"9.1.0.5",text:"In Siege or Field Battles, have any unit's kill/death ratio reach 1.5 or above 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.0.6",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"9.1.0.7",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"9.1.0.8",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"9.1.0.9",text:"Achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"9.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"9.1.1.0",text:"In Field or Siege Battles, get 0/60 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"9.1.1.1",text:"In Siege or Field Battles, get ranked in the top 5 0/7 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.1.1.2",text:"Win 0/4 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"9.1.1.3",text:"Destroy or deploy an artillery piece in 0/5 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.1.4",text:"In 0/7 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.1.5",text:"In Free Battles, get an A rating or better 0/5 times, or get an S rating in 0/5 Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"9.1.1.6",text:"Raise your hero up 0/8 Levels.",tags:["General"],conditions:[]},{id:"9.1.1.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"9.1.1.8",text:"Defeat 0/1,200 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"9.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"9.1.2.0",text:"A member of your group gets MVP in 0/5 PvP battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.2.1",text:'Earn 0/5 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.2.2",text:'Earn 0/7 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.2.3",text:"Use four units from different eras in a Siege or Field battle 0/7 times.",tags:["Siege","Field"],conditions:[]},{id:"9.1.2.4",text:"Get 0/20 kills or assist in Free Battles, or get 8 kills or assists in 0/7 Field or Siege Battles.",tags:["Siege","Field"],conditions:[]},{id:"9.1.2.5",text:"Earn 0/40 silver or better badges.",tags:["General"],conditions:[]},{id:"9.1.2.6",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/6 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.2.7",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]},{id:"9.1.2.8",text:"Win 0/6 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"9.1.2.9",text:"Achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Axe Raider Kit",amount:18},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"9.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"9.1.3.0",text:"Take Axe Raiders into a Siege or Field battle 0/7 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.3.1",text:"In Field or Siege Battles, use Axe Raiders to kill 0/200 troops.",tags:["Siege","Field"],conditions:[]},{id:"9.1.3.2",text:"In 0/7 Field or Siege Battles, get 8 kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"9.1.3.3",text:"Destroy or deploy an artillery piece in 0/6 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.3.4",text:"Win 0/3 Field or Siege Battles in a row or win 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"9.1.3.5",text:"Win 0/3 Deathmatches or get the Grand Bloodbath badge in 0/10 Field or Siege Battles.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"9.1.3.6",text:"Raise your hero up 0/12 Levels.",tags:["General"],conditions:[]},{id:"9.1.3.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"9.1.3.8",text:"Earn 40 capture points or interrupt a capture in 0/5 ranked battles or 0/10 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.1.3.9",text:"Using Axe Raiders, achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30},{text:"Raider Axe Doctrine",amount:null},{text:"The Double Axe skill can now knock down enemy soldiers",amount:null}]},{id:"9.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"9.1.4.0",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"9.1.4.1",text:"In Siege Battles, use a siege engine or interrupt a capture once in 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"9.1.4.2",text:"In Field or Siege Battles, use the Axe Raiders skill Double Axe to kill 0/80 troops.",tags:["Siege","Field"],conditions:[]},{id:"9.1.4.3",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.4.4",text:"In Siege or Field Battles, take Axe Raiders into battle 0/5 times while getting a K/D ratio of above 1.5.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.4.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"9.1.4.6",text:"In Free Battles, get an A rating or better 0/5 times, or get an S rating in 0/5 Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"9.1.4.7",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"9.1.4.8",text:'Earn 0/4 "Drop Dead" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.1.4.9",text:'Earn 0/5 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30},{text:"Axe Raider Avatar",amount:null}]}]},{id:"9.2",name:"Shenji Grenadiers ",stages:[{id:"9.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"9.2.0.0",text:"In Field or Siege Battles, kill 0/18 heroes.",tags:["Siege","Field"],conditions:[]},{id:"9.2.0.1",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"9.2.0.2",text:"In Field or Siege Battles, kill 0/500 troops.",tags:["Siege","Field"],conditions:[]},{id:"9.2.0.3",text:"Kill 0/10 players in Deathmatch.",tags:["Deathmatch"],conditions:[]},{id:"9.2.0.4",text:"Earn 0/20 silver or better badges.",tags:["General"],conditions:[]},{id:"9.2.0.5",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.0.6",text:"Get a Troop Kill Score of 1000 or higher in 0/3 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.0.7",text:"In Expeditions, get an A rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"9.2.0.8",text:"Win 0/4 Ranked Battles or win 0/8 Field or Siege Battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.0.9",text:"Achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"9.2.0.10",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"9.2.0.11",text:"Push a siege tower to the ramparts or destroy a siege engine in 0/8 Siege Battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"9.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"9.2.1.0",text:"Earn 0/80 badges.",tags:["General"],conditions:[]},{id:"9.2.1.1",text:"In Siege or Field Battles, get ranked in the top 5 0/8 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.1.2",text:'Earn 0/9 "Cakewalk" badges during Expeditions.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"9.2.1.3",text:"Raise your hero 0/10 levels.",tags:["General"],conditions:[]},{id:"9.2.1.4",text:'In Siege or Field Battles, earn 0/9 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.1.5",text:"In Siege or Field Battles, you ",tags:["Siege","Field"],conditions:[]},{id:"9.2.1.6",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"9.2.1.7",text:"Use firearm units in 0/9 ranked battles or in 0/18 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.1.8",text:"Get an A rating or better in 0/8 Deathmatches or earn No Quarter badges 0/6 times in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"9.2.1.9",text:"Use firearm units to win 0/9 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30},{text:"Shenji Doctrine Ill",amount:null},{text:"Increases the number of grenades carried by the unit, enough for an additional volley",amount:null}]},{id:"9.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"9.2.2.0",text:"In Field or Siege Battles, get 0/60 total kills or assists.",tags:["Siege","Field"],conditions:[]},{id:"9.2.2.1",text:"In Expeditions, kill 200 soldiers 0/9 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"9.2.2.2",text:"Win 0/5 Free Battles or defeat 0/1,500 troops during Expeditions.",tags:["Siege","Bandit Raid","Expedition","Field"],conditions:[]},{id:"9.2.2.3",text:"Destroy or deploy an artillery piece in 0/9 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.2.4",text:'Earn 0/10 "Hat Trick" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.2.5",text:"In Field or Siege Battles, use artillery to kill 0/160 troops.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.2.6",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/8 battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.2.7",text:"Complete 0/20 Fief Quests.",tags:["Open World"],conditions:[]},{id:"9.2.2.8",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]},{id:"9.2.2.9",text:"In Siege or Field Battles, get an A rating or better 0/9 times.",tags:["Siege","Field"],conditions:[]},{id:"9.2.2.10",text:"Earn 40 capture points or interrupt a capture in 0/9 ranked battles or 0/18 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"9.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"9.2.3.0",text:"Earn 0/40 silver or better badges.",tags:["General"],conditions:[]},{id:"9.2.3.1",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"9.2.3.2",text:"Win 0/5 Deathmatches or get the Grand Bloodbath badge in 0/10 Field or Siege Battles.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"9.2.3.3",text:"In Siege Battles, earn 40 capture points or interrupt a capture in 0/9 battles.",tags:["Siege","Field"],conditions:[]},{id:"9.2.3.4",text:"In 0/9 Siege or Field Battles, you or your group collectively kills a total of 240 soldiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.3.5",text:"Raise your hero 0/10 levels.",tags:["General"],conditions:[]},{id:"9.2.3.6",text:"Win 0/3 Field or Siege Battles in a row or win 0/6 times.",tags:["Siege","Field"],conditions:[]},{id:"9.2.3.7",text:"Kill 120 soldiers per match in 0/9 ranked battles or in 0/18 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.3.8",text:"Have a unit get a 1.5 kill/death ratio or better in 0/6 Free Battles, or get an A rating or better in 0/9 Field or Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.3.9",text:"Use four units from different eras in a Siege or Field battle 0/9 times.",tags:["Siege","Field"],conditions:[]},{id:"9.2.3.10",text:"Achieve victory in 0/9 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Shenji Grenadiers Kit",amount:17},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"9.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"9.2.4.0",text:"Use artillery to kill 0/160 troops in any kind of battle.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.4.1",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.4.2",text:"Take Shenji Grenadiers into a Siege or Field battle 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.4.3",text:"Rank in the top 5 in 0/9 Free Battles, or deploy 0/15 artillery in Field or Siege Battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.4.4",text:'In Siege Battles, get the "Say Cheese" badge 0/3 times.',tags:["Siege","Field"],conditions:[]},{id:"9.2.4.5",text:"Defeat 0/1,600 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"9.2.4.6",text:"Use Shenji Grenadiers and win 0/5 ranked battles or 0/10 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.4.7",text:"Search 0/20 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"9.2.4.8",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"9.2.4.9",text:"Get an A rating or better in 0/8 Ranked Battles or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.4.10",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"9.2.4.11",text:"In Siege Battles, destroy a siege ladder or acquire 15 capture points in 0/10 battles.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"9.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"9.2.5.0",text:"Raise your hero 0/10 levels.",tags:["General"],conditions:[]},{id:"9.2.5.1",text:"In Siege Battles, push a siege tower to the ramparts once or destroy a siege engine in 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"9.2.5.2",text:'In Siege or Field Battles, earn 0/10 "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.5.3",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"9.2.5.4",text:"Kill 0/300 cavalry using Shenji Grenadiers in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"9.2.5.5",text:"In Siege or Field Battles, get Combo Breaker 0/4 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.5.6",text:"In Siege or Field Battles, you or your group members get 0/45 ratings of B+ or better.",tags:["Siege","Field"],conditions:[]},{id:"9.2.5.7",text:"Defeat a band of wandering Rebels 0/20 times.",tags:["Open World"],conditions:[]},{id:"9.2.5.8",text:"Use Shenji Grenadiers in 0/5 Free Battles and win.",tags:["Siege","Field"],conditions:[]},{id:"9.2.5.9",text:"Use four units from different eras in a Siege or Field battle 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"9.2.5.10",text:"Achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"9.2.5.11",text:"In Expeditions, get an A rating or better 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Shenji Doctrine II",amount:null},{text:"Grenade explosions will now halt enemy cavalry within 4 metres",amount:null},{text:"Unit Medal",amount:40}]},{id:"9.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"9.2.6.0",text:"Kill 0/1,000 soldiers using Shenji Grenadiers.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.6.1",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.6.2",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"9.2.6.3",text:"In 0/10 Siege or Field Battles, use artillery to kill 40 troops or kill 2 enemy heroes.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.6.4",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"9.2.6.5",text:"Use artillery to kill 0/160 troops in any kind of battle.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.6.6",text:"Win 0/3 Field or Siege Battles in a row or win 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"9.2.6.7",text:"Use Shenji Grenadiers in 0/10 Free Battles.",tags:["Siege","Field"],conditions:[]},{id:"9.2.6.8",text:"Win 0/5 Deathmatches or get an A+ rating or better in 0/10 Expeditions.",tags:["Bandit Raid","Expedition","Deathmatch"],conditions:[]},{id:"9.2.6.9",text:"Get an A rating or better in 0/5 Ranked Battles or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"9.2.6.10",text:'Earn "No Quarter" 0/8 times.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"9.2.6.11",text:"In Siege or Field Battles, you or your group collectively kills a total of 8 heroes in 0/10 battles.",tags:["Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Shenji Grenadiers Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:10,name:"Season 10 - Highlanders",sections:[{id:"10.0",name:"Bagpipers",stages:[{id:"10.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"10.0.0.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/5 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.0.0.1",text:"Earn a Troop Kill Score of 0/3,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.0.2",text:"Earn 0/50 badges.",tags:["General"],conditions:[]},{id:"10.0.0.3",text:"In Field or Siege battles of any type, get the Shatter the Ranks badge 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.0.4",text:"In Field or Siege battles of any type, you or your group members get 0/30 B+ or better ratings or 0/8 A+ or better rankings.",tags:["Siege","Field"],conditions:[]},{id:"10.0.0.5",text:"Raise your hero 0/6 levels.",tags:["General"],conditions:[]},{id:"10.0.0.6",text:"Achieve victory in 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"10.0.0.7",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"10.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"10.0.1.0",text:"You or your group collectively kills a total of 240 soldiers in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.1.1",text:"Use artillery to kill 0/120 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.1.2",text:'Earn 0/5 "Hat Trick" or "A Deadly Century" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.1.3",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.0.1.4",text:"Use a trebuchet or interrupt a capture 0/6 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.1.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"10.0.1.6",text:"Win 0/7 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.0.1.7",text:"Complete 0/6 Deathmatches or get 8 hero kills/assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]}],rewards:[{text:"Bagpipers Kit",amount:6},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"10.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"10.0.2.0",text:"Earn 40 capture points or interrupt a capture in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.0.2.1",text:"In any battle, earn 0/50 of any kind of badge, or 0/10 silver or better badges.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"10.0.2.2",text:"Get a Troop Kill Score of 300 or higher with 0/15 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.2.3",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.2.4",text:"Complete 0/3 Free Battles or win 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.0.2.5",text:"Achieve victory in 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"10.0.2.6",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Bagpiper Health Doctrine",amount:null},{text:"Increases health by 600",amount:null},{text:"Unit Medal",amount:20}]},{id:"10.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"10.0.3.0",text:"Raise your hero 0/8 levels.",tags:["General"],conditions:[]},{id:"10.0.3.1",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.0.3.2",text:"Earn 0/12 badges in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.0.3.3",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.3.4",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.0.3.5",text:"Defeat a band of wandering Rebels 0/10 times.",tags:["Open World"],conditions:[]},{id:"10.0.3.6",text:"Defeat 0/1,000 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Bagpipers Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"10.1",name:"Claymores",stages:[{id:"10.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"10.1.0.0",text:"Earn a Troop Kill Score of 0/4,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.0.1",text:"Win 0/3 Field or Siege Battles of any type in a row or join 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.0.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.0.3",text:'In Field or Siege Battles of any type, get 0/3 "No Quarter" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.0.4",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1.5 or higher with any unit 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.0.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"10.1.0.6",text:"In Expeditions, get an A rating or better 0/7 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.1.0.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"10.1.0.8",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"10.1.0.9",text:"Achieve victory in 0/7 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"10.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"10.1.1.0",text:"Be placed in the top 5 in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.1.1",text:"Get a Troop Kill score of 800 or higher in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.1.2",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.1.3",text:"Deploy or destroy an artillery piece in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.1.4",text:"Knock over a siege ladder or acquire 15 capture points in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.1.5",text:'Earn 0/3 "Combo Breaker" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.1.6",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/4 "No Quarter" badges.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"10.1.1.7",text:"In Expeditions, get an A rating or better 0/7 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.1.1.8",text:"Defeat a band of wandering Rebels 0/12 times.",tags:["Open World"],conditions:[]},{id:"10.1.1.9",text:"Raise your hero 0/10 levels.",tags:["General"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"10.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"10.1.2.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/10 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.2.1",text:"Geta kill/death ratio of 1.5 or higher with any unit in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.2.2",text:"Use a trebuchet or interrupt a capture in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.2.3",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.2.4",text:"Get an A rating or better in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.2.5",text:"Get 0/20 kills or assists in Free Battles, or get 8 kills or assists in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.2.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"10.1.2.7",text:"Defeat a band of wandering Rebels 0/12 times.",tags:["Open World"],conditions:[]},{id:"10.1.2.8",text:"In Expeditions, get an A rating or better 0/8 times.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Claymores Kit",amount:20},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"10.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"10.1.3.0",text:"Get a Troop Kill Score of 300 or higher with any unit in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.3.1",text:"In Field or Siege Battles of any type, use artillery to kill 0/140 soldiers or 0/8 heroes.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.3.2",text:"In Field or Siege Battles of any type, get an iron or better badge 0/20 times.",tags:["Siege","Field"],conditions:[]},{id:"10.1.3.3",text:"Use Claymores and get a kill/death ratio of 1.5 or more in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.3.4",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"10.1.3.5",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"10.1.3.6",text:"Raise your hero 0/10 levels.",tags:["General"],conditions:[]},{id:"10.1.3.7",text:"Join 0/7 Free Battles or win 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.3.8",text:"Defeat 0/1,200 troops during Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.1.3.9",text:"Using Claymores, achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Wild Rovers Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"10.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"10.1.4.0",text:"Deploy or destroy an artillery piece in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.4.1",text:"Use Claymores and get a Troop Kill Score of 300 or more in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.4.2",text:"In Field or Siege Battles of any type, use Claymores to kill 0/200 troops.",tags:["Siege","Field"],conditions:[]},{id:"10.1.4.3",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.1.4.4",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.4.5",text:"Get a Troop Kill Score of 1000 or higher in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.1.4.6",text:"Get an A rating or better in 0/7 Deathmatch battles, or get an A+ rating or better in 0/7 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"10.1.4.7",text:"Get an A+ rating or better in 0/8 Expedition battles.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.1.4.8",text:"Defeat a band of wandering Rebels 0/12 times.",tags:["Open World"],conditions:[]},{id:"10.1.4.9",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Claymores Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"10.2",name:"Houndsmen ",stages:[{id:"10.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"10.2.0.0",text:"Earn a Troop Kill Score of 0/5,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.0.1",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.0.2",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.0.3",text:"Earn 0/80 badges.",tags:["General"],conditions:[]},{id:"10.2.0.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.0.5",text:"Earn 40 capture points or interrupt a capture in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.0.6",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"10.2.0.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"10.2.0.8",text:"Win 0/9 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.2.0.9",text:"Achieve victory in 0/9 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"10.2.0.10",text:"Raise your hero 0/10 levels.",tags:["General"],conditions:[]},{id:"10.2.0.11",text:"Join 0/7 Ranked Battles or win 0/5 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"10.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"10.2.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.1.1",text:'Earn 0/9 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.1.2",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.1.3",text:"Destroy a siege engine or acquire 40 capture points in 0/9 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.1.5",text:"You or your group collectively kills a total of 240 soldiers in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.1.6",text:"Get an A rating or better in 0/7 Deathmatch battles, or get an A+ rating or better in 0/9 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"10.2.1.7",text:"Get a Troop Kill Score of 600 or more in 0/7 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"10.2.1.8",text:"Defeat 0/1,500 enemy units in PVE battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.2.1.9",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"10.2.1.10",text:"Get an A+ rating or better in 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Houndsmen Toughness Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"10.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"10.2.2.0",text:"In Field or Siege Battles of any type, get 0/80 silver badges or higher.",tags:["Siege","Field"],conditions:[]},{id:"10.2.2.1",text:"Get an A rating or better in 0/9 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.2.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1.5 or higher with any unit 0/9 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.2.3",text:"You or your group collectively kills a total of 8 heroes in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.2.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.2.5",text:"Raise your hero 0/12 levels.",tags:["General"],conditions:[]},{id:"10.2.2.6",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"10.2.2.7",text:"Earn 40 capture points or interrupt a capture in 0/8 ranked battles or 0/16 Siege or Field battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"10.2.2.8",text:"Join 0/9 Free Battles or win 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.2.9",text:"Get ranked in the top 5 in 0/9 Free Battles, or get MVP in 0/5 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"10.2.2.10",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"10.2.2.11",text:'Earn 0/9 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"10.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"10.2.3.0",text:"Get a Troop Kill Score of 800 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.3.1",text:"You or your group collectively kills a total of 8 heroes in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.3.2",text:"You or your group members get 0/25 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.3.3",text:"Knock over a siege ladder or acquire 15 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.3.4",text:"Win 0/3 Field or Siege Battles of any type in a row or join 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.3.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"10.2.3.6",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]},{id:"10.2.3.7",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"10.2.3.8",text:'Win 0/10 Deathmatches or get 0/5 "No Quarter" badges in any PvP mode.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"10.2.3.9",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"10.2.3.10",text:"Win 0/10 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.2.3.11",text:"Raise your hero 0/12 levels.",tags:["General"],conditions:[]}],rewards:[{text:"Houndsmen Kit",amount:36},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"10.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"10.2.4.0",text:"Use Houndsmen in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.4.1",text:"Get a Troop Kill Score of 300 or higher with 0/15 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.4.2",text:'Get 0/10 "Shatter the Ranks" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.4.3",text:"In any battle, earn 0/80 of any kind of badge, or 0/25 silver or better badges.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"10.2.4.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.4.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.4.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.4.7",text:"Get an A rating or better in 0/9 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.4.8",text:"Get a Troop Kill Score of 600 or more in 0/9 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/9 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"10.2.4.9",text:"Using Houndsmen, achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"10.2.4.10",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"10.2.4.11",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"10.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"10.2.5.0",text:"Use Houndsmen to kill 0/200 troops in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.5.1",text:"In Field or Siege Battles of any type, make it into the top 5 0/10 times or become the MVP 0/5 times.",tags:["Siege","Field"],conditions:[]},{id:"10.2.5.2",text:"Geta Troop Kill Score of 1000 or higher in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.5.3",text:"Get an A rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.5.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.5.5",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.5.6",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"10.2.5.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"10.2.5.8",text:"Use Houndsmen and win 0/10 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"10.2.5.9",text:"Use Houndsmen in 0/10 ranked battles or 0/20 Field or Siege battles.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"10.2.5.10",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Houndsmen Hunter Doctrine",amount:null},{text:"Increases the bleed damage of Trained Hunters by 100 points",amount:null},{text:"Unit Medal",amount:40}]},{id:"10.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"10.2.6.0",text:"Your Houndsmen get a kill/death ratio of 0.8 or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.6.1",text:"Use Houndsmen and win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.6.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/8 battles.",tags:["Siege","Field"],conditions:[]},{id:"10.2.6.3",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.6.4",text:"You or your group members get 0/25 A+ or better ratings or 0/8 S ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.6.5",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"10.2.6.6",text:"Use Houndsmen and get a kill/death ratio of 0.8 or greater in 0/8 ranked battles or 0/16 Field or Siege battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"10.2.6.7",text:"Your Houndsmen get a kill/death ratio of 0.8 or greater in 0/10 Free Battles, or they get a Troop Kill Score of 400 or greater in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.6.8",text:"Use Houndsmen and win 0/5 Free Battles, or get a Troop Kill Score of 1000 or greater in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"10.2.6.9",text:"Defeat a band of wandering Rebels 0/15 times.",tags:["Open World"],conditions:[]},{id:"10.2.6.10",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"10.2.6.11",text:"Using Houndsmen, achieve victory in 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Houndsmen Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:11,name:"Season 11 - Paragons",sections:[{id:"11.0",name:"Alchemists",stages:[{id:"11.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"11.0.0.0",text:"Use a trebuchet or knock down a ladder in 0/5 battles in any mode ",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"11.0.0.1",text:"Earn a Troop Kill Score of 0/3,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.0.2",text:"In Field or Siege battles of any type, get 0/40 silver badges or higher.",tags:["Siege","Field"],conditions:[]},{id:"11.0.0.3",text:'Get 0/5 "Shatter the Ranks" badges in Field or Siege battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.0.4",text:"In Field or Siege battles of any type, you or your group member get 0/30 B+ or better rankings or 0/8 A+ or better rankings.",tags:["Siege","Field"],conditions:[]},{id:"11.0.0.5",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]},{id:"11.0.0.6",text:"Win 0/7 Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.0.0.7",text:"Complete 0/8 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"11.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"11.0.1.0",text:"You or your group collectively kills a total of 8 heroes in 0/6 Fieg brSiege battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.1.1",text:"Use artillery o kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.1.2",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 300 or higher with 0/12 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.1.3",text:"Earn 40 capture points or interrupt a capture in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.0.1.4",text:"Win 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"11.0.1.5",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"11.0.1.6",text:"Complete 0/6 Deathmatches or get 8 hero kills/assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]}],rewards:[{text:"Alchemist Kit",amount:6},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"11.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"11.0.2.0",text:"Knock over a ladder or acquire 15 capture points in 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.0.2.1",text:"In Field or Siege Battles of any type, get 0/40 badges of any quality or get 0/8 silver or better badges.",tags:["Siege","Field"],conditions:[]},{id:"11.0.2.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.2.3",text:"Use Alchemists in 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.0.2.4",text:"You or your group collectively kills a total of 240 soldiers in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.2.5",text:"Complete 0/3 Free Battles or win 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.0.2.6",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"11.0.2.7",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]}],rewards:[{text:"Alchemists First Aid Doctrine",amount:null},{text:"Unlocks First Aid",amount:null},{text:"Alchemists give first aid to nearby allies, who will then slowly recover their health for 20 seconds",amount:null},{text:"Unit Medal",amount:20}]},{id:"11.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"11.0.3.0",text:"In Deathmatch, you or your group collectively kills a total of 0/30 heroes.",tags:["Deathmatch"],conditions:[]},{id:"11.0.3.1",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.0.3.2",text:"Earn any silver or higher badge in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.0.3.3",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.3.4",text:"You or your group collectively kills a total of 240 soldiers in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.0.3.5",text:"Defeat 0/1, 00 troops during Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.0.3.6",text:"Win 0/5 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"11.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Alchemist Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"11.1",name:"Banner Guards",stages:[{id:"11.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"11.1.0.0",text:"Earn a Troop Kill Score of 0/4,000.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.0.1",text:"Get 0/20 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.0.2",text:"Destroy or deploy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.0.3",text:'Get 0/5 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.0.4",text:"ln Field or Siege Battles of any type, get a kill/death ratio of 1.5 or higher with any unit 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.0.5",text:"You or your group collectively kills a total of 240 soldiers in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.0.6",text:"In Expeditions or Bandit Raids, get an A ranking or better 0/6 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.1.0.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"11.1.0.8",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"11.1.0.9",text:"Win 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"11.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"11.1.1.0",text:"Get an A rating or better in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.1.1",text:"Get a Troop Kill Score of 1000 or higher in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.1.2",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.1.3",text:"Destroy or deploy an artillery piece in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.1.4",text:"Earn 40 capture points or interrupt a capture in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.1.5",text:"In Field or Siege Battles of any type, use buckler infantry to kill 0/300 enemy soldiers.",tags:["Siege","Field"],conditions:[]},{id:"11.1.1.6",text:'Kill 0/25 enemy heroes in Deathmatch, or earn 0/5 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"11.1.1.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"11.1.1.8",text:"Defeat 0/1,200 troops during Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.1.1.9",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"11.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"11.1.2.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.2.1",text:"You or your group collectively kills a total of 240 soldiers in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.2.2",text:"Knock over a ladder or acquire 15 capture points in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.2.3",text:"In Deathmatch, you or your group collectively kills a total of 0/120 heroes.",tags:["Deathmatch"],conditions:[]},{id:"11.1.2.4",text:"Get ranked in the top 5 in 0/7 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.1.2.5",text:"Get 0/25 kills or assists in Free Battles, or get 8 kills or assists in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.2.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"11.1.2.7",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"11.1.2.8",text:'Earn 0/8 "Cakewalk" badges during Expeditions or Bandit Raids.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Banner Guard Kit",amount:25},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"11.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"11.1.3.0",text:"Get a Troop Kill Score of 800 or higher in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.3.1",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.3.2",text:'Get 0/10 "Quad Kill" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.3.3",text:"Use Banner Guards to kill 0/300 enemy soldiers in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.3.4",text:"In Field or Siege Battles of any type, you or your group members get 0/20 A or better rankings or 0/10 A+ or better rankings.",tags:["Siege","Field"],conditions:[]},{id:"11.1.3.5",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"11.1.3.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"11.1.3.7",text:"Complete 0/7 Free Battles or win 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.3.8",text:"Defeat 0/1,200 troops during Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.1.3.9",text:"Using Banner Guards, win 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Banner Guards' Morale Doctrine",amount:null},{text:"Reduces Indomitable cooldown by 5 seconds",amount:null},{text:"Unit Medal",amount:30}]},{id:"11.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"11.1.4.0",text:"Destroy or deploy an artillery piece in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.4.1",text:"Get a Troop Kill Score of 300 or higher with a buckler infantry unit, in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.4.2",text:"Knock over a ladder or acquire 15 capture points in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.4.3",text:"Get 8 kills or assists in 0/7 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.1.4.4",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.1.4.5",text:"In Field or Siege Battles of any type, get a silver or better badge 0/10 times.",tags:["Siege","Field"],conditions:[]},{id:"11.1.4.6",text:"Get an A rating or better in 0/6 Ranked Battles or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.1.4.7",text:"Use Banner Guards and win 0/8 Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.1.4.8",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"11.1.4.9",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Banner Guards Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"11.2",name:"Chevaliers",stages:[{id:"11.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"11.2.0.0",text:"Get a Troop Kill Score of 0/5,000 in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.0.1",text:"Get ranked in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.2.0.2",text:'Get 0/8 "Shatter the Ranks" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.0.3",text:"In Field or Siege Battles of any type, get 0/80 badges.",tags:["Siege","Field"],conditions:[]},{id:"11.2.0.4",text:"Destroy or deploy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.0.5",text:"Destroy a siege engine or acquire 40 capture points in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.0.6",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"11.2.0.7",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"11.2.0.8",text:"Win 0/15 Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.2.0.9",text:"Win 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"11.2.0.10",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"11.2.0.11",text:"Join 0/7 Deathmatches or win 0/7 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"11.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"11.2.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1.5 or higher with any unit 0/15 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.1.1",text:"Get 8 kills or assists in 0/9 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.1.2",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.1.3",text:"Earn 40 capture points or interrupt a capture in 0/9 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.1.5",text:"You or your group collectively kills a total of 240 soldiers in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.1.6",text:"Get an A rating or better in 0/7 Free battles, or get an A+ rating or better in 0/9 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.1.7",text:"Join 0/7 Ranked Battles or win 0/7 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.2.1.8",text:"Defeat 0/1,500 troops during Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.2.1.9",text:"Join 0/10 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"11.2.1.10",text:"Get an A+ ranking or better in 0/10 Expedition or Bandit Raid battles.",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Chevaliers Marching Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"11.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"11.2.2.0",text:"In Field or Siege Battles of any type, get 0/80 iron or better badges, or get 0/12 silver or better badges.",tags:["Siege","Field"],conditions:[]},{id:"11.2.2.1",text:"Get an A rating or better in 0/9 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.2.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1.5 or higher with any unit 0/9 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.2.3",text:"'You or your group collectively kills a total of 8 heroes in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.2.4",text:"Use artillery to kill 0/200 soldiers or 0/12 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.2.5",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"11.2.2.6",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"11.2.2.7",text:"Get ranked in the top 5 in 0/8 Ranked Battles, or get MVP in 0/6 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.2.2.8",text:'Join 0/9 Deathmatches or get 0/7 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"11.2.2.9",text:"Get 8 kills or assists in 0/8 Field or Siege Battles of any type, or you or your group collectively kills a total of 0/35 heroes in Deathmatches.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"11.2.2.10",text:"Win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"11.2.2.11",text:'Earn 0/8 "Cakewalk" badges during Expeditions or Bandit Raids.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"11.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"11.2.3.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.3.1",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.3.2",text:"You or your group members get 0/25 A+ or better rankings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.3.3",text:"Knock over a ladder or acquire 15 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.3.4",text:"Get ranked in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.2.3.5",text:"Destroy or deploy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.3.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"11.2.3.7",text:'Get 0/35 hero kills or assists in Ranked Battles or get 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"11.2.3.8",text:"Complete 0/9 Free Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.3.9",text:'Get a Troop Kill Score of 1000 or higher in 0/7 Free Battles or earn the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.3.10",text:"Win 0/10 Expedition or Bandit Raid battles.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.2.3.11",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]}],rewards:[{text:"Chevaliers Kit",amount:14},{text:"Barb",amount:14},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:30}]},{id:"11.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"11.2.4.0",text:"Use Chevaliers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.4.1",text:"Get a Troop Kill Score of 300 or higher with 0/15 units in any type of Field or Siege battle.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.4.2",text:"Get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.4.3",text:'Get 0/10 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.4.4",text:"Use artillery to kill 0/200 soldiers or 0/12 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.4.5",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.4.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.4.7",text:"Get an A rating or better in 0/9 Free Battles or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.4.8",text:"Get a Troop Kill Score of 600 or more in 0/9 Free Battles, or get a Troop Kill Score of 1000 or more in 0/9 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.4.9",text:"Using Chevaliers, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"11.2.4.10",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"11.2.4.11",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"11.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"11.2.5.0",text:"In Field or Siege Battles of any type, use Chevaliers to kill 0/300 enemy soldiers.",tags:["Siege","Field"],conditions:[]},{id:"11.2.5.1",text:"In Field or Siege Battles of any type, get ranked in the top 5 0/10 times or get MVP 0/5 times.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"11.2.5.2",text:"In Field or Siege Battles of any type, get 0/80 iron or better badges, or get 0/12 silver or better badges.",tags:["Siege","Field"],conditions:[]},{id:"11.2.5.3",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1.5 or higher with any unit 0/15 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.5.4",text:"Use artillery to kill 0/200 soldiers or 0/12 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.5.5",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.5.6",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"11.2.5.7",text:"Join 0/10 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"11.2.5.8",text:"Use Chevaliers and win 0/10 Expedition or Bandit Raid battles.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"11.2.5.9",text:"Use Chevaliers and win 0/7 Ranked Battles.",tags:["Ranked"],conditions:[]},{id:"11.2.5.10",text:"Join 0/8 Deathmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]}],rewards:[{text:"Chevaliers Defence Doctrine",amount:null},{text:"Increases all Defence values by 100 points",amount:null},{text:"Unit Medal",amount:40}]},{id:"11.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"11.2.6.0",text:'Use the Chevaliers skill "Assault" to kill 0/200 troops in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"11.2.6.1",text:"Use Chevaliers and win 0/5 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"11.2.6.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.6.3",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.6.4",text:"In Field or Siege Battles of any type, you or your group members get 0/25 A+ or better rankings or 0/8 S rankings.",tags:["Siege","Field"],conditions:[]},{id:"11.2.6.5",text:"Destroy or deploy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.6.6",text:"Use Chevaliers and get a Troop Kill Score of 400 or better in 0/8 Ranked Battles.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"11.2.6.7",text:"Use Chevaliers and get a Troop Kill Score of 300 or better in 0/8 Free Battles, or use this unit and get a Troop Kill Score of 400 or greater in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"11.2.6.8",text:"Complete 0/8 Free Battles or win 0/4 Field or Siege Battles of any type in a row.",tags:["Siege","Field"],conditions:[]},{id:"11.2.6.9",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"11.2.6.10",text:"Join 0/8 Territory Wars.",tags:["Territory Wars"],conditions:[]},{id:"11.2.6.11",text:"Using Chevaliers, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Chevaliers Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:12,name:"Season 12 - Helheim",sections:[{id:"12.0",name:"Huskarls",stages:[{id:"12.0.0",name:"Stage 1",required:8,total:10,challenges:[{id:"12.0.0.0",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.0.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.0.2",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.0.3",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.0.4",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"12.0.0.5",text:"You or your group members get 0/15 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.0.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.0.0.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"12.0.0.8",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.0.0.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"12.0.1",name:"Stage 2",required:8,total:10,challenges:[{id:"12.0.1.0",text:"Get a Troop Kill Score of 1000 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.1.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"12.0.1.2",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.1.3",text:"You or your group collectively kills a total of 8 heroes in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.1.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.1.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"12.0.1.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.0.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.1.9",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"12.0.2",name:"Stage 3",required:8,total:10,challenges:[{id:"12.0.2.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.2.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.2.2",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.2.3",text:`Get 0/6 'No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.`,tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.2.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.2.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"12.0.2.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.0.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"12.0.2.8",text:"Join 0/8 Free Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.2.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Huskarls Kit",amount:21},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"12.0.3",name:"Stage 4",required:8,total:10,challenges:[{id:"12.0.3.0",text:"Using Huskarls, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"12.0.3.1",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.3.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.3.3",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.3.4",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"12.0.3.5",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"12.0.3.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.0.3.7",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"12.0.3.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Huskarl Raider Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"12.0.4",name:"Stage 5",required:8,total:10,challenges:[{id:"12.0.4.0",text:"Use Huskarls and get a Troop Kill score of 200 or higher in 0/8 Field or Siege battles.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.4.1",text:"Use Huskarls and win 0/5 Field or Siege battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.4.2",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.0.4.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.4.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.4.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.0.4.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.0.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"12.0.4.8",text:'Defeat 0/20 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"12.0.4.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Huskarls Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"12.1",name:"Varangian Guard",stages:[{id:"12.1.0",name:"Stage 1",required:10,total:12,challenges:[{id:"12.1.0.0",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.0.1",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.0.2",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.0.3",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"12.1.0.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.0.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.0.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.1.0.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"12.1.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"12.1.0.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.0.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"12.1.1",name:"Stage 2",required:10,total:12,challenges:[{id:"12.1.1.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"12.1.1.1",text:"Be placed in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.1.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.1.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.1.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.1.5",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"12.1.1.6",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"12.1.1.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"12.1.1.8",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"12.1.1.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.1.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Varangian Sword Doctrine I",amount:null},{text:"Increases Varangian Guards' slashing, piercing and blunt damage by 50 points",amount:null},{text:"Unit Medal",amount:30}]},{id:"12.1.2",name:"Stage 3",required:10,total:12,challenges:[{id:"12.1.2.0",text:"Get a Troop Kill Score of 1000 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.2.1",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.2.2",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.2.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.2.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.2.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.2.6",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.2.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"12.1.2.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"12.1.2.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"12.1.2.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.2.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"12.1.3",name:"Stage 4",required:10,total:12,challenges:[{id:"12.1.3.0",text:"Get a Troop Kill Score of 800 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.3.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.3.2",text:'Join 0/10 Deatchmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"12.1.3.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.3.5",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.3.6",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"12.1.3.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.1.3.8",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.3.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"12.1.3.10",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Varangian Guardsmen Kit",amount:16},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"12.1.4",name:"Stage 5",required:10,total:12,challenges:[{id:"12.1.4.0",text:"Using Varangian Guards, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"12.1.4.1",text:"Use a trebuchet or knock down a ladder in 0/10 battles in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"12.1.4.2",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.4.3",text:'Join 0/10 Deathmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"12.1.4.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.4.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.4.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"12.1.4.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"12.1.4.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"12.1.4.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.4.10",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"12.1.5",name:"Stage 6",required:10,total:12,challenges:[{id:"12.1.5.0",text:"Using Varangian Guards, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"12.1.5.1",text:"Use Varangian Guards to kill 0/200 enemy soldiers while using Raging Onslaught in Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"12.1.5.2",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.5.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"12.1.5.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.5.5",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.5.6",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.5.7",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"12.1.5.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"12.1.5.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"12.1.5.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.5.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Varangian Axe Doctrine",amount:null},{text:"Unit Medal",amount:40}]},{id:"12.1.6",name:"Stage 7",required:10,total:12,challenges:[{id:"12.1.6.0",text:"In Expeditions or Bandit Raids, use Varangian Guards and win 0/10 times.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.6.1",text:"Use Varangian Guards and win 0/5 Field or Siege battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.6.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"12.1.6.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"12.1.6.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"12.1.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.6.6",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.6.7",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"12.1.6.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"12.1.6.9",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"12.1.6.10",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"12.1.6.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Varangian Guards Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:13,name:"Season 13 - Colosseum",sections:[{id:"13.0",name:"Dimachaeri",stages:[{id:"13.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"13.0.0.0",text:"Destroy a siege engine or acquire 40 capture points in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.0.0.1",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.0.0.2",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.0.0.3",text:"Defeat 0/1,000 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.0.0.4",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.0.5",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.0.0.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"13.0.0.7",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"13.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"13.0.1.0",text:"Get a Troop Kill Score of 1000 or higher in 0/4 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.1.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"13.0.1.2",text:"Defeat 0/1,000 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.0.1.3",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.1.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.1.5",text:"You or your group collectively kills a total of 240 soldiers in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.1.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.0.1.7",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Dimachaeri Kit",amount:15},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"13.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"13.0.2.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.0.2.1",text:"Use a trebuchet or knock down a ladder in 0/6 battles in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"13.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.0.2.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.2.4",text:"You or your group collectively kills a total of 240 soldiers in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.2.5",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]},{id:"13.0.2.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Dimachaeri Agility Doctrine",amount:null},{text:"Increases the max number of targets that can be hit by Siccae Torrent by 1",amount:null},{text:"Unit Medal",amount:20}]},{id:"13.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"13.0.3.0",text:"Use Dimachaeri and win 0/8 Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.0.3.1",text:"Use a trebuchet or knock down a ladder in 0/6 battles in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"13.0.3.2",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.3.3",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.3.4",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.0.3.5",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"13.0.3.6",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"13.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Dimachaeri Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"13.1",name:"Myrmillones",stages:[{id:"13.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"13.1.0.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.0.1",text:"Earn 40 capture points or interrupt a capture in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.0.2",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.0.3",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"13.1.0.4",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.0.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.0.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"13.1.0.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.1.0.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.1.0.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"13.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"13.1.1.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.1.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.1.2",text:"Get a Troop Kill Score of 1000 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.1.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.1.1.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"13.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.1.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"13.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"13.1.2.0",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.2.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.2.2",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.2.3",text:"You or your group collectively kills a total of 240 soldiers in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.2.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.2.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"13.1.2.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.2.9",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Myrmillones Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"13.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"13.1.3.0",text:"Use Myrmillones and kill 0/200 soldiers in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.3.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"13.1.3.2",text:"Earn 40 capture points or interrupt a capture in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.1.3.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.3.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.3.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.3.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"13.1.3.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.1.3.8",text:'Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"13.1.3.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Doctrine",amount:null},{text:"Doctrine Description",amount:null},{text:"Unit Medal",amount:30}]},{id:"13.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"13.1.4.0",text:"Use Myrmillones and kill 0/600 enemy soldiers in Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.1.4.1",text:"Use Myrmillones and get a Troop Kill score of 200 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.4.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.4.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.4.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.4.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.1.4.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"13.1.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"13.1.4.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"13.1.4.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Myrmillones Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"13.2",name:"Retiarii ",stages:[{id:"13.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"13.2.0.0",text:"Use a trebuchet or interrupt a capture 0/10 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"13.2.0.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.0.3",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.0.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.0.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"13.2.0.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"13.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"13.2.0.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.2.0.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"13.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"13.2.1.0",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.1.1",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.1.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"13.2.1.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.1.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.1.7",text:"Defeat a band of rebels 0/15 times in the open world. ",tags:["Open World"],conditions:[]},{id:"13.2.1.8",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"13.2.1.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"13.2.1.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"13.2.1.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Retiarii Health Doctrine",amount:null},{text:"Increase health by 600 points",amount:null},{text:"Unit Medal",amount:30}]},{id:"13.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"13.2.2.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.2.1",text:"Be placed in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.2.2",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"13.2.2.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.2.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.2.5",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.2.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"13.2.2.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"13.2.2.8",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.2.2.9",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.2.2.10",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"13.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"13.2.3.0",text:"Get a Troop Kill Score of 1000 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.3.1",text:"Geta kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.3.2",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"13.2.3.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.3.5",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.3.6",text:"You or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.3.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"13.2.3.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"13.2.3.9",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.3.10",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"13.2.3.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Retiarii Kit",amount:12},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"13.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"13.2.4.0",text:"Using Retiarii, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"13.2.4.1",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.4.2",text:"Be placed in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.4.3",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.4.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.4.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.4.6",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.4.7",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.4.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"13.2.4.9",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"13.2.4.10",text:"Get an A+ rating or better in 0/10 PVE battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.2.4.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"13.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"13.2.5.0",text:'In Field or Siege Battles of any type, use the Retiarii "Spearfishing" skill to kill 0/80 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"13.2.5.1",text:"Using Retiarii, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"13.2.5.2",text:"Geta kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.5.3",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"13.2.5.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.5.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.5.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better",tags:["Siege","Field"],conditions:[]},{id:"13.2.5.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"13.2.5.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"13.2.5.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"13.2.5.10",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Retiarii Assault Doctrine",amount:null},{text:"Reduces Spearfishing cooldown by 5 seconds",amount:null},{text:"Unit Medal",amount:40}]},{id:"13.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"13.2.6.0",text:"Use Retiarii and win 0/10 Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.2.6.1",text:"In Field or Siege Battles of any type, use Retiarii and kill 0/300 enemy soldiers.",tags:["Siege","Field"],conditions:[]},{id:"13.2.6.2",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.6.3",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.6.4",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.6.6",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"13.2.6.7",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"13.2.6.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"13.2.6.9",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"13.2.6.10",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"13.2.6.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Retiarii Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:14,name:"Season 14 - Scorpio",sections:[{id:"14.0",name:"Jangjus",stages:[{id:"14.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"14.0.0.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.0.0.2",text:"In any battle, get a Troop Kill Score of 0/3,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"14.0.0.3",text:"Achieve victory in 0/5 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.0.0.4",text:"Get a Troop Kill Score of 1000 or higher in 0/3 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.0.5",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.0.0.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.0.0.7",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"14.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"14.0.1.0",text:"Get a Troop Kill Score of 1000 or higher in 0/4 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.1.1",text:"Destroy a siege engine or acquire 40 capture points in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.0.1.2",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"14.0.1.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.1.6",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"14.0.1.7",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Jangjus Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"14.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"14.0.2.0",text:"Get a Troop Kill Score of 400 or higher with any unit in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.2.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.0.2.2",text:"Get 0/30 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.0.2.3",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.2.4",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.2.5",text:"You or your group members get 0/30 B+ or better ratings or get 0/6 A+ or better ratings.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.2.6",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]},{id:"14.0.2.7",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Jangju Accuracy Doctrine",amount:null},{text:"Unit Medal",amount:20}]},{id:"14.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"14.0.3.0",text:"Get a Troop Kill Score of 1000 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.3.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.3.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.0.3.3",text:"Destroy a siege engine or acquire 40 capture points in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.0.3.4",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.0.3.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"14.0.3.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.0.3.7",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Jangjus Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"14.1",name:"Camel Lancers ",stages:[{id:"14.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"14.1.0.0",text:"Get a Troop Kill Score of 1000 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.0.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.0.3",text:"Destroy a siege engine or acquire 40 capture points in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.0.4",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.1.0.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"14.1.0.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.1.0.7",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"14.1.0.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.1.0.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"14.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"14.1.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.1.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.1.1.2",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.1.3",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.1.4",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"14.1.1.5",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"14.1.1.6",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"14.1.1.7",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.1.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"14.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"14.1.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.1.2.1",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/8",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.2.2",text:"Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.2.3",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.2.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"14.1.2.6",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"14.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"14.1.2.8",text:"Join 0/8 Free Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.2.9",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Camel Lancers Kit",amount:12},{text:"Camel",amount:12},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"14.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"14.1.3.0",text:"Use Camel Lancers and kill 0/100 soldiers in Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"14.1.3.1",text:"Get a Troop Kill Score of 800 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.3.2",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.3.3",text:"You or your group collectively kills a total of 240 soldiers in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.3.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.3.5",text:"You or your group members get 0/15 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.3.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"14.1.3.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"14.1.3.8",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"14.1.3.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Camel Lancer Defence Doctrine",amount:null},{text:"Increases slashing defence by 80 points",amount:null},{text:"Increases piercing defence by 80 points",amount:null},{text:"Increases blunt defence by 80 points",amount:null},{text:"Unit Medal",amount:30}]},{id:"14.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"14.1.4.0",text:"Use Camel Lancers and win 0/12 Expeditions or Bandit Raids",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"14.1.4.1",text:"In Field or Siege Battles of any type, use the Camel Lancers' skill Charge to kill 0/30 enemy soldiers.",tags:["Siege","Field"],conditions:[]},{id:"14.1.4.2",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.1.4.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.4.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.4.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.1.4.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.1.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"14.1.4.8",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"14.1.4.9",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Camel Lancers Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"14.2",name:"Hashashins ",stages:[{id:"14.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"14.2.0.0",text:"Get a Troop Kill Score of 800 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.0.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.0.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.0.3",text:"Use a trebuchet or interrupt a capture 0/10 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.0.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.0.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.0.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.0.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"14.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"14.2.0.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.2.0.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"14.2.0.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"14.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"14.2.1.0",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.1.1",text:"Be placed in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.1.2",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/12 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.1.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.1.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.1.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.1.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.1.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"14.2.1.8",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"14.2.1.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"14.2.1.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"14.2.1.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Hashashin Attack Doctrine",amount:null},{text:"Increases Hashashins piercing armour penetration by 70 points",amount:null},{text:"Increases Hashashins slashing armour penetration by 70 points",amount:null},{text:"Increases Hashashins blunt armour penetration by 70 points",amount:null},{text:"Unit Medal",amount:30}]},{id:"14.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"14.2.2.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.2.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.2.2",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"14.2.2.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.2.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.2.5",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.2.6",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"14.2.2.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"14.2.2.8",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"14.2.2.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"14.2.2.10",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"14.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"14.2.3.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.3.1",text:"Be placed in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.3.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"14.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.3.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.3.5",text:"Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.3.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"14.2.3.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"14.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.2.3.9",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.3.10",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.2.3.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Hashashins Kit",amount:10},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"14.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"14.2.4.0",text:"Use Hashashins to kill 0/15 heroes in Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"14.2.4.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"14.2.4.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.4.3",text:'Join 0/10 Deatchmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"14.2.4.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.4.5",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.4.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.4.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"14.2.4.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.2.4.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.2.4.10",text:'Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"14.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"14.2.5.0",text:"Use the Hashashins' skills Prowl or Eviscerate to kill 0/200 enemy soldiers in any type of Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"14.2.5.1",text:"Using Hashashin, win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.2.5.2",text:"Get a Troop Kill Score of 1000 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.5.3",text:'Join 0/10 Deatchmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"14.2.5.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.5.5",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.5.6",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.5.7",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"14.2.5.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"14.2.5.9",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"14.2.5.10",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"14.2.5.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Hashashin Combat Doctrine",amount:null},{text:"Increases the number of enemies each Hashashin can attack with a single normal strike by 1",amount:null},{text:"Unit Medal",amount:40}]},{id:"14.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"14.2.6.0",text:"Use Hashashins and get a Troop Kill score of 300 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.6.1",text:"Use Hashashins to defeat 0/300 troops during Expeditions or Bandit Raids.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"14.2.6.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.6.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"14.2.6.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.6.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.6.6",text:"You or your group members get 0/7 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"14.2.6.7",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"14.2.6.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"14.2.6.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"14.2.6.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"14.2.6.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Hashashins Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:15,name:"Season 15 - Eternal",sections:[{id:"15.0",name:"Wuxing Pikemen",stages:[{id:"15.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"15.0.0.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.0.2",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.0.3",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.0.0.4",text:"Get a Troop Kill Score of 1000 or higher in 0/3 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.0.5",text:"Get 0/30 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.0.6",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"15.0.0.7",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"15.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"15.0.1.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.1.1",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.1.2",text:'Defeat 0/1,000 enemy units in PVE battles Earn 0/6 "Shatter the Ranks" badges.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"15.0.1.3",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.1.4",text:"In Field or Siege Battles of any type, you or your group members get 0/30 B+ or better ratings or get 0/6 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"15.0.1.5",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]},{id:"15.0.1.6",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"x Wuxing Pikemen Kit",amount:null},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"15.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"15.0.2.0",text:"Use a trebuchet or knock down a ladder in 0/6 battles in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"15.0.2.1",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.2.3",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.2.5",text:"You or your group members get 0/10 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.0.2.6",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"15.0.2.7",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Wuxing Fire Doctrine",amount:null},{text:"Increases Fiery Blast's burn damage by 100 points",amount:null},{text:"Unit Medal",amount:20}]},{id:"15.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"15.0.3.0",text:"Use Wuxing Pikemen and get a Troop Kill score of 200 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.3.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.3.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"15.0.3.3",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.3.4",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.0.3.5",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.0.3.6",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Wuxing Pikemen Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"15.1",name:"Crescent Monks ",stages:[{id:"15.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"15.1.0.0",text:"Get a Troop Kill Score of 800 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.0.1",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.0.2",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.0.3",text:"Earn 40 capture points or interrupt a capture in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.0.4",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.0.5",text:"You or your group members get 0/15 A+ or better ratings in or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.0.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"15.1.0.7",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"15.1.0.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"15.1.0.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"15.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"15.1.1.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"15.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.1.2",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.1.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.1.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.1.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"15.1.1.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"15.1.1.7",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"15.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.1.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"15.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"15.1.2.0",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.2.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or igher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.2.2",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.2.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.2.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.2.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 'Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.2.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"15.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"15.1.2.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.2.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Crescent Monks Kit",amount:9},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"15.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"15.1.3.0",text:"Use Crescent Monks and win 0/10 PvE Battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.1.3.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or Join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"15.1.3.2",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.1.3.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.3.5",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"15.1.3.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"15.1.3.7",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"15.1.3.8",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Crescent Monks Medical Doctrine",amount:null},{text:"Deadly Epicycle's first hit will restore a small amount of Health on self",amount:null},{text:"Unit Medal",amount:30}]},{id:"15.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"15.1.4.0",text:"Using Crescent Monks, win 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"15.1.4.1",text:'In Field or Siege Battles of any type, use the Crescent Monks "Deadly Epicycle" skill to kill 0/200 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"15.1.4.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.4.3",text:"Get a Troop Kill Score of 1000 or higher in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.4.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.1.4.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"15.1.4.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"15.1.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"15.1.4.8",text:'Defeat 0/20 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"15.1.4.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Crescent Monks Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"15.2",name:"Yanyuedao Cavalry",stages:[{id:"15.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"15.2.0.0",text:"Get 10/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.0.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.0.2",text:"Get a Troop Kill Score of 1000 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.0.3",text:"Be placed in the top 5 in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.0.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.0.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.0.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.0.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"15.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"15.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"15.2.0.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.2.0.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"15.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"15.2.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.1.1",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.1.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.1.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.1.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.1.6",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.1.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"15.2.1.8",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"15.2.1.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"15.2.1.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.2.1.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Yanyuedao Slashing Doctrine",amount:null},{text:"Increases slashing damage by 100 points",amount:null},{text:"Unit Medal",amount:30}]},{id:"15.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"15.2.2.0",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.2.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.2.2",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"15.2.2.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.2.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.2.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.2.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"15.2.2.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"15.2.2.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"15.2.2.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"15.2.2.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"15.2.2.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"15.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"15.2.3.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.3.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.3.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"15.2.3.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.3.5",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.3.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.3.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"15.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"15.2.3.9",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.3.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"15.2.3.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Yanyuedao Cavalry Kit",amount:18},{text:"Rouncey",amount:18},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"15.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"15.2.4.0",text:"Use Yanyuedao Cavalry and get a Troop Kill score of 200 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.4.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.4.2",text:"Knock over a siege ladder or acquire 15 capture points in 0/10 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.4.3",text:'Join 0/10 Deathmatches or get the "Quad Kill" badge times in Field or Siege battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"15.2.4.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.4.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.4.6",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.4.7",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better",tags:["Siege","Field"],conditions:[]},{id:"15.2.4.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"15.2.4.9",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"15.2.4.10",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"15.2.4.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"15.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"15.2.5.0",text:"Use Yanyuedao Cavalry and get a Troop Kill score of 300 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.5.1",text:"In Field or Siege Battles of any type, use Yanyuedao Cavalry to kill 0/450 enemy soldiers.",tags:["Siege","Field"],conditions:[]},{id:"15.2.5.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.5.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"15.2.5.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.5.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.5.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"15.2.5.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"15.2.5.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"15.2.5.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.2.5.10",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Yanyuedao Resistance Doctrine",amount:null},{text:"Unit Medal",amount:40}]},{id:"15.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"15.2.6.0",text:"Use Yanyuedao Cavalry and win 0/12 PvE Battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.2.6.1",text:`In Field or Siege Battles of any type, use the Yanyuedao Cavalry's "Dread Unleashed" skill to kill 0/200 enemy soldiers.`,tags:["Siege","Field"],conditions:[]},{id:"15.2.6.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.6.3",text:"Join 0/10 Deathmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"15.2.6.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"15.2.6.5",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.6.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"15.2.6.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"15.2.6.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"15.2.6.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"15.2.6.10",text:'Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Yanyuedao Cavalry Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:16,name:"Season 16 - Sengoku",sections:[{id:"16.0",name:"Ronin",stages:[{id:"16.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"16.0.0.0",text:"Get a Troop Kill Score of 1000 or higher in 0/4 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.0.1",text:"Destroy a siege engine or acquire 40 capture points in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.0.0.2",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.0.3",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"16.0.0.4",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.0.0.5",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"16.0.0.6",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"16.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"16.0.1.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.0.1.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.1.2",text:"Defeat 0/1,000 enemy units in PVE battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"16.0.1.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.1.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.1.5",text:"In Field or Siege Battles of any type, you or your group members get 0/30 B+ or better ratings or get 0/6 A+ or bette ratings.",tags:["Siege","Field"],conditions:[]},{id:"16.0.1.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"16.0.1.7",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Ronin Kit",amount:18},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"16.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"16.0.2.0",text:"In any battle, get a Troop Kill Score of 0/3,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"16.0.2.1",text:"Earn 40 capture points or interrupt a capture in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.0.2.3",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.2.4",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"16.0.2.5",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"16.0.2.6",text:"Search 0/10 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Ronin Tactical Doctrine",amount:null},{text:"laido Strike can damage an additional target",amount:null},{text:"Unit Medal",amount:20}]},{id:"16.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"16.0.3.0",text:"In any battle, get a Troop Kill Score of 0/3,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"16.0.3.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.0.3.2",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.3.3",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.3.4",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.0.3.5",text:"Defeat 0/1,000 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"16.0.3.6",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Ronin Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"16.1",name:"Onna-Musha ",stages:[{id:"16.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"16.1.0.0",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.0.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"16.1.0.3",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.0.4",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.0.5",text:"You or your group members get 0/15 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.0.6",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"16.1.0.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.1.0.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"16.1.0.9",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"16.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"16.1.1.0",text:"Destroy a siege engine or acquire 40 capture points in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.1.2",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.1.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.1.4",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.1.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"16.1.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.1.1.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"16.1.1.8",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.1.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"16.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"16.1.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"16.1.2.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.2.2",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.2.3",text:"Get a Troop Kill Score of 1000 or higher in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.2.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.2.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"16.1.2.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"16.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"16.1.2.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or",tags:["Siege","Field"],conditions:[]},{id:"16.1.2.9",text:"assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.2.10",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"16.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"16.1.3.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.3.1",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.1.3.2",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.3.3",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.3.4",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"16.1.3.5",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"16.1.3.6",text:'Defeat 0/20 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"16.1.3.7",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"16.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"16.1.4.0",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.4.1",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.4.2",text:"Use artillery to kill 0/130 soldiers or 0/8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.1.4.3",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"16.1.4.4",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"16.1.4.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"16.1.4.6",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"16.1.4.7",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]}]},{id:"16.2",name:"Orochi Samurai  ",stages:[{id:"16.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"16.2.0.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/12 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.0.1",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.0.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles. ",tags:["Siege","Field"],conditions:[]},{id:"16.2.0.3",text:"Get an A rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.0.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.0.5",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.0.6",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"16.2.0.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"16.2.0.8",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"16.2.0.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"16.2.0.10",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"16.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"16.2.1.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/10 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.1.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.1.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.1.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.1.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.1.5",text:"You or your group collectively kills a total of 240 soldiers in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.1.6",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.1.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"16.2.1.8",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"16.2.1.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"16.2.1.10",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"16.2.1.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Samurai Defence Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"16.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"16.2.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"16.2.2.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.2.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"16.2.2.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.2.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.2.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.2.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.2.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"16.2.2.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.2.2.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"16.2.2.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"16.2.2.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"16.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"16.2.3.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.3.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.3.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"16.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.3.5",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.3.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"16.2.3.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.2.3.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"16.2.3.9",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.3.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"16.2.3.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Orochi Samurai Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"16.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"16.2.4.0",text:"Use Orochi Samurai and get a Troop Kill score of 300 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.4.1",text:"Get a Troop Kill Score of 800 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.4.2",text:"0/50 total kills or assists in Field or Siege Battles of Get any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.4.3",text:'Join 0/10 Deathmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"16.2.4.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.4.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.4.6",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.4.7",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.4.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.2.4.9",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"16.2.4.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"16.2.4.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"16.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"16.2.5.0",text:'In Field or Siege Battles of any type, use the Orochi Samurai "Double Strike" skill to kill 0/200 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"16.2.5.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.5.2",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"16.2.5.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.5.4",text:"Deploy or destroy an artillery piece in Field or Siege 0/10 Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.5.5",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.5.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"16.2.5.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"16.2.5.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.2.5.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"16.2.5.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Samurai Assault Doctrine",amount:null},{text:"Unit Medal",amount:40}]},{id:"16.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"16.2.6.0",text:'In Field or Siege Battles of any type, use the Orochi Samurai "Disrupting Sweep" skill to kill 0/200 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"16.2.6.1",text:"Use Orochi Samurai and win 0/10 Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"16.2.6.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"16.2.6.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"16.2.6.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"16.2.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.6.6",text:'0/8 No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.6.7",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"16.2.6.8",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"16.2.6.9",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"16.2.6.10",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"16.2.6.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Orochi Samurai Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:17,name:"Season 17 - Knightfall",sections:[{id:"17.0",name:"Schutzdieners ",stages:[{id:"17.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"17.0.0.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.0.1",text:"Be placed in the top 5 in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.0.2",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.0.3",text:"Defeat 0/1,000 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.0.0.4",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.0.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.0.0.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"17.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"17.0.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.1.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.0.1.2",text:"Achieve victory in 0/5 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"17.0.1.3",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.1.4",text:"In Field or Siege Battles of any type, you or your group members get 0/30 B+ or better ratings or get 0/6 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"17.0.1.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.0.1.6",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Schutzdieners Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"17.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"17.0.2.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.2.1",text:"Get an A rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.2.2",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.2.3",text:"Get a Troop Kill Score of 1000 or higher in 0/3 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.2.4",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.2.5",text:"You or your group collectively kills a total of 240 soldiers in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.2.6",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]},{id:"17.0.2.7",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Schutzdieners Support Doctrine",amount:null},{text:"Increases all defences for allies that receive healing by 80",amount:null},{text:"Unit Medal",amount:20}]},{id:"17.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"17.0.3.0",text:"Use Schutzdieners and win 0/6 Field or Siege battles.",tags:["Siege","Field"],conditions:[]},{id:"17.0.3.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.3.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.0.3.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.0.3.5",text:"You or your group members get 0/10 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.0.3.6",text:"Achieve victory in 0/5 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"17.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Schutzdieners Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"17.1",name:"Kriegsbruders ",stages:[{id:"17.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"17.1.0.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/10 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.0.1",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.0.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.0.3",text:"Get a Troop Kill Score of 1000 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.0.4",text:"Use a trebuchet or knock down a ladder in 0/8 battles in any mode.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"17.1.0.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.0.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"17.1.0.7",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"17.1.0.8",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.1.0.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"17.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"17.1.1.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.1.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.1.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.1.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.1.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings",tags:["Siege","Field"],conditions:[]},{id:"17.1.1.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"17.1.1.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.1.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"17.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"17.1.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.1.2.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.2.2",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.2.3",text:"You or your group collectively kills a total of 8 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.2.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.2.6",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"17.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"17.1.2.8",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.2.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Kriegsbruders Kit",amount:21},{text:"Barb",amount:21},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"17.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"17.1.3.0",text:"Use Kriegsbruders and win 0/8 Expeditions.",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.1.3.1",text:"In Field or Siege Battles of any type, win battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.1.3.2",text:"Destroy a siege engine or acquire 40 capture points in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.3.3",text:'0/6 No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.3.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.3.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.3.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"17.1.3.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.1.3.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"17.1.3.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Kriegsbruders Battle Doctrine",amount:null},{text:"Reduces Full Assault's cooldown by 5 seconds",amount:null},{text:"Unit Medal",amount:30}]},{id:"17.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"17.1.4.0",text:'In Field or Siege Battles of any type, use the Kriegsbruder "Full Assault" skill to kill 0/200 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"17.1.4.1",text:"Use Kriegsbruders and win 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"17.1.4.2",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.1.4.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.4.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.4.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.1.4.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"17.1.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"17.1.4.8",text:'Defeat 0/20 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/4 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"17.1.4.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Kriegsbruders Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"17.2",name:"Zweihander ",stages:[{id:"17.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"17.2.0.0",text:"Get a Troop Kill Score of 800 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.0.1",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/12 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.0.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.2.0.3",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.0.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.0.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.0.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.0.7",text:"Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.0.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.2.0.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"17.2.0.10",text:"Defeat 0/1,500 enemy units in PVE battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.2.0.11",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"17.2.0.12",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"17.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"17.2.1.0",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.1.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.1.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.2.1.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.1.5",text:'0/8 No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.1.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"17.2.1.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.2.1.8",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"17.2.1.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.2.1.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"17.2.1.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Zweihander Marching Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"17.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"17.2.2.0",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.2.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.2.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"17.2.2.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.2.5",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.2.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"17.2.2.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"17.2.2.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.2.2.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.2.2.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"17.2.2.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"17.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"17.2.3.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.3.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"17.2.3.2",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.3.5",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.3.6",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.3.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"17.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.2.3.9",text:"Use a trebuchet or interrupt a capture 0/10 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.3.10",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"17.2.3.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Zweihander Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"17.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"17.2.4.0",text:`In Field or Siege Battles of any type, use the Zweihander "Knight's Gambit" skill to kill 0/200 enemy soldiers.`,tags:["Siege","Field"],conditions:[]},{id:"17.2.4.1",text:"In any battle, get a Troop Kill Score of 0/5,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"17.2.4.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.4.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"17.2.4.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.4.5",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.4.6",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.4.7",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.4.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"17.2.4.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"17.2.4.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"17.2.4.11",text:'Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"17.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"17.2.5.0",text:"Use Zweihanders and get a Troop Kill score of 300 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.5.1",text:"Use Zweihanders and win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"17.2.5.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.5.3",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"17.2.5.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.5.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.5.6",text:"You or your group collectively kills a total of 8 heroes in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.5.7",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.5.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"17.2.5.9",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"17.2.5.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"17.2.5.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Zweihander Stamina Doctrine",amount:null},{text:"Each level reduces Knight's Gambit's cooldown by 4 seconds",amount:null},{text:"Unit Medal",amount:40}]},{id:"17.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"17.2.6.0",text:"Use Zweihanders and get a Troop Kill score of 300 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.6.1",text:"Use Zweihanders and win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"17.2.6.2",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.6.3",text:'Join 0/10 Deatchmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"17.2.6.4",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"17.2.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.6.6",text:"Get a Troop Kill Score of 1000 or higher in 0/7 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.6.7",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"17.2.6.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"17.2.6.9",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"17.2.6.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"17.2.6.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Zweihanders Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:18,name:"Season 18 - Avalon",sections:[{id:"18.0",name:"Bedivere Rangers",stages:[{id:"18.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"18.0.0.0",text:"Destroy a siege engine or acquire 40 capture points in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.0.0.1",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.0.2",text:"Get a Troop Kill Score of 1000 or higher in 0/4 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.0.3",text:"Defeat 0/1,000 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.0.0.4",text:"Get 0/30 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.0.0.5",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"18.0.0.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"18.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"18.0.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.1.1",text:"Get a Troop Kill Score of 300 or higher with 0/8 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.1.2",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"18.0.1.3",text:"Use artillery to kill 0/100 soldiers or 0/6 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.1.4",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.1.5",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"18.0.1.6",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Bedivere Rangers Kit",amount:21},{text:"Courser",amount:21},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"18.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"18.0.2.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.2.1",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.2.2",text:"Get 0/30 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.0.2.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"18.0.2.6",text:"Raise your hero up 0/8 levels.",tags:["General"],conditions:[]},{id:"18.0.2.7",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]}],rewards:[{text:"Caradoc's Assault Doctrine",amount:null},{text:"Unit Medal",amount:20}]},{id:"18.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"18.0.3.0",text:"Use Caradoc's Cavalry and win 0/6 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"18.0.3.1",text:"Get a Troop Kill Score of 1000 or higher in 0/4 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.3.2",text:"Geta kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.3.3",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.0.3.4",text:"You or your group members get 0/10 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.0.3.5",text:"Achieve victory in 0/5 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"18.0.3.6",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Bedivere Rangers Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"18.1",name:"Galahad Spearmen ",stages:[{id:"18.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"18.1.0.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"18.1.0.1",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.0.2",text:"Get a Troop Kill Score of 1000 or higher in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.0.3",text:"Destroy a siege engine or acquire 40 capture points in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.0.4",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.0.5",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.0.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"18.1.0.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"18.1.0.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.1.0.9",text:"Get an A+ rating or better in 0/8 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"18.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"18.1.1.0",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.1.1",text:"Earn 40 capture points or interrupt a capture in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.1.2",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.1.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.1.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.1.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"18.1.1.7",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"18.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.1.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"18.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"18.1.2.0",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.2.1",text:"Earn 40 capture points or interrupt a capture in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.2.2",text:"Get an A rating or better in 0/8 Free battles, or get an A+ rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.2.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.2.4",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.2.5",text:"Defeat a band of rebels 0/12 times in the open world.",tags:["Open World"],conditions:[]},{id:"18.1.2.6",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"18.1.2.7",text:"Join 0/8 Free Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.2.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Bedivere Rangers Kit",amount:30},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"18.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"18.1.3.0",text:"Use Perceval's Royal Guards and get a Troop Kill score of 300 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.3.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.3.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.3.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.3.4",text:"Deploy or destroy an artillery piece in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.3.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"18.1.3.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"18.1.3.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"18.1.3.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"18.1.3.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Perceval's Shield Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"18.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"18.1.4.0",text:"Use Perceval's Royal Guards and win 0/8 PvE Battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.1.4.1",text:`In Field or Siege Battles of any type, use the Perceval's Royal Guards "Throw Javelin" skill to kill 0/120 enemy soldiers.`,tags:["Siege","Field"],conditions:[]},{id:"18.1.4.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.4.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.1.4.4",text:"You or your group members get 0/15 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.1.4.5",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"18.1.4.6",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"18.1.4.7",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"18.1.4.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Bedivere Rangers Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"18.2",name:"Lancelot Knights",stages:[{id:"18.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"18.2.0.0",text:"Get a Troop Kill Score of 1000 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"18.2.0.2",text:"Get an A rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.0.3",text:"Knock over a siege ladder or acquire 15 capture points in 0/10 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.0.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.0.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.0.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.0.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"18.2.0.10",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.2.0.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"18.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"18.2.1.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"18.2.1.1",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.1.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.1.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.1.5",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"18.2.1.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.1.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"18.2.1.8",text:"Get an A+ rating or better in 0/10 PVE battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.2.1.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"18.2.1.10",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Queen's Knight Shield Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"18.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"18.2.2.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/12 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.2.1",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.2.2",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"18.2.2.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.2.5",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.2.6",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"18.2.2.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.2.8",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"18.2.2.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.2.2.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"18.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"18.2.3.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/12 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.3.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"18.2.3.2",text:"Join 0/10 Deathmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"18.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.3.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.3.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.3.6",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.3.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.3.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"18.2.3.9",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"18.2.3.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.2.3.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Lancelot Knights Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"18.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"18.2.4.0",text:"Use Queen's Knights and win 0/10 Rebel Camps or Bandit Raids.",tags:["Bandit Raid","Open World"],conditions:[]},{id:"18.2.4.1",text:"Get a Troop Kill Score of 1000 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.4.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.4.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"18.2.4.4",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.4.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.4.6",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.4.7",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"18.2.4.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.4.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"18.2.4.10",text:'Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"18.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"18.2.5.0",text:"Use Queen's Knights and win 0/10 Rebel Camps or Bandit Raids.",tags:["Bandit Raid","Open World"],conditions:[]},{id:"18.2.5.1",text:"Use Queen's Knights in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.5.2",text:"In any battle, get a Troop Kill Score of 0/5,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"18.2.5.3",text:"Get an A rating or better in 0/10 Deathmatch battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"18.2.5.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.5.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.5.6",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.5.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"18.2.5.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"18.2.5.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.2.5.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Queen's Knight Battle Doctrine",amount:null},{text:"Block cannot be damaged within 2 seconds of using Run 'Em Through",amount:null},{text:"Unit Medal",amount:40}]},{id:"18.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"18.2.6.0",text:"Use Queen's Knights and win 0/10 PvE Battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"18.2.6.1",text:"In Field or Siege Battles of any type, use any Queen's Knights skill to kill 0/160 enemy soldiers.",tags:["Siege","Field"],conditions:[]},{id:"18.2.6.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"18.2.6.3",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"18.2.6.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"18.2.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.6.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"18.2.6.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"18.2.6.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"18.2.6.9",text:"Achieve victory in 0/10 Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"18.2.6.10",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Lancelot Knights Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:19,name:"Season 19 - Dragonrise",sections:[{id:"19.0",name:"Feathered Crossbowmen",stages:[{id:"19.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"19.0.0.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.0.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.0.0.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.0.3",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.0.0.4",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.0.5",text:"0/30 kills or assists in Free Battles, or get 8 kills or assists in Get 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.0.0.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"19.0.0.7",text:"Search 0/10 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"19.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"19.0.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.1.1",text:"Be placed in the top 5 in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.0.1.2",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.0.1.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.1.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.1.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"19.0.1.7",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Feathered Crossbowmen Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"19.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"19.0.2.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.0.2.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"19.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.0.2.3",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.2.4",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"19.0.2.5",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"19.0.2.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Feathered Crossbowmen Attack Doctrine",amount:null},{text:"Increases piercing and slashing damage by 60 points",amount:null},{text:"Unit Medal",amount:20}]},{id:"19.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"19.0.3.0",text:"Use Feathered Crossbowmen and get a Troop Kill score of 300 or higher in 0/5 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.3.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.0.3.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"19.0.3.3",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.0.3.5",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"19.0.3.6",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"19.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Feathered Crossbowmen Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"19.1",name:"Wuwei Mansion Guard ",stages:[{id:"19.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"19.1.0.0",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"19.1.0.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.0.3",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.1.0.4",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.1.0.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"19.1.0.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"19.1.0.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"19.1.0.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.1.0.9",text:"Win 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"19.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"19.1.1.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.1.1.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.1.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"19.1.1.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"19.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.1.1.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"19.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"19.1.2.0",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.2.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.2.2",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.1.2.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"19.1.2.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"19.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"19.1.2.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"19.1.2.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Wuwei Mansion Guard Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"19.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"19.1.3.0",text:"Use Wuwei Mansion Guards and get a Troop Kill score of 300 or higher in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.3.1",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/10 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.3.2",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.3.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.3.4",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.3.5",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"19.1.3.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"19.1.3.7",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"19.1.3.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Mansion Guard Medical Doctrine",amount:null},{text:"Unit Medal",amount:30}]},{id:"19.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"19.1.4.0",text:"Use Weiwei Mansion Guards and achieve victory in 0/8 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"19.1.4.1",text:'In Field or Siege Battles of any type, use the Wuwei Mansion Guard "Brutal Sweep" skill to kill 0/120 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"19.1.4.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.4.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.4.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.1.4.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"19.1.4.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"19.1.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"19.1.4.8",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"19.1.4.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Wuwei Mansion Guard Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"19.2",name:"Xuanjia Heavy Cavalry ",stages:[{id:"19.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"19.2.0.0",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.0.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.0.3",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"19.2.0.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.0.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"19.2.0.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"19.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"19.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"19.2.0.10",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.0.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"19.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"19.2.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.1.1",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.1.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.1.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.1.5",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.1.6",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"19.2.1.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"19.2.1.8",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.1.9",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.1.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Xuanjia Cavalry Energy Doctrine",amount:null},{text:"Reduces Disciplined Assault' s cooldown by 4 seconds",amount:null},{text:"Unit Medal",amount:30}]},{id:"19.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"19.2.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"19.2.2.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.2.2",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.2.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.2.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.2.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"19.2.2.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"19.2.2.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.2.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.2.10",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.2.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"19.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"19.2.3.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"19.2.3.1",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.3.2",text:'Join 0/10 Deatchmatches or get the "Quad Kill" badge times in Field or Siege battles of any type.',tags:["Siege","Field"],conditions:[]},{id:"19.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.3.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.3.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.3.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"19.2.3.9",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.3.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"19.2.3.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Xuanjia Heavy Cavalry Kit",amount:16},{text:"Rouncey",amount:16},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"19.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"19.2.4.0",text:"Use Xuanjia Heavy Cavalry and win 0/10 PvE Battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.4.1",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.4.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.4.3",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"19.2.4.4",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.4.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.4.6",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.4.7",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.4.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.4.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.4.10",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"19.2.4.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"19.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"19.2.5.0",text:"Use Xuanjia Heavy Cavalry and win 0/10 Raider Camps or Bandit Raids.",tags:["Bandit Raid"],conditions:[]},{id:"19.2.5.1",text:"Use Xuanjia Heavy Cavalry in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.5.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.5.3",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"19.2.5.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.5.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.5.6",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.5.7",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.5.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.5.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.5.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"19.2.5.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Xuanjia Cavalry Damage Doctrine",amount:null},{text:"Unit Medal",amount:40}]},{id:"19.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"19.2.6.0",text:"Use Xuanjia Heavy Cavalry and get a Troop Kill score of 300 or higher in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.6.1",text:'In Field or Siege Battles of any type, use the Xuanjia Heavy Cavalry "Disciplined Assault" skill to kill 0/160 enemy soldiers.',tags:["Siege","Field"],conditions:[]},{id:"19.2.6.2",text:"In any battle, get a Troop Kill Score of 0/5,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"19.2.6.3",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"19.2.6.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"19.2.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.6.6",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.6.7",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"19.2.6.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"19.2.6.9",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"19.2.6.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"19.2.6.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Xuanjia Heavy Cavalry Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:20,name:"Season 20 - Alexander",sections:[{id:"20.0",name:"Psiloi Slingers",stages:[{id:"20.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"20.0.0.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.0.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.0.0.2",text:"Geta kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.0.3",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.0.0.4",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.0.5",text:"Get 0/30 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.0.0.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"20.0.0.7",text:"Search 0/10 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"20.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"20.0.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.1.1",text:"Be placed in the top 5 in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.0.1.2",text:"Get an A+ rating or better in 0/5 PVE battles ",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.0.1.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.1.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.1.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"20.0.1.7",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Psiloi Slingers Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"20.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"20.0.2.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.0.2.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"20.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.0.2.3",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.2.4",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"20.0.2.5",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"20.0.2.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"20.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"20.0.3.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.0.3.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"20.0.3.2",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.3.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.0.3.4",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"20.0.3.5",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"20.0.3.6",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Psiloi Slingers Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"20.1",name:"Companion Cavalry ",stages:[{id:"20.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"20.1.0.0",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"20.1.0.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.0.3",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.1.0.4",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.1.0.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"20.1.0.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"20.1.0.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"20.1.0.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.1.0.9",text:"Win 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"20.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"20.1.1.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.1.1.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.1.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"20.1.1.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"20.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.1.1.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"20.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"20.1.2.0",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.2.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.2.2",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.1.2.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"20.1.2.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"20.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"20.1.2.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"20.1.2.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Companion Cavalry Kit",amount:27},{text:"Barb",amount:27},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"20.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"20.1.3.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/10 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.3.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.3.2",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.3.3",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.3.4",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"20.1.3.5",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"20.1.3.6",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"20.1.3.7",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"20.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"20.1.4.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.4.1",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.4.2",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.1.4.3",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"20.1.4.4",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"20.1.4.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"20.1.4.6",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"20.1.4.7",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Companion Cavalry Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"20.2",name:"Sunward Phalanx",stages:[{id:"20.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"20.2.0.0",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.0.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.0.3",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"20.2.0.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.0.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"20.2.0.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"20.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"20.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"20.2.0.10",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.2.0.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"20.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"20.2.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.1.1",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.1.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.1.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.1.5",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.1.6",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"20.2.1.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"20.2.1.8",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.2.1.9",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.2.1.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"20.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"20.2.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"20.2.2.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.2.2",text:"Join 0/10 Deatshmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.2.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.2.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.2.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better",tags:["Siege","Field"],conditions:[]},{id:"20.2.2.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"20.2.2.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.2.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.2.2.10",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.2.2.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"20.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"20.2.3.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"20.2.3.1",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.3.2",text:'Join 0/10 Deathmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"20.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.3.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.3.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.3.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"20.2.3.9",text:"Geta kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.3.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"20.2.3.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Sunward Phalanx Kit",amount:40},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"20.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"20.2.4.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.4.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.4.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Get Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"20.2.4.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.4.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.4.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.4.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.4.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.4.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.4.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"20.2.4.10",text:'Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"20.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"20.2.5.0",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.5.1",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"20.2.5.2",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.5.3",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.5.4",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.5.5",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.5.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.5.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.5.8",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"20.2.5.9",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:40}]},{id:"20.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"20.2.6.0",text:"In any battle, get a Troop Kill Score of 0/5,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"20.2.6.1",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"20.2.6.2",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"20.2.6.3",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.6.4",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.6.5",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"20.2.6.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"20.2.6.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"20.2.6.8",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"20.2.6.9",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Sunward Phalanx Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:21,name:"Season 21 - Lionfire",sections:[{id:"21.0",name:"Reitar Pistoleers",stages:[{id:"21.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"21.0.0.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.0.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.0.0.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.0.3",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.0.0.4",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.0.5",text:"Get 0/30 kills or assists in Free Battles, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.0.0.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"21.0.0.7",text:"Search 0/10 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"21.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"21.0.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.1.1",text:"Be placed in the top 5 in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.0.1.2",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.0.1.3",text:'Get 0/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.1.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.1.6",text:"Defeat a band of rebels 0/1Qtimes in the open world.",tags:["Open World"],conditions:[]},{id:"21.0.1.7",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Reitar Pistoleers Kit",amount:15},{text:"Courser",amount:15},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"21.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"21.0.2.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.0.2.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"21.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.0.2.3",text:'Get the "Hat Trick" or "A Deadly Century" badge in 0/5 Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.2.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"21.0.2.6",text:"Complete 40/10 Daily Quests.",tags:["General"],conditions:[]},{id:"21.0.2.7",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Ranging Fire",amount:null},{text:"Unit Medal",amount:20}]},{id:"21.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"21.0.3.0",text:"In Siege or Field Battles, take the Reitar Pistoleers into battle and get a Unit Kill Score of at least 300 0/5 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.3.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.0.3.2",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles",tags:["Siege","Field"],conditions:[]},{id:"21.0.3.3",text:'Earn 0/6 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.0.3.5",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"21.0.3.6",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"21.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Reitar Pistoleers Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"21.1",name:"Swinefeathers ",stages:[{id:"21.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"21.1.0.0",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"21.1.0.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.0.3",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.1.0.4",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.1.0.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"21.1.0.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"21.1.0.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"21.1.0.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.1.0.9",text:"Win 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"21.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"21.1.1.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.1.1.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.1.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"21.1.1.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"21.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.1.1.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"21.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"21.1.2.0",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.2.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.2.2",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.1.2.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"21.1.2.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"21.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"21.1.2.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"21.1.2.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Swinefeathers Kit",amount:24},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"21.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"21.1.3.0",text:"In Siege or Field Battles, take the Swinefeathers into battle and get a Unit Kill Score of at least 300 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.3.1",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/10 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.3.2",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of anytype.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.3.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.3.4",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.3.5",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"21.1.3.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"21.1.3.7",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"21.1.3.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Fire Penetration",amount:null},{text:"Unit Medal",amount:30}]},{id:"21.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"21.1.4.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.4.1",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.4.2",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.1.4.3",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"21.1.4.4",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"21.1.4.5",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"21.1.4.6",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"21.1.4.7",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Surround the Bandits",amount:null},{text:"Swinefeathers Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"21.2",name:"Lionroar Crew",stages:[{id:"21.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"21.2.0.0",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.0.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.0.3",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"21.2.0.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.0.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"21.2.0.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"21.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"21.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"21.2.0.10",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.2.0.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"21.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"21.2.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.1.1",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.1.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.1.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.1.5",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.1.6",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"21.2.1.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"21.2.1.8",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.2.1.9",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.2.1.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Blood of Iron",amount:null},{text:"Increase the endurance of cannons by 500",amount:null},{text:"Unit Medal",amount:30}]},{id:"21.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"21.2.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"21.2.2.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.2.2",text:"Join 0/10 Deatchmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.2.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.2.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.2.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"21.2.2.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"21.2.2.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.2.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.2.2.10",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.2.2.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"21.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"21.2.3.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"21.2.3.1",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.3.2",text:'Join 0/10 Deathmatches or get the "Quad Kill" badge 0/9 times in Field or Siege battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"21.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.3.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.3.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.3.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"21.2.3.9",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.3.10",text:"Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.3.11",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"21.2.3.12",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Lionroar Crew Kit",amount:15},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"21.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"21.2.4.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.4.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.4.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"21.2.4.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.4.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.4.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.4.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.4.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.4.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.4.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"21.2.4.10",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:240}]},{id:"21.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"21.2.5.0",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.5.1",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"21.2.5.2",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.5.3",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.5.4",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.5.5",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.5.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.5.7",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.5.8",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"21.2.5.9",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Surround the Bandits",amount:null},{text:"Veteran",amount:null},{text:"Reduce the time of deploying cannons by 2s",amount:null},{text:"Unit Medal",amount:40}]},{id:"21.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"21.2.6.0",text:"In any battle, get a Troop Kill Score of 0/5,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"21.2.6.1",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"21.2.6.2",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"21.2.6.3",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.6.4",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.6.5",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"21.2.6.6",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"21.2.6.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"21.2.6.8",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"21.2.6.9",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Lionroar Crew Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]},{id:22,name:"Season 22 - Sparta",sections:[{id:"22.0",name:"Helot Auxiliaries",stages:[{id:"22.0.0",name:"Stage 1",required:6,total:8,challenges:[{id:"22.0.0.0",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/8 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.0.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.0.0.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.0.3",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.0.0.4",text:'Get 2/4 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.0.5",text:"Get 13/30 kills or assists in Free Battles, or get 8 kills or assists in 1/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.0.0.6",text:"Complete 0/10 Fief Quests.",tags:["Open World"],conditions:[]},{id:"22.0.0.7",text:"Search 0/10 loot sites in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Unit Medal",amount:15}]},{id:"22.0.1",name:"Stage 2",required:6,total:8,challenges:[{id:"22.0.1.0",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/6 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.1.1",text:"Be placed in the top 5 in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.0.1.2",text:"Get an A+ rating or better in 0/5 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.0.1.3",text:'Get 0/4 No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.1.4",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.1.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]},{id:"22.0.1.7",text:"Join 0/6 Free Battles or win 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]}],rewards:[{text:"Helot Auxiliaries Kit",amount:12},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:65}]},{id:"22.0.2",name:"Stage 3",required:6,total:8,challenges:[{id:"22.0.2.0",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.0.2.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"22.0.2.2",text:"Get an A rating or better in 0/6 Free battles, or get an A+ rating or better in 0/6 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.0.2.3",text:"Deploy or destroy an artillery piece in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.2.4",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"22.0.2.5",text:"Complete 0/10 Daily Quests.",tags:["General"],conditions:[]},{id:"22.0.2.6",text:"Defeat a band of rebels 0/10 times in the open world.",tags:["Open World"],conditions:[]}],rewards:[{text:"Increases unit's health by 80",amount:null},{text:"Increases unit's piercing defence by 100 points",amount:null},{text:"Unit Medal",amount:20}]},{id:"22.0.3",name:"Stage 4",required:6,total:8,challenges:[{id:"22.0.3.0",text:"Deploy Helot Auxiliaries in any field or siege battle and earn 300+ points, total 0/5 matches.",tags:["Siege","Field"],conditions:[]},{id:"22.0.3.1",text:"Get 0/30 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.0.3.2",text:"In Field or Siege Battles of any type, win battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"22.0.3.3",text:'Earn 0/6 Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.3.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/6 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.0.3.5",text:"In Deathmatch, you or your group collectively kills a total of 0/50 heroes.",tags:["Deathmatch"],conditions:[]},{id:"22.0.3.6",text:'Earn 0/6 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"22.0.3.7",text:"Take part in 0/6 Territory War battles.",tags:["Territory Wars"],conditions:[]}],rewards:[{text:"Helot Auxiliaries Avatar",amount:null},{text:"Unit Medal",amount:20}]}]},{id:"22.1",name:"Laconic Javelins ",stages:[{id:"22.1.0",name:"Stage 1",required:8,total:10,challenges:[{id:"22.1.0.0",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.0.1",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"22.1.0.2",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/8 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.0.3",text:"Get 0/40 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.1.0.4",text:"Be placed in the top 5 in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.1.0.5",text:"In Field or Siege Battles of any type, you or your group members get 0/40 B+ or better ratings or get 0/8 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"22.1.0.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"22.1.0.7",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"22.1.0.8",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.1.0.9",text:"Win 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:20}]},{id:"22.1.1",name:"Stage 2",required:8,total:10,challenges:[{id:"22.1.1.0",text:"Knock over a siege ladder or acquire 15 capture points in 0/8 Field or Siege battle of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.1.1.1",text:"Get an A rating or better in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.1.1.2",text:"Get a Troop Kill Score of 300 or higher with 0/10 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.1.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.1.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.1.5",text:"You or your group collectively kills a total of 8 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.1.6",text:"Complete 0/12 Fief Quests.",tags:["Open World"],conditions:[]},{id:"22.1.1.7",text:"Search 0/12 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"22.1.1.8",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.1.1.9",text:"Defeat 0/1,200 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]}],rewards:[{text:"Unit Medal",amount:140}]},{id:"22.1.2",name:"Stage 3",required:8,total:10,challenges:[{id:"22.1.2.0",text:"Get a Troop Kill Score of 300 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.2.1",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.2.2",text:"Get 0/40 kills or assists in Free Battles, or get 8 kills or assists in 0/8 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.1.2.3",text:'Get 0/6 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.2.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"22.1.2.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"22.1.2.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"22.1.2.8",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"22.1.2.9",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Laconic Javelins Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:70}]},{id:"22.1.3",name:"Stage 4",required:8,total:10,challenges:[{id:"22.1.3.0",text:"Deploy Laconic Javelins in any field or siege battle and earn 300+ points, total 0/8 matches.",tags:["Siege","Field"],conditions:[]},{id:"22.1.3.1",text:"In Field or Siege Battles of any type, get a Troop Kill Score of 400 or higher with 0/10 units.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.3.2",text:"Use a trebuchet or interrupt a capture 0/8 times in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.3.3",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.3.4",text:"You or your group collectively kills a total of 240 soldiers in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.3.5",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"22.1.3.6",text:"Complete 0/12 Daily Quests.",tags:["General"],conditions:[]},{id:"22.1.3.7",text:"Join 0/8 Ranked Battles or win 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]},{id:"22.1.3.8",text:"Achieve victory in 0/8 Bandit Raids.",tags:["Bandit Raid"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"22.1.4",name:"Stage 5",required:8,total:10,challenges:[{id:"22.1.4.0",text:"Use Laconic Javelins in Raider Camp or Bandit Raid matches to win 0/8 times.",tags:["Bandit Raid"],conditions:[]},{id:"22.1.4.1",text:"In any field or siege battle, use skill of Laconic Javelins to kill 0/120 enemies.",tags:["Siege","Field"],conditions:[]},{id:"22.1.4.2",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.4.3",text:'Earn 0/8 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.4.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/8 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.1.4.5",text:"In Deathmatch, you or your group collectively kills a total of 0/100 heroes.",tags:["Deathmatch"],conditions:[]},{id:"22.1.4.6",text:"Raise your hero up 0/10 levels.",tags:["General"],conditions:[]},{id:"22.1.4.7",text:"Take part in 0/8 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"22.1.4.8",text:"Get a Troop Kill Score of 600 or more in 0/8 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/8 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]},{id:"22.1.4.9",text:'Earn 0/8 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]}],rewards:[{text:"Laconic Javelins Avatar",amount:null},{text:"Unit Medal",amount:30}]}]},{id:"22.2",name:"Spartan",stages:[{id:"22.2.0",name:"Stage 1",required:10,total:12,challenges:[{id:"22.2.0.0",text:"Earn 40 capture points or interrupt a capture in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.0.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.0.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.0.3",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"22.2.0.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.0.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.0.6",text:"In Deathmatch, you or your group collectively kills a total of 0/150 heroes.",tags:["Deathmatch"],conditions:[]},{id:"22.2.0.7",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"22.2.0.8",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"22.2.0.9",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"22.2.0.10",text:"Defeat 0/1,500enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.2.0.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"22.2.1",name:"Stage 2",required:10,total:12,challenges:[{id:"22.2.1.0",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.1.1",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.1.2",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.1.3",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.1.4",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.1.5",text:"You or your group members get 0/20 A+ or better ratings in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.1.6",text:"Raise your hero up 0/12 levels.",tags:["General"],conditions:[]},{id:"22.2.1.7",text:"Take part in 0/10 Territory War battles.",tags:["Territory Wars"],conditions:[]},{id:"22.2.1.8",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.2.1.9",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.2.1.10",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:30}]},{id:"22.2.2",name:"Stage 3",required:10,total:12,challenges:[{id:"22.2.2.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"22.2.2.1",text:"In Field or Siege Battles of any type, get a kill/death ratio of 1 or higher with any two units 0/10 times.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.2.2",text:"Join 0/10 Deathmatches or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"22.2.2.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.2.4",text:"Use artillery to kill 30 soldiers or 2 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.2.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.2.6",text:"In Field or Siege Battles of any type, you or your group members get 0/50 B+ or better ratings or get 0/10 A+ or better ratings.",tags:["Siege","Field"],conditions:[]},{id:"22.2.2.7",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"22.2.2.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.2.9",text:"Defeat 0/1,500 enemy units in PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.2.2.10",text:"Win 0/15 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.2.2.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Unit Medal",amount:150}]},{id:"22.2.3",name:"Stage 4",required:10,total:12,challenges:[{id:"22.2.3.0",text:"In Field or Siege Battles of any type, win 0/3 battles in a row or join 0/5 battles.",tags:["Siege","Field"],conditions:[]},{id:"22.2.3.1",text:"Destroy a siege engine or acquire 40 capture points in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.3.2",text:'Join 0/10 Deathmatches or get the "Quad Kill" badge times in Field or Siege battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"22.2.3.3",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.3.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.3.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.3.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.3.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.3.8",text:"Complete 0/15 Fief Quests.",tags:["Open World"],conditions:[]},{id:"22.2.3.9",text:"Get a kill/death ratio of 1.5 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.3.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"22.2.3.11",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Spartan's Chosen Kit",amount:28},{text:"Barracks Expansion",amount:1},{text:"Unit Medal",amount:80}]},{id:"22.2.4",name:"Stage 5",required:10,total:12,challenges:[{id:"22.2.4.0",text:"Get a Troop Kill Score of 400 or higher with any unit in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.4.1",text:"Get 0/50 total kills or assists in Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.4.2",text:"Get 0/30 kills in Deathmatches, or get 8 kills or assists in 0/6 Field or Siege Battles of any type.",tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"22.2.4.3",text:"Get 0/50 kills or assists in Free Battles, or get 8 kills or assists in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.4.4",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.4.5",text:'Earn 0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.4.6",text:"You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.4.7",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.4.8",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.4.9",text:"Get an A+ rating or better in 0/10 PVE battles",tags:["Bandit Raid","Expedition"],conditions:[]},{id:"22.2.4.10",text:'Defeat 0/30 heroes in Ranked battles, or get the "Grand Bloodbath" badge 0/6 times in Field or Siege Battles of any type.',tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"Doctrine Spirit ",amount:null},{text:"Unit Medal",amount:240}]},{id:"22.2.5",name:"Stage 6",required:10,total:12,challenges:[{id:"22.2.5.0",text:"Use Spartan Chosen in Raider Camp or Bandit Raid matches to win 0/10 times.",tags:["Bandit Raid"],conditions:[]},{id:"22.2.5.1",text:"Deploy Spartan Chosen in any field or siege battle for a total of 0/10 matches.",tags:["Siege","Field"],conditions:[]},{id:"22.2.5.2",text:"Get a Troop Kill Score of 300 or higher with 0/12 units in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.5.3",text:'Kill 0/30 enemy heroes in Deathmatch, or earn 0/6 "No Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"22.2.5.4",text:"Get an A rating or better in 0/10 Free battles, or get an A+ rating or better in 0/10 Field or Siege Battles of any type.",tags:["Siege","Field"],conditions:[]},{id:"22.2.5.5",text:"Deploy or destroy an artillery piece in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.5.6",text:'0/10 "Shatter the Ranks" badges.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.5.7",text:"Earn You or your group collectively kills a total of 8 heroes in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.5.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.5.9",text:"Search 0/15 loot sites in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.5.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"22.2.5.11",text:"Get a Troop Kill Score of 600 or more in 0/10 Ranked battles, or get a Troop Kill Score of 1000 or more in 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Free Battles","Field"],conditions:[]}],rewards:[{text:"When the Spartan Chosen are fully enraged, their normal and formation attacks can knock down enemy units",amount:null},{text:"Unit Medal",amount:40}]},{id:"22.2.6",name:"Stage 7",required:10,total:12,challenges:[{id:"22.2.6.0",text:"Deploy Spartan Chosen in any field or siege battle and earn 300+ points, total 0/10 matches.",tags:["Siege","Field"],conditions:[]},{id:"22.2.6.1",text:"In any field or siege battle, use skill of Spartan Chosen to kill 0/20 enemies.",tags:["Siege","Field"],conditions:[]},{id:"22.2.6.2",text:"In any battle, get a Troop Kill Score of 0/5,000.",tags:["Siege","Deathmatch","Free Battles","Field"],conditions:[]},{id:"22.2.6.3",text:'Kill 0/30 enemy heroes in Deathmatch, or earn Quarter" badges in Field or Siege Battles of any type.',tags:["Siege","Deathmatch","Field"],conditions:[]},{id:"22.2.6.4",text:"Join 0/10 Free Battles or win 0/10 Field or Siege Battles of any type",tags:["Siege","Field"],conditions:[]},{id:"22.2.6.5",text:"Use artillery to kill 0/160 soldiers or 0/10 heroes in Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.6.6",text:'Get 0/8 "No Quarter" or "Grand Bloodbath" badges in Field or Siege Battles of any type.',tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.6.7",text:"You or your group collectively kills a total of 240 soldiers in 0/10 Field or Siege Battles of any type.",tags:["Siege","Free Battles","Field"],conditions:[]},{id:"22.2.6.8",text:"Defeat a band of rebels 0/15 times in the open world.",tags:["Open World"],conditions:[]},{id:"22.2.6.9",text:"Complete 0/15 Daily Quests.",tags:["General"],conditions:[]},{id:"22.2.6.10",text:'Earn 0/10 "Cakewalk" badges during PVE battles.',tags:["Expedition","Bandit Raid","Siege","Free Battles","Field"],conditions:[]},{id:"22.2.6.11",text:"Join 0/10 Ranked Battles or win 0/10 Field or Siege Battles of any type.",tags:["Siege","Ranked","Field"],conditions:[]}],rewards:[{text:"Spartan's Chosen Avatar",amount:null},{text:"Unit Medal",amount:40}]}]}]}];var DV=["Siege","Field","Bandit Raid","Open World","Expedition","Territory Wars","Ranked","Free Battles","Deathmatch","General"],wV=(()=>{class t{constructor(){this.seasons=[],this.sections=[],this.stages=[],this.challenges=[],this._seasonMap=new Map,this._sectionMap=new Map,this._stageMap=new Map,this._challengeMap=new Map,bV.forEach(i=>{this._seasonMap.set(i.id,i),i.sections.forEach(n=>{this._sectionMap.set(n.id,n),this.sections.push(n),n.stages.flatMap(o=>{this._stageMap.set(o.id,o),this.stages.push(o),o.challenges.forEach(r=>{this._challengeMap.set(r.id,Pt(te({},r),{seasonId:i.id,sectionId:n.id,stageId:o.id}))})})})}),this.seasons=Array.from(this._seasonMap.values()),this.sections=Array.from(this._sectionMap.values()),this.stages=Array.from(this._stageMap.values()),this.challenges=Array.from(this._challengeMap.values())}getSeason(i){return this._seasonMap.get(i)}getSection(i){return this._sectionMap.get(i)}getStage(i){return this._stageMap.get(i)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Rre={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},gi=function(t){if(t===null)return"null";var e=Object.prototype.toString.call(t);return typeof t=="object"?Rre[e]||"object":typeof t},As=function(t){return typeof t=="boolean"},n_=function(t){return ve(t)&&t.toString().indexOf("e")!==-1},$t=function(t){return gi(t)==="date"},f=function(t){return t!=null},T=function(t){return typeof t=="function"},N=function(t){return typeof t=="string"},ve=function(t){return typeof t=="number"&&isFinite(t)||!isNaN(t-parseFloat(t))},L=function(t){return gi(t)==="object"},Rt=function(t){var e;for(e in t)return!1;return!0},q=function(t){if(!t||gi(t)!=="object")return!1;var e=Object.getPrototypeOf(t);if(!e)return!0;var i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof i=="function"&&Object.toString.call(i)===Object.toString.call(Object)},Rs=function(t){return["object","array","function"].indexOf(gi(t))===-1},Je=function(t){return t!=null&&t===t.window},ii=function(t){return!!t&&!!(t.jquery||t.dxRenderer)},Rr=function(t){return!!t&&T(t.then)},Pu=function(t){return!!t&&T(t.done)&&T(t.fail)},EV=function(t){return!!(t&&t.preventDefault)};var OV=function(t,e,i){t=t||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];(!(n in t)||i)&&(t[n]=o)}return t},v=function t(e){e=e||{};var i=1,n=!1;for(typeof e=="boolean"&&(n=e,e=arguments[1]||{},i++);i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var r in o){var a=e[r],s=o[r],l=!1,d=void 0;r==="__proto__"||r==="constructor"||e===s||(n&&s&&(q(s)||(l=Array.isArray(s)))?(l?d=a&&Array.isArray(a)?a:[]:d=a&&q(a)?a:{},e[r]=t(n,d,s)):s!==void 0&&(e[r]=s))}}return e};var Ke=(t,e)=>{if(Array.isArray(t))return t.map(e);var i=[];for(var n in t)i.push(e(t[n],n));return i},x=(t,e)=>{if(t){if("length"in t)for(var i=0;i<t.length&&e.call(t[i],i,t[i])!==!1;i++);else for(var n in t)if(e.call(t[n],n,t[n])===!1)break;return t}};var Bre=function(){},o_=function(t){return typeof console>"u"||!T(console[t])?Bre:console[t].bind(console)},Bs={log:o_("log"),info:o_("info"),warn:o_("warn"),error:o_("error")};var r_=function(){var t=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(t[0],"&amp;").replace(t[1],"&quot;").replace(t[2],"&#39;").replace(t[3],"&lt;").replace(t[4],"&gt;")}}(),kre=function(t){switch(typeof t){case"string":return t.split(/\s+/,4);case"object":return[t.x||t.h||t.left,t.y||t.v||t.top,t.x||t.h||t.right,t.y||t.v||t.bottom];case"number":return[t];default:return t}},FV=function(t){var e=kre(t),i=parseInt(e&&e[0],10),n=parseInt(e&&e[1],10),o=parseInt(e&&e[2],10),r=parseInt(e&&e[3],10);return isFinite(i)||(i=0),isFinite(n)||(n=i),isFinite(o)||(o=i),isFinite(r)||(r=n),{top:n,right:o,bottom:r,left:i}};function Ri(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return T(t)?t(...i):(i.forEach((o,r)=>{N(o)&&(o=o.replace(/\$/g,"$$$$"));var a=new RegExp("\\{"+r+"\\}","gm");t=t.replace(a,o)}),t)}var Nu=function(){var t=/\s/g;return function(e){return!e||!e.replace(t,"")}}();var TV="23.1.12";var Pre="http://js.devexpress.com/error/"+TV.split(".").slice(0,2).join("_")+"/";function Lu(t,e){var i={ERROR_MESSAGES:v(e,t),Error:function(){return a([].slice.call(arguments))},log:function(l){var d="log";/^E\d+$/.test(l)?d="error":/^W\d+$/.test(l)&&(d="warn"),Bs[d](d==="log"?l:n([].slice.call(arguments)))}};function n(l){var d=l[0];return l=l.slice(1),r(d,o(d,l))}function o(l,d){return d=[i.ERROR_MESSAGES[l]].concat(d),Ri.apply(this,d).replace(/\.*\s*?$/,"")}function r(l,d){return Ri.apply(this,[`{0} - {1}. See:
{2}`,l,d,s(l)])}function a(l){var d=l[0];l=l.slice(1);var u=o(d,l),c=s(d),p=r(d,u);return v(new Error(p),{__id:d,__details:u,url:c})}function s(l){return Pre+l}return i}var me=Lu({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'});var Nre=function(t,e,i){return function(){var n=this.callBase;this.callBase=t[e];try{return i.apply(this,arguments)}finally{this.callBase=n}}},Lre=function(t){var e=function(){};return e.prototype=t.prototype,new e},Vre=function(t){var e,i,n;if(!t)return this;for(i in t)n=t[i],e=typeof this.prototype[i]=="function"&&typeof n=="function",this.prototype[i]=e?Nre(this.parent.prototype,i,n):n;return this},Hre=function(){var t=this,e,i,n,o=Object.prototype.hasOwnProperty.bind(t),r=!o("_includedCtors")&&!o("_includedPostCtors");for(r&&(t._includedCtors=t._includedCtors.slice(0),t._includedPostCtors=t._includedPostCtors.slice(0)),n=0;n<arguments.length;n++){e=arguments[n],e.ctor&&t._includedCtors.push(e.ctor),e.postCtor&&t._includedPostCtors.push(e.postCtor);for(i in e)i==="ctor"||i==="postCtor"||i==="default"||(t.prototype[i]=e[i])}return t},Wre=function(t){var e=Object.prototype.hasOwnProperty.bind(this)("parent"),i=!e&&this.parent;if(i){var n=Object.getPrototypeOf(this);return n===t||n.subclassOf(t)}else return this.parent===t?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(t)},MV=function(){throw me.Error("E0001")},Gre=function(){var t=Object.prototype.hasOwnProperty;return function(e,i){for(var n in e){if(!t.call(e,n))return;i[n]=e[n]}}}(),Ow=function(){};Ow.inherit=function(t){var e=function(){if(!this||Je(this)||typeof this.constructor!="function")throw me.Error("E0003");var i=this,n=i.ctor,o=i.constructor._includedCtors,r=i.constructor._includedPostCtors,a;for(a=0;a<o.length;a++)o[a].call(i);for(n&&n.apply(i,arguments),a=0;a<r.length;a++)r[a].call(i)};return e.prototype=Lre(this),Gre(this,e),e.inherit=this.inherit,e.abstract=MV,e.redefine=Vre,e.include=Hre,e.subclassOf=Wre,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(t),e};Ow.abstract=MV;var le=Ow;function Kt(t){var e=le.inherit(t),i=e,n=new i(t),o={},r=function(a,s){x(a,function(l){T(n[l])?(s||!t[l])&&(t[l]=function(){return n[l].apply(t,arguments)}):(s&&(o[l]=t[l]),t[l]=n[l])})};return r(t,!0),t.inject=function(a){i=i.inherit(a),n=new i,r(a)},t.resetInjection=function(){v(t,o),i=e,n=new e},t}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},E.apply(this,arguments)}var AV={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:t=>{t.trim().charAt(0)!=="{"&&(t="{"+t+"}");try{return JSON.parse(t)}catch(e){try{return JSON.parse(zre(t))}catch{throw me.Error("E3018",e,t)}}}},zre=t=>t.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),Ure=["decimalSeparator","thousandsSeparator"],RV=function(){if(!arguments.length)return AV;var t=arguments.length<=0?void 0:arguments[0];Ure.forEach(e=>{if(t[e]){var i="Now, the ".concat(e," is selected based on the specified locale.");me.log("W0003","config",e,"19.2",i)}}),v(AV,t)};typeof DevExpress<"u"&&DevExpress.config&&RV(DevExpress.config);var Fe=RV;var jre=le.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",e=0;e<32;e++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),Ee=jre;var Sa=function(t){this._options=t||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};Sa.prototype._fireCore=function(t,e){var i=this._firingIndexes,n=this._list,o=this._options.stopOnFalse,r=i.length;for(i[r]=0;i[r]<n.length;i[r]++){var a=n[i[r]].apply(t,e);if(a===!1&&o)break}i.pop()};Sa.prototype.add=function(t){return typeof t=="function"&&(!this._options.unique||!this.has(t))&&this._list.push(t),this};Sa.prototype.remove=function(t){var e=this._list,i=this._firingIndexes,n=e.indexOf(t);if(n>-1&&(e.splice(n,1),this._firing&&i.length))for(var o=0;o<i.length;o++)n<=i[o]&&i[o]--;return this};Sa.prototype.has=function(t){var e=this._list;return t?e.indexOf(t)>-1:!!e.length};Sa.prototype.empty=function(t){return this._list=[],this};Sa.prototype.fireWith=function(t,e){var i=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(t,e);else{if(i.push([t,e]),this._firing)return;for(this._firing=!0;i.length;){var n=i.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};Sa.prototype.fire=function(){this.fireWith(this,arguments)};Sa.prototype.fired=function(){return this._fired};var $re=function(t){return new Sa(t)},de=$re;var BV=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],Vu=function(){var t=this;this._state="pending",this._promise={},BV.forEach(function(e){var i=e.method;this[i+"Callbacks"]=de(),this[i]=function(){return this[i+"With"](this._promise,arguments)}.bind(this),this._promise[e.handler]=function(n){if(!n)return this;var o=t[i+"Callbacks"];return o.fired()?n.apply(t[i+"Context"],t[i+"Args"]):o.add(function(r,a){n.apply(r,a)}.bind(this)),this}}.bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,i){var n=new Vu;return["done","fail"].forEach(function(o){var r=o==="done"?e:i;this[o](function(){if(!r){n[o==="done"?"resolve":"reject"].apply(this,arguments);return}var a=r&&r.apply(this,arguments);Pu(a)?a.done(n.resolve).fail(n.reject):Rr(a)?a.then(n.resolve,n.reject):n.resolve.apply(this,f(a)?[a]:arguments)})}.bind(this)),n.promise()},this._promise.state=function(){return t._state},this._promise.promise=function(e){return e?v(e,t._promise):t._promise},this._promise.promise(this)};BV.forEach(function(t){var e=t.method,i=t.state;Vu.prototype[e+"With"]=function(n,o){var r=this[e+"Callbacks"];return this.state()==="pending"&&(this[e+"Args"]=o,this[e+"Context"]=n,i&&(this._state=i),r.fire(n,o)),this}});function It(t,e){if(Pu(t))return t;if(Rr(t)){var i=new Vu;return t.then(function(){i.resolveWith.apply(i,[e].concat([[].slice.call(arguments)]))},function(){i.rejectWith.apply(i,[e].concat([[].slice.call(arguments)]))}),i}return new Vu().resolveWith(e,[t])}var Kre=function(){if(arguments.length===1)return It(arguments[0]);for(var t=[].slice.call(arguments),e=[],i=0,n=new Vu,o=function(a){return function(s){e[a]=this,t[a]=arguments.length>1?[].slice.call(arguments):s,i++,i===t.length&&n.resolveWith(e,t)}},r=0;r<t.length;r++)Pu(t[r])?t[r].promise().done(o(r)).fail(n.reject):i++;return i===t.length&&n.resolveWith(e,t),n.promise()};function S(){return new Vu}function A(){return Kre.apply(this,arguments)}var qt=Kt({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(t){return t},unwrap:function(t){return t},assign:function(){Bs.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var wp=function(t,e){var i=[],n,o;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.push(n);for(i.sort(function(r,a){var s=ve(r),l=ve(a);return s&&l?r-a:s&&!l?-1:!s&&l?1:r<a?-1:r>a?1:0}),o=0;o<i.length;o++)n=i[o],e(n,t[n])},qre=function(t,e,i,n){!n&&qt.isWrapped(t[e])?qt.assign(t[e],i):t[e]=i},Yi=function t(e,i,n,o){var r,a;for(var s in i)if(r=e[s],a=i[s],!(s==="__proto__"||s==="constructor"||e===a)){if(q(a)){var l=n?L(r):q(r);a=t(l?r:{},a,n,o)}a!==void 0&&r!==a&&qre(e,s,a,o)}return e};var Yre=qt.unwrap,PV=qt.isWrapped,Qre=qt.assign,Jre=function(t){return t.replace(/\[/g,".").replace(/\]/g,"")},co=function(t){return Jre(t).split(".")},Xre=function(t,e,i){return i=i||{},Ep(e==="this"?t:t[e],i)},NV=function(t,e,i,n){if(e==="this")throw new me.Error("E4016");var o=t[e];n.unwrapObservables&&PV(o)?Qre(o,i):t[e]=i},LV=function(t){return t=t||{},t.unwrapObservables=t.unwrapObservables!==void 0?t.unwrapObservables:!0,t};function Ep(t,e){return e.unwrapObservables?Yre(t):t}var pe=function(t){if(arguments.length>1&&(t=[].slice.call(arguments)),!t||t==="this")return function(i){return i};if(typeof t=="string"){var e=co(t);return function(i,n){n=LV(n);for(var o=n.functionsAsIs,r=("defaultValue"in n),a=Ep(i,n),s=0;s<e.length;s++){if(!a){if(a==null&&r)return n.defaultValue;break}var l=e[s];if(r&&L(a)&&!(l in a))return n.defaultValue;var d=Ep(a[l],n);!o&&T(d)&&(d=d.call(a)),a=d}return a}}if(Array.isArray(t))return Zre(t);if(T(t))return t};function Zre(t){for(var e={},i=0,n=t.length;i<n;i++){var o=t[i];e[o]=pe(o)}return function(r,a){var s;return x(e,function(l){var d=this(r,a);if(d!==void 0){for(var u=s||(s={}),c=l.split("."),p=c.length-1,g=0;g<p;g++){var m=c[g];m in u||(u[m]={}),u=u[m]}u[c[p]]=d}}),s}}var kV=function(t,e,i,n){if(f(i))return i;var o={};return NV(t,e,o,n),o},Hu=function(t){t=co(t||"this");var e=t.length-1;return function(i,n,o){o=LV(o);var r=Ep(i,o);t.forEach(function(a,s){var l=Xre(r,a,o),d=!o.functionsAsIs&&T(l)&&!PV(l);s===e?o.merge&&q(n)&&(!f(l)||q(l))?(l=kV(r,a,l,o),Yi(l,n,!1,!0)):d?r[a](n):NV(r,a,n,o):(l=kV(r,a,l,o),d&&(l=l.call(r)),r=l)})}},Wt=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t instanceof Date)return t.getTime();if(t&&t instanceof le&&t.valueOf)return t.valueOf();if(!e&&typeof t=="string"){var n;if((i==null||(n=i.collatorOptions)===null||n===void 0?void 0:n.sensitivity)==="base"){var o=/[\u0300-\u036f]/g;t=t.normalize("NFD").replace(o,"")}return i!=null&&i.locale?t.toLocaleLowerCase(i.locale):t.toLowerCase()}return t};var Re=function(t,e){return f(t)?t:e},Gu=function(t,e){var i=new S,n=e||this,o={promise:i.promise(),abort:function(){clearTimeout(a),i.rejectWith(n)}},r=function(){var s=t.call(n);s&&s.done&&T(s.done)?s.done(function(){i.resolveWith(n)}):i.resolveWith(n)},a=(arguments[2]||setTimeout)(r,typeof e=="number"?e:0);return o},Iw=[],VV=[],Op=[],Wu,a_=function(t,e,i){if(Wu&&Wu!==t)return Iw.push(e),VV.push(t),i=i||new S,Op.push(i),i;var n=Wu,o=Op.length;Wu=t;var r=e();return r||(Op.length>o?r=A.apply(this,Op.slice(o)):i&&i.resolve()),Wu=n,i&&r&&r.done&&r.done(i.resolve).fail(i.reject),!Wu&&Iw.length&&(VV.shift()==="render"?Et:si)(Iw.shift(),Op.shift()),r||A()},Et=function(t,e){return a_("render",t,e)},si=function(t,e){return a_("update",t,e)},Br=function(t){return function(){var e=this;return a_("render",function(){return t.call(e)})}},Fw=function(t){return function(){var e=this;return a_("update",function(){return t.call(e)})}},s_=function(t,e,i){var n=[],o=0;return x(e,(r,a)=>{var s=0,l=i?i(a):a;x(t,(d,u)=>{var c=l[d];if(c!==void 0){if(eae(c,u)){s++;return}return s=-1,!1}}),!(s<o)&&(s>o&&(n.length=0,o=s),n.push(a))}),n},eae=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){var i=!1;return x(t,(n,o)=>{if(o!==e[n])return i=!0,!1}),!i}return t===e},kr=function(t){var e,i;switch(gi(t)){case"string":return t.split(/\s+/,2);case"object":return[(e=t.x)!==null&&e!==void 0?e:t.h,(i=t.y)!==null&&i!==void 0?i:t.v];case"number":return[t];case"array":return t;default:return null}};var l_=function(t,e){var i=kr(t),n=e?parseFloat(i&&i[0]):parseInt(i&&i[0],10),o=e?parseFloat(i&&i[1]):parseInt(i&&i[1],10);return isFinite(n)||(n=0),isFinite(o)||(o=n),{h:n,v:o}},Qi=function(t){if(t instanceof Ee)return t.toString();if(L(t)||Array.isArray(t))try{var e=JSON.stringify(t);return e==="{}"?t:e}catch{return t}return t},ho=function(t){return t.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},WV=function(t){var e=Fe().serverDecimalSeparator;return f(t)&&(t=t.toString().replace(".",e)),t},D=function(){},d_=function(){return new S().resolve().promise()},Yt=function(t,e,i){for(var n=[],o,r=!i,a=0;a<t.length;a++)o=!!e(t[a],a),o===r&&n.push(t[a]);return n},tae=(t,e,i,n)=>t.length!==e.length?!1:!t.some((o,r)=>!Tw(o,e[r],i+1,E({},n,{strict:!0}))),iae=(t,e,i,n)=>{var o=Object.keys(t),r=Object.keys(e);if(o.length!==r.length)return!1;var a=new Set(r);return!o.some(s=>!a.has(s)||!Tw(t[s],e[s],i+1,n))},HV={maxDepth:3,strict:!0},Tw=(t,e,i,n)=>{var{strict:o,maxDepth:r}=n,a=Wt(t,!0),s=Wt(e,!0),l=o?a===s:a==s;switch(!0){case l:case i>=r:return!0;case(L(a)&&L(s)):return iae(a,s,i,n);case(Array.isArray(a)&&Array.isArray(s)):return tae(a,s,i,n);default:return!1}},_e=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HV,n=E({},HV,i);return Tw(t,e,0,n)};var Mw="dx-",u_=null;function GV(t){try{return new CSSStyleSheet}catch{var e=t.ownerDocument.createElement("style");return t.appendChild(e),e.sheet}}function zV(t,e,i){for(var n=0;n<e.length;n++){var o=e[n];try{for(var r=0;r<o.cssRules.length;r++)nae(t,o.cssRules[r],i)}catch{}}}function nae(t,e,i){var n,o,r,a,s,l,d=i||((n=e.selectorText)===null||n===void 0?void 0:n.includes(Mw))||((o=e.cssRules)===null||o===void 0||(r=o[0])===null||r===void 0||(a=r.selectorText)===null||a===void 0?void 0:a.includes(Mw))||((s=e.name)===null||s===void 0?void 0:s.startsWith(Mw))||((l=e.style)===null||l===void 0?void 0:l.fontFamily)==="DXIcons";d&&t.insertRule(e.cssText,t.cssRules.length)}function UV(t){var e,i=t.get(0),n=(e=i.getRootNode)===null||e===void 0?void 0:e.call(i);if(n!=null&&n.host){u_||(u_=GV(n),zV(u_,i.ownerDocument.styleSheets,!1));var o=GV(n);zV(o,n.styleSheets,!0),n.adoptedStyleSheets=[u_,o]}}function oae(t,e,i){var n=t.getBoundingClientRect();return n&&e>=n.left&&e<n.right&&i>=n.top&&i<n.bottom}function rae(){var t=0,e=[];return{push(i){return e.push(i),this},shift(){return t++,e[t-1]},get length(){return e.length-t},get items(){return e}}}function jV(t,e,i){for(var n=rae().push(i);n.length;)for(var o=n.shift(),r=0;r<o.childNodes.length;r++){var a=o.childNodes[r];a.nodeType===Node.ELEMENT_NODE&&oae(a,t,e)&&getComputedStyle(a).pointerEvents!=="none"&&n.push(a)}var s=n.items.reverse();return s.pop(),s}var aae=1,sae=3,lae=9,dae=11,uae={querySelectorAll:(t,e)=>t.querySelectorAll(e),elementMatches(t,e){var i=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||(n=>{var o=t.document||t.ownerDocument;if(!o)return!1;for(var r=this.querySelectorAll(o,n),a=0;a<r.length;a++)if(r[a]===t)return!0});return i.call(t,e)},createElement(t,e){return e=e||this._document,e.createElement(t)},createElementNS(t,e,i){return i=i||this._document,i.createElementNS(t,e)},createTextNode(t,e){return e=e||this._document,e.createTextNode(t)},createAttribute(t,e){return e=e||this._document,e.createAttribute(t)},isNode:t=>t&&typeof t=="object"&&"nodeType"in t&&"nodeName"in t,isElementNode:t=>t&&t.nodeType===aae,isTextNode:t=>t&&t.nodeType===sae,isDocument:t=>t&&t.nodeType===lae,isDocumentFragment:t=>t&&t.nodeType===dae,removeElement(t){var e=t&&t.parentNode;e&&e.removeChild(t)},insertElement(t,e,i){t&&e&&t!==e&&(i?t.insertBefore(e,i):t.appendChild(e))},getAttribute:(t,e)=>t.getAttribute(e),setAttribute(t,e,i){e==="style"?t.style.cssText=i:t.setAttribute(e,i)},removeAttribute(t,e){t.removeAttribute(e)},setProperty(t,e,i){t[e]=i},setText(t,e){t&&(t.textContent=e)},setClass(t,e,i){t.nodeType===1&&e&&(i?t.classList.add(e):t.classList.remove(e))},setStyle(t,e,i){t.style[e]=i||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(t){var e=this.getRootNode(t);return e.activeElement},getRootNode(t){var e,i;return(e=t==null||(i=t.getRootNode)===null||i===void 0?void 0:i.call(t))!==null&&e!==void 0?e:this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(t){return t in this._document},listen(t,e,i,n){return!t||!("addEventListener"in t)?D:(t.addEventListener(e,i,n),()=>{t.removeEventListener(e,i)})},elementsFromPoint(t,e,i){var n=this.getRootNode(i);return n.host?jV(t,e,n):n.elementsFromPoint(t,e)}},I=Kt(uae);var ks=class{constructor(){this.memory=[],this.callbacks=de()}add(e){x(this.memory,(i,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.memory.push(i),this.callbacks.fire.apply(this.callbacks,i)}};var Ip=new ks;var cae=typeof window<"u",W=()=>cae,Jl=W()?window:void 0;Jl||(Jl={},Jl.window=Jl);var G=()=>Jl;var Aw=t=>W()&&t in Jl,Fp=t=>t<768?"xs":t<992?"sm":t<1200?"md":"lg",c_=t=>{var e=t||Fp,i=I.getDocumentElement().clientWidth;return e(i)},ba=()=>W()?Jl.navigator:{userAgent:""};var hae=["pageX","pageY","screenX","screenY","clientX","clientY"],pae=function(t,e){if(e[t]&&!e.touches||!e.touches)return e[t];var i=e.touches.length?e.touches:e.changedTouches;if(i.length)return i[0][t]};function $V(t){hae.forEach(function(e){t(e,function(i){return pae(e,i)})},this)}var gae=function(t){var e,i=function(){return e=t.apply(this,arguments),i=function(){return e},e};return function(){return i.apply(this,arguments)}},Ji=gae;var kw=G(),h_="dxEmptyEventType",KV={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},fae={focusin:"focus",focusout:"blur"},mae=["blur","focus","load"],JV=["touchmove","wheel","mousewheel","touchstart"],vae=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function _ae(t,e){return!Je(t)&&t.nodeName!=="#document"&&I.elementMatches(t,e)}var Rw=new WeakMap,XV=0,p_,Ps=function(){var t={};return Ip.add(function(e,i){t[e]=i}),{getField:function(e,i){return t[e]&&t[e][i]},callMethod:function(e,i,n,o){return t[e]&&t[e][i]&&t[e][i].apply(n,o)}}}(),Qt=Kt({on:Tp(Bw(QV(function(t,e,i,n,o){var r=zu(t,e);r.addHandler(o,i,n)}))),one:Tp(Bw(function(t,e,i,n,o){Qt.on(t,e,i,n,function r(){Qt.off(t,e,i,r),o.apply(this,arguments)})})),off:Tp(Cae(QV(function(t,e,i,n){var o=zu(t,e);o.removeHandler(n,i)}))),trigger:Tp(YV(function(t,e,i){var n=e.type,o=zu(t,e.type);Ps.callMethod(n,"trigger",t,[e,i]),o.callHandlers(e,i);var r=Ps.getField(n,"noBubble")||e.isPropagationStopped()||mae.indexOf(n)!==-1;if(!r){var a=[];(function d(u){var c,p=(c=u.parentNode)!==null&&c!==void 0?c:L(u.host)?u.host:null;p&&(a.push(p),d(p))})(t),a.push(kw);for(var s=0;a[s]&&!e.isPropagationStopped();){var l=zu(a[s],e.type);l.callHandlers(v(e,{currentTarget:a[s]}),i),s++}}(t.nodeType||Je(t))&&(Ps.callMethod(n,"_default",t,[e,i]),bae(n,t))})),triggerHandler:Tp(YV(function(t,e,i){var n=zu(t,e.type);n.callHandlers(e,i)}))});function Pw(t,e){var i=t[0];if(i)if(I.isNode(i)||Je(i))e.apply(Qt,t);else if(!N(i)&&"length"in i){var n=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(i,function(o){n[0]=o,Pw(n,e)})}else throw me.Error("E0025")}function Tp(t){return function(){Pw(arguments,t)}}function yae(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});kw.addEventListener("test",null,e)}catch{}return t}var ZV=Ji(yae),e2=(t,e)=>Je(t)?e2(t.document,e):t.contains?t.contains(e):!!(e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_CONTAINS);function zu(t,e){var i=Rw.get(t);e=e||"";var n=e.split("."),o=n.slice(1),r=!!n[0];e=n[0]||h_,i||(i={},Rw.set(t,i)),i[e]||(i[e]={handleObjects:[],nativeHandler:null});var a=i[e];return{addHandler:function(s,l,d){var u=function(y,C){var b=[y],O=y.currentTarget,k=y.relatedTarget,J,U;e in KV&&(J=k&&O&&(k===O||e2(O,k))),C!==void 0&&b.push(C),Ps.callMethod(e,"handle",t,[y,d]),J||(U=s.apply(O,b)),U===!1&&(y.preventDefault(),y.stopPropagation())},c={handler:s,wrappedHandler:function(y,C){if(!(p_&&y.type===p_))if(y.data=d,y.delegateTarget=t,l)for(var b=y.target;b&&b!==t;)_ae(b,l)&&(y.currentTarget=b,u(y,C)),b=b.parentNode;else y.currentTarget=y.delegateTarget||y.target,u(y,C)},selector:l,type:e,data:d,namespace:o.join("."),namespaces:o,guid:++XV};a.handleObjects.push(c);var p=a.handleObjects.length===1,g=p&&r,m;g&&(g=!Ps.callMethod(e,"setup",t,[d,o,s])),g&&(a.nativeHandler=xae(e),ZV()&&JV.indexOf(e)>-1&&(m={passive:!1}),a.removeListener=I.listen(t,KV[e]||e,a.nativeHandler,m)),Ps.callMethod(e,"add",t,[c])},removeHandler:function(s,l){var d=function(p){var g=i[p];if(!g.handleObjects.length){delete i[p];return}var m;g.handleObjects=g.handleObjects.filter(function(b){var O=o.length&&!qV(b.namespaces,o)||s&&b.handler!==s||l&&b.selector!==l;return O||(m=b.handler,Ps.callMethod(p,"remove",t,[b])),O});var y=!g.handleObjects.length,C=y&&p!==h_;C&&(Ps.callMethod(p,"teardown",t,[o,m]),g.nativeHandler&&g.removeListener(),delete i[p])};if(r)d(e);else for(var u in i)d(u);var c=Object.keys(i).length===0;c&&Rw.delete(t)},callHandlers:function(s,l){var d=!1,u=function(c){d||(!o.length||qV(c.namespaces,o))&&(c.wrappedHandler(s,l),d=s.isImmediatePropagationStopped())};a.handleObjects.forEach(u),o.length&&i[h_]&&i[h_].handleObjects.forEach(u)}}}function xae(t){return function(e,i){var n=zu(this,t);e=Qt.Event(e),n.callHandlers(e,i)}}function qV(t,e){for(var i=0;i<e.length;i++)if(t.indexOf(e[i])<0)return!1;return!0}function Bw(t){return function(e,i,n,o,r){r||(r=o,o=void 0),typeof n!="string"&&(o=n,n=void 0),!r&&typeof i=="string"&&(r=o||n,n=void 0,o=void 0),t(e,i,n,o,r)}}function Cae(t){return function(e,i,n,o){typeof n=="function"&&(o=n,n=void 0),t(e,i,n,o)}}function YV(t){return function(e,i,n){typeof i=="string"&&(i={type:i}),i.target||(i.target=e),i.currentTarget=e,i.delegateTarget||(i.delegateTarget=e),!i.type&&i.originalEvent&&(i.type=i.originalEvent.type),t(e,i instanceof Qt.Event?i:Qt.Event(i),n)}}function Sae(t){return Qt.Event=function(e,i){if(!(this instanceof Qt.Event))return new Qt.Event(e,i);e||(e={}),typeof e=="string"&&(e={type:e}),i||(i={}),t.call(this,e,i)},E(Qt.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),Qt.Event}function QV(t){var e=function(i,n){if(n&&n.indexOf(" ")>-1){var o=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(r){o[1]=r,t.apply(this,o)})}else t.apply(this,arguments)};return function(i,n){if(typeof n=="object"){var o=Array.prototype.slice.call(arguments,0);for(var r in n)o[1]=r,o[o.length-1]=n[r],e.apply(this,o)}else e.apply(this,arguments)}}function bae(t,e){var i=fae[t]||t;(function(n,o){return n==="click"&&o.localName==="a"})(t,e)||T(e[i])&&(p_=t,e[i](),p_=void 0)}function Dae(t){return function(e){return e.which==null&&e.type.indexOf("key")===0}(t)?t.charCode!=null?t.charCode:t.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(t)?{1:1,2:3,3:1,4:2}[t.button]:t.which}function t2(t){t&&(Qt.Event=t,Qt.Event.prototype=t.prototype)}t2(Sae(function(t,e){var i,n=t instanceof Qt.Event||W()&&t instanceof kw.Event||((i=t.view)===null||i===void 0?void 0:i.Event)&&t instanceof t.view.Event;n?(this.originalEvent=t,this.type=t.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(t,"isTrusted")&&(this.isTrusted=t.isTrusted),this.timeStamp=t.timeStamp||Date.now()):E(this,t),Nw("which",Dae,this),t.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),E(this,e),this.guid=++XV}));function Nw(t,e,i){Object.defineProperty(i||Qt.Event.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}vae.forEach(t=>Nw(t,e=>e[t]));$V(Nw);var i2=de(),n2=de();Qt.set=function(t){i2.fire(),Qt.inject(t),t2(t.Event),n2.fire()};Qt.subscribeGlobal=function(){Pw(arguments,Bw(function(){var t=arguments;Qt.on.apply(this,t),i2.add(function(){var e=Array.prototype.slice.call(t,0);e.splice(3,1),Qt.off.apply(this,e)}),n2.add(function(){Qt.on.apply(this,t)})}))};Qt.forcePassiveFalseEventNames=JV;Qt.passiveEventHandlersSupported=ZV;var _=Qt;var LWe=_.on,o2=_.one,VWe=_.off,HWe=_.trigger,Lw=_.triggerHandler,WWe=_.Event;var Mp=new WeakMap,Xl,wae=new ks,r2=function(){},Eae=function(){},Oae=function(t){wae.fire(t),Xl=t;var e=Xl.cleanData;Xl.cleanData=function(i){r2(i);var n=e.call(this,i);return Eae(i),n}};Oae({data:function(){var t=arguments[0],e=arguments[1],i=arguments[2];if(t){var n=Mp.get(t);return n||(n={},Mp.set(t,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=i,i)}},removeData:function(t,e){if(t)if(e===void 0)Mp.delete(t);else{var i=Mp.get(t);i&&delete i[e]}},cleanData:function(t){for(var e=0;e<t.length;e++)_.off(t[e]),Mp.delete(t[e])}});function Ve(){return Xl.data.apply(this,arguments)}function a2(t){r2=t}function Ns(t,e){return Xl.removeData.call(this,t,e)}function Ls(t,e){if(I.isElementNode(t)){var i=t.getElementsByTagName("*");Xl.cleanData(i),e&&Xl.cleanData([t])}}var s2=function(t){return t==null?"":String(t)},Vw=function(t){return s2(t).charAt(0).toUpperCase()+t.substr(1)},Hw=function(t){return s2(t).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},Ap=function(t){return Ke(Hw(t),function(e){return e.toLowerCase()}).join("-")};var Da=function(t,e){return Ke(Hw(t),function(i,n){return i=i.toLowerCase(),(e||n>0)&&(i=Vw(i)),i}).join("")},l2=function(t){return Vw(Ap(t).replace(/-/g," "))},Vs=function(t){return Ke(Hw(t),function(e){return Vw(e.toLowerCase())}).join(" ")},Iae=["0","1","2","3","4","5","6","7","8","9"],po=function(t){var e=[],i,n,o=!1,r=!1;for(i=0;i<t.length;i++)n=t.charAt(i),r=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in Iae,n==="_"||n==="."?(n=" ",r=!0):i===0?(n=n.toUpperCase(),r=!0):!o&&r&&e.length>0&&e.push(" "),e.push(n),o=r;return e.join("")};var g_=["","Webkit","Moz","O","Ms"],Fae={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},Ww=Ji(function(){return I.createElement("dx").style}),Tae=function(t,e){t=Da(t,!0);for(var i,n=0,o=g_.length;n<o;n++){var r=g_[n],a=r+t,s=Da(a);if(i=e(s,r),i===void 0&&(i=e(a,r)),i!==void 0)break}return i||""},Yo=function(t){if(t in Ww())return t;var e=t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=1;i<g_.length;i++){var n=g_[i].toLowerCase()+t;if(n in Ww())return n}return e},Uu=function(t){return Tae(t,function(e,i){if(e in Ww())return Fae[i]})},Mae=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"];var Pr=function(t,e){return ve(e)&&Mae.indexOf(t)===-1&&(e+="px"),e},d2=function(t,e,i){if(t){i=ve(i)?i+="px":i;for(var n=0;n<t.length;++n)t[n].style[e]=i}},Rp=function(t,e){d2(t,"width",e)},f_=function(t,e){d2(t,"height",e)},m_=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(i){var n=[].slice.call(t.style);n.forEach(o=>{t.style.removeProperty(o)})}e.split(";").forEach(o=>{var r=o.split(":").map(l=>l.trim());if(r.length===2){var[a,s]=r;t.style[a]=s}})};var v_=G(),Aae=["auto","none","inherit","initial"],Gw=function(t,e){var i=0;return e.forEach(function(n){i+=parseFloat(t[n])||0}),i},h2=function(t,e){var i=t==="width"?"Left":"Top",n=t==="width"?"Right":"Bottom";return{padding:Gw(e,["padding"+i,"padding"+n]),border:Gw(e,["border"+i+"Width","border"+n+"Width"]),margin:Gw(e,["margin"+i,"margin"+n])}},p2=function(t){var e,i=(t==null||(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||v_;return i.getComputedStyle&&i.getComputedStyle(t)},zw=function(t,e,i,n){var o;return e?.[i]||((o=t.style)===null||o===void 0?void 0:o[i])||n},ju={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},u2={width:["left","right"],height:["top","bottom"]};function Bp(t,e,i,n){var o=(a,s,l)=>parseFloat(zw(a,s,l,"0"))||0,r=i==="border"?"-width":"";return o(t,n,"".concat(i,"-").concat(u2[e][0]).concat(r))+o(t,n,"".concat(i,"-").concat(u2[e][1]).concat(r))}var Rae=function(t,e,i){var n=e==="width"?"offsetWidth":"offsetHeight",o=p2(t),r=zw(t,o,e);(r===""||r==="auto")&&(r=t[n]),r=parseFloat(r)||0;var a=zw(t,o,"boxSizing","content-box"),s=i||a,l=ju[s],d=ju[a];if(l===void 0||d===void 0)throw new Error;if(d===l)return r;var u=Math.sign(l-d),c=!1,p=!1,g=!1,m=!1;u===1&&(l+=1,d+=1);for(var y=d;y!==l;y+=u)switch(y){case ju.content:break;case ju.padding:c=u*Bp(t,e,"padding",o);break;case ju.border:p=u*Bp(t,e,"border",o);break;case ju.margin:g=u*Bp(t,e,"margin",o)}if(c||p){var C=(c===!1?u*Bp(t,e,"padding",o):c)+(p===!1?u*Bp(t,e,"border",o):p);m=u*Math.max(0,Math.floor(t[n]-r-u*C))||0}return r+g+c+p+m},Bae=function(t){return Je(t)?t.innerHeight:t.offsetHeight},kae=function(t,e,i){return t.indexOf("px")>0?t=parseInt(t.replace("px","")):t.indexOf("%")>0?t=parseInt(t.replace("%",""))*Bae(e)/100:isNaN(t)?t.indexOf("vh")>0?t=v_.innerHeight/100*parseInt(t.replace("vh","")):i&&t.indexOf("em")>0&&(t=parseFloat(t.replace("em",""))*parseFloat(v_.getComputedStyle(i).fontSize)):t=parseInt(t),t},g2=function(t,e,i){if(!t)return null;if(Aae.indexOf(t)>-1)return e?null:t;if(N(t)&&(t=kae(t,i)),ve(t))return Math.max(0,t+e);var n=e<0?" - ":" ";return"calc("+t+n+Math.abs(e)+"px)"},f2=function(t,e,i){var n=g2(t,e,i);return n!==null?n:"none"},m2=function(t,e,i){var n=g2(t,e,i);return n!==null?n:0},__=function(t,e){if(!t)return 0;var i=h2("height",v_.getComputedStyle(t));return i.padding+i.border+(e?i.margin:0)},Uw=function(t){if(t){var e=t.getBoundingClientRect();if(e.height)return e.height}return 0},Nr={getWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("width",...e)},setWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("width",...e)},getHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("height",...e)},setHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("height",...e)},getOuterWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("outerWidth",...e)},setOuterWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("outerWidth",...e)},getOuterHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("outerHeight",...e)},setOuterHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("outerHeight",...e)},getInnerWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("innerWidth",...e)},setInnerWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("innerWidth",...e)},getInnerHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("innerHeight",...e)},setInnerHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return go("innerHeight",...e)}};function go(t,e,i){return arguments.length===2?c2(e,t):c2(e,t,i)}var H=t=>Nr.getWidth(t),$u=(t,e)=>Nr.setWidth(t,e),Y=t=>Nr.getHeight(t),fo=(t,e)=>Nr.setHeight(t,e),ee=(t,e)=>Nr.getOuterWidth(t,e||!1),jw=(t,e)=>Nr.setOuterWidth(t,e),oe=(t,e)=>Nr.getOuterHeight(t,e||!1),$w=(t,e)=>Nr.setOuterHeight(t,e),kp=t=>Nr.getInnerWidth(t);var Ku=t=>Nr.getInnerHeight(t);var c2=function t(e,i,n){var o=i.toLowerCase().indexOf("width")>=0?"Width":"Height",r=o.toLowerCase(),a=i.indexOf("outer")===0,s=i.indexOf("inner")===0,l=arguments.length===2||typeof n=="boolean";if(ii(e)){if(e.length>1&&!l){for(var d=0;d<e.length;d++)t(e[d],i,n);return}e=e[0]}if(e){if(Je(e))return a?e["inner"+o]:I.getDocumentElement()["client"+o];if(I.isDocument(e)){var u=I.getDocumentElement(),c=I.getBody();return Math.max(c["scroll"+o],c["offset"+o],u["scroll"+o],u["offset"+o],u["client"+o])}if(l){var p="content";return a&&(p=n?"margin":"border"),s&&(p="padding"),Rae(e,r,p)}if(ve(n)){var g=p2(e),m=h2(r,g),y=g.boxSizing==="border-box";n=Number(n),a?n-=y?0:m.border+m.padding:s?n+=y?m.border:-m.padding:y&&(n+=m.border+m.padding)}return n+=ve(n)?"px":"",I.setStyle(e,r,n),null}},Kw=t=>Je(t)?t:t.defaultView,Pp=t=>{if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),i=Kw(t.ownerDocument),n=t.ownerDocument.documentElement;return{top:e.top+i.pageYOffset-n.clientTop,left:e.left+i.pageXOffset-n.clientLeft}};var v2=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,Lr={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};Lr.tbody=Lr.colgroup=Lr.caption=Lr.tfoot=Lr.thead;Lr.th=Lr.td;var Np=function(t){if(typeof t!="string")return null;var e=I.createDocumentFragment(),i=e.appendChild(I.createElement("div")),n=v2.exec(t),o=n&&n[1].toLowerCase(),r=Lr[o]||Lr.default;i.innerHTML=r.startTags+t+r.endTags;for(var a=0;a<r.tagsCount;a++)i=i.lastChild;return[...i.childNodes]},_2=function(t){var e=v2.exec(t);return e&&e[1]in Lr};var Pae=G(),Be,ge=function(t,e){return t?typeof t=="string"?t==="body"?(this[0]=e?e.body:I.getBody(),this.length=1,this):(e=e||I.getDocument(),t[0]==="<"?(this[0]=I.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,I.querySelectorAll(e,t)),this)):I.isNode(t)||Je(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):Be(t.toArray?t.toArray():[t]):(this.length=0,this)};Be=function(t,e){return new ge(t,e)};Be.fn={dxRenderer:!0};ge.prototype=Be.fn;var qu=function(t,e){for(var i=0;i<this.length;i++){var n=Be(this[i]);n[t].apply(n,e)}return this},qw=function(t,e,i){i!=null&&i!==!1?I.setAttribute(t,e,i):I.removeAttribute(t,e)};ge.prototype.show=function(){return this.toggle(!0)};ge.prototype.hide=function(){return this.toggle(!1)};ge.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this};ge.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return qu.call(this,"attr",arguments);if(!this[0])return L(t)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if(typeof t=="string"&&arguments.length===1){var i=this[0].getAttribute(t);return i??void 0}else if(q(t))for(var n in t)this.attr(n,t[n]);else qw(this[0],t,e);return this};ge.prototype.removeAttr=function(t){return this[0]&&I.removeAttribute(this[0],t),this};ge.prototype.prop=function(t,e){if(!this[0])return this;if(typeof t=="string"&&arguments.length===1)return this[0][t];if(q(t))for(var i in t)this.prop(i,t[i]);else I.setProperty(this[0],t,e);return this};ge.prototype.addClass=function(t){return this.toggleClass(t,!0)};ge.prototype.removeClass=function(t){return this.toggleClass(t,!1)};ge.prototype.hasClass=function(t){if(!this[0]||this[0].className===void 0)return!1;for(var e=t.split(" "),i=0;i<e.length;i++)if(this[0].classList){if(this[0].classList.contains(e[i]))return!0}else{var n=N(this[0].className)?this[0].className:I.getAttribute(this[0],"class");if((n||"").split(" ").indexOf(e[i])>=0)return!0}return!1};ge.prototype.toggleClass=function(t,e){if(this.length>1)return qu.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=e===void 0?!this.hasClass(t):e;for(var i=t.split(" "),n=0;n<i.length;n++)I.setClass(this[0],i[n],e);return this};ge.prototype.html=function(t){return arguments.length?(this.empty(),typeof t=="string"&&!_2(t)||typeof t=="number"?(this[0].innerHTML=t,this):this.append(Np(t))):this[0].innerHTML};var C2=function(t,e){if(!(!this[0]||!t)){typeof t=="string"?t=Np(t):t.nodeType?t=[t]:ve(t)&&(t=[I.createTextNode(t)]);for(var i=0;i<t.length;i++){var n=t[i],o=this[0],r=o.tagName==="TABLE"&&n.tagName==="TR";r&&o.tBodies&&o.tBodies.length&&(o=o.tBodies[0]),I.insertElement(o,n.nodeType?n:n[0],e)}}},y2=function(t,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){t=Yo(t);for(var i=0;i<this.length;i++)this[i].style[t]=Pr(t,e)}};ge.prototype.css=function(t,e){if(N(t))if(arguments.length===2)y2.call(this,t,e);else{if(!this[0])return;t=Yo(t);var i=Pae.getComputedStyle(this[0])[t]||this[0].style[t];return ve(i)?i.toString():i}else if(q(t))for(var n in t)y2.call(this,n,t[n]);return this};ge.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return C2.apply(this,[t,this[0].firstChild]),this};ge.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return C2.apply(this,[t]),this};ge.prototype.prependTo=function(t){if(this.length>1){for(var e=this.length-1;e>=0;e--)Be(this[e]).prependTo(t);return this}return t=Be(t),t[0]&&I.insertElement(t[0],this[0],t[0].firstChild),this};ge.prototype.appendTo=function(t){return this.length>1?qu.call(this,"appendTo",arguments):(I.insertElement(Be(t)[0],this[0]),this)};ge.prototype.insertBefore=function(t){return t&&t[0]&&I.insertElement(t[0].parentNode,this[0],t[0]),this};ge.prototype.insertAfter=function(t){return t&&t[0]&&I.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this};ge.prototype.before=function(t){return this[0]&&I.insertElement(this[0].parentNode,t[0],this[0]),this};ge.prototype.after=function(t){return this[0]&&I.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this};ge.prototype.wrap=function(t){if(this[0]){var e=Be(t);e.insertBefore(this),e.append(this)}return this};ge.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this};ge.prototype.replaceWith=function(t){if(t&&t[0])return t.is(this)?this:(t.insertBefore(this),this.remove(),t)};ge.prototype.remove=function(){return this.length>1?qu.call(this,"remove",arguments):(Ls(this[0],!0),I.removeElement(this[0]),this)};ge.prototype.detach=function(){return this.length>1?qu.call(this,"detach",arguments):(I.removeElement(this[0]),this)};ge.prototype.empty=function(){return this.length>1?qu.call(this,"empty",arguments):(Ls(this[0]),I.setText(this[0],""),this)};ge.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return Be(t)};ge.prototype.text=function(t){if(!arguments.length){for(var e="",i=0;i<this.length;i++)e+=this[i]&&this[i].textContent||"";return e}var n=T(t)?t():t;return Ls(this[0],!1),I.setText(this[0],f(n)?n:""),this};ge.prototype.val=function(t){return arguments.length===1?this.prop("value",f(t)?t:""):this.prop("value")};ge.prototype.contents=function(){if(!this[0])return Be();var t=[];return t.push.apply(t,this[0].childNodes),Be(t)};ge.prototype.find=function(t){var e=Be();if(!t)return e;var i=[],n;if(typeof t=="string")for(t=t.trim(),n=0;n<this.length;n++){var o=this[n];if(I.isElementNode(o)){var r=o.getAttribute("id"),a=r||"dx-query-children";r||qw(o,"id",a),a="[id='"+a+"'] ";var s=a+t.replace(/([^\\])(,)/g,"$1, "+a);i.push.apply(i,I.querySelectorAll(o,s)),qw(o,"id",r)}else(I.isDocument(o)||I.isDocumentFragment(o))&&i.push.apply(i,I.querySelectorAll(o,t))}else for(n=0;n<this.length;n++)t=I.isNode(t)?t:t[0],this[n]!==t&&this[n].contains(t)&&i.push(t);return e.add(i)};var x2=function(t,e){var i;return e=(i=e.host)!==null&&i!==void 0?i:e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!0};ge.prototype.filter=function(t){if(!t)return Be();if(t===":visible")return this.filter(x2);if(t===":hidden")return this.filter(function(r,a){return!x2(r,a)});for(var e=[],i=0;i<this.length;i++){var n=this[i];if(I.isElementNode(n)&&gi(t)==="string")I.elementMatches(n,t)&&e.push(n);else if(I.isNode(t)||Je(t))t===n&&e.push(n);else if(T(t))t.call(n,i,n)&&e.push(n);else for(var o=0;o<t.length;o++)t[o]===n&&e.push(n)}return Be(e)};ge.prototype.not=function(t){for(var e=[],i=this.filter(t).toArray(),n=0;n<this.length;n++)i.indexOf(this[n])===-1&&e.push(this[n]);return Be(e)};ge.prototype.is=function(t){return!!this.filter(t).length};ge.prototype.children=function(t){for(var e=[],i=0;i<this.length;i++)for(var n=this[i]?this[i].childNodes:[],o=0;o<n.length;o++)I.isElementNode(n[o])&&e.push(n[o]);return e=Be(e),t?e.filter(t):e};ge.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return Be();for(var e=[],i=t.parentNode.childNodes||[],n=0;n<i.length;n++){var o=i[n];I.isElementNode(o)&&o!==t&&e.push(o)}return Be(e)};ge.prototype.each=function(t){for(var e=0;e<this.length&&t.call(this[e],e,this[e])!==!1;e++);};ge.prototype.index=function(t){return t?(t=Be(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)};ge.prototype.get=function(t){return this[t<0?this.length+t:t]};ge.prototype.eq=function(t){return t=t<0?this.length+t:t,Be(this[t])};ge.prototype.first=function(){return this.eq(0)};ge.prototype.last=function(){return this.eq(-1)};ge.prototype.select=function(){for(var t=0;t<this.length;t+=1)this[t].select&&this[t].select();return this};ge.prototype.parent=function(t){if(!this[0])return Be();var e=Be(this[0].parentNode);return!t||e.is(t)?e:Be()};ge.prototype.parents=function(t){for(var e=[],i=this.parent();i&&i[0]&&!I.isDocument(i[0]);)I.isElementNode(i[0])&&(!t||i.is(t))&&e.push(i.get(0)),i=i.parent();return Be(e)};ge.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return Be()};ge.prototype.next=function(t){if(!this[0])return Be();var e=Be(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return Be()};ge.prototype.prev=function(){return this[0]?Be(this[0].previousSibling):Be()};ge.prototype.add=function(t){for(var e=Be(t),i=this.toArray(),n=0;n<e.length;n++){var o=e[n];i.indexOf(o)===-1&&i.push(o)}return Be(i)};var Yw=[];ge.prototype.splice=function(){return Be(Yw.splice.apply(this,arguments))};ge.prototype.slice=function(){return Be(Yw.slice.apply(this,arguments))};ge.prototype.toArray=function(){return Yw.slice.call(this)};ge.prototype.offset=function(){if(this[0])return Pp(this[0])};ge.prototype.offsetParent=function(){if(!this[0])return Be();for(var t=Be(this[0].offsetParent);t[0]&&t.css("position")==="static";)t=Be(t[0].offsetParent);return t=t[0]?t:Be(I.getDocumentElement()),t};ge.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return t=this[0].getBoundingClientRect(),{top:t.top-e,left:t.left-i};t=this.offset();var n=this.offsetParent(),o={top:0,left:0};return n[0].nodeName!=="HTML"&&(o=n.offset()),o={top:o.top+parseFloat(n.css("borderTopWidth")),left:o.left+parseFloat(n.css("borderLeftWidth"))},{top:t.top-o.top-e,left:t.left-o.left-i}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach(function(t){var e=t.name;ge.prototype[e]=function(i){if(this[0]){var n=Kw(this[0]);return i===void 0?n?n[t.offsetProp]:this[0][e]:(n?t.scrollWindow(n,i):this[0][e]=i,this)}}});ge.prototype.data=function(t,e){if(this[0])return arguments.length<2?Ve.call(Be,this[0],t):(Ve.call(Be,this[0],t,e),this)};ge.prototype.removeData=function(t){return this[0]&&Ns(this[0],t),this};var S2=function(){return Be.apply(this,arguments)};Object.defineProperty(S2,"fn",{enumerable:!0,configurable:!0,get:function(){return Be.fn},set:function(t){Be.fn=t}});var b2={set:function(t){Be=t},get:function(){return S2}};var h=b2.get();var Nae=G(),Lae={getXhr:function(){return new Nae.XMLHttpRequest}},y_=Kt(Lae);var Qw=[],Vae=Ji(()=>{var t=I.listen(I.getDocument(),"DOMContentLoaded",()=>{D2.fire(),t()})}),D2={add:t=>{var e=W();e&&I.getReadyState()!=="loading"?t():(Qw.push(t),e&&Vae())},fire:()=>{Qw.forEach(t=>t()),Qw=[]}},Xt=Kt(D2);var Xw=G(),Lp="success",Jw="error",Hae="timeout",Wae="nocontent",Gae="parsererror",zae=function(t){return 200<=t&&t<300},Uae=function(t){return t!==204},jae=function(t){var e=[];for(var i in t){var n=t[i];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(i)+"="+encodeURIComponent(n)))}return e.join("&")},E2=function(t){var e=I.createElement("script");for(var i in t)e[i]=t[i];return e},O2=function(t){t.parentNode.removeChild(t)},I2=function(t){return I.getHead().appendChild(t)},w2=function(t){var e=E2({text:t});I2(e),O2(e)},$ae=function(t){var e=E2({src:t});return new Promise(function(i,n){var o={load:i,error:n},r=function(s){o[s.type](),O2(e)};for(var a in o)I.listen(e,a,r);I2(e)})},Kae=function(t){var e=t.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return OV(n,t.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},qae=function(t){var e;return t.data&&!t.upload&&Zw(t)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e},Yae=function(t){return t.responseType&&t.responseType!=="text"||typeof t.responseText!="string"?t.response:t.responseText},Qae=function(t,e,i){var n=Yae(e);switch(i){case"jsonp":w2(n);break;case"script":w2(n),t.resolve(n,Lp,e);break;case"json":try{t.resolve(JSON.parse(n),Lp,e)}catch(o){t.reject(e,Gae,o)}break;default:t.resolve(n,Lp,e)}},Jae=function(t){if(!W())return!0;var e=!1,i=I.createElement("a"),n=I.createElement("a");i.href=Xw.location.href;try{n.href=t,n.href=n.href,e=i.protocol+"//"+i.host!=n.protocol+"//"+n.host}catch{e=!0}return e},Xae=function(t,e){return t&&setTimeout(function(){e.customStatus=Hae,e.abort()},t)},Zae=function(t){if(t.dataType==="jsonp"){var e=Math.random().toString().replace(/\D/g,""),i=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=t.jsonp||"callback";return t.data=t.data||{},t.data[n]=i,i}},ese=function(t,e){var i=t.data,n=typeof i=="string",o=t.url||Xw.location.href;return!n&&!t.cache&&(i=i||{},i._=Date.now()),i&&!t.upload&&(n||(i=jae(i)),Zw(t)==="GET"?(i!==""&&(o+=(o.indexOf("?")>-1?"&":"?")+i),i=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:o,parameters:i}};function Zw(t){return(t.method||"GET").toUpperCase()}var tse=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||qae(t),e.Accept=e.Accept||Kae(t),!t.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},ise=function(t){var e=y_.getXhr(),i=new S,n=i.promise(),o=f(t.async)?t.async:!0,r=t.dataType,a=t.timeout||0,s;t.crossDomain=Jae(t.url);var l=r==="jsonp"||r==="script";t.cache===void 0&&(t.cache=!l);var d=Zae(t),u=tse(t),c=ese(t,u),p=c.url,g=c.parameters;if(d&&(Xw[d]=function(C){i.resolve(C,Lp,e)}),t.crossDomain&&l)return $ae(p).then(function(){r!=="jsonp"&&i.resolve(null,Lp,e)},function(){i.reject(e,Jw)}),n;if(t.crossDomain&&!("withCredentials"in e))return i.reject(e,Jw),n;if(e.open(Zw(t),p,o,t.username,t.password),o&&(e.timeout=a,s=Xae(a,e)),e.onreadystatechange=function(C){e.readyState===4&&(clearTimeout(s),zae(e.status)?Uae(e.status)?Qae(i,e,r):i.resolve(null,Wae,e):i.reject(e,e.customStatus||Jw))},t.upload&&(e.upload.onprogress=t.upload.onprogress,e.upload.onloadstart=t.upload.onloadstart,e.upload.onabort=t.upload.onabort),t.xhrFields)for(var m in t.xhrFields)e[m]=t.xhrFields[m];t.responseType==="arraybuffer"&&(e.responseType=t.responseType);for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&f(u[y])&&e.setRequestHeader(y,u[y]);return t.beforeSend&&t.beforeSend(e),e.send(g),n.abort=function(){e.abort()},n},eE=Kt({sendRequest:ise});var x_=class{constructor(e,i){this.instance=e,this.zone=i,this.subscriptions={},this.events={}}hasEvent(e){return this.getEmitter(e).observers.length!==0}fireEvent(e,i){let n=this.getEmitter(e);n.observers.length&&((this.subscriptions[e]||[]).length===n.observers.length?n.next(i&&i[0]):this.zone.run(()=>n.next(i&&i[0])))}on(e,i){if(typeof e=="string"){let n=this.subscriptions[e]||[],o=this.getEmitter(e).subscribe(i.bind(this.instance)),r=o.unsubscribe.bind(o);n.push({handler:i,unsubscribe:r}),this.subscriptions[e]=n}else{let n=e;Object.keys(n).forEach(o=>this.on(o,n[o]))}}off(e,i){let n=this.subscriptions[e]||[];i?n.some((o,r)=>{if(o.handler===i)return o.unsubscribe(),n.splice(r,1),!0}):(n.forEach(o=>{o.unsubscribe()}),n.splice(0,n.length))}dispose(){}addEmitter(e,i){this.events[e]=i}getEmitter(e){return this.events[e]||(this.events[e]=new Mt),this.events[e]}},nE=class{constructor(e,i){this.zone=e,this.component=i,this.lockedValueChangeEvent=!1}fireNgEvent(e,i){if(this.lockedValueChangeEvent&&e==="valueChange")return;let n=this.component[e];n&&n.observers.length&&this.zone.run(()=>{n.next(i&&i[0])})}createEmitters(e){e.forEach(i=>{this.component[i.emit]=new Mt})}};function T2(t){return t.get?t.get(0):t}var Ft=class{setHost(e){this.host=e}setTemplate(e){this.host.setTemplate(e)}};var M2="dx-template-wrapper";var A2=(()=>{class t{constructor(i,n,o,r,a){this.templateRef=i,this.viewContainerRef=n,this.renderer=r,this.zone=a,o.setTemplate(this)}set dxTemplateOf(i){this.name=i}renderTemplate(i){let n=this.viewContainerRef.createEmbeddedView(this.templateRef,{$implicit:i.model,index:i.index}),o=T2(i.container);return i.container&&n.rootNodes.forEach(r=>{this.renderer.appendChild(o,r)}),n}render(i){let n;return this.zone.isStable?n=this.zone.run(()=>this.renderTemplate(i)):n=this.renderTemplate(i),n.detectChanges(),n.rootNodes.forEach(o=>{o.nodeType===1&&I.setClass(o,M2,!0),o2(o,"dxremove",({},r)=>{(!r||!r._angularIntegration)&&n.destroy()})}),n.rootNodes}}return t.\u0275fac=function(i){return new(i||t)(B(xs),B(xa),B(Ft),B(ya),B(Ne))},t.\u0275dir=ao({type:t,selectors:[["","dxTemplate",""]],inputs:{dxTemplateOf:"dxTemplateOf"}}),t})(),mo=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var F2="dx-visibility-change-handler",R2=(()=>{class t{constructor(){this._initialOptions={},this._collectionContainerImpl=new C_(this._setOption.bind(this),this._filterItems.bind(this))}_optionChangedHandler(i){let n=this._fullOptionPath();if(i.fullName.indexOf(n)===0){let o=i.fullName.slice(n.length),r=this[o+"Change"];r&&r.next(i.value)}}_createEventEmitters(i){i.forEach(n=>{this[n.emit]=new Mt})}_getOption(i){return this.isLinked?this.instance.option(this._fullOptionPath()+i):this._initialOptions[i]}_setOption(i,n){if(this.isLinked){let o=this._fullOptionPath()+i;this.instance.option(o,n)}else this._initialOptions[i]=n}_addRemovedOption(i){this.instance&&this.removedNestedComponents&&this.removedNestedComponents.push(i)}_deleteRemovedOptions(i){this.instance&&this.removedNestedComponents&&(this.removedNestedComponents=this.removedNestedComponents.filter(n=>!n.startsWith(i)))}_addRecreatedComponent(){this.instance&&this.recreatedNestedComponents&&this.recreatedNestedComponents.push({getOptionPath:()=>this._getOptionPath()})}_getOptionPath(){return this._hostOptionPath()+this._optionPath}setHost(i,n){this._host=i,this._hostOptionPath=n,this.optionChangedHandlers.subscribe(this._optionChangedHandler.bind(this))}setChildren(i,n){return this.resetOptions(i),this._collectionContainerImpl.setChildren(i,n)}_filterItems(i){return i.filter(n=>n!==this)}get instance(){return this._host&&this._host.instance}get resetOptions(){return this._host&&this._host.resetOptions}get isRecreated(){return this._host&&this._host.isRecreated}get removedNestedComponents(){return this._host&&this._host.removedNestedComponents}set removedNestedComponents(i){this._host.removedNestedComponents=i}get recreatedNestedComponents(){return this._host&&this._host.recreatedNestedComponents}set recreatedNestedComponents(i){this._host.recreatedNestedComponents=i}get isLinked(){return!!this.instance&&this._host.isLinked}get optionChangedHandlers(){return this._host&&this._host.optionChangedHandlers}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),C_=class{constructor(e,i){this._setOption=e,this._filterItems=i,this._activatedQueries={}}setChildren(e,i){if(this._filterItems&&(i=this._filterItems(i)),i.length&&(this._activatedQueries[e]=!0),this._activatedQueries[e]){let n=i.map((o,r)=>(o._index=r,o._value));this._setOption(e,n)}}},Hs=(()=>{class t extends R2{setHost(i,n){super.setHost(i,n),this._host[this._optionPath]=this._initialOptions}_fullOptionPath(){return this._getOptionPath()+"."}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),vo=(()=>{class t extends R2{_fullOptionPath(){return`${this._getOptionPath()}[${this._index}].`}get _value(){return this._initialOptions}get isLinked(){return this._index!==void 0&&!!this.instance&&this._host.isLinked}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),nse=function(t){let e=[];h(t).hasClass(F2)||e.push(t),e.push.apply(e,t.querySelectorAll("."+F2));for(let i=0;i<e.length;i++)Lw(e[i],"dxshown")};function S_(t,e,i,n){!t.template===void 0||!e.nativeElement.hasChildNodes()||![].slice.call(e.nativeElement.childNodes).filter(a=>{if(a.tagName){let s=a.tagName.toLowerCase().substr(0,3);return!(s==="dxi"||s==="dxo")}else return a.nodeName!=="#comment"&&a.textContent.replace(/\s/g,"").length}).length||(t.template={render:a=>{let s=e.nativeElement;if(I.setClass(s,M2,!0),a.container){let l=T2(a.container),d=l.contains(e.nativeElement);i.appendChild(l,e.nativeElement),d||n.body.contains(l)&&nse(s)}return s}})}var ie=class{getHost(){return this._host}setHost(e,i){this._host=e,this._optionPath=i||(()=>"")}setNestedOption(e){e.setHost(this._host,this._optionPath)}};var zi=(()=>{class t{constructor(){this._watchers=[]}getWatchMethod(){return(n,o,r)=>{let a=n();r=r||{},r.skipImmediate||o(a);let s=()=>{let l=n();this._isDifferentValues(a,l,r.deep)&&(o(l),a=l)};return this._watchers.push(s),()=>{let l=this._watchers.indexOf(s);l!==-1&&this._watchers.splice(l,1)}}}_isDifferentValues(i,n,o){let r=this._toComparable(n),a=this._toComparable(i),s=r instanceof Object&&a instanceof Object;return o&&s?this._checkObjectsFields(n,i):r!==a}_toComparable(i){return i instanceof Date?i.getTime():i}_checkObjectsFields(i,n){for(let o in i){let r=this._toComparable(i[o]),a=this._toComparable(n[o]),s=!1;if(typeof r=="object"&&typeof a=="object"&&(s=_e(r,a)),r!==a&&!s)return!0}}checkWatchers(){for(let i of this._watchers)i()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();var tE,iE=()=>(tE||(tE=WL("DX_isPlatformServer")),tE),Ws=(()=>{class t{constructor(i,n,o,r,a,s){this.element=i,this.ngZone=n,this.watcherHelper=r,this.transferState=a,this.platformId=s,this._initialOptions={},this._optionsToUpdate={},this.optionChangedHandlers=new Mt,this.isLinked=!0,this.changedOptions={},this.removedNestedComponents=[],this.widgetUpdateLocked=!1,this.templateUpdateRequired=!1,this.templates=[],o.setHost(this),this._collectionContainerImpl=new C_(this._setOption.bind(this)),this.eventHelper=new nE(n,this)}_updateTemplates(){if(this.templates.length&&this.templateUpdateRequired){let i={};this.templates.forEach(n=>{i[n.name]=n}),this.instance.option("integrationOptions.templates",i),this.templates=Object.values(i),this.templateUpdateRequired=!1}}_initEvents(){this.instance.on("optionChanged",i=>{this.changedOptions[i.name]=i.value;let n=i.name===i.fullName?i.value:i.component.option(i.name);this.eventHelper.fireNgEvent(i.name+"Change",[n]),this.optionChangedHandlers.emit(i)})}_initOptions(){this._initialOptions.integrationOptions.watchMethod=this.watcherHelper.getWatchMethod()}_initPlatform(){this.transferState.hasKey(iE())?this._initialOptions.integrationOptions.renderedOnServer=this.transferState.get(iE(),null):np(this.platformId)&&this.transferState.set(iE(),!0)}_createEventEmitters(i){let n=this.ngZone;this.eventHelper.createEmitters(i),this._initialOptions.eventsStrategy=o=>{let r=new x_(o,n);return i.filter(a=>a.subscribe).forEach(a=>{r.addEmitter(a.subscribe,this[a.emit])}),r},this._initialOptions.nestedComponentOptions=function(o){return{eventsStrategy:r=>new x_(r,n),nestedComponentOptions:o.option("nestedComponentOptions")}}}_shouldOptionChange(i,n){if(this.changedOptions.hasOwnProperty(i)){let o=this.changedOptions[i];return delete this.changedOptions[i],n!==o}return!0}clearChangedOptions(){this.changedOptions={}}_getOption(i){return this.instance?this.instance.option(i):this._initialOptions[i]}lockWidgetUpdate(){!this.widgetUpdateLocked&&this.instance&&(this.instance.beginUpdate(),this.widgetUpdateLocked=!0)}unlockWidgetUpdate(){this.widgetUpdateLocked&&(this.widgetUpdateLocked=!1,this.instance.endUpdate())}_setOption(i,n){this.lockWidgetUpdate(),this._shouldOptionChange(i,n)&&(this.instance?this.instance.option(i,n):this._initialOptions[i]=n)}_createWidget(i){this._initialOptions.integrationOptions={},this._initPlatform(),this._initOptions(),this._initialOptions.onInitializing=function(){this.beginUpdate()},this.instance=this._createInstance(i,this._initialOptions),this._initEvents(),this._initialOptions={}}_destroyWidget(){if(this.removedNestedComponents=[],this.instance){let i=this.instance.element();Lw(i,"dxremove",{_angularIntegration:!0}),this.instance.dispose(),I.removeElement(i)}}ngOnChanges(i){for(let n in i)i[n].currentValue!==this[n]&&(this._optionsToUpdate[n]=i[n].currentValue)}ngOnInit(){this._createWidget(this.element.nativeElement)}ngDoCheck(){this.applyOptions()}ngAfterContentChecked(){this.applyOptions(),this.resetOptions(),this.unlockWidgetUpdate()}ngAfterViewInit(){this._updateTemplates(),this.instance.endUpdate(),this.recreatedNestedComponents=[]}ngAfterViewChecked(){this._updateTemplates()}applyOptions(){Object.keys(this._optionsToUpdate).length&&(this.instance&&this.instance.option(this._optionsToUpdate),this._optionsToUpdate={})}resetOptions(i){this.instance&&(this.removedNestedComponents.filter(n=>n&&!this.isRecreated(n)&&i?n.startsWith(i):!0).forEach(n=>{this.instance.resetOption(n)}),this.removedNestedComponents=[],this.recreatedNestedComponents=[])}isRecreated(i){return this.recreatedNestedComponents&&this.recreatedNestedComponents.some(n=>n.getOptionPath()===i)}setTemplate(i){this.templates.push(i),this.templateUpdateRequired=!0}setChildren(i,n){return this.resetOptions(i),this._collectionContainerImpl.setChildren(i,n)}}return t.\u0275fac=function(i){return new(i||t)(B(dt),B(Ne),B(Ft),B(zi),B(Tr),B(Di))},t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[On],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var ose=["mousemove","mouseover","mouseout"],rse=["mouseup","click","mousedown","transitionend","wheel"],oE,rE=[],B2=function(t){oE||(oE=this.callBase.bind(this)),rE.push(t)};Xt.inject({add:function(t){return B2.call(this,t)}});var k2=(t,e,i)=>{Number(aL.major)<12&&console.warn("Your version of Angular is not supported. Please update your project to version 12 or later. Please refer to the Angular Update Guide for more information: https://update.angular.io"),I.inject({_document:t,listen:function(...o){let r=o[1];return ose.indexOf(r)!==-1?e.runOutsideAngular(()=>this.callBase.apply(this,o)):e.isStable&&rse.indexOf(r)!==-1?e.run(()=>this.callBase.apply(this,o)):this.callBase.apply(this,o)},isElementNode:function(o){return o&&o.nodeType===1},isTextNode:function(o){return o&&o.nodeType===3},isDocument:function(o){return o&&o.nodeType===9}}),y_.inject({getXhr:function(){if(!i)return this.callBase.apply(this);let o=i.build();return"withCredentials"in o||(o.withCredentials=!1),o}});let n=()=>{e.run(()=>{_.set({}),rE.forEach(o=>oE.call(null,o)),rE=[],Xt.fire()})};n(),B2=o=>e.run(()=>o()),k2=n},Gs=(()=>{class t{constructor(i,n,o){k2(i,n,o)}}return t.\u0275fac=function(i){return new(i||t)(ne(ft),ne(Ne),ne(wu,8))},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var _o=(()=>{class t{constructor(i){this._differs=i,this._propertyDiffers={}}setHost(i){this._host=i}setup(i,n){if(i in n){let o=n[i].currentValue;this.setupSingle(i,o)}}setupSingle(i,n){if(n&&Array.isArray(n)){if(!this._propertyDiffers[i])try{return this._propertyDiffers[i]=this._differs.find(n).create(null),!0}catch{}}else delete this._propertyDiffers[i];return!1}getChanges(i,n){if(this._propertyDiffers[i])return this._propertyDiffers[i].diff(n)}checkChangedOptions(i,n){return this._host.changedOptions[i]===n}doCheck(i){if(this._propertyDiffers[i]){let n=this._host[i],o=this.checkChangedOptions(i,n);this.getChanges(i,n)&&this._host.instance&&!o&&(this._host.lockWidgetUpdate(),this._host.instance.option(i,n))}}}return t.\u0275fac=function(i){return new(i||t)(ne(ep))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();var ase=function(t){return t&&t.get(0)};function V(t){return ase(t)}var aE="dxTranslator",sse=/matrix(3d)?\((.+?)\)/,lse=/translate(?:3d)?\((.+?)\)/,fi=function(t){t=h(t);var e=Hp(t);return{left:e.x,top:e.y}};function b_(t){return gi(t)==="string"&&t[t.length-1]==="%"}function P2(t,e){t.length&&Ve(t.get(0),aE,e)}var D_=function(t){t.length&&Ns(t.get(0),aE)},Qu=function(t){t.x=t.x||0,t.y=t.y||0;var e=b_(t.x)?t.x:t.x+"px",i=b_(t.y)?t.y:t.y+"px";return"translate("+e+", "+i+")"},Hp=function(t){var e=t.length?Ve(t.get(0),aE):null;if(!e){var i=t.css("transform")||Qu({x:0,y:0}),n=i.match(sse),o=n&&n[1];n?(n=n[2].split(","),o==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},P2(t,e)}return e},mt=function(t,e){t=h(t);var i=e.left,n=e.top,o;i===void 0?(o=Hp(t),o.y=n||0):n===void 0?(o=Hp(t),o.x=i||0):(o={x:i||0,y:n||0,z:0},P2(t,o)),t.css({transform:Qu(o)}),(b_(i)||b_(n))&&D_(t)},Vr=function(t,e){t=h(t);var i,n={left:0,top:0,transform:"none"};e&&(i=t.css("transition"),n.transition="none"),t.css(n),D_(t),e&&(t.get(0).offsetHeight,t.css("transition",i))},N2=function(t){var e=t.match(lse);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e};var L2=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,V2={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},dse=function(t,e,i,n){var o=3*t,r=3*(i-t)-o,a=1-o-r,s=3*e,l=3*(n-e)-s,d=1-s-l,u=function(p){return p*(o+p*(r+p*a))},c=function(p){return o+p*(2*r+3*p*a)};return function(p){return function(g){return g*(s+g*(l+g*d))}(function(g){for(var m=g,y=0,C;y<14&&(C=u(m)-g,!(Math.abs(C)<.001));)m-=C/c(m),y++;return m}(p))}},sE={},H2=function(t){t=V2[t]||t;var e=t.match(L2),i;e||(i="linear",e=V2[i].match(L2)),e=e.slice(1,5);for(var n=0;n<e.length;n++)e[n]=parseFloat(e[n]);var o=i||"cubicbezier_"+e.join("_").replace(/\./g,"p");return T(sE[o])||(sE[o]=function(r,a,s,l,d){return l*dse(e[0],e[1],e[2],e[3])(a/d)+s}),o};function W2(t){return sE[t]}var yo=W()?G():{},use=1e3/60,G2=function(t){return setTimeout(t,use)},z2=function(t){clearTimeout(t)},U2=Ji(function(){var t=yo.requestAnimationFrame||yo.webkitRequestAnimationFrame||yo.mozRequestAnimationFrame||yo.oRequestAnimationFrame||yo.msRequestAnimationFrame,e=yo.cancelAnimationFrame||yo.webkitCancelAnimationFrame||yo.mozCancelAnimationFrame||yo.oCancelAnimationFrame||yo.msCancelAnimationFrame;t&&e&&(G2=t,z2=e)});function zs(){return U2(),G2.apply(yo,arguments)}function Yn(){U2(),z2.apply(yo,arguments)}var pE={};JQ(pE,{animation:()=>hE,inputType:()=>ed,nativeScrolling:()=>So,pointerEvents:()=>X2,styleProp:()=>Yo,stylePropPrefix:()=>Uu,supportProp:()=>uE,touch:()=>Co,touchEvents:()=>J2,transition:()=>I_,transitionEndEventName:()=>cE});var cse=function(){var t,e=de(),i=e.add,n=e.remove;if(!W())return e;var o=function(){var l=G();return{width:l.innerWidth,height:l.innerHeight}},r=function(){var l=o();if(!(l.width===t.width&&l.height===t.height)){var d;l.width===t.width&&(d="height"),l.height===t.height&&(d="width"),t=l,e.fire(d)}},a=Ji(function(){t=o()}),s;return e.add=function(){var l=i.apply(e,arguments);return a(),Xt.add(function(){!s&&e.has()&&(s=I.listen(G(),"resize",r))}),l},e.remove=function(){var l=n.apply(e,arguments);return!e.has()&&s&&(s(),s=void 0),l},e}(),Qo=cse;var xo=class t{constructor(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=i}static create(e,i){return i?T(i)?i(e):i:new t(e)}hasEvent(e){var i=this._events[e];return i?i.has():!1}fireEvent(e,i){var n=this._events[e];return n&&n.fireWith(this._owner,i),this._owner}on(e,i){if(q(e))x(e,(r,a)=>{this.on(r,a)});else{var n=this._events[e];n||(n=de({syncStrategy:this._options.syncStrategy}),this._events[e]=n);var o=n.originalAdd||n.add;o.call(n,i)}}off(e,i){var n=this._events[e];n&&(T(i)?n.remove(i):n.empty())}dispose(){x(this._events,(e,i)=>{i.empty()})}};var hse=G(),w_=function(){var t;try{t=hse.sessionStorage}catch{}return t};var pse=Xt.add,Zl=de(),j2=h(),Qn=function(){var t;return function(e){if(!arguments.length)return t;var i=h(e);j2=i;var n=!!i.length,o=Qn();t=n?i:h("body"),Zl.fire(n?Qn():h(),o)}}();pse(function(){Qn(".dx-viewport")});function E_(){return j2}var Y2=G(),gse={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},$2={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},lE={generic(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),i=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),n=!e&&!i&&/msapphost/i.test(t),o=/((intel|ppc) mac os x)/.test(t.toLowerCase());return e||i||n||o?{deviceType:e?"phone":i?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:o}:null},appleTouchDevice(t){var e=ba(),i=/Macintosh/i.test(t)&&e?.maxTouchPoints>2,n=/ip(hone|od|ad)/i.test(t);if(!n&&!i)return null;var o=/ip(hone|od)/i.test(t),r=t.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),a=r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:[],s=Y2.screen.height===480,l=s?"B":"A";return{deviceType:o?"phone":"tablet",platform:"ios",version:a,grade:l}},android(t){var e=/android|htc_|silk/i.test(t),i=/windows phone/i.test(t);if(!e||i)return null;var n=/mobile/i.test(t),o=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=o?[parseInt(o[1],10),parseInt(o[2]||0,10),parseInt(o[3]||0,10)]:[],a=r.length>1&&(r[0]<4||r[0]===4&&r[1]<4),s=a?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:r,grade:s}}},K2=[lE.appleTouchDevice,lE.android,lE.generic],dE=class{constructor(e){this._window=e?.window||Y2,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new xo(this),this.changed=de(),W()&&(Xt.add(this._recalculateOrientation.bind(this)),Qo.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return v({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){var i=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(i.push("dx-device-".concat(e.deviceType)),e.deviceType!=="desktop"&&i.push("dx-device-mobile")),i.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&i.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&i.push("dx-simulator"),Fe().rtlEnabled&&i.push("dx-rtl"),i}attachCssClasses(e,i){this._deviceClasses=this._getCssClasses(i).join(" "),h(e).addClass(this._deviceClasses)}detachCssClasses(e){h(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||W()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),q(e))return this._fromConfig(e);var i;if(e){if(i=gse[e],!i)throw me.Error("E0005")}else{var n=ba();i=n.userAgent}return this._fromUA(i)}_getDeviceOrNameFromWindowScope(){var e;return W()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){var e=w_();if(e){var i=e.getItem("dx-force-device");try{return JSON.parse(i)}catch{return i}}}_fromConfig(e){var i=v({},$2,this._currentDevice,e),n={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",generic:i.platform==="generic"};return v(i,n)}_fromUA(e){for(var i=0;i<K2.length;i+=1){var n=K2[i],o=n(e);if(o)return this._fromConfig(o)}return $2}_changeOrientation(){var e=h(this._window),i=Y(e)>H(e)?"portrait":"landscape";this._currentOrientation!==i&&(this._currentOrientation=i,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:i}]))}_recalculateOrientation(){var e=H(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,i){return this._eventsStrategy.on(e,i),this}off(e,i){return this._eventsStrategy.off(e,i),this}},O_=new dE,q2=Qn();q2&&O_.attachCssClasses(q2);Zl.add((t,e)=>{O_.detachCssClasses(e),O_.attachCssClasses(t)});var R=O_;var{maxTouchPoints:Q2}=ba(),fse={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},uE=function(t){return!!Yo(t)},mse=function(){var{platform:t,mac:e}=R.real(),i=t==="ios"||t==="android"||e;return i},ed=function(t){if(t==="text")return!0;var e=I.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch{return!1}},vse=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")},_se=function(t){return t("PointerEvent")},J2=vse(Aw,Q2),X2=_se(Aw),yse=!!Q2;var Co=J2||X2&&yse,I_=Ji(function(){return uE("transition")}),cE=Ji(function(){return fse[Yo("transition")]}),hE=Ji(function(){return uE("animation")}),So=mse();var Xi=t=>{var e=t??Fe().rtlEnabled;return e?"right":"left"},Ze=t=>Je(t)?{width:t.outerWidth,height:t.outerHeight}:t.getBoundingClientRect();var xse=ba(),Cse=/(webkit)[ /]([\w.]+)/,Sse=/(mozilla)(?:.*? rv:([\w.]+))/,Z2=t=>{t=t.toLowerCase();var e={},i=Cse.exec(t)||t.indexOf("compatible")<0&&Sse.exec(t)||[],n=i[1],o=i[2];return n==="webkit"&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(n="chrome",o=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t),o=o&&o[1]):t.indexOf("fxios")>=0?(n="mozilla",o=/fxios\/(\d+\.\d+)/.exec(t),o=o&&o[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(n="safari",o=/(?:version|phantomjs)\/([0-9.]+)/.exec(t),o=o&&o[1]):(n="unknown",o=/applewebkit\/([0-9.]+)/.exec(t),o=o&&o[1])),n&&(e[n]=!0,e.version=o),e},be=v({_fromUA:Z2},Z2(xse.userAgent));var eH=G(),bse=/left|right/,Dse=/top|bottom/,tH=/fit|flip|none/,wse=/scale\(.+?\)/,Ese=be.safari,gE=function(t){var e={h:"center",v:"center"},i=kr(t);return i&&x(i,function(){var n=String(this).toLowerCase();bse.test(n)?e.h=n:Dse.test(n)&&(e.v=n)}),e},iH=function(t,e){return l_(t,e)},Ose=function(t){var e=kr(t),i=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return tH.test(i)||(i="none"),tH.test(n)||(n=i),{h:i,v:n}},nH=function(t){switch(t){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},fE=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},mE=function(t,e){var i=0;return t.myLocation<e.min&&(i+=e.min-t.myLocation),t.myLocation>e.max&&(i+=t.myLocation-e.max),i},oH=function(t,e,i){return e.myLocation<i.min?t==="h"?"left":"top":e.myLocation>i.max?t==="h"?"right":"bottom":"none"},vE=function(t){t.myLocation=t.atLocation+nH(t.atAlign)*t.atSize-nH(t.myAlign)*t.mySize+t.offset},F_={fit:function(t,e){var i=!1;t.myLocation>e.max&&(t.myLocation=e.max,i=!0),t.myLocation<e.min&&(t.myLocation=e.min,i=!0),t.fit=i},flip:function(t,e){if(t.flip=!1,!(t.myAlign==="center"&&t.atAlign==="center")&&(t.myLocation<e.min||t.myLocation>e.max)){var i=v({},t,{myAlign:fE(t.myAlign),atAlign:fE(t.atAlign),offset:-t.offset});vE(i),i.oversize=mE(i,e),(i.myLocation>=e.min&&i.myLocation<=e.max||t.oversize>i.oversize)&&(t.myLocation=i.myLocation,t.oversize=i.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},aH,sH=function(){var t=h("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(h("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),aH=e},Ise={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},lH=function(t,e){var i=h(t),n=i.offset(),o=v(!0,{},Ise,{h:{location:n.left},v:{location:n.top}});if(!e)return o;var r=gE(e.my),a=gE(e.at),s=h(e.of).length&&e.of||eH,l=iH(e.offset,e.precise),d=Ose(e.collision),u=e.boundary,c=iH(e.boundaryOffset,e.precise),p={mySize:ee(i),myAlign:r.h,atAlign:a.h,offset:l.h,collision:d.h,boundaryOffset:c.h},g={mySize:oe(i),myAlign:r.v,atAlign:a.v,offset:l.v,collision:d.v,boundaryOffset:c.v};if(s.preventDefault)p.atLocation=s.pageX,g.atLocation=s.pageY,p.atSize=0,g.atSize=0;else if(s=h(s),Je(s[0]))p.atLocation=s.scrollLeft(),g.atLocation=s.scrollTop(),R.real().deviceType==="phone"&&s[0].visualViewport?(p.atLocation=Math.max(p.atLocation,s[0].visualViewport.offsetLeft),g.atLocation=Math.max(g.atLocation,s[0].visualViewport.offsetTop),p.atSize=s[0].visualViewport.width,g.atSize=s[0].visualViewport.height):(p.atSize=s[0].innerWidth>s[0].outerWidth?s[0].innerWidth:H(s),g.atSize=s[0].innerHeight>s[0].outerHeight||Ese?s[0].innerHeight:Y(s));else if(s[0].nodeType===9)p.atLocation=0,g.atLocation=0,p.atSize=H(s),g.atSize=Y(s);else{var m=Ze(s.get(0)),y=dH(s);p.atLocation=y.left,g.atLocation=y.top,p.atSize=Math.max(m.width,ee(s)),g.atSize=Math.max(m.height,oe(s))}vE(p),vE(g);var C=function(){var O=h(eH),k=H(O),J=Y(O),U=O.scrollLeft(),z=O.scrollTop(),ce=I.getDocumentElement(),fe=Co?ce.clientWidth/k:1,he=Co?ce.clientHeight/J:1;aH===void 0&&sH();var it=k,kt=J;if(u&&!Je(u)){var Mi=h(u),hi=Mi.offset();U=hi.left,z=hi.top,it=H(Mi),kt=Y(Mi)}return{h:{min:U+p.boundaryOffset,max:U+it/fe-p.mySize-p.boundaryOffset},v:{min:z+g.boundaryOffset,max:z+kt/he-g.mySize-g.boundaryOffset}}}();p.oversize=mE(p,C.h),g.oversize=mE(g,C.v),p.collisionSide=oH("h",p,C.h),g.collisionSide=oH("v",g,C.v),F_[p.collision]&&F_[p.collision](p,C.h),F_[g.collision]&&F_[g.collision](g,C.v);var b=function(O){return e.precise?O:Math.round(O)};return v(!0,o,{h:{location:b(p.myLocation),oversize:b(p.oversize),fit:p.fit,flip:p.flip,collisionSide:p.collisionSide},v:{location:b(g.myLocation),oversize:b(g.oversize),fit:g.fit,flip:g.flip,collisionSide:g.collisionSide},precise:e.precise}),o},rH=function(t,e,i,n){var o=f(t.style)&&!I.isNode(t.style),r=n?i.replace(e,""):i;if(o)m_(t,r,!1);else{var a=I.createAttribute("style");a.value=r,t.setAttributeNode(a)}},dH=function t(e){var i,n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=o.get(0);if(!r)return e.offset();var a=((i=r.getAttribute)===null||i===void 0?void 0:i.call(r,"style"))||"",s=(n=a.match(wse))===null||n===void 0?void 0:n[0],l;return s?(rH(r,s,a,!0),l=t(e,o.parent()),rH(r,s,a,!1)):l=t(e,o.parent()),l},Wp=function(t,e){var i=h(t);if(!e)return i.offset();Vr(i,!0);var n=dH(i),o=e.h&&e.v?e:lH(i,e),r=function(a){return e.precise?a:Math.round(a)};return mt(i,{left:o.h.location-r(n.left),top:o.v.location-r(n.top)}),o},Fse=function(t){return t=h(t).get(0),Je(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:h(t).offset()};Wp.inverseAlign||(Wp.inverseAlign=fE);Wp.normalizeAlign||(Wp.normalizeAlign=gE);var Ei={calculateScrollbarWidth:sH,calculate:lH,setup:Wp,offset:Fse};var uH=function(t,e){var i={};"noBubble"in e&&(i.noBubble=e.noBubble),"bindType"in e&&(i.bindType=e.bindType),"delegateType"in e&&(i.delegateType=e.delegateType),x(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,o){e[o]&&(i[o]=function(){var r=[].slice.call(arguments);return r.unshift(this),e[o].apply(e,r)})}),Ip.fire(t,i)};uH.callbacks=Ip;var Oi=uH;var Gt="dxremove",_E="dxRemoveEvent";a2(function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var i=h(t[e]);i.prop(_E)&&(i[0][_E]=null,_.triggerHandler(i,Gt))}});Oi(Gt,{noBubble:!0,setup:function(t){h(t).prop(_E,!0)}});var yE=(t,e)=>{if(!e)throw me.Error("E0017");return Array.isArray(t)?t.map(i=>yE(i,e)).join(" "):t.indexOf(" ")!==-1?yE(t.split(/\s+/g),e):"".concat(t,".").concat(e)},cH=yE;var hH=function(t,e){if(!Tse(t))return!1;var i=t.nodeName.toLowerCase(),n=!isNaN(e),o=t.disabled,r=/^(input|select|textarea|button|object|iframe)$/.test(i),a=i==="a",s,l=t.isContentEditable;return r||l?s=!o:a?s=t.href||n:s=n,s};function Tse(t){var e=h(t);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var Gp=function(t,e){return hH(e,h(e).attr("tabIndex"))},xE=function(t,e){var i=h(e).attr("tabIndex");return(isNaN(i)||i>=0)&&hH(e,i)},An=function(t){var e=h(t).get(0);return I.getActiveElement(e)===e};var Mse={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},Ase={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},Rse={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},Bse=t=>t,kse=t=>Bse(_.Event(t,t),t),CE=t=>Ju(t)==="dx",Pse=t=>Ju(t)==="mouse",pH=t=>Ju(t)==="touch",Ju=t=>{var{type:e}=t,i="other";return x(Rse,function(n){if(this.test(e))return i=n,!1}),i},gH=t=>Ju(t)==="pointer",bo=t=>Pse(t)||(gH(t)||CE(t))&&t.pointerType==="mouse",li=t=>t&&t.type==="dxmousewheel",wa=t=>pH(t)||(gH(t)||CE(t))&&t.pointerType==="touch";var vt=t=>{var{pageX:e,pageY:i,timeStamp:n}=t;return{x:e,y:i,time:n}},Hr=(t,e)=>({x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}),fH=t=>{var{originalEvent:e,pointers:i}=t;return pH(t)?(e.touches||[]).length:CE(t)?(i||[]).length:0},Nse=!1;var T_=t=>{if(Nse)return!0;var{target:e}=t,i=h(e),n=e?.isContentEditable||e?.hasAttribute("contenteditable"),o=i.is("input, textarea, select")||n;if(li(t)){var r=i.is("textarea")&&i.hasClass("dx-texteditor-input");if(r||n)return!1;var a=i.is("input[type='number'], textarea, select")&&i.is(":focus");return a}if(bo(t))return o||t.which>1;if(wa(t))return o&&An(i)};var Jo=(t,e)=>{var i=kse(t);return e&&v(i,e),i},Zi=t=>{var{originalEvent:e,delegateTarget:i}=t,n=Jo(e,t);return _.trigger(i||n.target,n),n},Ae=t=>{var{key:e,which:i}=t,n=Mse[e?.toLowerCase()]||e,o=Ase[i];return o&&n===e?o:!n&&i?String.fromCharCode(i):n},zp=t=>{var{key:e,which:i}=t;return e||String.fromCharCode(i)},F=cH,ut=t=>{var{ctrlKey:e,metaKey:i}=t;return e||i};var vH=G(),Up=F(Gt,"dxFX"),Lse=/^([+-])=(.*)/i,jp="dxAnimData",OE="dxAnimQueue",Xo="transform",Vse={initAnimation:function(t,e){t.css({transitionProperty:"none"}),typeof e.from=="string"?t.addClass(e.from):EE(t,e.from);var i=this,n=new S,o=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){i._finishTransition(t),o?A(n,o).always(function(){i._cleanup(t,e)}):i._cleanup(t,e),n.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(t,[e,t])}),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var i=this,n=Date.now()+e.delay,o=new S,r=new S,a=new S,s,l=cE()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(s),clearTimeout(d),_.off(t,l),_.off(t,Up)},_.one(t,l,function(){Date.now()-n>=e.duration&&r.reject()}),_.off(t,Up),_.on(t,Up,function(){i.stop(t,e),o.reject()});var d=setTimeout(function(){s=setTimeout(function(){a.reject()},e.duration+e.delay+$p._simulatedTransitionEndDelay),A(r,a).fail(function(){o.resolve()}.bind(this))});return o.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?t[0].className+=" "+e.to:e.to&&EE(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,i){e&&(i?e.transitionAnimation.finish():(q(e.to)&&x(e.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t),this._cleanup(t,e)))}},mH={initAnimation:function(t,e){EE(t,e.from)},animate:function(t,e){var i=new S,n=this;return e?(x(e.to,function(o){e.from[o]===void 0&&(e.from[o]=n._normalizeValue(t.css(o)))}),e.to[Xo]&&(e.from[Xo]=n._parseTransform(e.from[Xo]),e.to[Xo]=n._parseTransform(e.to[Xo])),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:H2(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Yn(e.frameAnimation.animationFrameId),i.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}var o=v({},this.currentValue);o[Xo]&&(o[Xo]=Ke(o[Xo],function(r,a){if(a==="translate")return Qu(r);if(a==="scale")return"scale("+r+")";if(a.substr(0,a.length-1)==="rotate")return a+"("+r+"deg)"}).join(" ")),t.css(o)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(t,e)},e.delay)):n._startAnimation(t,e),i.promise()):i.reject().promise()},_startAnimation:function(t,e){_.off(t,Up),_.on(t,Up,function(){e.frameAnimation&&Yn(e.frameAnimation.animationFrameId)}),this._animationStep(t,e)},_parseTransform:function(t){var e={};return x(t.match(/\w+\d*\w*\([^)]*\)\s*/g),function(i,n){var o=N2(n),r=n.match(/scale\((.+?)\)/),a=n.match(/(rotate.)\((.+)deg\)/);o&&(e.translate=o),r&&r[1]&&(e.scale=parseFloat(r[1])),a&&a[1]&&(e[a[1]]=parseFloat(a[2]))}),e},stop:function(t,e,i){var n=e&&e.frameAnimation;n&&(Yn(n.animationFrameId),clearTimeout(n.delayTimeout),i&&n.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var i=e&&e.frameAnimation;if(i){var n=new Date().valueOf();if(n>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,n-i.startTime),i.draw();var o=this;i.animationFrameId=zs(function(){o._animationStep(t,e)})}},_calcStepValue:function(t,e){return function i(n,o){var r=Array.isArray(o)?[]:{};return x(o,function(a,s){if(typeof s=="string"&&parseFloat(s)===!1)return!0;r[a]=typeof s=="object"?i(n[a],s):function(l){var d=e/t.duration,u=e,c=1*n[l],p=o[l]-n[l],g=t.duration;return W2(t.easing)(d,u,c,p,g)}(a)}),r}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t);return e===!1?t:e}},Hse={initAnimation:function(){},animate:function(){return new S().resolve().promise()},stop:D,isSynchronous:!0},Wse=function(t){t=t||{};var e={transition:I_()?Vse:mH,frame:mH,noAnimation:Hse},i=t.strategy||"transition";return t.type==="css"&&!I_()&&(i="noAnimation"),e[i]},_H=function(t,e,i,n){x(["from","to"],function(){if(!i(t[this]))throw me.Error("E0010",e,this,n)})},yH=function(t,e){return _H(t,e,function(i){return q(i)},"a plain object")},Gse=function(t,e){return _H(t,e,function(i){return typeof i=="string"},"a string")},zse={setup:function(){}},Use={validateConfig:function(t){Gse(t,"css")},setup:function(){}},jse={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},SE={validateConfig:function(t){yH(t,"slide")},setup:function(t,e){var i=fi(t);if(e.type!=="slide"){var n=e.type==="slideIn"?e.from:e.to;n.position=v({of:vH},jse[e.direction]),wE(t,n)}this._setUpConfig(i,e.from),this._setUpConfig(i,e.to),D_(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var i={left:e.left,top:e.top};delete e.left,delete e.top;var n=this._getRelativeValue(i.left);n!==void 0?i.left=n+t.left:e.left=0,n=this._getRelativeValue(i.top),n!==void 0?i.top=n+t.top:e.top=0,e[Xo]=Qu({x:i.left,y:i.top})},_getRelativeValue:function(t){var e;if(typeof t=="string"&&(e=Lse.exec(t)))return parseInt(e[1]+"1")*e[2]}},bE={setup:function(t,e){var i,n,o=e.from,r=e.to,a=e.type==="fadeOut"?1:0,s=e.type==="fadeOut"?0:1,l=q(o)?String((i=o.opacity)!==null&&i!==void 0?i:a):String(o),d=q(r)?String((n=r.opacity)!==null&&n!==void 0?n:s):String(r);switch(e.skipElementInitialStyles||(l=t.css("opacity")),e.type){case"fadeIn":d=1;break;case"fadeOut":d=0}e.from={visibility:"visible",opacity:l},e.to={opacity:d}}},$se={validateConfig:function(t){yH(t,"pop")},setup:function(t,e){var i=e.from,n=e.to,o="opacity"in i?i.opacity:t.css("opacity"),r="opacity"in n?n.opacity:1,a="scale"in i?i.scale:0,s="scale"in n?n.scale:1;e.from={opacity:o};var l=Hp(t);e.from[Xo]=this._getCssTransform(l,a),e.to={opacity:r},e.to[Xo]=this._getCssTransform(l,s)},_getCssTransform:function(t,e){return Qu(t)+"scale("+e+")"}},xH={custom:zse,slide:SE,slideIn:SE,slideOut:SE,fade:bE,fadeIn:bE,fadeOut:bE,pop:$se,css:Use},Kse=function(t){var e=xH[t.type];if(!e)throw me.Error("E0011",t.type);return e},qse={type:"custom",from:{},to:{},duration:400,start:D,complete:D,easing:"ease",delay:0},Yse={duration:400,easing:"ease",delay:0};function Qse(){var t=this.element,e=this.config;if(wE(t,e.from),wE(t,e.to),this.configurator.setup(t,e),t.data(jp,this),$p.off&&(e.duration=0,e.delay=0),this.strategy.initAnimation(t,e),e.start){var i=V(t);e.start.apply(this,[i,e])}}var Jse=function(t){var e=t.element,i=t.config;if(e.removeData(jp),i.complete){var n=V(e);i.complete.apply(this,[n,i])}t.deferred.resolveWith(this,[e,i])},Xse=function(){var t=this,e=t.element,i=t.config;return t.isStarted=!0,t.strategy.animate(e,i).done(function(){Jse(t)}).fail(function(){t.deferred.rejectWith(this,[e,i])})},Zse=function(t){var e=this.element,i=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,i,t)},DE=F(Gt,"dxFXStartAnimation"),ele=function(t){_.off(t.element,DE),_.on(t.element,DE,function(){$p.stop(t.element)}),t.deferred.always(function(){_.off(t.element,DE)})},CH=function(t,e){var i=e.type==="css"?Yse:qse,n=v(!0,{},i,e),o=Kse(n),r=Wse(n),a={element:h(t),config:n,configurator:o,strategy:r,isSynchronous:r.isSynchronous,setup:Qse,start:Xse,stop:Zse,deferred:new S};return T(o.validateConfig)&&o.validateConfig(n),ele(a),a},tle=function(t,e){var i=h(t);if(!i.length)return new S().resolve().promise();var n=CH(i,e);return ile(i,n),n.deferred.promise()};function ile(t,e){var i=IE(t);nle(t,i),i.push(e),M_(t)||FE(t,i)}function IE(t){return t.data(OE)||[]}function nle(t,e){t.data(OE,e)}var SH=function(t){t.removeData(OE)};function M_(t){return!!t.data(jp)}function FE(t,e){if(e=IE(t),!!e.length){var i=e.shift();e.length===0&&SH(t),ole(i).done(function(){M_(t)||FE(t)})}}function ole(t){return t.setup(),$p.off||t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()}),t.deferred.promise()}function wE(t,e){if(!(!e||!e.position)){var i=h(vH),n=0,o=0,r=Ei.calculate(t,e.position),a=t.offset(),s=t.position();s.top>a.top&&(o=i.scrollTop()),s.left>a.left&&(n=i.scrollLeft()),v(e,{left:r.h.location-a.left+s.left-n,top:r.v.location-a.top+s.top-o}),delete e.position}}function EE(t,e){x(e,function(i,n){try{t.css(i,T(n)?n():n)}catch{}})}var rle=function(t,e){var i=h(t),n=IE(i);x(n,function(r,a){a.config.delay=0,a.config.duration=0,a.isSynchronous=!0}),M_(i)||FE(i,n);var o=i.data(jp);o&&o.stop(e),i.removeData(jp),SH(i)},$p={off:!1,animationTypes:xH,animate:tle,createAnimation:CH,isAnimating:M_,stop:rle,_simulatedTransitionEndDelay:100},et=$p;var TE=new ks;var ME="dxComponents",ale="dxPrivateComponent",A_=new WeakMap,sle=0,Us=function(t,e){if(f(e)){A_.set(t,e);return}if(!A_.has(t)){var i=ale+sle++;return A_.set(t,i),i}return A_.get(t)};function R_(t,e,i){var n=Ve(t.get(0)),o=Us(e.constructor);n[o]=e,i&&_.one(t,Gt,function(){i.call(e)}),n[ME]||(n[ME]=[]),n[ME].push(o)}function B_(t,e){var i=Us(e);return Ve(t.get(0),i)}var lle=function(t,e,i){i?e[t]=i:i=e,Us(i,t),TE.fire(t,i)},dle=function(t,e){h.fn[t]=function(i){var n=typeof i=="string",o;if(n){var r=i,a=[].slice.call(arguments).slice(1);this.each(function(){var s=e.getInstance(this);if(!s)throw me.Error("E0009",t);var l=s[r],d=l.apply(s,a);o===void 0&&(o=d)})}else this.each(function(){var s=e.getInstance(this);s?s.option(i):new e(this,i)}),o=this;return o}};TE.add(dle);var K=lle;var AE=G(),ule=t=>{if(t.getRootNode){var e=t.getRootNode().host;if(!N(e))return e}},Do=()=>{var t=I.getActiveElement();if(t&&t!==I.getBody()){var e;(e=t.blur)===null||e===void 0||e.call(t)}},bH=()=>{var t=AE.getSelection();if(t&&t.type!=="Caret"){if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch{}}},DH=(t,e)=>{var i=h(t),n=h(e);if(i[0]===n[0])return i[0];for(var o=i.parents(),r=n.parents(),a=Math.min(o.length,r.length),s=-a;s<0;s++)if(o.get(s)===r.get(s))return o.get(s)};var td=t=>{var e=f(t)&&(t.nodeType||ii(t))?h(t):h("<div>").html(t).contents();return e.length===1&&(e.is("script")?e=td(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},Kp=(t,e)=>{var i=t.originalEvent&&t.originalEvent.clipboardData||AE.clipboardData;if(!e)return i&&i.getData("Text");i&&i.setData("Text",e)},Rn=(t,e)=>e?Je(t)?Rn(t.document,e):t.contains(e)||Rn(t,ule(e)):!1,k_=(t,e,i)=>{var n=AE.getComputedStyle(h(t).get(0)),o=i&&i.includePaddings;return h("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:o?n.paddingTop:"",paddingRight:o?n.paddingRight:"",paddingBottom:o?n.paddingBottom:"",paddingLeft:o?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},cle=(t,e)=>(e&&I.insertElement(t.parentNode,e,t),t),wH=(t,e)=>{if(e&&e[0])return e.is(t)?t:(x(e,(i,n)=>{cle(t[0],n)}),t.remove(),e)},js=t=>{var e=t?.get(0),i=e?.getRootNode().host;return!!h(i||e).closest(G().document).length};var RE=function(t){return function(e){for(var i=h(e||"body"),n=i.filter(".dx-visibility-change-handler").add(i.find(".dx-visibility-change-handler")),o=0;o<n.length;o++)_.triggerHandler(n[o],t)}},Xu=RE("dxshown"),EH=RE("dxhiding"),pn=RE("dxresize");var hle=de({syncStrategy:!0}),gn=class{render(e){e=e||{};var i=e.onRendered;delete e.onRendered;var n;return e.renovated&&e.transclude&&this._element?n=h("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),hle.fire(n,e.container),i&&i(),n}_ensureResultInContainer(e,i){if(i){var n=h(i),o=Rn(n.get(0),e.get(0));if(n.append(e),!o){var r=I.getBody().contains(n.get(0));r&&Xu(e)}}}_renderCore(){throw me.Error("E0001")}};var ple=function(t,e,i,n,o){var r,a=((s,l,d)=>l(()=>s,d))(t,e,function(s){if(r&&r(),Rs(s)){o(s);return}r=function(l,d,u,c,p){var g={},m=u.slice(),y=u.map(function(C){var b=c[C];return d(b?()=>b(l):()=>l[C],function(O){if(g[C]=O,m.length){var k=m.indexOf(C);k>=0&&m.splice(k,1)}m.length||p(g)})});return function(){y.forEach(C=>C())}}(s,e,i,n,o)});return function(){r&&r(),a&&a()}},Bi=class extends gn{constructor(e,i,n,o){super(),this._render=e,this._fields=i,this._fieldsMap=o||{},this._watchMethod=n}_renderCore(e){var i=h(e.container),n=ple(e.model,this._watchMethod,this._fields,this._fieldsMap,o=>{i.empty(),this._render(i,o,e.model)});return _.on(i,Gt,n),i.contents()}};var qp="dx-icon",gle="dx-svg-icon",Ea=t=>!t||typeof t!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":/^\s?([\w-_:]\s?)+$/.test(t)?"fontIcon":!1,en=t=>{switch(Ea(t)){case"image":return h("<img>").attr("src",t).addClass(qp);case"fontIcon":return h("<i>").addClass("".concat(qp," ").concat(t));case"dxIcon":return h("<i>").addClass("".concat(qp," ").concat(qp,"-").concat(t));case"svg":return h("<i>").addClass("".concat(qp," ").concat(gle)).append(t);default:return null}};function OH(t){return t&&[t.target,t.delegateTarget,t.relatedTarget,t.currentTarget].filter(e=>!!e)}var IH=(t,e)=>{_.one(OH(t),Gt,e)},FH=(t,e)=>{_.off(OH(t),Gt,e)};var TH="dxPointerEvents",mle=le.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=F(e,TH),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return t==="dxpointerenter"||t==="dxpointerleave"},_handler:function(t){var e,i=this._getDelegateTarget(t),n={type:this._eventName,pointerType:t.pointerType||Ju(t),originalEvent:t,delegateTarget:i,timeStamp:be.mozilla?new Date().getTime():t.timeStamp},o=t.originalEvent;if(o!=null&&(e=o.target)!==null&&e!==void 0&&e.shadowRoot){var r,a,s=(r=o.path)!==null&&r!==void 0?r:(a=o.composedPath)===null||a===void 0?void 0:a.call(o);n.target=s[0]}return this._fireEvent(n)},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return Zi(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:I.getDocument(),this._setSelector(e);var i=this;_.on(t,this._originalEvents,this._getSelector(),function(n){i._handler(n)})}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:I.getDocument(),this._originalEvents!=="."+TH&&_.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:I.getDocument(),_.off(t,this._originalEvents)}}),Zu=mle;var vle={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},MH=function(t){var e=[];return x(t.touches,function(i,n){e.push(v({pointerId:n.identifier},n))}),{pointers:e,pointerId:t.changedTouches[0].identifier}},_le=function(t){return R.real().platform==="ios"&&(t==="dxpointerdown"||t==="dxpointerup")},BE=Zu.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(_le(this._eventName)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(v(MH(t.originalEvent),t))}});BE.map=vle;BE.normalize=MH;var Yp=BE;var P_=function(t,e){Xt.add(function(){t.split(" ").forEach(function(i){I.listen(I.getDocument(),i,e,!0)})})},yle=function(t,e,i){i=i||function(){};var n=[],o=function(a){var s=-1;return x(n,function(l,d){return e(a,d)?(s=l,!1):!0}),s},r=function(a){var s=o(a);s>-1&&n.splice(s,1)};P_(t.dxpointerdown,function(a){o(a)===-1&&(i(a),n.push(a))}),P_(t.dxpointermove,function(a){n[o(a)]=a}),P_(t.dxpointerup,r),P_(t.dxpointercancel,r),this.pointers=function(){return n},this.reset=function(){n=[]}},AH=yle;var BH={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},kH=function(t){return t.pointerId=1,{pointers:kE.pointers(),pointerId:1}},kE,RH=!1,PH=function(){RH||(kE=new AH(BH,function(){return!0}),RH=!0)},Qp=Zu.inherit({ctor:function(){this.callBase.apply(this,arguments),PH()},_fireEvent:function(t){return this.callBase(v(kH(t.originalEvent),t))}});Qp.map=BH;Qp.normalize=kH;Qp.activate=PH;Qp.resetObserver=function(){kE.reset()};var id=Qp;var xle={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},NH=!1,Cle=function(){NH||(id.activate(),NH=!0)},PE=Zu.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),Cle()},_handler:function(t){var e=bo(t);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(t)}},_fireEvent:function(t){var e=bo(t.originalEvent)?id.normalize:Yp.normalize;return this.callBase(v(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});PE.map=xle;PE.resetObserver=id.resetObserver;var NE=PE;var Sle=(t,e)=>{var{tablet:i,phone:n}=e,o=Dle();return o||(t.touch&&!(i||n)?NE:t.touch?Yp:id)},LH=Sle(pE,R.real());x(LH.map,(t,e)=>{Oi(t,new LH(t,e))});var ble={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};function Dle(){var t=Fe().pointerEventStrategy;return{"mouse-and-touch":NE,touch:Yp,mouse:id}[t]}var ae=ble;var wle=le.inherit({ctor:function(t){this._$element=h(t),this._cancelCallback=de(),this._acceptCallback=de()},getElement:function(){return this._$element},validate:function(t){return!li(t)},validatePointers:function(t){return fH(t)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){v(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:D,move:D,end:D,cancel:D,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,i){var n=v({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},i);return e=Zi(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?h(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:D}),$s=wle;var Ks="dxmousewheel",VH="dxWheel",Ele="wheel",HH=0,Ole=30,LE={setup:function(t){var e=h(t);_.on(e,F(Ele,VH),LE._wheelHandler.bind(LE))},teardown:function(t){_.off(t,".".concat(VH))},_wheelHandler:function(t){var{deltaMode:e,deltaY:i,deltaX:n,deltaZ:o}=t.originalEvent;Zi({type:Ks,originalEvent:t,delta:this._normalizeDelta(i,e),deltaX:n,deltaY:i,deltaZ:o,deltaMode:e,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HH;return e===HH?-t:-Ole*t}};Oi(Ks,LE);var N_="dxEventManager",Jp="dxEmitter",Ile=le.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){Xt.add(function(){var t=I.getDocument();_.subscribeGlobal(t,F(ae.down,N_),this._pointerDownHandler.bind(this)),_.subscribeGlobal(t,F(ae.move,N_),this._pointerMoveHandler.bind(this)),_.subscribeGlobal(t,F([ae.up,ae.cancel].join(" "),N_),this._pointerUpHandler.bind(this)),_.subscribeGlobal(t,F(Ks,N_),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],i=0;e.length>i;){var n=e[i];if(t(n)===!1)break;e[i]===n&&i++}},_applyToEmitters:function(t,e){this._eachEmitter(function(i){i[t].call(i,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){bo(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){this._isSetChanged(t)&&(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),i=this._emittersSet||[],n=e.length!==i.length;return x(e,function(o,r){return n=n||i[o]!==r,!n}),this._emittersSet=e,n},_closestEmitter:function(t){var e=this,i=[],n=h(t.target);function o(a,s){s&&s.validatePointers(t)&&s.validate(t)&&(s.addCancelCallback(e._proxiedCancelHandler),s.addAcceptCallback(e._proxiedAcceptHandler),i.push(s))}for(;n.length;){var r=Ve(n.get(0),Jp)||[];x(r,o),n=n.parent()}return i},_acceptHandler:function(t,e){var i=this;this._eachEmitter(function(n){n!==t&&i._cancelEmitter(n,e)})},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var i=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var n=i.indexOf(t);n>-1&&i.splice(n,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){this._allowInterruptionByMouseWheel()&&(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter(function(e){return t=e.allowInterruptionByMouseWheel()&&t,t}),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter(function(r){if(r.gesture){var a=r.getDirection(t);if(a!=="horizontal"&&!t.shiftKey||a!=="vertical"&&t.shiftKey)return e=r,!1}}),!!e){var i=e.getDirection(t),n=i==="both"&&!t.shiftKey||i==="vertical",o=n?"pageY":"pageX";t[o]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter(function(i){e=e||i.getElement().is(t)}),e}}),WH=new Ile,VE="dxEmitterSubscription",Fle=function(t){var e=t.emitter,i=t.events[0],n=t.events;x(n,function(o,r){Oi(r,{noBubble:!t.bubble,setup:function(a){var s=Ve(a,VE)||{},l=Ve(a,Jp)||{},d=l[i]||new e(a);s[r]=!0,l[i]=d,Ve(a,Jp,l),Ve(a,VE,s)},add:function(a,s){var l=Ve(a,Jp),d=l[i];d.configure(v({delegateSelector:s.selector},s.data),s.type)},teardown:function(a){var s=Ve(a,VE),l=Ve(a,Jp),d=l[i];delete s[r];var u=!0;x(n,function(c,p){return u=u&&!s[p],u}),u&&(WH.isActive(a)&&WH.resetEmitter(d),d&&d.dispose(),delete l[i])}})})},wo=Fle;var se="dxclick";var HE=null,Xp=null,GH=()=>{Xp=null},zH=function(t){var e=t.originalEvent,i=Xp===e||e&&e.DXCLICK_FIRED,n=!t.which||t.which===1;n&&!HE&&!i&&(e&&(e.DXCLICK_FIRED=!0),FH(Xp,GH),Xp=e,IH(Xp,GH),Zi({type:se,originalEvent:t}))},Tle=$s.inherit({ctor:function(t){this.callBase(t),_.on(this.getElement(),"click",zH)},start:function(t){HE=null},cancel:function(){HE=!0},dispose:function(){_.off(this.getElement(),"click",zH)}});(function(){var t=R.real().generic;if(!t){var e=null,i=!1,n=I.getDocument();_.subscribeGlobal(n,F(ae.down,"NATIVE_CLICK_FIXER"),function(o){e=o.target,i=o.isDefaultPrevented()}),_.subscribeGlobal(n,F("click","NATIVE_CLICK_FIXER"),function(o){var r=function(s){var l,d=s.originalEvent;if(d!=null&&(l=d.target)!==null&&l!==void 0&&l.shadowRoot){var u,c,p=(u=d.path)!==null&&u!==void 0?u:(c=d.composedPath)===null||c===void 0?void 0:c.call(d);return h(p[0])}return h(s.target)}(o);!i&&e&&!r.is(e)&&!h(e).is("label")&&(a=r,h(a).is("input, textarea, select, button ,:focus, :focus *"))&&Do();var a;e=null,i=!1})}})();wo({emitter:Tle,bubble:!0,events:[se]});var qs=class extends gn{constructor(e){super(),this.name=e}};var Bn=class extends gn{_renderCore(){return h()}};var UH={},L_;function jH(t,e){UH[t]=e}function $H(t){if(N(t)){if(L_=UH[t],!L_)throw me.Error("E0020",t)}else L_=t}function WE(){return L_}jH("default",{compile:t=>td(t),render:(t,e,i)=>t.clone()});$H("default");var V_=class extends gn{constructor(e){super(),this._element=e}_renderCore(e){var i=e.transclude;return!i&&!this._compiledTemplate&&(this._compiledTemplate=WE().compile(this._element)),h("<div>").append(i?this._element:WE().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return h(this._element).clone()}};function KH(t){return t.reduce((e,i)=>{var n,o=((n=e.get(i))!==null&&n!==void 0?n:0)+1;return e.set(i,o),e},new Map)}var qH=function(t){return Array.isArray(t)?t:[t]},YH=function(t){return[...new Set(t)]},QH=function(t,e){var i=KH(e);return t.filter(n=>{var o=i.get(n);return o&&i.set(n,o-1),o})},Zp=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=KH(e);return t.filter(n=>{var o=i.get(n);return o&&i.set(n,o-1),!o})},nd=function(t,e,i,n){var o={},{useLegacyVisibleIndex:r}=Fe(),a=0,s=l=>!f(l[e])&&(!n||n(l));t.forEach(l=>{var d=l[e];d>=0?(o[d]=o[d]||[],l===i?o[d].unshift(l):o[d].push(l)):l[e]=void 0}),r||t.forEach(l=>{if(s(l)){for(;o[a];)a++;o[a]=[l],a++}}),a=0,wp(o,function(l,d){d.forEach(u=>{l>=0&&(u[e]=a++)})}),r&&t.forEach(l=>{s(l)&&(l[e]=a++)})},JH=(t,e)=>t.reduce((i,n)=>{var o,r=e(n);return i[r]=(o=i[r])!==null&&o!==void 0?o:[],i[r].push(n),i},{});var H_=(t,e)=>{var i=h(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(i).map(n=>{var o=h(n).attr("data-options")||"";return{element:n,options:Fe().optionsParser(o)[e]}}).filter(n=>!!n.options)},XH=t=>{var e=JH(t,n=>n.options.name);if(e[void 0])throw me.Error("E0023");var i={};return Object.keys(e).forEach(n=>{var o,r=(o=s_(R.current(),e[n],a=>a.options)[0])===null||o===void 0?void 0:o.element;r&&(i[n]=r)}),i},ZH=t=>{var e=t.render.bind(t);return v({},t,{render(i){var n=e(i);return i&&i.onRendered&&i.onRendered(),n}})},Ale=t=>{var e=t.render.bind(t);return v({},t,{render(i){var n=h(i.container);return e(E({},i,{container:V(n)}))}})},eW=t=>{var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e},tW=t=>typeof t=="string"?td(t):t,GE=t=>ii(t)&&t[0]||t,iW=t=>new V_(t),Rle=(t,e,i,n)=>{var o=null;return(!n||n.indexOf(t)===-1)&&(o=e[t],o&&!(o instanceof gn)&&(T(o.render)&&(o=Ale(o)),i||(o=ZH(o)))),o},zE=(t,e,i,n,o,r)=>t==null?new Bn:t instanceof qs?r[t.name]:t instanceof gn?t:T(t.render)&&!ii(t)?n?t:ZH(t):t.nodeType||ii(t)?e(h(t)):Rle(t,i,n,o)||r[t]||e(t);var Zo=(()=>{class t{constructor(i,n){n=n||{},this._action=i,this._context=n.context||G(),this._beforeExecute=n.beforeExecute,this._afterExecute=n.afterExecute,this._component=n.component,this._validatingTargetName=n.validatingTargetName;var o=this._excludeValidators={};if(n.excludeValidators)for(var r=0;r<n.excludeValidators.length;r++)o[n.excludeValidators[r]]=!0}execute(){var i={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},n=this._beforeExecute,o=this._afterExecute,r=i.args[0]||{};if(this._validateAction(i)&&(n?.call(this._context,i),!i.cancel)){var a=this._executeAction(i);if(!r.cancel)return o?.call(this._context,i),a}}_validateAction(i){var n=this._excludeValidators,{executors:o}=t;for(var r in o)if(!n[r]){var a,s=o[r];if((a=s.validate)===null||a===void 0||a.call(s,i),i.cancel)return!1}return!0}_executeAction(i){var n,{executors:o}=t;for(var r in o){var a,s=o[r];if((a=s.execute)===null||a===void 0||a.call(s,i),i.handled){n=i.result;break}}return n}static registerExecutor(i,n){if(q(i)){x(i,t.registerExecutor);return}t.executors[i]=n}static unregisterExecutor(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];x(n,function(){delete t.executors[this]})}}return t.executors={},t})();var nW=t=>e=>{if(e.args.length){var i=e.args[0],n=i[e.validatingTargetName]||i.element;n&&t(h(n))&&(e.cancel=!0)}};Zo.registerExecutor({disabled:{validate:nW(t=>t.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:nW(t=>t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:t=>{t.action||(t.result=void 0,t.handled=!0)}},func:{execute:t=>{T(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}});var Ble=function(t,e){return 1/t===1/e},oW=function(t,e){if(t=Wt(t,!0),e=Wt(e,!0),t&&e&&ii(t)&&ii(e))return e.is(t);var i=t!==t,n=e!==e;return i&&n?!0:t===0&&e===0?Ble(t,e):t===null||typeof t!="object"||I.isElementNode(t)?t===e:!1};var UE={},er=t=>{var e=R.current();return t.reduce((i,n)=>{var{device:o,options:r}=n,a=o||{},s=T(a)?a(e):kle(e,a);return s&&v(!0,i,r),i},{})},rW=(t,e)=>typeof t!="string"?t:{[t]:e},kle=(t,e)=>Rt(e)||s_(t,[e]).length>0,jE=t=>t.substr(t.lastIndexOf(".")+1),$E=t=>t.substr(0,t.lastIndexOf(".")),aW=function(t,e){return UE[e]=UE[e]||pe(e),UE[e](t,{functionsAsIs:!0})},sW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t};var KE={},qE={},W_=class{constructor(e,i){this._options=e,this._optionsByReference=i,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,i){v(!0,e,i);for(var n in this._optionsByReference)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}_setPreparedValue(e,i,n,o){var r=this.get(this._options,e,!1);if(!oW(r,i)){var a=co(e);!o&&this._changingCallback(e,r,i),qE[e]=qE[e]||Hu(e),qE[e](this._options,i,{functionsAsIs:!0,merge:f(n)?n:!this._optionsByReference[e],unwrapObservables:a.length>1&&!!this._optionsByReference[a[0]]}),!o&&this._changedCallback(e,i,r)}}_prepareRelevantNames(e,i,n,o){if(q(n))for(var r in n)this._prepareRelevantNames(e,"".concat(i,".").concat(r),n[r]);this._namePreparedCallbacks(e,i,n,o)}get(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return KE[i]=KE[i]||pe(i),KE[i](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,i,n,o){e=rW(e,i);for(var r in e)this._prepareRelevantNames(e,r,e[r],o);for(var a in e)this._setPreparedValue(a,e[a],n,o)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=D,this._changedCallback=D}};var G_=class{constructor(e,i,n,o){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=i,this._deprecated=o,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new W_(e,n),this._optionManager.onRelevantNamesPrepared((r,a,s,l)=>this._setRelevantNames(r,a,s,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){var e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(var e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,er(e)}_notifyDeprecated(e){var i=this._deprecated[e];i&&this._deprecatedCallback(e,i)}_setRelevantNames(e,i,n,o){if(i){var r=this._normalizeName(i,o);r&&r!==i&&(this._setField(e,r,n),this._clearField(e,i))}}_setField(e,i,n){var o="",r=null;do o=o?".".concat(o):"",o=jE(i)+o,i=$E(i),r=i?this._optionManager.get(e,i,!1):e;while(!r);r[o]=n}_clearField(e,i){delete e[i];var n=$E(i),o=n?this._optionManager.get(e,n,!1):e;o&&delete o[jE(i)]}_normalizeName(e,i){if(this._deprecatedNames.length&&e){for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){var o=this._deprecated[e];if(o)return!i&&this._notifyDeprecated(e),o.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){var i=this._getByRules(e);this.silent(i)}dispose(){this._deprecatedCallback=D,this._startChangeCallback=D,this._endChangeCallback=D,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){var i=this.silent(e),n=this.initial(e),o=T(i)&&T(n);return o?i.toString()===n.toString():_e(i,n)}initial(e){return aW(this._initial,e)}option(e,i){var n=arguments.length<2&&gi(e)!=="object";if(n)return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,i)}finally{this._endChangeCallback()}}silent(e,i){var n=arguments.length<2&&gi(e)!=="object";if(n)return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,i,void 0,!0)}reset(e){if(e){var i=co(e),n=i.reduce((r,a)=>r?r[a]:this.initial(a),null),o=L(n)?E({},n):n;this._optionManager.set(e,o,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(i=>e===this._deprecated[i].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,i){var n=arguments.length<2;if(n)return this._cachedOptions[e];this._cachedOptions[e]=v(this._cachedOptions[e],i)}};var z_=class{constructor(){this._postponedOperations={}}add(e,i,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{var o=new S;this._postponedOperations[e]={fn:i,completePromise:o,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(var e in this._postponedOperations){var i=this._postponedOperations[e];f(i)&&(i.promises&&i.promises.length?A(...i.promises).done(i.fn).then(i.completePromise.resolve):i.fn().done(i.completePromise.resolve))}this._postponedOperations={}}};var lW=t=>t.charAt(2).toLowerCase()+t.substr(3),Ple=t=>t.indexOf("_",0)===0,YE=le.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(t){this._options.applyRules(t)},_convertRulesToOptions:t=>er(t),_isInitialOptionValue(t){return this._options.isInitial(t)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:i}=t;this.NAME=Us(this.constructor),this._eventsStrategy=xo.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||de(),this._disposingCallbacks=i||de(),this.postponedOperations=new z_,this._createOptions(t)},_createOptions(t){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new G_(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,i,n)=>this._initialized&&this._optionChanging(e,i,n)),this._options.onDeprecated((e,i)=>this._logDeprecatedOptionWarning(e,i)),this._options.onChanged((e,i,n)=>this._notifyOptionChanged(e,i,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions(t){this.option(t)},_init(){this._createOptionChangedAction(),this.on("disposing",t=>{this._disposingCallbacks.fireWith(this,[t])})},_logDeprecatedOptionWarning(t,e){var i=e.message||"Use the '".concat(e.alias,"' option instead");me.log("W0001",this.NAME,t,e.since,i)},_logDeprecatedComponentWarning(t,e){me.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:D,_notifyOptionChanged(t,e,i){if(this._initialized)for(var n=[t].concat(this._options.getAliasesByName(t)),o=0;o<n.length;o++){var r=n[o],a={name:co(r)[0],fullName:r,value:e,previousValue:i};Ple(r)||(this._optionChangedCallbacks.fireWith(this,[v(this._defaultActionArgs(),a)]),this._optionChangedAction(v({},a))),!this._disposed&&this._cancelOptionChange!==r&&this._optionChanged(a)}},initialOption(t){return this._options.initial(t)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(t,e){var i;return n=>(f(n)||(n={}),q(n)||(n={actionValue:n}),i=i||new Zo(t,v({},e,this._defaultActionConfig())),i.execute.call(i,v(n,this._defaultActionArgs())))},_createActionByOption(t,e){var i=this,n,o,r;e=v({},e);var a=function(){if(!o){if(e=e||{},typeof t!="string")throw me.Error("E0008");t.indexOf("on")===0&&(o=lW(t)),r=i.option(t)}if(!(!n&&!r&&!e.beforeExecute&&!e.afterExecute&&!i._eventsStrategy.hasEvent(o))){if(!n){var l=e.beforeExecute;e.beforeExecute=function(){for(var m=arguments.length,y=new Array(m),C=0;C<m;C++)y[C]=arguments[C];l&&l.apply(i,y),i._eventsStrategy.fireEvent(o,y[0].args)},n=i._createAction(r,e)}for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];if(Fe().wrapActionsBeforeExecute){var p=i.option("beforeActionExecute")||D,g=p(i,n,e)||n;return g.apply(i,u)}return n.apply(i,u)}};if(Fe().wrapActionsBeforeExecute)return a;var s=this.option("onActionCreated")||D;return s(this,a,e)||a},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(lW(t))},isOptionDeprecated(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue(t,e){var i=this.option(t);return T(i)?i.bind(e)():i},option(){return this._options.option(...arguments)},resetOption(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}});var Eo=class extends gn{constructor(e){super(),this._render=e}_renderCore(e){return td(this._render(e))}};var Nle=3,Lle="template",Vle="dxTemplate",Hle="dx-template-wrapper",Wle=new Eo(t=>{var{model:e,parent:i}=t,n=e.widget;if(!n)return h();var o=h("<div>"),r=e.options||{};return i?i._createComponent(o,n,r):o[n](r),o}),eg=class{constructor(e,i){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=i||Lle,this._createElement=e||iW,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.skipImmediate||i(e()),D},templates:{"dx-polymorph-widget":Wle},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=v({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){var i=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:i,anonymousTemplateMeta:n}}_extractTemplates(e){var i=H_(e,Vle),n=XH(i);return i.forEach(o=>{var{element:r,options:{name:a}}=o;r===n[a]?h(r).addClass(Hle).detach():h(r).remove()}),Object.keys(n).map(o=>({name:o,template:this._createTemplate(n[o])}))}_extractAnonymousTemplate(e){var i=e.contents().detach(),n=i.filter((o,r)=>{var a=r.nodeType===Nle,s=h(r).text().trim().length<1;return!(a&&s)});return n.length>0?{template:this._createTemplate(i),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){var i=this._tempTemplates.filter(o=>o.source===GE(e))[0];if(i)return i.template;var n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:GE(e)}),n}_createTemplate(e){return this._createElement(tW(e))}getTemplate(e,i,n,o){var{isAsyncTemplate:r,skipTemplates:a}=n;return T(e)?new Eo(s=>{var l=e.apply(o,eW(s));if(!f(l))return new Bn;var d=!1,u=zE(l,p=>p.nodeType||ii(p)&&!h(p).is("script")?new Eo(()=>p):(d=!0,this._createTemplate(p)),i,r,a,this._defaultTemplates),c=u.render(s);return d&&u.dispose&&u.dispose(),c}):zE(e,this._createTemplateIfNeeded,i,r,a,this._defaultTemplates)}};var dW="compositionstart",Gle="compositionend",zle="keydown",QE="KeyboardProcessor",uW=t=>({keyName:Ae(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t}),cW=le.inherit({_keydown:F(zle,QE),_compositionStart:F(dW,QE),_compositionEnd:F(Gle,QE),ctor:function(t){t=t||{},t.element&&(this._element=h(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=e=>{var i=h(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!i.includes(e.target),o=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,o||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),_.on(this._element,this._keydown,this._processFunction),_.on(this._element,this._compositionStart,this._toggleProcessingWithContext),_.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(_.off(this._element,this._keydown,this._processFunction),_.off(this._element,this._compositionStart,this._toggleProcessingWithContext),_.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler(uW(t))},toggleProcessing:function(t){var{type:e}=t;this._isComposing=e===dW,this._isComposingJustFinished=!this._isComposing}});cW.createKeyDownOptions=uW;var U_=cW;function ni(t,e){return e?F(t,e):t}function JE(t,e){return typeof t=="function"?t(e):t.execute(e)}var XE={on:(t,e,i,n)=>{var{selector:o,showTimeout:r,hideTimeout:a,namespace:s}=n;_.on(t,ni("dxactive",s),o,{timeout:r},l=>JE(e,{event:l,element:l.currentTarget})),_.on(t,ni("dxinactive",s),o,{timeout:a},l=>JE(i,{event:l,element:l.currentTarget}))},off:(t,e)=>{var{namespace:i,selector:n}=e;_.off(t,ni("dxactive",i),n),_.off(t,ni("dxinactive",i),n)}},ec={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_.on(t,ni("dxresize",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_.off(t,ni("dxresize",e))}},ZE={on:(t,e,i,n)=>{var{selector:o,namespace:r}=n;_.on(t,ni("dxhoverend",r),o,a=>i(a)),_.on(t,ni("dxhoverstart",r),o,a=>JE(e,{element:a.target,event:a}))},off:(t,e)=>{var{selector:i,namespace:n}=e;_.off(t,ni("dxhoverstart",n),i),_.off(t,ni("dxhoverend",n),i)}},tc={on:(t,e,i,n)=>{var{namespace:o}=n;_.on(t,ni("dxhiding",o),i),_.on(t,ni("dxshown",o),e)},off:(t,e)=>{var{namespace:i}=e;_.off(t,ni("dxhiding",i)),_.off(t,ni("dxshown",i))}},ic={on:(t,e,i,n)=>{var{namespace:o}=n;_.on(t,ni("focusin",o),e),_.on(t,ni("focusout",o),i)},off:(t,e)=>{var{namespace:i}=e;_.off(t,ni("focusin",i)),_.off(t,ni("focusout",i))},trigger:t=>_.trigger(t,"focus")},eO={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_.on(t,ni("dxclick",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_.off(t,ni("dxclick",e))}},tO={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_.on(t,ni("click",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_.off(t,ni("click",e))}},Ule=0,tg={},jle=()=>"keyboardProcessorId".concat(Ule++),Oo={on:(t,e,i)=>{var n=jle();return tg[n]=new U_({element:t,focusTarget:e,handler:i}),n},off:t=>{t&&tg[t]&&(tg[t].dispose(),delete tg[t])},_getProcessor:t=>tg[t]};var{abstract:j_}=YE,iO=YE.inherit({_getDefaultOptions(){return v(this.callBase(),{width:void 0,height:void 0,rtlEnabled:Fe().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?eg.createDefaultOptions():{})},ctor(t,e){this._customClass=null,this._createElement(t),R_(this._$element,this,this._dispose),this.callBase(e)},_createElement(t){this._$element=h(t)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(t){this.option("_ignoreFunctionValueDeprecation")||t.forEach(e=>{T(this.option(e))&&me.log("W0017",e)})},_visibilityChanged:j_,_dimensionChanged:j_,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue(t){var e=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t);return!e&&this.callBase(t)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);Qo.add(t)}},_isDimensionChangeSupported(){return this._dimensionChanged!==j_},_renderComponent(){this._initMarkup(),W()&&this._render()},_initMarkup(){var{rtlEnabled:t}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers(),UV(this.$element())},_renderElementAttributes(){var{elementAttr:t}=this.option()||{},e=v({},t),i=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(i),this._customClass=i},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var t=this.$element();t.addClass("dx-visibility-change-handler")}},_renderDimensions(){var t=this.$element(),e=t.get(0),i=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,i)&&t.css({width:i===null?"":i,height:n===null?"":n})},_isCssUpdateRequired:(t,e,i)=>!!(f(i)||f(e)||t.style.width||t.style.height),_attachDimensionChangeHandlers(){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");ec.off(t,{namespace:e}),ec.on(t,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),tc.off(t,{namespace:e}),tc.on(t,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){var t=this.$element();return t.is(":visible")},_checkVisibilityChanged(t){var e=this._isVisible();e&&(t==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):t==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==j_&&W()},_clean:D,_modelByElement(){var{modelByElement:t}=this.option(),e=this.$element();return t?t(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw me.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Qo.remove(this._windowResizeCallBack)},_toggleRTLDirection(t){var e=this.$element();e.toggleClass("dx-rtl",t)},_createComponent(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Yt(this._getSynchronizableOptionsForCreateComponent(),u=>!(u in i)),{integrationOptions:o}=this.option(),{nestedComponentOptions:r}=this.option();r=r||D;var a=v({integrationOptions:o},r(this));n.forEach(u=>a[u]=this.option(u)),this._extendConfig(i,a);var s=void 0;if(N(e)){var l=h(t)[e](i);s=l[e]("instance")}else t&&(s=e.getInstance(t),s?s.option(i):s=new e(t,i));if(s){var d=u=>{var{name:c,value:p}=u;n.includes(c)&&s.option(c,p)};this.on("optionChanged",d),s.on("disposing",()=>this.off("optionChanged",d))}return s},_extendConfig(t,e){x(e,(i,n)=>{!Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=n)})},_defaultActionConfig(){var t=this.$element(),e=this._modelByElement(t);return v(this.callBase(),{context:e})},_defaultActionArgs(){var t=this.$element(),e=this._modelByElement(t),i=this.element();return v(this.callBase(),{element:i,model:e})},_optionChanged(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes(t){for(var e=t.attributes,i=e.length-1;i>=0;i--){var n=e[i];if(n){var{name:o}=n;(!o.indexOf("aria-")||o.indexOf("dx-")!==-1||o==="role"||o==="style"||o==="tabindex")&&t.removeAttribute(o)}}},_removeClasses(t){t.className=t.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element(){return this._$element},element(){var t=this.$element();return V(t)},dispose(){var t=this.$element().get(0);Ls(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption(t){if(this.callBase(t),t==="width"||t==="height"){var e=this.initialOption(t);!f(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:t={}}=this.option(),{createTemplate:e}=t;this._templateManager=new eg(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:t,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),i=this.option("integrationOptions.templates.".concat(e.name));t.forEach(n=>{var{name:o,template:r}=n;this._options.silent("integrationOptions.templates.".concat(o),r)}),e.name&&!i&&(this._options.silent("integrationOptions.templates.".concat(e.name),e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(t){return this._getTemplate(this.option(t))},_getTemplate(t){var e=this.option("integrationOptions.templates"),i=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:i,skipTemplates:n},this)},_saveTemplate(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});iO.getInstance=function(t){return B_(h(t),this)};iO.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};var tn=iO;function $_(t,e,i){function n(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}t=n(t),e=n(e);var o=Math.max(t.length,e.length);isFinite(i)&&(o=Math.min(o,i));for(var r=0;r<o;r++){var a=parseInt(t[r]||0,10),s=parseInt(e[r]||0,10);if(a<s)return-1;if(a>s)return 1}return 0}var nO="dxactive",oO="dxinactive",$le=30,Kle=400,K_=le.inherit({ctor:function(t,e){this._timeout=t,this._fire=e},start:function(){var t=this;this._schedule(function(){t.force()})},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),tr,rO=$s.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new K_(0,D),this._inactive=new K_(0,D)},configure:function(t,e){switch(e){case nO:t.activeTimeout=t.timeout;break;case oO:t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(tr){var e=Rn(this.getElement().get(0),tr.getElement().get(0)),i=!tr._active.fired();if(e&&i){this._cancel();return}tr._inactive.force()}tr=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var e=this,i=this._getEmitterTarget(t),n=bo(t),o=R.isSimulator(),r=o||!n,a=Re(this.activeTimeout,$le),s=Re(this.inactiveTimeout,Kle);this._active=new K_(r?a:0,function(){e._fireEvent(nO,t,{target:i})}),this._inactive=new K_(r?s:0,function(){e._fireEvent(oO,t,{target:i}),tr=null})},cancel:function(t){this.end(t)},end:function(t){var e=t.type!==ae.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),tr===this&&(tr=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),tr=null,this._cancel(),this._inactive.force.bind(this._inactive)}});rO.lock=function(t){var e=tr?tr.lockInactive():D;t.done(e)};wo({emitter:rO,events:[nO,oO]});var hW=rO.lock;var pW="dxHoverStart",nc="dxhoverstart",qle=F(ae.enter,pW),gW="dxHoverEnd",Ys="dxhoverend",Yle=F(ae.leave,gW),fW=le.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){Ve(t,this._handlerArrayKeyPath,{})},add:function(t,e){var i=this,n=function(o){i._handler(o)};_.on(t,this._originalEventName,e.selector,n),Ve(t,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(t){wa(t)||R.isSimulator()||Zi({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var i=Ve(t,this._handlerArrayKeyPath)[e.guid];_.off(t,this._originalEventName,e.selector,i)},teardown:function(t){Ns(t,this._handlerArrayKeyPath)}}),Qle=fW.inherit({ctor:function(){this._eventNamespace=pW,this._eventName=nc,this._originalEventName=qle,this.callBase()},_handler:function(t){var e=t.pointers||[];e.length||this.callBase(t)}}),Jle=fW.inherit({ctor:function(){this._eventNamespace=gW,this._eventName=Ys,this._originalEventName=Yle,this.callBase()}});Oi(nc,new Qle);Oi(Ys,new Jle);function mW(t,e,i){t=t==="role"||t==="id"?t:"aria-".concat(t),e=f(e)?e.toString():null,i.attr(t,e)}var aO=tn.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return v(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=R.real(),e=t.platform,i=t.version;return e==="ios"&&$_(i,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var i=aO.getOptionsFromContainer(e);t&&t.option(i),this._options.cache(e.name,i)},_bindInnerWidgetOptions(t,e){var i=()=>this._options.silent(e,v({},t.option()));i(),t.on("optionChanged",i)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:t,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(t),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:t}=this.option();this.$element().attr("title",t||null)},_renderContent(){Et(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:D,_fireContentReadyAction:Br(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(t){this.$element().toggleClass("dx-state-invisible",!t)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var t=this._focusTarget(),{accessKey:e}=this.option();t.attr("accesskey",e)},_isFocusable(){var{focusStateEnabled:t,disabled:e}=this.option();return t&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(t){var e=h(this._focusTarget()).toArray();return e.includes(t)},_findActiveTarget(t){return t.find(this._activeStateUnit).not(".dx-state-disabled")},_getActiveElement(){var t=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(t):t},_renderFocusTarget(){var{tabIndex:t}=this.option();this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(t,!0),excludeValidators:["readOnly"]})({event:t})},_focusOutHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(t,!1),excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState(t,e){var{target:i}=t;this._isFocusTarget(i)&&this._toggleFocusClass(e,h(i))},_toggleFocusClass(t,e){var i=e&&e.length?e:this._focusTarget();i.toggleClass("dx-state-focused",t)},_hasFocusClass(t){var e=h(t||this._focusTarget());return e.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:t,onKeyboardHandled:e}=this.option(),i=this._getKeyboardListeners().length,n=!!e,o=t||i||n;o&&(this._keyboardListenerId=Oo.on(this._keyboardEventBindingTarget(),this._focusTarget(),r=>this._keyboardHandler(r)))},_keyboardHandler(t,e){if(!e){var{originalEvent:i,keyName:n,which:o}=t,r=this._supportedKeys(i),a=r[n]||r[o];if(a!==void 0){var s=a.bind(this),l=s(i,t);if(!l)return!1}}var d=this._getKeyboardListeners(),{onKeyboardHandled:u}=this.option();return d.forEach(c=>c&&c._keyboardHandler(t)),u&&u(t),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var t=this._focusTarget();t.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){Oo.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:t}=this.option(),e=this._activeStateUnit,i=this._eventBindingTarget();ZE.off(i,{selector:e,namespace:"UIFeedback"}),t&&ZE.on(i,new Zo(n=>{var{event:o,element:r}=n;this._hoverStartHandler(o),this.option("hoveredElement",h(r))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:t}=this.option(),e=this._activeStateUnit,i=this._eventBindingTarget();XE.off(i,{namespace:"UIFeedback",selector:e}),t&&XE.on(i,new Zo(n=>{var{event:o,element:r}=n;return this._toggleActiveState(h(r),!0,o)}),new Zo(n=>{var{event:o,element:r}=n;return this._toggleActiveState(h(r),!1,o)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){var t=this._focusEventTarget();ic.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var t=this._focusEventTarget();ic.on(t,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(e,i)=>h(i).is(Gp)})},_hoverStartHandler:D,_hoverEndHandler:D,_toggleActiveState(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(t,e){var{hoverStateEnabled:i,disabled:n,isActive:o}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),t&&i&&!n&&!o){var r=this._findHoverTarget(t);r&&r.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(t){this.$element().toggleClass("dx-state-disabled",!!t),this.setAria("disabled",t||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(t,e){if(this[t]){if(q(e[0])){x(e[0],(r,a)=>this._setWidgetOption(t,[r,a]));return}var i=e[0],n=e[1];e.length===1&&(n=this.option(i));var o=this["".concat(t,"OptionMap")];this[t].option(o?o(i):i,n)}},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"disabled":this._toggleDisabledState(i),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(i,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(i),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(i?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible(){var{visible:t}=this.option();return this.callBase()&&t},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(t){if(arguments.length===0)return this._isReady;this._isReady=t},setAria(){if(!q(arguments.length<=0?void 0:arguments[0]))mW(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();x(arguments.length<=0?void 0:arguments[0],(e,i)=>mW(e,i,t))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){ic.trigger(this._focusTarget())},registerKeyHandler(t,e){var i=this._supportedKeys();this._supportedKeys=()=>v(i,{[t]:e})}});aO.getOptionsFromContainer=t=>{var{name:e,fullName:i,value:n}=t,o={};if(e===i)o=n;else{var r=i.split(".").pop();o[r]=n}return o};var ct=aO;var Xle=Xt.add,sO="DEVEXTREME_XHR_ERROR_UNLOAD",vW=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2?!0:t[t.length-1]]},fn=function(t){return Array.isArray(t)||(t=[t]),Ke(t,function(e){var i={selector:T(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(i.compare=e.compare),i})},_W=function(){var t={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return Xle(function(){var i=G();I.listen(i,"beforeunload",function(){e=!0})}),function(i,n){return e?sO:i.status<400?function(o){var r=t[o];return r||o}(n):i.statusText}}(),ig={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},yW=function(){var t=0,e;return{obtain:function(){t===0&&(e=new S),t++},release:function(){t--,t<1&&e.resolve()},promise:function(){var i=t===0?new S().resolve():e;return i.promise()},reset:function(){t=0,e&&e.resolve()}}}();function xW(t){return/^(and|&&|&)$/i.test(t)}var Oa=function(t,e,i){if(Array.isArray(t)){for(var n=Ke(e,function(a,s){return s}),o,r=0;r<n.length;r++)if(o=n[r],!_e(e[o],i[o],{strict:!1}))return!1;return!0}return _e(e,i,{strict:!1})};var CW=function(t){return t[0]==="!"&&Array.isArray(t[1])},Zle=function(t){return t==="and"||t==="or"},SW=function(t){var e=t[0],i=t[1];return!!(Array.isArray(e)||T(e)&&(Array.isArray(i)||T(i)||Zle(i)))},Qs=function(){var t=new S;return t.resolve.apply(t,arguments).promise()},q_=function(){var t=new S;return t.reject.apply(t,arguments).promise()};function ede(t,e){var i;return function(){return i||(i=setTimeout(()=>{i=void 0,t.call(this)},T(e)?e():e)),i}}function bW(t,e){var i=[],n=ede(function(){t.call(this,i),i=[]},e);return function(o){return Array.isArray(o)&&i.push(...o),n.call(this,i)}}var yt=Lu(me.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),tde=null,oc=function(t){var e;(e=tde)===null||e===void 0||e(t)};function ide(t,e){for(var i,n=typeof e=="string"?e.split():e.slice();n.length;)if(i=n.shift(),i in t)return!0;return!1}function DW(t,e,i,n){var o,r;if(n){for(var a=0;a<e.length;a++)if(o=e[a].items||e[a].collapsedItems||[],r=DW(t,o||[],i,n-1),r)return r}else if(Ia(t,e,i)>=0)return e}function nde(t,e,i,n){return n?DW(t,e,i,n)||[]:e}function ode(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var i={},n=e.length,o=0;o<n;o++)i[JSON.stringify(t.keyOf(e[o]))]=e[o];e._dataByKeyMap=i,e._dataByKeyMapLength=n}}function rde(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}function ade(t,e){return t._dataByKeyMap?t._dataByKeyMap[JSON.stringify(e)]:!0}function wW(t,e,i){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=i,t._dataByKeyMapLength+=i?1:-1)}function EW(t,e,i){i=i||new WeakMap;var n=t?Object.create(Object.getPrototypeOf(t)):{};t&&i.set(t,n);var o=E({},t);Yi(n,o,!0,!0);for(var r in o){var a=o[r],s=e?.[r];L(a)&&!q(a)&&L(s)&&!i.has(a)&&(n[r]=EW(a,s,i))}for(var l in n){var d=n[l];L(d)&&i.has(d)&&(n[l]=i.get(d))}return n}function ir(t,e){var i=EW(t,e);return Yi(i,e,!0,!0)}function Io(t){var{keyInfo:e,data:i,changes:n,groupCount:o,useInsertIndex:r,immutable:a,disableCache:s,logError:l,skipCopying:d}=t,u=a===!0?[...i]:i;return n.forEach(c=>{var p=c.type==="insert"?u:nde(e,u,c.key,o);switch(!s&&ode(e,p),c.type){case"update":ng(e,p,c.key,c.data,!0,a,l);break;case"insert":og(e,p,c.data,r&&f(c.index)?c.index:-1,!0,l,d);break;case"remove":lO(e,p,c.key,!0,l)}}),u}function Y_(t,e,i){return t?e&&yt.log(i):q_(yt.Error(i))}function ng(t,e,i,n,o,r,a){var s,l=t.key();if(l){if(ide(n,l)&&!Oa(l,i,t.keyOf(n)))return Y_(o,a,"E4017");if(s=rde(e,i),!s){var d=Ia(t,e,i);if(d<0)return Y_(o,a,"E4009");if(s=e[d],r===!0&&f(s)){var u=ir(s,n);return e[d]=u,!o&&Qs(u,i)}}}else s=i;if(Yi(s,n,!0),!o)return Fe().useLegacyStoreResult?Qs(i,n):Qs(s,i)}function og(t,e,i,n,o,r,a){var s,l=t.key(),d=q(i)&&!a?v({},i):i;if(l){if(s=t.keyOf(d),s===void 0||typeof s=="object"&&Rt(s)){if(Array.isArray(l))throw yt.Error("E4007");s=d[l]=String(new Ee)}else if(e[Ia(t,e,s)]!==void 0)return Y_(o,r,"E4008")}else s=d;if(n>=0?e.splice(n,0,d):e.push(d),wW(e,s,d),!o)return Qs(Fe().useLegacyStoreResult?i:d,s)}function lO(t,e,i,n,o){var r=Ia(t,e,i);if(r>-1&&(e.splice(r,1),wW(e,i,null)),n){if(r<0)return Y_(n,o,"E4009")}else return Qs(i)}function Ia(t,e,i){var n=t.key();if(!ade(e,i))return-1;for(var o=0,r=e.length;o<r;o++)if(Oa(n,t.keyOf(e[o]),i))return o;return-1}var rg=le.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),hO=rg.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),Q_=rg.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),dO=Q_.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),sde=function(t,e,i){return N(t)&&N(e)&&(i!=null&&i.locale||i!=null&&i.collatorOptions)?new Intl.Collator(i?.locale||void 0,i?.collatorOptions||void 0).compare(t,e):(t=Wt(t,!1,i),e=Wt(e,!1,i),t===null&&e!==null?-1:t!==null&&e===null||t===void 0&&e!==void 0?1:t!==void 0&&e===void 0||t<e?-1:t>e?1:0)},uO=rg.inherit({ctor:function(t,e,i,n){this.langParams=t.langParams,t instanceof dO||(t=new dO(t,this._wrap),t.langParams=this.langParams),this.iter=t,this.rules=[{getter:e,desc:i,compare:n,langParams:this.langParams}]},thenBy:function(t,e,i){var n=new uO(this.sortedIter||this.iter,t,e,i);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(x(t.rules,function(){this.getter=pe(this.getter)}),t.sortedIter=new dO(new hO(this.iter.toArray().sort(function(e,i){return t._compare(e,i)})),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_getDefaultCompare:t=>(e,i)=>sde(e,i,t),_compare:function(t,e){var i=t.index,n=e.index;if(t=t.value,e=e.value,t===e)return i-n;for(var o=0,r=this.rules.length;o<r;o++){var a=this.rules[o],s=a.getter(t),l=a.getter(e),d=a.compare||this._getDefaultCompare(a.langParams),u=d(s,l);if(u)return a.desc?-u:u}return i-n}}),cO=function(){var t={},e=o=>Wt(o,!1,t),i=function(o){var r;return f(o)?(r=t)!==null&&r!==void 0&&r.locale?o.toLocaleString(t.locale):o.toString():""};function n(o,r,a){return function(s){s=e(o(s));var l=function(d){return d===""||d===0||d===!1}(r)?s===r:s==r;return a&&(l=!l),l}}return function(o,r){return t=r||{},T(o)?o:SW(o)?function(a){var s=[],l=!1,d=!1;return x(a,function(){if(Array.isArray(this)||T(this)){if(s.length>1&&l!==d)throw new yt.Error("E4019");s.push(cO(this,t)),l=d,d=!0}else d=xW(this)}),function(u){for(var c=l,p=0;p<s.length;p++)if(s[p](u)!==l){c=!l;break}return c}}(o):CW(o)?function(a){var s=a[0],l=cO(a[1],t);if(s==="!")return function(d){return!l(d)};throw yt.Error("E4003",s)}(o):function(a){a=vW(a);var s=pe(a[0]),l=a[1],d=a[2];d=e(d);var u=(c,p)=>(c=e(s(c)),(d==null||c==null)&&d!==c?!1:p(c,d));switch(l.toLowerCase()){case"=":return n(s,d);case"<>":return n(s,d,!0);case">":return c=>u(c,(p,g)=>p>g);case"<":return c=>u(c,(p,g)=>p<g);case">=":return c=>u(c,(p,g)=>p>=g);case"<=":return c=>u(c,(p,g)=>p<=g);case"startswith":return function(c){return e(i(s(c))).indexOf(d)===0};case"endswith":return function(c){var p=e(i(s(c))),g=i(d);if(p.length<g.length)return!1;var m=p.lastIndexOf(d);return m!==-1&&m===p.length-d.length};case"contains":return function(c){return e(i(s(c))).indexOf(d)>-1};case"notcontains":return function(c){return e(i(s(c))).indexOf(d)===-1}}throw yt.Error("E4003",l)}(o)}}(),lde=Q_.inherit({ctor:function(t,e){this.callBase(t),this.langParams=t.langParams,this.criteria=cO(e,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),dde=rg.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],i=this.iter,n=pe(this.getter);for(i.reset();i.next();){var o=i.current(),r=n(o);r in t?t[r].push(o):(t[r]=[o],e.push(r))}this.groupedIter=new hO(Ke(e,function(a){return{key:a,items:t[a]}}))}}}),ude=Q_.inherit({ctor:function(t,e){this.callBase(t),this.getter=pe(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),cde=Q_.inherit({ctor:function(t,e,i){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),hde=function t(e,i){i=i||{},e instanceof rg||(e=new hO(e)),i.langParams&&(e.langParams=i.langParams);var n=function(d){var u=i.errorHandler;u&&u(d),oc(d)},o=function(d){var u=new S().fail(n),c,p=d.step,g=d.finalize;try{e.reset(),"seed"in d?c=d.seed:c=e.next()?e.current():NaN;for(var m=c;e.next();)m=p(m,e.current());u.resolve(g?g(m):m)}catch(y){u.reject(y)}return u.promise()},r=function(d){return o(ig[d])},a=function(d){return!T(d)&&!Array.isArray(d)&&(d=[].slice.call(arguments)),l(new ude(e,d))},s=function(d){return a(pe(d))};function l(d){return t(d,i)}return{toArray:function(){return e.toArray()},enumerate:function(){var d=new S().fail(n);try{d.resolve(e.toArray())}catch(u){d.reject(u)}return d.promise()},setLangParams(d){e.langParams=d},sortBy:function(d,u,c){return l(new uO(e,d,u,c))},thenBy:function(d,u,c){if(e instanceof uO)return l(e.thenBy(d,u,c));throw yt.Error("E4004")},filter:function(d){return Array.isArray(d)||(d=[].slice.call(arguments)),l(new lde(e,d))},slice:function(d,u){return u===void 0&&(u=Number.MAX_VALUE),l(new cde(e,d,u))},select:a,groupBy:function(d){return l(new dde(e,d))},aggregate:function(d,u,c){return arguments.length<2?o({step:arguments[0]}):o({seed:d,step:u,finalize:c})},count:function(){if(e.countable()){var d=new S().fail(n);try{d.resolve(e.count())}catch(u){d.reject(u)}return d.promise()}return r("count")},sum:function(d){return d?s(d).sum():r("sum")},min:function(d){return d?s(d).min():r("min")},max:function(d){return d?s(d).max():r("max")},avg:function(d){return d?s(d).avg():r("avg")}}},Js=hde;function pO(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select(function(i){return v({},i,{items:pO(Js(i.items),e.slice(1)).toArray()})})),t}function OW(t,e){var i=[];return x(t,function(n,o){var r=Yt(e,function(a){return o.selector===a.selector});r.length<1&&i.push(o)}),i.concat(e)}function pde(t,e,i){var n;e=e||{};var o=e.filter;if((n=e)!==null&&n!==void 0&&n.langParams){var r,a;(r=(a=t).setLangParams)===null||r===void 0||r.call(a,e.langParams)}if(o&&(t=t.filter(o)),i)return t;var s=e.sort,l=e.select,d=e.group,u=e.skip,c=e.take;return d&&(d=fn(d),d.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(s||d)&&(s=fn(s||[]),d&&!d.keepInitialKeyOrder&&(s=OW(d,s)),x(s,function(p){t=t[p?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(t=t.select(l)),d&&(t=pO(t,d)),(c||u)&&(t=t.slice(u||0,c)),t}var nn={multiLevelGroup:pO,arrangeSortingInfo:OW,queryByOptions:pde};var ag=le.abstract,IW=nn.queryByOptions,gO={},rc=le.inherit({_langParams:{},ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new xo(this),x(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(i,n){n in t&&e.on(n.slice(2).toLowerCase(),t[n])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_clearCache:D,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=pe(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw yt.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done(function(i){e._eventsStrategy.fireEvent("loaded",[i,t])})},_loadImpl:function(t){return Rt(this._langParams)||(t=t||{},t._langParams=E({},this._langParams,t._langParams)),IW(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new S;return t.done(function(){var i=this,n=arguments;yW.promise().done(function(){e.resolveWith(i,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:ag,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return IW(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:ag,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done(function(i,n){e._eventsStrategy.fireEvent("inserted",[i,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:ag,update:function(t,e){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[t,e]),i._addFailHandlers(i._updateImpl(t,e).done(function(){i._eventsStrategy.fireEvent("updated",[t,e]),i._eventsStrategy.fireEvent("modified")}))},_updateImpl:ag,push:function(t){var e={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),A(...e.waitFor).done(()=>{this._pushImpl(t),this._eventsStrategy.fireEvent("beforePush",[{changes:t}]),this._eventsStrategy.fireEvent("push",[t])})},_pushImpl:D,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done(function(i){e._eventsStrategy.fireEvent("removed",[i]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:ag,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(oc)},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});rc.create=function(t,e){if(!(t in gO))throw yt.Error("E4020",t);return new gO[t](e)};rc.registerClass=function(t,e){return e&&(gO[e]=t),t};rc.inherit=function(t){return function(e,i){var n=t.apply(this,[e]);return rc.registerClass(n,i),n}}(rc.inherit);var Fa=rc;var RW="totalCount",fO="load",BW="byKey",FW="insert",TW="update",MW="remove";function ac(t){return t&&T(t.then)}function rd(t){return new S().resolve(t).promise()}function sg(t,e){if(!T(e))throw yt.Error("E4011",t)}function kW(t){throw yt.Error("E4012",t)}function od(t){function e(i){var n=i[0],o=i[1];return!n||!n.getResponseHeader?null:_W(n,o)}return function(i){var n;i instanceof Error?n=i:n=new Error(e(arguments)||i&&String(i)||"Unknown error"),n.message!==sO&&t.reject(n)}}function PW(t,e){var i=t._loadFunc,n;return sg(fO,i),n=i.apply(t,[e]),Array.isArray(n)?n=rd(n):n==null?n=rd([]):ac(n)||kW(fO),It(n)}function gde(t,e){var i=t._totalCountFunc,n;if(!T(i))throw yt.Error("E4021");return n=i.apply(t,[e]),ac(n)||(n=Number(n),isFinite(n)||kW(RW),n=rd(n)),It(n)}function fde(t,e,i){var n=t._byKeyFunc,o;return sg(BW,n),o=n.apply(t,[e,i]),ac(o)||(o=rd(o)),It(o)}function NW(t,e,i,n){if(e.__rawData)n(e.__rawData);else{var o=e.__rawDataPromise||PW(e,i);e._cacheRawData&&(e.__rawDataPromise=o),o.always(function(){delete e.__rawDataPromise}).done(function(r){e._cacheRawData&&(e.__rawData=r),n(r)}).fail(od(t))}}function AW(t,e,i,n){i=i||{};var o={};"userData"in i&&(o.userData=i.userData),NW(t,e,o,function(r){var a=Js(r,{errorHandler:e._errorHandler}),s,l,d=[],u,c;n||(s=nn.queryByOptions(a,i),s===a?u=r.slice(0):d.push(s.enumerate().done(function(p){u=p}))),(i.requireTotalCount||n)&&(l=nn.queryByOptions(a,i,!0),l===a?c=r.length:d.push(l.count().done(function(p){c=p}))),A.apply(h,d).done(function(){n?t.resolve(c):i.requireTotalCount?t.resolve(u,{totalCount:c}):t.resolve(u)}).fail(function(p){t.reject(p)})})}function mde(t,e,i){NW(t,e,{},function(n){for(var o=e.key(),r,a=0,s=n.length;a<s;a++)if(r=n[a],Oa(o,e.keyOf(n[a]),i)){t.resolve(r);return}t.reject(yt.Error("E4009"))})}var vde=Fa.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||t.loadMode==="raw",this._loadMode=t.loadMode,this._cacheRawData=t.cacheRawData!==!1,this._loadFunc=t[fO],this._totalCountFunc=t[RW],this._byKeyFunc=t[BW],this._insertFunc=t[FW],this._updateFunc=t[TW],this._removeFunc=t[MW]},_clearCache(){delete this.__rawData},createQuery:function(){throw yt.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(t){var e=new S;return this._loadMode==="raw"&&!this._totalCountFunc?AW(e,this,t,!0):(gde(this,t).done(function(i){e.resolve(Number(i))}).fail(od(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(t){this.__rawData&&Io({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new S;return this._loadMode==="raw"?AW(e,this,t,!1):(PW(this,t).done(function(i,n){e.resolve(i,n)}).fail(od(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var i=new S;return this._byKeyViaLoad()?(this._requireKey(),mde(i,this,t)):fde(this,t,e).done(function(n){i.resolve(n)}).fail(od(i)),i.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(t){var e=this,i=e._insertFunc,n,o=new S;return sg(FW,i),n=i.apply(e,[t]),ac(n)||(n=rd(n)),It(n).done(function(r){Fe().useLegacyStoreResult?o.resolve(t,r):o.resolve(r||t,e.keyOf(r))}).fail(od(o)),o.promise()},_updateImpl:function(t,e){var i=this._updateFunc,n,o=new S;return sg(TW,i),n=i.apply(this,[t,e]),ac(n)||(n=rd(n)),It(n).done(function(r){Fe().useLegacyStoreResult?o.resolve(t,e):o.resolve(r||e,t)}).fail(od(o)),o.promise()},_removeImpl:function(t){var e=this._removeFunc,i,n=new S;return sg(MW,e),i=e.apply(this,[t]),ac(i)||(i=rd()),It(i).done(function(){n.resolve(t)}).fail(od(n)),n.promise()}}),ad=vde;function mO(t){var e=[],i=!1;function n(){for(;e.length;){i=!0;var o=e.shift(),r=o();if(r!==void 0){if(r.then){A(r).always(n);return}throw me.Error("E0015")}}i=!1}return{add:function(o,r){t?(e[0]&&r&&r(e[0]),e=[o]):e.push(o),i||n()},busy:function(){return i}}}var W8e=mO().add;function xe(t,e){if(t==null)return{};var i={},n=Object.keys(t),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(i[o]=t[o]);return i}var LW={};var _de=function t(e,i,n){n=n||[],i=i||{};var o=function(s,l){return{name:s,args:l}},r=function(s){var l=new S,d,u,c,p,g,m=function(b){var O=i.errorHandler;O&&O(b),oc(b),l.reject(b)};function y(b){switch(b.name){case"sortBy":return g=[b.args],!0;case"thenBy":if(!g)throw yt.Error("E4004");return g.push(b.args),!0}return!1}try{d=i.adapter,T(d)||(d=LW[d]),u=d(i),c=[].concat(n).concat(s);var C=u.optimize;for(C&&C(c);c.length;){if(p=c[0],!y(p)){if(g){c.unshift(o("multiSort",[g])),g=null;continue}if(String(p.name)!=="enumerate"&&(!u[p.name]||u[p.name].apply(u,p.args)===!1))break}c.shift()}(function(){var b=c[0],O=[];b&&b.name==="multiSort"&&(c.shift(),x(b.args[0],function(){O.push(o(O.length?"thenBy":"sortBy",this))})),c=O.concat(c)})(),u.exec(e).done(function(b,O){if(!c.length)l.resolve(b,O);else{var k=Js(b,{errorHandler:i.errorHandler});x(c,function(){k=k[this.name].apply(k,this.args)}),k.done(l.resolve).fail(l.reject)}}).fail(m)}catch(b){m(b)}return l.promise()},a={};return x(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var s=String(this);a[s]=function(){return t(e,i,n.concat(o(s,arguments)))}}),x(["count","min","max","sum","avg","aggregate","enumerate"],function(){var s=String(this);a[s]=function(){return r.call(this,o(s,arguments))}}),a},VW=_de;var HW={array:Js,remote:VW};var yde=function(){var t=Array.isArray(arguments[0])?"array":"remote";return HW[t].apply(this,arguments)},Nt=yde;var xde=Fa.inherit({ctor:function(t){Array.isArray(t)?t={data:t}:t=t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw yt.Error("E4006");this._array=e||[]},createQuery:function(){return Nt(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=Ia(this,this._array,t);return e===-1?q_(yt.Error("E4009")):Qs(this._array[e])},_insertImpl:function(t){return og(this,this._array,t)},_pushImpl:function(t){Io({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return ng(this,this._array,t,e)},_removeImpl:function(t){return lO(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),Fo=xde;var Cde=["items"],J_="canceled",vO=t=>t.state()==="pending",_O=t=>{switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},Sde=(t,e,i)=>Ke(t,n=>{var o=xe(n,Cde);return E({},o,{items:WW(n.items,e-1,i)})}),WW=(t,e,i)=>Array.isArray(t)?e?Sde(t,e,i):Ke(t,i):t,GW=(t,e,i)=>{var n=i?fn(i).length:0;return WW(t,n,e)},sc=(t,e)=>{var i;return(i=t)!==null&&i!==void 0&&i.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},bde=t=>{var e={};return x(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=t[this],delete t[this]}),new ad(e)},Dde=t=>{var e=t.type;return delete t.type,Fa.create(e,t)},wde=(t,e)=>new ad({load:()=>eE.sendRequest({url:t,dataType:"json"}),loadMode:e?.fromUrlLoadMode}),kn=(t,e)=>{var i;return typeof t=="string"&&(t={paginate:!1,store:wde(t,e)}),t===void 0&&(t=[]),Array.isArray(t)||t instanceof Fa?t={store:t}:t=v({},t),t.store===void 0&&(t.store=[]),i=t.store,"load"in t?i=bde(t):Array.isArray(i)?i=new Fo(i):q(i)&&(i=Dde(v({},i))),t.store=i,t};var X_=class{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(J_),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}};var mi=le.inherit({ctor(t){var e;t=kn(t),this._eventsStrategy=new xo(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0;var i=t.pushAggregationTimeout!==0;if(i){var n=t.pushAggregationTimeout===void 0?()=>5*this._changedTime:t.pushAggregationTimeout,o,r,a=bW(s=>{o.resolve();var l=A(...r);l.done(()=>this._onPush(s)),r=void 0,o=void 0},n);this._onPushHandler=s=>{this._aggregationTimeoutId=a(s.changes),o||(o=new S),r=s.waitFor,s.waitFor.push(o.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=s=>this._onPush(s),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==void 0?t.pageIndex:0,this._pageSize=t.pageSize!==void 0?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=(e=t.reshapeOnPush)!==null&&e!==void 0?e:!1,x(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(s,l)=>{l in t&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),t[l])}),this._operationManager=new X_,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,f(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var t;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(t=this._delayedLoadTask)===null||t===void 0||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(t){var e={},i=["sort","filter","langParams","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(i=i.concat(n)),x(i,function(){e[this]=t[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(t){if(!ve(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate(t){if(!As(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize(t){if(!ve(t))return this._pageSize;this._pageSize=t},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(t){return e=>{var i=_O(e);if(i===void 0)return this._storeLoadOptions[t];this._storeLoadOptions[t]=i}},sort(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var t=_O(arguments);if(t===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(t){if(!As(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation(t){if(!N(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr(t){var e=arguments.length;if(e===0)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store(){return this._store},key(){var t;return(t=this._store)===null||t===void 0?void 0:t.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>mO(),_changeLoadingCount(t){var e=this.isLoading();this._loadingCount+=t;var i=this.isLoading();e^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(t){this.beginLoading(),t.always(()=>{this.endLoading()})},_scheduleFailCallbacks(t){var e=this;t.fail(function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];n[0]!==J_&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks(t){t.done(()=>this._fireChanged())},loadSingle(t,e){var i=new S,n=this.key(),o=this._store,r=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(e=t,t=n),delete r.skip,delete r.group,delete r.refresh,delete r.pageIndex,delete r.searchString,(t===n||o instanceof ad&&!o._byKeyViaLoad()?o.byKey(e,r):(r.take=1,r.filter=r.filter?[r.filter,[t,e]]:[t,e],o.load(r))).fail(i.reject).done(a=>{var s=Array.isArray(a)&&!a.length;!f(a)||s?i.reject(new yt.Error("E4009")):(Array.isArray(a)||(a=[a]),i.resolve(this._applyMapFunction(a)[0]))}),i.promise()},load(){var t=new S,e=()=>{if(!this._disposed&&vO(t))return this._loadFromStore(i,t)};this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t);var i=this._createLoadOperation(t);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>(typeof i.delay=="number"?this._delayedLoadTask=Gu(e,i.delay):e(),t.promise())),t.promise({operationId:i.operationId})},_onPush(t){if(this._reshapeOnPush)this.load();else{var e={changes:t};this._eventsStrategy.fireEvent("changing",[e]);var i=this.group(),n=this.items(),o=0,r=this.paginate()||i?t.filter(a=>a.type==="update"):t;i&&(o=Array.isArray(i)?i.length:1),this._mapFunc&&r.forEach(a=>{a.type==="insert"&&(a.data=this._mapFunc(a.data))}),e.postProcessChanges&&(r=e.postProcessChanges(r)),Io({keyInfo:this.store(),data:n,changes:r,groupCount:o,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation(t){var e=this._operationManager.add(t),i=this._createStoreLoadOptions();return this._store&&!Rt(i?.langParams)&&(this._store._langParams=E({},this._store._langParams,i.langParams)),t.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:i}},reload(){var t=this.store();return t._clearCache(),this._init(),this.load()},cancel(t){return this._operationManager.cancel(t)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var t=v({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter(t){var e=this._searchValue,i=this._searchOperation,n=this._searchExpr,o=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),x(n,function(r,a){o.length&&o.push("or"),o.push([a,i,e])}),t.filter?t.filter=[o,t.filter]:t.filter=o)},_loadFromStore(t,e){var i=(n,o)=>{if(!this._disposed&&vO(e)){var r=v(sc(n,o),t);this._eventsStrategy.fireEvent("customizeLoadResult",[r]),A(r.data).done(a=>{r.data=a,this._processStoreLoadResult(r,e)}).fail(e.reject)}};return t.data?new S().resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(e.reject)},_processStoreLoadResult(t,e){var i=t.data,n=t.extra,o=t.storeLoadOptions,r=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(i,n));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),L(n)||(n={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),o.requireTotalCount&&!isFinite(n.totalCount)?this.store().totalCount(o).done(function(a){n.totalCount=a,r()}).fail(e.reject):r())},_applyMapFunction(t){return this._mapFunc?GW(t,this._mapFunc,this.group()):t},_applyPostProcessFunction(t){return this._postProcessFunc?this._postProcessFunc(t):t},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});var Ede={load:()=>S().reject(),loadSingle:()=>S().reject(),loadFromStore:()=>S().reject(),loadNextPage:()=>S().reject(),loadOptions:D,userData:D,cancel:D,cancelAll:D,filter:D,addSearchFilter:D,group:D,paginate:D,pageSize:D,pageIndex:D,resetDataSourcePageIndex:D,totalCount:D,isLastPage:D,isLoading:D,isLoaded:D,searchValue:D,searchOperation:D,searchExpr:D,select:D,key:D,keyOf:D,store:D,items:D,applyMapFunction:D,getDataSource:D,reload:D,on:D,off:D},yO=class{constructor(e){if(!e)return Ede;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,i){return arguments.length<2&&(i=e,e=this.key()),this._dataSource.loadSingle(e,i)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,i){this._dataSource.on(e,i)}off(e,i){this._dataSource.off(e,i)}},Z_=yO;var zW="_dataSourceOptions",UW="_dataSourceChangedHandler",jW="_dataSourceLoadErrorHandler",$W="_dataSourceLoadingChangedHandler",KW="_dataSourceFromUrlLoadMode",qW="_getSpecificDataSourceOption",YW="_normalizeDataSource",Ode={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t=qW in this?this[qW]():this.option("dataSource"),e,i;this._disposeDataSource(),t&&(t instanceof mi?(this._isSharedDataSource=!0,this._dataSource=t):(e=zW in this?this[zW]():{},i=this._dataSourceType?this._dataSourceType():mi,t=kn(t,{fromUrlLoadMode:KW in this&&this[KW]()}),this._dataSource=new i(v(!0,{},e,t))),YW in this&&(this._dataSource=this[YW](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var t,e=(t=this.option)===null||t===void 0?void 0:t.call(this,"_dataController"),i=this._dataSource;e?this._dataController=e:this._dataController=new Z_(i)},_addDataSourceHandlers:function(){UW in this&&this._addDataSourceChangeHandler(),jW in this&&this._addDataSourceLoadErrorHandler(),$W in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(t){this._ready&&this._ready(!t)}.bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this[UW](t.items(),e)}.bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[jW].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[$W].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var t=this._dataSource;t&&(t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load())},_loadSingle:function(t,e){return t=t==="this"?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},lc=Ode;var Ide="dx-state-invisible",Fde="dx-state-disabled",Tde="dx-item-content-placeholder",Mde=function(t,e,i){var n=function(r){o!==r&&(i(r,o),o=r)},o;return{dispose:t(e,n),force:function(){n(e())}}},QW=le.inherit({ctor:function(t,e,i){this._$element=t,this._options=e,this._rawData=i,R_(t,this,this._dispose),this._render()},_render:function(){var t=h("<div>").addClass(Tde);this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var i=this._rawData,n=this._options.fieldGetter(t),o=Mde(this._options.watchMethod(),function(){return n(i)},function(r,a){this._dirty=!0,e(r,a)}.bind(this));this._watchers.push(o)},setDataField:function(){if(this._dirty=!1,x(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass(Fde,!!t),this._$element.attr("aria-disabled",!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass(Ide,t!==void 0&&!t)},_dispose:function(){x(this._watchers,function(t,e){e.dispose()})}});QW.getInstance=function(t){return B_(t,this)};var To=QW;var JW={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var Ade="-",XW=(t,e)=>{var i=t[e];return i?i!=="root"&&i:e.substr(0,e.lastIndexOf(Ade))};var xO="en",on=Kt({locale:(()=>{var t=xO;return e=>{if(!e)return t;t=e}})(),getValueByClosestLocale:function(t){for(var e=this.locale(),i=t(e),n;!i&&!n;)e=XW(JW,e),e?i=t(e):n=!0;return i===void 0&&e!==xO?t(xO):i}});var ZW={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-ariaHotKeysInfo":"To navigate between views, press Control, and then Left Arrow or Right Arrow. To zoom in on a view, press Control, and then Down Arrow. To zoom out, press Control, and then Up Arrow.","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}};var Rde=v(!0,{},ZW),Bde=(t,e)=>{var i;return t[e]||e?.toLowerCase&&((i=Object.entries(t).find(n=>{var[o]=n;return o.toLowerCase()===e.toLowerCase()}))===null||i===void 0?void 0:i[1])||{}},CO={},kde=Kt({engine:function(){return"base"},_dictionary:Rde,load:function(t){v(!0,this._dictionary,t)},_localizablePrefix:"@",setup:function(t){this._localizablePrefix=t},localizeString:function(t){var e=this,i=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return t.replace(i,(o,r,a,s)=>{var l=e._localizablePrefix+s,d;return a!==n&&(d=e.format(s)),d||(CO[s]=l2(s)),r+(d||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(t){return t?CO:v({},CO,this.getMessagesByLocales()[on.locale()])},getFormatter:function(t){return this._getFormatterBase(t)||this._getFormatterBase(t,"en")},_getFormatterBase:function(t,e){var i=on.getValueByClosestLocale(n=>Bde(this._dictionary,n)[t]);if(i)return function(){var n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(i),Ri.apply(this,n)}},format:function(t){var e=this.getFormatter(t),i=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,i)||""}}),w=kde;var eG=Math.abs,SO="dxhold",Pde=750,tG=5,Nde=$s.inherit({start:function(t){this._startEventData=vt(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:Pde;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent(SO,t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=Hr(this._startEventData,vt(t));return eG(e.x)>tG||eG(e.y)>tG},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});wo({emitter:Nde,bubble:!0,events:[SO]});var mn={name:SO};var bO="dxContexMenu",Lde=F("contextmenu",bO),Vde=F(mn.name,bO),DO="dxcontextmenu",Hde=le.inherit({setup:function(t){var e=h(t);_.on(e,Lde,this._contextMenuHandler.bind(this)),(Co||R.isSimulator())&&_.on(e,Vde,this._holdHandler.bind(this))},_holdHandler:function(t){bo(t)&&!R.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return Zi({type:DO,originalEvent:t})},teardown:function(t){_.off(t,"."+bO)}});Oi(DO,new Hde);var e0=DO;var Wde="dx-collection",t0="dx-item",iG="-content",nG="dx-item-content-placeholder",Gde="dxItemData",zde="dxItemIndex",Ude="tmpl-",jde="dxItem",$de="dx-item-selected",Kde="dx-item-response-wait",qde="dx-empty-collection",oG="dx-template-wrapper",Yde=/^([^.]+\[\d+\]\.)+([\w.]+)$/,Qde="item",wO="up",EO="down",rG="left",aG="right",Jde="pageup",Xde="pagedown",sG="last",lG="first",dG=ct.inherit({_activeStateUnit:"."+t0,_supportedKeys:function(){var t=function(e,i){ut(i)||(i.preventDefault(),i.stopPropagation(),this._moveFocus(e,i))};return v(this.callBase(),{space:function(e){e.preventDefault(),this._enterKeyHandler(e)},enter:this._enterKeyHandler,leftArrow:t.bind(this,rG),rightArrow:t.bind(this,aG),upArrow:t.bind(this,wO),downArrow:t.bind(this,EO),pageUp:t.bind(this,wO),pageDown:t.bind(this,EO),home:t.bind(this,lG),end:t.bind(this,sG)})},_enterKeyHandler:function(t){var e=h(this.option("focusedElement"));if(e.length){var i=this._getItemData(e);i!=null&&i.onClick&&this._itemEventHandlerByHandler(e,i.onClick,{event:t}),this._itemClickHandler(v({},t,{target:e.get(0),currentTarget:e.get(0)}))}},_getDefaultOptions:function(){return v(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:w.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?pe(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return Qde},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new Bi(function(e,i){q(i)?this._prepareDefaultItemTemplate(i,e):(t&&T(t.text)&&(i=t.text(i)),e.text(String(Re(i,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){f(t.text)&&e.text(t.text),f(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=H_(this.$element(),jde);if(!(!t.length||this.option("items").length)){var e=t.map(i=>{var{element:n,options:o}=i,r=/\S/.test(n.innerHTML)&&!o.template;return r?o.template=this._prepareItemTemplate(n):h(n).remove(),o});this.option("items",e)}},_prepareItemTemplate:function(t){var e=Ude+new Ee,i=h(t).detach().clone().removeAttr("data-options").addClass(oG);return this._saveTemplate(e,i),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(t.target)){var e=h(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",V(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=h(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_findActiveTarget(t){return t.find(this._activeStateUnit)},_getActiveItem:function(t){var e=h(this.option("focusedElement"));if(e.length)return e;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),o=n.length-1;return i<0&&(i=t?o:0),n.eq(i)},_moveFocus:function(t){var e=this._getAvailableItems(),i;switch(t){case Jde:case wO:i=this._prevItem(e);break;case Xde:case EO:i=this._nextItem(e);break;case aG:i=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case rG:i=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case lG:i=e.first();break;case sG:i=e.last();break;default:return!1}i.length!==0&&this.option("focusedElement",V(i))},_getVisibleItems:function(t){return t=t||this._itemElements(),t.filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t)},_prevItem:function(t){var e=this._getActiveItem(),i=t.index(e),n=t.last(),o=h(t[i-1]),r=this.option("loopItemFocus");return o.length===0&&r&&(o=n),o},_nextItem:function(t){var e=this._getActiveItem(!0),i=t.index(e),n=t.first(),o=h(t[i+1]),r=this.option("loopItemFocus");return o.length===0&&r&&(o=n),o},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,i){var n=h(t);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,i),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",f(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_isDisabled:t=>t&&h(t).attr("aria-disabled")==="true",_setFocusedItem:function(t){if(!(!t||!t.length)){this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId());var{selectOnFocus:e}=this.option(),i=this._isDisabled(t);e&&!i&&this._selectFocusedItem(t)}},_findItemElementByItem:function(t){var e=h(),i=this;return this.itemElements().each(function(){var n=h(this);if(n.data(i._itemDataKey())===t)return e=n,!1}),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,i,n){var o=this._findItemElementByItem(t);if(o.length){this.constructor.ItemClass.getInstance(o).setDataField(e,i)||this._refreshItem(o,t);var r=e==="disabled"&&i;r&&this._resetItemFocus(o)}},_resetItemFocus(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),i=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,e,null,t)},_updateParentActiveDescendant:D,_optionChanged:function(t){if(t.name==="items"){var e=t.fullName.match(Yde);if(e&&e.length){var i=e[e.length-1],n=t.fullName.replace("."+i,""),o=this.option(n);this._itemOptionChanged(o,i,t.value,t.previousValue);return}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem(h(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){h(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return t0},_itemContentClass:function(){return this._itemClass()+iG},_selectedItemClass:function(){return $de},_itemResponseWaitClass:function(){return Kde},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return Gde},_itemIndexKey:function(){return zde},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(Wde),this._prepareContent()},_prepareContent:Br(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>ae.down,_attachClickEvent(){var t=this._itemSelector(),e=this._getPointerEvent(),i=F(se,this.NAME),n=F(e,this.NAME),o=new Zo(r=>{var{event:a}=r;this._itemPointerDownHandler(a)});_.off(this._itemContainer(),i,t),_.off(this._itemContainer(),n,t),_.on(this._itemContainer(),i,t,r=>this._itemClickHandler(r)),_.on(this._itemContainer(),n,t,r=>{o.execute({element:h(r.target),event:r})})},_itemClickHandler:function(t,e,i){this._itemDXEventHandler(t,"onItemClick",e,i)},_itemPointerDownHandler:function(t){this.option("focusStateEnabled")&&(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=h(t.target),i=e.closest(this._itemElements()),n=this._closestFocusable(e);i.length&&this._isFocusTarget(n?.get(0))&&this.option("focusedElement",V(i))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(Gp))return t;for(t=t.parent();t.length&&!I.isDocument(t.get(0))&&!I.isDocumentFragment(t.get(0));){if(t.is(Gp))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=F(mn.name,this.NAME);_.off(t,i,e),_.on(t,i,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=F(e0,this.NAME);_.off(t,i,e),_.on(t,i,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&x(t,function(e,i){this._renderItem(this._renderedItemsCount+e,i)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,i,n){var o,r=(o=t?.item)!==null&&o!==void 0?o:t;i=i||this._itemContainer();var a=this._renderItemFrame(r,e,i,n);this._setElementData(a,e,r),a.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,a);var s=this._getItemContent(a),l=this._renderItemContent({index:r,itemData:e,container:V(s),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),d=this;return A(l).done(function(u){d._postprocessRenderItem({itemElement:a,itemContent:u,itemData:e,itemIndex:r}),d._executeItemRenderAction(t,e,V(a))}),a},_getItemContent:function(t){var e=t.find("."+nG);return e.removeClass(nG),e},_attachItemClickEvent:function(t,e){!t||!t.onClick||_.on(e,se,function(i){this._itemEventHandlerByHandler(e,t.onClick,{event:i})}.bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),i=this._getTemplate(e);this._addItemContentClasses(t);var n=h(this._createItemByTemplate(i,t));return n.hasClass(oG)?this._renderItemContentByNode(t,n):t.container},_renderItemContentByNode:function(t,e){return h(t.container).replaceWith(e),t.container=V(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[t0+iG,t.contentClass];h(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,i){e.appendTo(t)},_renderItemFrame:function(t,e,i,n){var o=h("<div>");if(new this.constructor.ItemClass(o,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(o):this._appendItemToContainer.call(this,i,o,t),this.option("useItemTextAsTitle")){var r=this._displayGetter?this._displayGetter(e):e;o.attr("title",r)}return o},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var i=t.option(e+"Expr"),n=pe(i);return n}}},_postprocessRenderItem:D,_executeItemRenderAction:function(t,e,i){this._getItemRenderAction()({itemElement:i,itemIndex:t,itemData:e})},_setElementData:function(t,e,i){t.addClass([t0,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,i=t.templateProperty||this.option("itemTemplateProperty"),n=e&&e[i];return n||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(t,e)})},_onItemTemplateRendered:function(){return D},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),i=!e||t&&t.length||this._dataController.isLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||h("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e)),this.$element().toggleClass(qde,!i)},_itemDXEventHandler:function(t,e,i,n){this._itemEventHandler(t.target,e,v(i,{event:t}),n)},_itemEventHandler:function(t,e,i,n){var o=this._createActionByOption(e,v({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,o,i)},_itemEventHandlerByHandler:function(t,e,i,n){var o=this._createAction(e,v({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,o,i)},_itemEventHandlerImpl:function(t,e,i){var n=this._closestItemElement(h(t)),o=v({},i);return e(v(i,this._extendActionArgs(n),o))},_extendActionArgs:function(t){return{itemElement:V(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return h(t).closest(this._itemSelector())},_getItemData:function(t){return h(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var i=0;return t&&x(t,function(n,o){i+=ee(o,e||!1)}),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Ee),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(lc);dG.ItemClass=To;var uG=dG;var X=Lu(me.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component."});var Pn=le.abstract,Zde=le.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:Pn,getItemDataByIndex:Pn,getKeysByItems:Pn,getItemsByKeys:Pn,itemsGetter:Pn,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?_e(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:Pn,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return h(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:t=>I.isNode(t&&ii(t)?t.get(0):t),deleteItemAtIndex:Pn,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:Pn,_isNormalizedItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_isItemIndex:Pn,_getNormalizedItemIndex:Pn,_normalizeItemIndex:Pn,_denormalizeItemIndex:Pn,_getItemByNormalizedIndex:Pn,_itemsFromSameParent:Pn}),cG=Zde;var eue=cG.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):this._getPlainItems().indexOf(t)},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),i=t;if(e){i=[];for(var n=0;n<t.length;n++)i.push(e(t[n]))}return i},getIndexByKey:function(t){var e=this._cache,i=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=i),typeof t=="object"){for(var n=0,o=i.length;n<o;n++)if(this._equalKeys(t,i[n]))return n}else return i.indexOf(t);return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var i=this._getPlainItems(),n=i[t];i.splice(t,1),i.splice(e,0,n)},_isItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}}),dc=eue;var uc=class{constructor(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,i){this.options[e]=i}onSelectionChanged(){var e=this.options.addedItemKeys,i=this.options.removedItemKeys,n=this.options.addedItems,o=this.options.removedItems,r=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||D;this._clearItemKeys(),s({selectedItems:r,selectedItemKeys:a,addedItemKeys:e,removedItemKeys:i,addedItems:n,removedItems:o})}equalKeys(e,i){return this.options.equalByReference&&L(e)&&L(i)?e===i:_e(e,i)}getSelectableItems(e){return e.filter(function(i){return!(i!=null&&i.disabled)})}_clearSelection(e,i,n,o){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,i,n,o)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(i=>this._removeTemplateProperty(i)):(L(e)&&delete e.template,e)}_loadFilteredData(e,i,n,o){var r=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,a=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,s=new S,l={filter:a?void 0:e,select:a?this.options.dataFields():n||this.options.dataFields()};return e&&e.length===0?s.resolve([]):this.options.load(l).done(function(d){var u=q(d)?d.data:d;i&&!o?u=u.filter(i):a&&(u=Nt(u).filter(e).toArray()),s.resolve(u)}).fail(s.reject.bind(s)),s}updateSelectedItemKeyHash(e){for(var i=0;i<e.length;i++){var n=Qi(e[i]);if(!L(n)){this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[];var o=this.options.keyHashIndices[n];o.push(i)}}}_isAnyItemSelected(e){for(var i=0;i<e.length;i++)if(this.options.isItemSelected(e[i]))return;return!1}_getFullSelectAllState(){var e=this.options.plainItems(),i=this.options.filter(),n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));i&&(n=Nt(n).filter(i).toArray());var o=n.length,r=e.length-this.getSelectableItems(e).length;if(!o)return this._isAnyItemSelected(e);if(o>=this.options.totalCount()-r)return!0}_getVisibleSelectAllState(){for(var e=this.getSelectableItems(this.options.plainItems()),i=!1,n=!1,o=0;o<e.length;o++){var r=e[o],a=this.options.getItemData(r),s=this.options.keyOf(a);this.options.isSelectableItem(r)&&(this.isItemKeySelected(s)?i=!0:n=!0)}return i?n?void 0:!0:!1}};var i0=class extends uc{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){var e=new S,i=this,n=this.options.key(),o=N(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,o).done(function(r){var a=r.map(function(s){return i.options.keyOf(s)});e.resolve(a)}).fail(e.reject),e.promise()}selectedItemKeys(e,i,n,o){if(o){var r=this.options.filter(),a=!r||JSON.stringify(r)===JSON.stringify(this.options.selectionFilter)&&n;a?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,r,o)}else{i||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)n?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s],o,!i)}return this.onSelectionChanged(),new S().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null);for(var i=0;i<e.length;i++)this.addSelectedItem(e[i])}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){var i=this.options.selectionFilter;return i?!!Nt([e]).filter(i).toArray().length:!0}_getKeyExpr(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){var i=this.options.key();return Array.isArray(i)&&i.length===1?e[i[0]]:e}_getFilterByKey(e){var i=this._getKeyExpr(),n=[i,"=",this._normalizeKey(e)];if(Array.isArray(i)){n=[];for(var o=0;o<i.length;o++)n.push([i[o],"=",e[i[o]]]),o!==i.length-1&&n.push("and")}return n}addSelectedItem(e,i,n){var o=this._getFilterByKey(e);this._addSelectionFilter(!1,o,i,n)}removeSelectedItem(e){var i=this._getFilterByKey(e);this._addSelectionFilter(!0,i)}validate(){var e=this.options.key;if(e&&e()===void 0)throw X.Error("E1042","Deferred selection")}_findSubFilter(e,i){if(!e)return-1;for(var n=JSON.stringify(i),o=0;o<e.length;o++){var r=e[o];if(r&&JSON.stringify(r)===n)return o}return-1}_isLastSubFilter(e,i){return e&&i?this._findSubFilter(e,i)===e.length-1||this._findSubFilter([e],i)===0:!1}_addFilterOperator(e,i){return e.length>1&&N(e[1])&&e[1]!==i&&(e=[e]),e.length&&e.push(i),e}_denormalizeFilter(e){return e&&N(e[0])&&(e=[e]),e}_isOnlyNegativeFiltersLeft(e){return e.every((i,n)=>n%2===0?Array.isArray(i)&&i[0]==="!":i==="and")}_addSelectionFilter(e,i,n,o){var r,a=e?["!",i]:i,s=e?"and":"or",l=!0,d=this.options.selectionFilter||[];if(d=this._denormalizeFilter(d),(r=d)!==null&&r!==void 0&&r.length&&!o){var u=this._removeSameFilter(d,i,e,n),c=this._removeSameFilter(d,i,!e),p=e&&(u!==-1||c!==-1)&&this._isOnlyNegativeFiltersLeft(d);p&&(d=[]);var g=this._isKeyFilter(i)&&this._hasKeyFiltersOnlyStartingFromIndex(d,c);l=i.length&&!g}l&&(d=this._addFilterOperator(d,s),d.push(a)),d=this._normalizeFilter(d),this._setOption("selectionFilter",!e&&!d.length?null:d)}_normalizeFilter(e){return e&&e.length===1&&(e=e[0]),e}_removeFilterByIndex(e,i,n){var o=e[1];i>0?e.splice(i-1,2):e.splice(i,2),n&&o==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,i){return e.length===3&&e[0]===i&&e[1]==="="}_isKeyFilter(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var i=this._getKeyExpr();if(Array.isArray(i)){if(e.length!==2*i.length-1)return!1;for(var n=0;n<i.length;n++)if(n>0&&e[2*n-1]!=="and"||!this._isSimpleKeyFilter(e[2*n],i[n]))return!1;return!0}return this._isSimpleKeyFilter(e,i)}_hasKeyFiltersOnlyStartingFromIndex(e,i){if(i>=0){for(var n=i;n<e.length;n++)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,i,n,o){if(i=n?["!",i]:i,JSON.stringify(i)===JSON.stringify(e))return e.splice(0,e.length),0;var r=this._findSubFilter(e,i);if(r>=0)return this._removeFilterByIndex(e,r,o),r;for(var a=0;a<e.length;a++)if(Array.isArray(e[a])&&e[a].length>2){var s=this._removeSameFilter(e[a],i,!1,o);if(s>=0)return e[a].length?e[a].length===1&&(e[a]=e[a][0]):this._removeFilterByIndex(e,a,o),s}return-1}getSelectAllState(){var e=this.options.filter(),i=this.options.selectionFilter;if(!i)return!0;if(!i.length)return!1;if(!(!e||!e.length)){if(i=this._denormalizeFilter(i),this._isLastSubFilter(i,e))return!0;if(this._isLastSubFilter(i,["!",e]))return!1}}loadSelectedItemsWithFilter(){var e=this.options.filter(),i=this.options.selectionFilter,n=e?[e,"and",i]:i;return this._loadFilteredData(n)}};var n0=function(t,e){var i=e(t);if(L(i))try{return JSON.stringify(i)}catch{return i}return i},tue=function(t,e,i,n){var o=n0(t,n);return e[i[o]]},hG=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},o0=function(t,e,i,n){var o={},r={},a=0,s=0,l=[];t.forEach(function(O,k){var J=n0(O,i);o[J]=k}),e.forEach(function(O,k){var J=n0(O,i);r[J]=k});for(var d=Math.max(t.length,e.length),u=0;u<d+a;u++){var c=e[u],p=u-a+s,g=t[p],m=!c||g&&!tue(g,e,r,i);if(m)g&&(l.push({type:"remove",key:i(g),index:u,oldItem:g}),s++,u--);else{var y=n0(c,i),C=o[y],b=t[C];if(!b)a++,l.push({type:"insert",data:c,index:u});else if(C===p)n(b,c)||l.push({type:"update",data:c,key:i(c),index:u,oldItem:b});else return}}return l};var lg=function(t,e){this.getLocalFilter=function(a,s,l,d){return s=s===void 0?_e:s,o.bind(this,s,a,l,d)},this.getExpr=function(a){if(a){var s;return t.forEach(function(l,d){s=s||[];var u;d>0&&s.push(e?"and":"or"),N(a)?u=r(a,l):u=function(c,p){for(var g=[],m=0,y=c.length;m<y;m++){var C=c[m],b=pe(C),O=p&&b(p),k=r(C,O);if(!k)break;m>0&&g.push(e?"or":"and"),g.push(k)}return g}(a,l),s.push(u)}),s&&s.length===1&&(s=s[0]),s}},this.getCombinedFilter=function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this.getExpr(a),u=d;return(l||e)&&s&&(d?(u=[],u.push(d),u.push(s)):u=s),u};var i,n=function(a,s,l){return Array.isArray(l)?a.map(d=>s(d)):a};function o(a,s,l,d,u){var c=s(u),p,g;if(!l&&(p=Qi(c),!L(p))){var m=function(y,C){if(!i){i={};for(var b=n(t,y,C),O=0;O<b.length;O++)i[Qi(b[O])]=!0}return i}(s,d);return m[p]?!e:!!e}for(g=0;g<t.length;g++)if(a(t[g],c))return!e;return!!e}function r(a,s){if(s!==void 0)return[a,e?"<>":"=",s]}};var r0=class extends uc{constructor(e){super(e),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,i){var n=this.options.keyOf,o,r,a;if(n){var s=i&&e.length>1&&!this.options.equalByReference;for(s&&(o={}),a=0;a<e.length;a++){var l=e[a],d=n(l);i?(r=this.removeSelectedItem(d,o,l?.disabled),o&&r>=0&&(o[r]=!0)):this.addSelectedItem(d,l)}s&&this._batchRemoveSelectedItems(o)}}_batchRemoveSelectedItems(e){var i=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var o=0;o<i.length;o++)e[o]||(this.options.selectedItemKeys.push(i[o]),this.options.selectedItems.push(n[o]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,i,n,o){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=new S,s=this.options.key();if(!e.length&&!n)return a.resolve([]),a;if(n&&i&&!o)return a.resolve(this.getSelectedItems()),a;var l=new lg(e,n),d=l.getCombinedFilter(s,o,r),u=[];if(i){var c=this.options.selectedItems;u=d&&e.length!==c.length?Nt(c).filter(d).toArray():c.slice(0)}var p=u.length?u:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),g=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,s);return p=p.filter(g),u.length||!n&&p.length===e.length?a.resolve(p):a=this._loadFilteredData(d,g,null,n),a}_replaceSelectionUpdate(e){var i=[],n=this.options.keyOf;if(n){for(var o=0;o<e.length;o++){var r=e[o],a=n(r);i.push(a)}this.setSelectedItems(i,e)}}_warnOnIncorrectKeys(e){for(var i=this.options.allowNullValue,n=0;n<e.length;n++){var o=e[n];(!i||o!==null)&&!this.isItemKeySelected(o)&&X.log("W1002",o)}}_isMultiSelectEnabled(){var e=this.options.mode;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,i,n,o){var r,a=i?e:[];return o?r=o:r=Zp(e,this.options.selectedItemKeys),{addedItems:n.added.concat(r),removedItems:n.removed.concat(a),keys:e}}_collectLastRequestData(e,i,n,o){var r=i&&n,a={added:[],removed:[]},s=this._isMultiSelectEnabled(),l=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(r?(this._lastLoadDeferred.reject(),l={}):hG(e,this.options.selectedItemKeys)||(a.added=l.addedItems,a.removed=l.removedItems,i||this._lastLoadDeferred.reject())),l=this._concatRequestsItems(e,i,a,this._shouldMergeWithLastRequest?void 0:o)),l}_updateKeysByLastRequestData(e,i,n){var o=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!i&&!n){var r,a;o=Zp(e.concat((r=this._lastRequestData)===null||r===void 0?void 0:r.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),o=YH(o)}return o}_loadSelectedItems(e,i,n,o){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this,s=new S,l=a.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,i,n,o),A(a._lastLoadDeferred).always(function(){var d=a._updateKeysByLastRequestData(e,i,n);a._shouldMergeWithLastRequest=!1,a._loadSelectedItemsCore(d,i,n,l,r).done(s.resolve).fail(s.reject)}),a._lastLoadDeferred=s,s}selectedItemKeys(e,i,n,o,r){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=this,l=s._loadSelectedItems(e,n,o,r,a);return l.done(function(d){i?s._preserveSelectionUpdate(d,n):s._replaceSelectionUpdate(d),s.onSelectionChanged()}),l}addSelectedItem(e,i){if(f(i)&&!this.options.ignoreDisabledItems&&i.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!L(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(i),this.options.selectedItems.push(i))}_getSelectedIndexByKey(e,i){for(var n=this.options.selectedItemKeys,o=0;o<n.length;o++)if((!i||!i[o])&&this.equalKeys(n[o],e))return o;return-1}_getSelectedIndexByHash(e,i){var n=this.options.keyHashIndices[e];return n&&n.length>1&&i&&(n=n.filter(function(o){return!i[o]})),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,i){var n;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):L(e)?n=this._getSelectedIndexByKey(e,i):n=this._getSelectedIndexByHash(e,i),n}_shiftSelectedKeyIndices(e){for(var i=e;i<this.options.selectedItemKeys.length;i++){var n=this.options.selectedItemKeys[i],o=Qi(n),r=this.options.keyHashIndices[o];if(r)for(var a=0;a<r.length;a++)r[a]>e&&r[a]--}}removeSelectedItem(e,i,n){if(!(!this.options.ignoreDisabledItems&&n)){var o=this._getKeyHash(e),r=!!i,a=this._indexOfSelectedItemKey(o,i);if(a<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[a]),r)||(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),L(o)||!this.options.keyHashIndices))return a;var s=this.options.keyHashIndices[o];return s&&(s.shift(),s.length||delete this.options.keyHashIndices[o],this._shiftSelectedKeyIndices(a)),a}}_updateAddedItemKeys(e,i){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(i[n]))}_updateRemovedItemKeys(e,i,n){for(var o=0;o<i.length;o++)this.isItemKeySelected(i[o])||(this.options.removedItemKeys.push(i[o]),this.options.removedItems.push(n[o]))}_isItemSelectionInProgress(e,i){var n=i&&this._lastRequestData&&this._requestInProgress();if(n){var o,r=(o=this._lastRequestData.addedItems)!==null&&o!==void 0?o:[];return r.includes(e)}else return!1}_getKeyHash(e){return this.options.equalByReference?e:Qi(e)}setSelectedItems(e,i){this._updateAddedItemKeys(e,i);var n=this.options.selectedItemKeys,o=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",i),this._updateRemovedItemKeys(e,n,o)}isItemDataSelected(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.options.keyOf(e);return this.isItemKeySelected(n,i)}isItemKeySelected(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,i.checkPending);if(!n){var o=this._getKeyHash(e),r=this._indexOfSelectedItemKey(o);n=r!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){var e=this.options.key(),i=this.getSelectedItemKeys(),n=this.options.filter();if(!i.length)return S().resolve([]);var o=new lg(i),r=o.getCombinedFilter(e,n,!0);return this._loadFilteredData(r)}};var cc=class{constructor(e){this.options=v(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new i0(this.options):new r0(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:D,key:D,keyOf:function(e){return e},load:function(){return new S().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:D,filter:D}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;var i=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,i&&this.onSelectionChanged()}setSelection(e,i){return this.selectedItemKeys(e,!1,!1,!1,i)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,i,n,o,r){var a;return e=(a=e)!==null&&a!==void 0?a:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,i,n,o,r)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,i){this._selectionStrategy.addSelectedItem(i,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,i){this._selectionStrategy.setSelectedItems(e,i)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e,i,n){var o,r,a,s=this.options.plainItems(),l=s[e],d,u=this.options.isVirtualPaging,c=(o=(r=this.options).allowLoadByRange)===null||o===void 0?void 0:o.call(r),p=this.options.alwaysSelectByShift,g,m=!1,y=!1,C=z=>z>=0&&!s.filter(ce=>ce.loadIndex===z).length;if(u&&f(l)&&(c&&(g=l.loadIndex-e,e=l.loadIndex),m=C(this._focusedItemIndex),f(this._shiftFocusedItemIndex)&&(y=C(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;var b=this.options.getItemData(l),O=this.options.keyOf(b);i=i||{};var k=i.shift;if(p===!1&&k&&(k=c!==!1||!m&&!y),k&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)c&&(m||y)?(a=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,a&&(d=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):a=this.changeItemSelectionWhenShiftKeyPressed(e,s,g);else if(i.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){var J=this._selectionStrategy.isItemDataSelected(b);this.options.mode==="single"&&this.clearSelectedItems(),J?this._removeSelectedItem(O):this._addSelectedItem(b,O)}a=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var U=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],O);(this.options.selectedItemKeys.length!==1||!U)&&(this._setSelectedItems([O],[b]),a=!0)}if(a)return A(d).done(()=>{this._focusedItemIndex=e,!n&&this.onSelectionChanged()}),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e,i){return this._selectionStrategy.isItemKeySelected(e,i)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){var i=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),n=new S,o=i.skip;return this.options.load(i).done(r=>{this.changeItemSelectionWhenShiftKeyPressed(e,r,o),n.resolve()}),n.promise()}changeItemSelectionWhenShiftKeyPressed(e,i,n){var o=!1,r,a=f(n),s=a?this._focusedItemIndex-n:this._focusedItemIndex,l=this.options.keyOf,d=i[s],u=this.options.getItemData(d),c=l(u),p=d&&this.isItemDataSelected(u);f(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var g,m,y,C;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(r=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,y=a?this._focusedItemIndex-n:this._focusedItemIndex,C=a?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=y;s!==C;s+=r)(a||this.isDataItem(i[s]))&&(m=l(this.options.getItemData(i[s])),this._removeSelectedItem(m),o=!0);if(e!==this._shiftFocusedItemIndex)for(r=e<this._shiftFocusedItemIndex?1:-1,y=a?e-n:e,C=a?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=y;s!==C;s+=r)(a||this.isDataItem(i[s]))&&(g=this.options.getItemData(i[s]),m=l(g),this._addSelectedItem(g,m),o=!0);return(a||this.isDataItem(d))&&!p&&(this._addSelectedItem(u,c),o=!0),o}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(e){for(var i=this._selectionStrategy.getSelectableItems(this.options.plainItems()),n=0;n<i.length;n++){var o=i[n];if(this.isDataItem(o)){var r=this.options.getItemData(o),a=this.options.keyOf(r),s=this.isItemSelected(a);!s&&!e&&this._addSelectedItem(r,a),s&&e&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new S().resolve()}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}};var OO="dxItemDeleting",a0=-1,nr=function(t){return t!==a0},iue=uG.inherit({_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return v(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:a0,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=pe(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(t){var e=t;return this.option("keyExpr")?e=this._keyGetter(t):this._dataController.store()&&(e=this._dataController.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new cc({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(i){(i.addedItemKeys.length||i.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(i.selectedItemKeys,i.selectedItems)),t._updateSelectedItems(i))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var i=t.option("items"),n=t._dataController.totalCount();return n>=0?n:t._getItemsCount(i)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(i){var n,o=t._dataController;return i.customQueryParams=(n=o.loadOptions())===null||n===void 0?void 0:n.customQueryParams,i.userData=o.userData(),o.store()?o.loadFromStore(i).done(function(r){if(!t._disposed){var a=sc(r).data;o.applyMapFunction(a)}}):new S().resolve(this.plainItems())},dataFields:function(){return t._dataController.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){return t.reduce((e,i)=>e+(i.items?this._getItemsCount(i.items):1),0)},_initEditStrategy:function(){var t=dc;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,i=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),x(t,function(n,o){var r=e._getIndexByKey(o);nr(r)&&i.push(r)}),e._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){t=t||this._chooseSelectOption();var e,i,n,o;switch(t){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),f(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(o=this.option("selectedItems")||[],i=o.length?this._editStrategy.getIndexByItemData(o[0]):a0,this.option("selectionRequired")&&!nr(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",o[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(o));break;case"selectedItem":if(e=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!nr(i))return this._syncSelectionOptions("selectedIndex");f(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",a0));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var r=this._getIndexByKey(n[0]);if(!nr(r))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return new S().resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=function(i){var n=this.option(i),o=f(n)&&n.length;return o||i in this._userOptions}.bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),i=t[0]===void 0?e[0]:t[0];return i===void 0&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(t))}else{var n=this._getKeysByItems(this.option("selectedItems")),o=this._selection.getSelectedItemKeys();this._compareKeys(o,n)||this._selection.setSelection(n)}return new S().resolve().promise()},_itemClickHandler:function(t){var e=new S().resolve(),i=this.callBase;this._createAction(function(n){var o;e=(o=this._itemSelectHandler(n.event))!==null&&o!==void 0?o:e}.bind(this),{validatingTargetName:"itemElement"})({itemElement:h(t.currentTarget),event:t}),e.always(()=>{i.apply(this,arguments)})},_itemSelectHandler:function(t){var e,i;if(this.option("selectByClick")){var n=t.currentTarget;return this.isItemSelected(n)?this.unselectItem(t.currentTarget):i=this.selectItem(t.currentTarget),(e=i)===null||e===void 0?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if(this.option("selectionMode")!=="none"){var e=h(t.itemElement),i=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(i);this._processSelectableItem(e,n)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelectionAttribute(t,String(e))},_updateSelectedItems:function(t){var e=this,i=t.addedItemKeys,n=t.removedItemKeys;if(e._rendered&&(i.length||n.length)){var o=e._selectionChangePromise;if(!e._rendering){var r=[],a,s=[];e._editStrategy.beginCache();for(var l=0;l<i.length;l++)a=e._getIndexByKey(i[l]),r.push(a),e._addSelection(a);for(var d=0;d<n.length;d++)a=e._getIndexByKey(n[d]),s.push(a),e._removeSelection(a);e._editStrategy.endCache(),e._updateSelection(r,s)}A(o).done(function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)})}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:D,_setAriaSelectionAttribute:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);nr(t)&&(this._processSelectableItem(e,!1),_.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);nr(t)&&(this._processSelectableItem(e,!0),_.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data(OO))return new S().resolve().promise();t.data(OO,!0);var e=new S,i={cancel:!1},n=this._itemEventHandler(t,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return A(n).always(function(o){var r=!n,a=!r&&n.state()==="resolved",s=!!arguments.length,l=r||a&&!s||a&&o;A(It(i.cancel)).always(function(){t.data(OO,!1)}).done(function(d){l&&!d?e.resolve():e.reject()}).fail(e.reject)}.bind(this)),e.promise()},_deleteItemFromDS:function(t){var e=this._dataController,i=new S,n=this.option("disabled"),o=e.store();if(!o)return new S().resolve().promise();if(!o.remove)throw X.Error("E1011");return this.option("disabled",!0),o.remove(e.keyOf(this._getItemData(t))).done(function(r){r!==void 0?i.resolve():i.reject()}).fail(function(){i.reject()}),i.always(function(){this.option("disabled",n)}.bind(this)),i},_tryRefreshLastPage:function(){var t=new S;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),i=t+1;i<e.length;i++)h(e[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof mi||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if(this.option("selectionMode")!=="none"){var e=this._editStrategy.getNormalizedIndex(t);if(nr(e)){var i=this._getKeyByIndex(e);if(!this._selection.isItemSelected(i)){if(this.option("selectionMode")==="single")return this._selection.setSelection([i]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,i],[i])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(nr(e)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var n=this._getKeyByIndex(e);this._selection.isItemSelected(n,{checkPending:!0})&&this._selection.deselect([n])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var i=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,i=new S,n=this._editStrategy.getItemElement(t),o=this._editStrategy.getNormalizedIndex(t),r=this._itemResponseWaitClass();return nr(o)?this._waitDeletingPrepare(n).done(function(){n.addClass(r);var a=e._extendActionArgs(n);e._deleteItemFromDS(n).done(function(){e._deleteItemElementByIndex(o),e._afterItemElementDeleted(n,a),e._tryRefreshLastPage().done(function(){i.resolveWith(e)})}).fail(function(){n.removeClass(r),i.rejectWith(e)})}).fail(function(){i.rejectWith(e)}):i.rejectWith(e),i.promise()},reorderItem:function(t,e){var i=new S,n=this,o=this._editStrategy,r=o.getItemElement(t),a=o.getItemElement(e),s=o.getNormalizedIndex(t),l=o.getNormalizedIndex(e),d=this._dataController.getDataSource()?"dataSource":"items",u=nr(s)&&nr(l)&&s!==l;return u?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){a[o.itemPlacementFunc(s,l)](r),o.moveItemAtIndexToIndex(s,l),this._updateIndicesAfterIndex(s),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),d==="items"&&n._simulateOptionChange(d),n._itemEventHandler(r,"onItemReordered",{fromIndex:o.getIndex(s),toIndex:o.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),Nn=iue;var s0="__dx_key__",hc=Nn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var t;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var i=this._dataController;i.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},(t=this._dataController)===null||t===void 0||t.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=h(),i=this.key();return this.itemElements().each((n,o)=>{var r=h(o),a=this._getItemData(r);if(i?Oa(i,this.keyOf(a),t):this._isItemEquals(a,t))return e=r,!1}),e},_dataSourceChangedHandler:function(t,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t[s0]&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch{return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var i=!1;return this.option("grouped")&&(t.length||(i=!0),x(t,(n,o)=>{o.type==="insert"&&(i=!0,x(e,(r,a)=>{if(o.data.key!==void 0&&o.data.key===a.key)return i=!1,!1}))})),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var t=o0(this._itemsCache,this._editStrategy.itemsGetter(),e=>e&&e[s0]!==void 0?e[s0]:this.keyOf(e),this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=v(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,i)=>({[s0]:t[i],data:e})))}catch{this._itemsCache=v([],t)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,i,n){if(n)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var o=e[Ia(t,e,i.key)];o&&ng(t,e,i.key,i.data).done(()=>{this._renderItem(e.indexOf(o),o,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(t,e,i,n){A(n||og(t,e,i.data,i.index)).done(()=>{var o;this._beforeItemElementInserted(i);var r=this._getItemContainer(i.data);this._renderItem((o=i.index)!==null&&o!==void 0?o:e.length,i.data,r),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(t){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:D,_removeByChange:function(t,e,i,n){var o=n?i.index:Ia(t,e,i.key),r=n?i.oldItem:e[o];if(r){var a=this._findItemElementByKey(i.key),s=this._extendActionArgs(a);this._waitDeletingPrepare(a).done(()=>{n?(this._updateIndicesAfterIndex(o-1),this._afterItemElementDeleted(a,s),this._updateSelectionAfterRemoveByChange(o)):(this._deleteItemElementByIndex(o),this._afterItemElementDeleted(a,s))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var i=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},o=this._dataController,r=o.paginate(),a=o.group();(r||a)&&(t=t.filter(s=>s.type!=="insert"||s.index!==void 0)),t.forEach(s=>this["_".concat(s.type,"ByChange")](n,i,s,e)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,i){var n=t.children(this._itemSelector()).get(i);I.insertElement(t.get(0),e.get(0),n)},_optionChanged:function(t){switch(t.name){case"items":var e=this._partialRefresh(t.value);e||this.callBase(t);break;case"dataSource":(!this.option("repaintChangesOnly")||!t.value)&&this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}});var sd=de();var _G=G(),nue=Xt.add,oue=Qn,rue=Zl,dg=new S,yG="link[rel=dx-theme]",aue="data-theme",sue="data-active",pG="dx-hairlines",xG="any",Ta,FO,Ma,Jn,Xs,gG=15e3,IO="dx.";function TO(){if(!W())return null;var t=h("<div>",Ta).addClass("dx-theme-marker").appendTo(Ta.documentElement),e;try{return e=_G.getComputedStyle(t.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,IO.length)!==IO)?null:e.substr(IO.length)}finally{t.remove()}}function fG(t){var e,i,n=!0;Xs=t;function o(){Xs=null,clearInterval(i),n=!0,sd.fire(),sd.empty(),dg.resolve()}if(mG()||!gG)o();else{if(!n){Xs&&(Xs=t);return}e=Date.now(),n=!1,i=setInterval(function(){var r=mG(),a=!r&&Date.now()-e>gG;a&&X.log("W0004",Xs),(r||a)&&o()},10)}}function mG(){if(!Xs)return!0;var t=Xs===xG;if(dg.state()==="resolved"&&t)return!0;var e=TO();return e&&t?!0:e===Xs}function lue(){var t=h(yG,Ta);t.length&&(Ma={},FO=h(Np("<link rel=stylesheet>"),Ta),t.each(function(){var e=h(this,Ta),i=e.attr(aue),n=e.attr("href"),o=e.attr(sue)==="true";Ma[i]={url:n,isActive:o}}),t.last().after(FO),t.remove())}function due(t){var e=t?t.split("."):[],i=null;if(Ma){if(t in Ma)return t;x(Ma,function(n,o){var r=n.split(".");if(!(e[0]&&r[0]!==e[0])&&!(e[1]&&e[1]!==r[1])&&!(e[2]&&e[2]!==r[2])&&((!i||o.isActive)&&(i=n),o.isActive))return!1})}return i}function uue(t){try{t!==Ta&&(Ma=null)}catch{Ma=null}Ta=t}function CG(t){t=t||{},uue(t.context||I.getDocument()),Ta&&(lue(),Jn=void 0,vi(t))}function vi(t){if(!arguments.length)return Jn=Jn||TO(),Jn;bG(oue()),t=t||{},typeof t=="string"&&(t={theme:t});var e=t._autoInit,i=t.loadCallback,n;if(Jn=due(t.theme||Jn),Jn&&(n=Ma[Jn]),i&&sd.add(i),n)FO.attr("href",Ma[Jn].url),(sd.has()||dg.state()!=="resolved"||t._forceTimeout)&&fG(Jn);else if(e)W()&&fG(xG),sd.fire(),sd.empty();else throw X.Error("E0021",Jn);dg.done(()=>SG(E_(),Jn))}function cue(t){t=t||vi();var e=[],i=t&&t.split(".");return i&&(e.push("dx-theme-"+i[0],"dx-theme-"+i[0]+"-typography"),i.length>1&&e.push("dx-color-scheme-"+i[1]+(He(t)?"-"+i[2]:""))),e}var l0;function SG(t,e){l0=cue(e).join(" "),h(t).addClass(l0),function(){var i=W()&&_G.devicePixelRatio;if(!(!i||i<2)){var n=h("<div>");n.css("border",".5px solid transparent"),h("body").append(n),oe(n)===1&&(h(t).addClass(pG),l0+=" "+pG),n.remove()}}()}function bG(t){h(t).removeClass(l0)}function MO(t,e){return e||(e=Jn||TO()),new RegExp(t).test(e)}function He(t){return MO("material",t)}function d0(t){return MO("generic",t)}function DG(t){return MO("compact",t)}function hue(t,e){var i=I.getDocument(),n=i.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=t,i.body.appendChild(n);var o=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var r=n.offsetWidth;return n.parentNode.removeChild(n),o!==r}function wG(t,e){return new Promise(i=>{var n=()=>{clearInterval(o),clearTimeout(r),i()},o=setInterval(()=>{hue(t,e)&&n()},15),r=setTimeout(n,2e3)})}function vG(){if(CG({_autoInit:!0,_forceTimeout:!0}),h(yG,Ta).length)throw X.Error("E0022")}W()?vG():nue(vG);rue.add(function(t,e){dg.done(function(){bG(e),SG(t)})});R.changed.add(function(){CG({_autoInit:!0})});var Aa=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Ra=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Ba=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var pue=(()=>{class t extends vo{get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get html(){return this._getOption("html")}set html(i){this._setOption("html",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(i){this._setOption("titleTemplate",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get onClick(){return this._getOption("onClick")}set onClick(i){this._setOption("onClick",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get baseSize(){return this._getOption("baseSize")}set baseSize(i){this._setOption("baseSize",i)}get box(){return this._getOption("box")}set box(i){this._setOption("box",i)}get ratio(){return this._getOption("ratio")}set ratio(i){this._setOption("ratio",i)}get shrink(){return this._getOption("shrink")}set shrink(i){this._setOption("shrink",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get beginGroup(){return this._getOption("beginGroup")}set beginGroup(i){this._setOption("beginGroup",i)}get closeMenuOnClick(){return this._getOption("closeMenuOnClick")}set closeMenuOnClick(i){this._setOption("closeMenuOnClick",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get selectable(){return this._getOption("selectable")}set selectable(i){this._setOption("selectable",i)}get selected(){return this._getOption("selected")}set selected(i){this._setOption("selected",i)}get colSpan(){return this._getOption("colSpan")}set colSpan(i){this._setOption("colSpan",i)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get dataField(){return this._getOption("dataField")}set dataField(i){this._setOption("dataField",i)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(i){this._setOption("editorOptions",i)}get editorType(){return this._getOption("editorType")}set editorType(i){this._setOption("editorType",i)}get helpText(){return this._getOption("helpText")}set helpText(i){this._setOption("helpText",i)}get isRequired(){return this._getOption("isRequired")}set isRequired(i){this._setOption("isRequired",i)}get itemType(){return this._getOption("itemType")}set itemType(i){this._setOption("itemType",i)}get label(){return this._getOption("label")}set label(i){this._setOption("label",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get validationRules(){return this._getOption("validationRules")}set validationRules(i){this._setOption("validationRules",i)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(i){this._setOption("visibleIndex",i)}get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(i){this._setOption("alignItemLabels",i)}get caption(){return this._getOption("caption")}set caption(i){this._setOption("caption",i)}get colCount(){return this._getOption("colCount")}set colCount(i){this._setOption("colCount",i)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(i){this._setOption("colCountByScreen",i)}get tabPanelOptions(){return this._getOption("tabPanelOptions")}set tabPanelOptions(i){this._setOption("tabPanelOptions",i)}get tabs(){return this._getOption("tabs")}set tabs(i){this._setOption("tabs",i)}get badge(){return this._getOption("badge")}set badge(i){this._setOption("badge",i)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(i){this._setOption("tabTemplate",i)}get buttonOptions(){return this._getOption("buttonOptions")}set buttonOptions(i){this._setOption("buttonOptions",i)}get horizontalAlignment(){return this._getOption("horizontalAlignment")}set horizontalAlignment(i){this._setOption("horizontalAlignment",i)}get verticalAlignment(){return this._getOption("verticalAlignment")}set verticalAlignment(i){this._setOption("verticalAlignment",i)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(i){this._setOption("locateInMenu",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(i){this._setOption("menuItemTemplate",i)}get options(){return this._getOption("options")}set options(i){this._setOption("options",i)}get showText(){return this._getOption("showText")}set showText(i){this._setOption("showText",i)}get widget(){return this._getOption("widget")}set widget(i){this._setOption("widget",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get imageAlt(){return this._getOption("imageAlt")}set imageAlt(i){this._setOption("imageAlt",i)}get imageSrc(){return this._getOption("imageSrc")}set imageSrc(i){this._setOption("imageSrc",i)}get acceptedValues(){return this._getOption("acceptedValues")}set acceptedValues(i){this._setOption("acceptedValues",i)}get formatName(){return this._getOption("formatName")}set formatName(i){this._setOption("formatName",i)}get formatValues(){return this._getOption("formatValues")}set formatValues(i){this._setOption("formatValues",i)}get key(){return this._getOption("key")}set key(i){this._setOption("key",i)}get showChevron(){return this._getOption("showChevron")}set showChevron(i){this._setOption("showChevron",i)}get linkAttr(){return this._getOption("linkAttr")}set linkAttr(i){this._setOption("linkAttr",i)}get url(){return this._getOption("url")}set url(i){this._setOption("url",i)}get heightRatio(){return this._getOption("heightRatio")}set heightRatio(i){this._setOption("heightRatio",i)}get widthRatio(){return this._getOption("widthRatio")}set widthRatio(i){this._setOption("widthRatio",i)}get expanded(){return this._getOption("expanded")}set expanded(i){this._setOption("expanded",i)}get hasItems(){return this._getOption("hasItems")}set hasItems(i){this._setOption("hasItems",i)}get id(){return this._getOption("id")}set id(i){this._setOption("id",i)}get parentId(){return this._getOption("parentId")}set parentId(i){this._setOption("parentId",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var EG=(()=>{class t extends vo{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get message(){return this._getOption("message")}set message(i){this._setOption("message",i)}get trim(){return this._getOption("trim")}set trim(i){this._setOption("trim",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get ignoreEmptyValue(){return this._getOption("ignoreEmptyValue")}set ignoreEmptyValue(i){this._setOption("ignoreEmptyValue",i)}get max(){return this._getOption("max")}set max(i){this._setOption("max",i)}get min(){return this._getOption("min")}set min(i){this._setOption("min",i)}get reevaluate(){return this._getOption("reevaluate")}set reevaluate(i){this._setOption("reevaluate",i)}get validationCallback(){return this._getOption("validationCallback")}set validationCallback(i){this._setOption("validationCallback",i)}get comparisonTarget(){return this._getOption("comparisonTarget")}set comparisonTarget(i){this._setOption("comparisonTarget",i)}get comparisonType(){return this._getOption("comparisonType")}set comparisonType(i){this._setOption("comparisonType",i)}get pattern(){return this._getOption("pattern")}set pattern(i){this._setOption("pattern",i)}get _optionPath(){return"validationRules"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-validation-rule"]],inputs:{message:"message",trim:"trim",type:"type",ignoreEmptyValue:"ignoreEmptyValue",max:"max",min:"min",reevaluate:"reevaluate",validationCallback:"validationCallback",comparisonTarget:"comparisonTarget",comparisonType:"comparisonType",pattern:"pattern"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),AO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var gue=(()=>{class t extends vo{get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(i){this._setOption("alignItemLabels",i)}get badge(){return this._getOption("badge")}set badge(i){this._setOption("badge",i)}get colCount(){return this._getOption("colCount")}set colCount(i){this._setOption("colCount",i)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(i){this._setOption("colCountByScreen",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(i){this._setOption("tabTemplate",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get commands(){return this._getOption("commands")}set commands(i){this._setOption("commands",i)}get groups(){return this._getOption("groups")}set groups(i){this._setOption("groups",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var fue=(()=>{class t extends vo{get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var OG=(()=>{class t extends fue{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"commands"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-command"]],contentQueries:function(i,n,o){if(i&1&&_t(o,ld,4),i&2){let r;ot(r=rt())&&(n.itemsChildren=r)}},inputs:{icon:"icon",items:"items",location:"location",name:"name",text:"text"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var mue=(()=>{class t extends vo{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get commands(){return this._getOption("commands")}set commands(i){this._setOption("commands",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get category(){return this._getOption("category")}set category(i){this._setOption("category",i)}get displayMode(){return this._getOption("displayMode")}set displayMode(i){this._setOption("displayMode",i)}get expanded(){return this._getOption("expanded")}set expanded(i){this._setOption("expanded",i)}get shapes(){return this._getOption("shapes")}set shapes(i){this._setOption("shapes",i)}get _optionPath(){return"groups"}get commandsChildren(){return this._getOption("commands")}set commandsChildren(i){this.setChildren("commands",i)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-group"]],contentQueries:function(i,n,o){if(i&1&&_t(o,OG,4),i&2){let r;ot(r=rt())&&(n.commandsChildren=r)}},inputs:{commands:"commands",title:"title",category:"category",displayMode:"displayMode",expanded:"expanded",shapes:"shapes"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var vue=["*"],_ue=(()=>{class t extends gue{constructor(i,n,o,r,a,s){super(),this.renderer=o,this.document=r,this.element=s,i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),a.setHost(this)}get _optionPath(){return"tabs"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}get commandsChildren(){return this._getOption("commands")}set commandsChildren(i){this.setChildren("commands",i)}get groupsChildren(){return this._getOption("groups")}set groupsChildren(i){this.setChildren("groups",i)}setTemplate(i){this.template=i}ngAfterViewInit(){S_(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1),B(ya),B(ft),B(Ft,1),B(dt))},t.\u0275cmp=Se({type:t,selectors:[["dxi-tab"]],contentQueries:function(i,n,o){if(i&1&&(_t(o,ld,4),_t(o,OG,4),_t(o,mue,4)),i&2){let r;ot(r=rt())&&(n.itemsChildren=r),ot(r=rt())&&(n.commandsChildren=r),ot(r=rt())&&(n.groupsChildren=r)}},inputs:{alignItemLabels:"alignItemLabels",badge:"badge",colCount:"colCount",colCountByScreen:"colCountByScreen",disabled:"disabled",icon:"icon",items:"items",tabTemplate:"tabTemplate",template:"template",title:"title",commands:"commands",groups:"groups",name:"name"},features:[bt([ie,Ft]),Le],ngContentSelectors:vue,decls:1,vars:0,template:function(i,n){i&1&&(Tn(),qi(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),t})(),RO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var yue=(()=>{class t extends vo{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get lat(){return this._getOption("lat")}set lat(i){this._setOption("lat",i)}get lng(){return this._getOption("lng")}set lng(i){this._setOption("lng",i)}get col(){return this._getOption("col")}set col(i){this._setOption("col",i)}get colspan(){return this._getOption("colspan")}set colspan(i){this._setOption("colspan",i)}get row(){return this._getOption("row")}set row(i){this._setOption("row",i)}get rowspan(){return this._getOption("rowspan")}set rowspan(i){this._setOption("rowspan",i)}get screen(){return this._getOption("screen")}set screen(i){this._setOption("screen",i)}get _optionPath(){return"location"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-location"]],inputs:{lat:"lat",lng:"lng",col:"col",colspan:"colspan",row:"row",rowspan:"rowspan",screen:"screen"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var xue=["*"],ld=(()=>{class t extends pue{constructor(i,n,o,r,a,s){super(),this.renderer=o,this.document=r,this.element=s,i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),a.setHost(this)}get _optionPath(){return"items"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(i){this.setChildren("validationRules",i)}get tabsChildren(){return this._getOption("tabs")}set tabsChildren(i){this.setChildren("tabs",i)}get locationChildren(){return this._getOption("location")}set locationChildren(i){this.setChildren("location",i)}setTemplate(i){this.template=i}ngAfterViewInit(){S_(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1),B(ya),B(ft),B(Ft,1),B(dt))},t.\u0275cmp=Se({type:t,selectors:[["dxi-item"]],contentQueries:function(i,n,o){if(i&1&&(_t(o,t,4),_t(o,EG,4),_t(o,_ue,4),_t(o,yue,4)),i&2){let r;ot(r=rt())&&(n.itemsChildren=r),ot(r=rt())&&(n.validationRulesChildren=r),ot(r=rt())&&(n.tabsChildren=r),ot(r=rt())&&(n.locationChildren=r)}},inputs:{disabled:"disabled",html:"html",icon:"icon",template:"template",text:"text",title:"title",titleTemplate:"titleTemplate",visible:"visible",onClick:"onClick",stylingMode:"stylingMode",type:"type",baseSize:"baseSize",box:"box",ratio:"ratio",shrink:"shrink",elementAttr:"elementAttr",hint:"hint",beginGroup:"beginGroup",closeMenuOnClick:"closeMenuOnClick",items:"items",selectable:"selectable",selected:"selected",colSpan:"colSpan",cssClass:"cssClass",dataField:"dataField",editorOptions:"editorOptions",editorType:"editorType",helpText:"helpText",isRequired:"isRequired",itemType:"itemType",label:"label",name:"name",validationRules:"validationRules",visibleIndex:"visibleIndex",alignItemLabels:"alignItemLabels",caption:"caption",colCount:"colCount",colCountByScreen:"colCountByScreen",tabPanelOptions:"tabPanelOptions",tabs:"tabs",badge:"badge",tabTemplate:"tabTemplate",buttonOptions:"buttonOptions",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",widget:"widget",height:"height",width:"width",imageAlt:"imageAlt",imageSrc:"imageSrc",acceptedValues:"acceptedValues",formatName:"formatName",formatValues:"formatValues",key:"key",showChevron:"showChevron",linkAttr:"linkAttr",url:"url",heightRatio:"heightRatio",widthRatio:"widthRatio",expanded:"expanded",hasItems:"hasItems",id:"id",parentId:"parentId"},features:[bt([ie,Ft]),Le],ngContentSelectors:xue,decls:1,vars:0,template:function(i,n){i&1&&(Tn(),qi(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),t})(),pc=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Cue=(()=>{class t extends vo{get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get options(){return this._getOption("options")}set options(i){this._setOption("options",i)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get onClick(){return this._getOption("onClick")}set onClick(i){this._setOption("onClick",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var ug=(()=>{class t extends Cue{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"buttons"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-button"]],inputs:{location:"location",name:"name",options:"options",cssClass:"cssClass",disabled:"disabled",hint:"hint",icon:"icon",onClick:"onClick",template:"template",text:"text",visible:"visible"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),gc=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var BO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var kO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var PO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var ka=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var IG=(()=>{class t extends Hs{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get allowSearch(){return this._getOption("allowSearch")}set allowSearch(i){this._setOption("allowSearch",i)}get emptyPanelText(){return this._getOption("emptyPanelText")}set emptyPanelText(i){this._setOption("emptyPanelText",i)}get enabled(){return this._getOption("enabled")}set enabled(i){this._setOption("enabled",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get mode(){return this._getOption("mode")}set mode(i){this._setOption("mode",i)}get position(){return this._getOption("position")}set position(i){this._setOption("position",i)}get search(){return this._getOption("search")}set search(i){this._setOption("search",i)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(i){this._setOption("searchTimeout",i)}get selection(){return this._getOption("selection")}set selection(i){this._setOption("selection",i)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(i){this._setOption("sortOrder",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get _optionPath(){return"columnChooser"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-column-chooser"]],inputs:{allowSearch:"allowSearch",emptyPanelText:"emptyPanelText",enabled:"enabled",height:"height",mode:"mode",position:"position",search:"search",searchTimeout:"searchTimeout",selection:"selection",sortOrder:"sortOrder",title:"title",width:"width"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),NO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Sue=(()=>{class t extends vo{get alignment(){return this._getOption("alignment")}set alignment(i){this._setOption("alignment",i)}get allowEditing(){return this._getOption("allowEditing")}set allowEditing(i){this._setOption("allowEditing",i)}get allowExporting(){return this._getOption("allowExporting")}set allowExporting(i){this._setOption("allowExporting",i)}get allowFiltering(){return this._getOption("allowFiltering")}set allowFiltering(i){this._setOption("allowFiltering",i)}get allowFixing(){return this._getOption("allowFixing")}set allowFixing(i){this._setOption("allowFixing",i)}get allowGrouping(){return this._getOption("allowGrouping")}set allowGrouping(i){this._setOption("allowGrouping",i)}get allowHeaderFiltering(){return this._getOption("allowHeaderFiltering")}set allowHeaderFiltering(i){this._setOption("allowHeaderFiltering",i)}get allowHiding(){return this._getOption("allowHiding")}set allowHiding(i){this._setOption("allowHiding",i)}get allowReordering(){return this._getOption("allowReordering")}set allowReordering(i){this._setOption("allowReordering",i)}get allowResizing(){return this._getOption("allowResizing")}set allowResizing(i){this._setOption("allowResizing",i)}get allowSearch(){return this._getOption("allowSearch")}set allowSearch(i){this._setOption("allowSearch",i)}get allowSorting(){return this._getOption("allowSorting")}set allowSorting(i){this._setOption("allowSorting",i)}get autoExpandGroup(){return this._getOption("autoExpandGroup")}set autoExpandGroup(i){this._setOption("autoExpandGroup",i)}get buttons(){return this._getOption("buttons")}set buttons(i){this._setOption("buttons",i)}get calculateCellValue(){return this._getOption("calculateCellValue")}set calculateCellValue(i){this._setOption("calculateCellValue",i)}get calculateDisplayValue(){return this._getOption("calculateDisplayValue")}set calculateDisplayValue(i){this._setOption("calculateDisplayValue",i)}get calculateFilterExpression(){return this._getOption("calculateFilterExpression")}set calculateFilterExpression(i){this._setOption("calculateFilterExpression",i)}get calculateGroupValue(){return this._getOption("calculateGroupValue")}set calculateGroupValue(i){this._setOption("calculateGroupValue",i)}get calculateSortValue(){return this._getOption("calculateSortValue")}set calculateSortValue(i){this._setOption("calculateSortValue",i)}get caption(){return this._getOption("caption")}set caption(i){this._setOption("caption",i)}get cellTemplate(){return this._getOption("cellTemplate")}set cellTemplate(i){this._setOption("cellTemplate",i)}get columns(){return this._getOption("columns")}set columns(i){this._setOption("columns",i)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get customizeText(){return this._getOption("customizeText")}set customizeText(i){this._setOption("customizeText",i)}get dataField(){return this._getOption("dataField")}set dataField(i){this._setOption("dataField",i)}get dataType(){return this._getOption("dataType")}set dataType(i){this._setOption("dataType",i)}get editCellTemplate(){return this._getOption("editCellTemplate")}set editCellTemplate(i){this._setOption("editCellTemplate",i)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(i){this._setOption("editorOptions",i)}get encodeHtml(){return this._getOption("encodeHtml")}set encodeHtml(i){this._setOption("encodeHtml",i)}get falseText(){return this._getOption("falseText")}set falseText(i){this._setOption("falseText",i)}get filterOperations(){return this._getOption("filterOperations")}set filterOperations(i){this._setOption("filterOperations",i)}get filterType(){return this._getOption("filterType")}set filterType(i){this._setOption("filterType",i)}get filterValue(){return this._getOption("filterValue")}set filterValue(i){this._setOption("filterValue",i)}get filterValues(){return this._getOption("filterValues")}set filterValues(i){this._setOption("filterValues",i)}get fixed(){return this._getOption("fixed")}set fixed(i){this._setOption("fixed",i)}get fixedPosition(){return this._getOption("fixedPosition")}set fixedPosition(i){this._setOption("fixedPosition",i)}get format(){return this._getOption("format")}set format(i){this._setOption("format",i)}get formItem(){return this._getOption("formItem")}set formItem(i){this._setOption("formItem",i)}get groupCellTemplate(){return this._getOption("groupCellTemplate")}set groupCellTemplate(i){this._setOption("groupCellTemplate",i)}get groupIndex(){return this._getOption("groupIndex")}set groupIndex(i){this._setOption("groupIndex",i)}get headerCellTemplate(){return this._getOption("headerCellTemplate")}set headerCellTemplate(i){this._setOption("headerCellTemplate",i)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(i){this._setOption("headerFilter",i)}get hidingPriority(){return this._getOption("hidingPriority")}set hidingPriority(i){this._setOption("hidingPriority",i)}get isBand(){return this._getOption("isBand")}set isBand(i){this._setOption("isBand",i)}get lookup(){return this._getOption("lookup")}set lookup(i){this._setOption("lookup",i)}get minWidth(){return this._getOption("minWidth")}set minWidth(i){this._setOption("minWidth",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get ownerBand(){return this._getOption("ownerBand")}set ownerBand(i){this._setOption("ownerBand",i)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(i){this._setOption("renderAsync",i)}get selectedFilterOperation(){return this._getOption("selectedFilterOperation")}set selectedFilterOperation(i){this._setOption("selectedFilterOperation",i)}get setCellValue(){return this._getOption("setCellValue")}set setCellValue(i){this._setOption("setCellValue",i)}get showEditorAlways(){return this._getOption("showEditorAlways")}set showEditorAlways(i){this._setOption("showEditorAlways",i)}get showInColumnChooser(){return this._getOption("showInColumnChooser")}set showInColumnChooser(i){this._setOption("showInColumnChooser",i)}get showWhenGrouped(){return this._getOption("showWhenGrouped")}set showWhenGrouped(i){this._setOption("showWhenGrouped",i)}get sortIndex(){return this._getOption("sortIndex")}set sortIndex(i){this._setOption("sortIndex",i)}get sortingMethod(){return this._getOption("sortingMethod")}set sortingMethod(i){this._setOption("sortingMethod",i)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(i){this._setOption("sortOrder",i)}get trueText(){return this._getOption("trueText")}set trueText(i){this._setOption("trueText",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get validationRules(){return this._getOption("validationRules")}set validationRules(i){this._setOption("validationRules",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(i){this._setOption("visibleIndex",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var u0=(()=>{class t extends Sue{constructor(i,n){super(),this._createEventEmitters([{emit:"filterValueChange"},{emit:"filterValuesChange"},{emit:"groupIndexChange"},{emit:"selectedFilterOperationChange"},{emit:"sortIndexChange"},{emit:"sortOrderChange"},{emit:"visibleChange"},{emit:"visibleIndexChange"}]),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"columns"}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(i){this.setChildren("buttons",i)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(i){this.setChildren("columns",i)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(i){this.setChildren("validationRules",i)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-column"]],contentQueries:function(i,n,o){if(i&1&&(_t(o,ug,4),_t(o,t,4),_t(o,EG,4)),i&2){let r;ot(r=rt())&&(n.buttonsChildren=r),ot(r=rt())&&(n.columnsChildren=r),ot(r=rt())&&(n.validationRulesChildren=r)}},inputs:{alignment:"alignment",allowEditing:"allowEditing",allowExporting:"allowExporting",allowFiltering:"allowFiltering",allowFixing:"allowFixing",allowGrouping:"allowGrouping",allowHeaderFiltering:"allowHeaderFiltering",allowHiding:"allowHiding",allowReordering:"allowReordering",allowResizing:"allowResizing",allowSearch:"allowSearch",allowSorting:"allowSorting",autoExpandGroup:"autoExpandGroup",buttons:"buttons",calculateCellValue:"calculateCellValue",calculateDisplayValue:"calculateDisplayValue",calculateFilterExpression:"calculateFilterExpression",calculateGroupValue:"calculateGroupValue",calculateSortValue:"calculateSortValue",caption:"caption",cellTemplate:"cellTemplate",columns:"columns",cssClass:"cssClass",customizeText:"customizeText",dataField:"dataField",dataType:"dataType",editCellTemplate:"editCellTemplate",editorOptions:"editorOptions",encodeHtml:"encodeHtml",falseText:"falseText",filterOperations:"filterOperations",filterType:"filterType",filterValue:"filterValue",filterValues:"filterValues",fixed:"fixed",fixedPosition:"fixedPosition",format:"format",formItem:"formItem",groupCellTemplate:"groupCellTemplate",groupIndex:"groupIndex",headerCellTemplate:"headerCellTemplate",headerFilter:"headerFilter",hidingPriority:"hidingPriority",isBand:"isBand",lookup:"lookup",minWidth:"minWidth",name:"name",ownerBand:"ownerBand",renderAsync:"renderAsync",selectedFilterOperation:"selectedFilterOperation",setCellValue:"setCellValue",showEditorAlways:"showEditorAlways",showInColumnChooser:"showInColumnChooser",showWhenGrouped:"showWhenGrouped",sortIndex:"sortIndex",sortingMethod:"sortingMethod",sortOrder:"sortOrder",trueText:"trueText",type:"type",validationRules:"validationRules",visible:"visible",visibleIndex:"visibleIndex",width:"width"},outputs:{filterValueChange:"filterValueChange",filterValuesChange:"filterValuesChange",groupIndexChange:"groupIndexChange",selectedFilterOperationChange:"selectedFilterOperationChange",sortIndexChange:"sortIndexChange",sortOrderChange:"sortOrderChange",visibleChange:"visibleChange",visibleIndexChange:"visibleIndexChange"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),LO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var VO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var HO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var WO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var GO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var bue=["*"],FG=(()=>{class t extends vo{constructor(i,n,o,r,a,s){super(),this.renderer=o,this.document=r,this.element=s,i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),a.setHost(this)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get html(){return this._getOption("html")}set html(i){this._setOption("html",i)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(i){this._setOption("locateInMenu",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(i){this._setOption("menuItemTemplate",i)}get options(){return this._getOption("options")}set options(i){this._setOption("options",i)}get showText(){return this._getOption("showText")}set showText(i){this._setOption("showText",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get toolbar(){return this._getOption("toolbar")}set toolbar(i){this._setOption("toolbar",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get widget(){return this._getOption("widget")}set widget(i){this._setOption("widget",i)}get _optionPath(){return"toolbarItems"}setTemplate(i){this.template=i}ngAfterViewInit(){S_(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1),B(ya),B(ft),B(Ft,1),B(dt))},t.\u0275cmp=Se({type:t,selectors:[["dxi-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},features:[bt([ie,Ft]),Le],ngContentSelectors:bue,decls:1,vars:0,template:function(i,n){i&1&&(Tn(),qi(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),t})(),Pa=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var zO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var UO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var jO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Due=(()=>{class t extends vo{get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(i){this._setOption("locateInMenu",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get options(){return this._getOption("options")}set options(i){this._setOption("options",i)}get showText(){return this._getOption("showText")}set showText(i){this._setOption("showText",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get widget(){return this._getOption("widget")}set widget(i){this._setOption("widget",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var wue=(()=>{class t extends Due{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"fileSelectionItems"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-file-selection-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",icon:"icon",locateInMenu:"locateInMenu",location:"location",name:"name",options:"options",showText:"showText",text:"text",visible:"visible",widget:"widget"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var $O=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var KO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var qO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var YO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Eue=(()=>{class t extends Hs{get applyFilter(){return this._getOption("applyFilter")}set applyFilter(i){this._setOption("applyFilter",i)}get applyFilterText(){return this._getOption("applyFilterText")}set applyFilterText(i){this._setOption("applyFilterText",i)}get betweenEndText(){return this._getOption("betweenEndText")}set betweenEndText(i){this._setOption("betweenEndText",i)}get betweenStartText(){return this._getOption("betweenStartText")}set betweenStartText(i){this._setOption("betweenStartText",i)}get operationDescriptions(){return this._getOption("operationDescriptions")}set operationDescriptions(i){this._setOption("operationDescriptions",i)}get resetOperationText(){return this._getOption("resetOperationText")}set resetOperationText(i){this._setOption("resetOperationText",i)}get showAllText(){return this._getOption("showAllText")}set showAllText(i){this._setOption("showAllText",i)}get showOperationChooser(){return this._getOption("showOperationChooser")}set showOperationChooser(i){this._setOption("showOperationChooser",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var TG=(()=>{class t extends Eue{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"filterRow"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-filter-row"]],inputs:{applyFilter:"applyFilter",applyFilterText:"applyFilterText",betweenEndText:"betweenEndText",betweenStartText:"betweenStartText",operationDescriptions:"operationDescriptions",resetOperationText:"resetOperationText",showAllText:"showAllText",showOperationChooser:"showOperationChooser",visible:"visible"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),QO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var JO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var XO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var ZO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Na=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var eI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var tI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var MG=(()=>{class t extends Hs{constructor(i,n){super(),this._createEventEmitters([{emit:"visibleChange"}]),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get allowColumnDragging(){return this._getOption("allowColumnDragging")}set allowColumnDragging(i){this._setOption("allowColumnDragging",i)}get emptyPanelText(){return this._getOption("emptyPanelText")}set emptyPanelText(i){this._setOption("emptyPanelText",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get _optionPath(){return"groupPanel"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-group-panel"]],inputs:{allowColumnDragging:"allowColumnDragging",emptyPanelText:"emptyPanelText",visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),iI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var AG=(()=>{class t extends Hs{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get allowCollapsing(){return this._getOption("allowCollapsing")}set allowCollapsing(i){this._setOption("allowCollapsing",i)}get autoExpandAll(){return this._getOption("autoExpandAll")}set autoExpandAll(i){this._setOption("autoExpandAll",i)}get contextMenuEnabled(){return this._getOption("contextMenuEnabled")}set contextMenuEnabled(i){this._setOption("contextMenuEnabled",i)}get expandMode(){return this._getOption("expandMode")}set expandMode(i){this._setOption("expandMode",i)}get texts(){return this._getOption("texts")}set texts(i){this._setOption("texts",i)}get _optionPath(){return"grouping"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-grouping"]],inputs:{allowCollapsing:"allowCollapsing",autoExpandAll:"autoExpandAll",contextMenuEnabled:"contextMenuEnabled",expandMode:"expandMode",texts:"texts"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),nI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Oue=(()=>{class t extends Hs{get allowSearch(){return this._getOption("allowSearch")}set allowSearch(i){this._setOption("allowSearch",i)}get allowSelectAll(){return this._getOption("allowSelectAll")}set allowSelectAll(i){this._setOption("allowSelectAll",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get groupInterval(){return this._getOption("groupInterval")}set groupInterval(i){this._setOption("groupInterval",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get search(){return this._getOption("search")}set search(i){this._setOption("search",i)}get searchMode(){return this._getOption("searchMode")}set searchMode(i){this._setOption("searchMode",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(i){this._setOption("searchTimeout",i)}get texts(){return this._getOption("texts")}set texts(i){this._setOption("texts",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get showRelevantValues(){return this._getOption("showRelevantValues")}set showRelevantValues(i){this._setOption("showRelevantValues",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var RG=(()=>{class t extends Oue{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"headerFilter"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-header-filter"]],inputs:{allowSearch:"allowSearch",allowSelectAll:"allowSelectAll",dataSource:"dataSource",groupInterval:"groupInterval",height:"height",search:"search",searchMode:"searchMode",width:"width",searchTimeout:"searchTimeout",texts:"texts",visible:"visible",showRelevantValues:"showRelevantValues"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),oI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var La=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var rI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var aI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var sI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var lI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var dI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Va=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Ha=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var uI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var cI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var hI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var pI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var gI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Wa=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var fI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var mI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Iue=(()=>{class t extends Hs{get columnRenderingMode(){return this._getOption("columnRenderingMode")}set columnRenderingMode(i){this._setOption("columnRenderingMode",i)}get mode(){return this._getOption("mode")}set mode(i){this._setOption("mode",i)}get preloadEnabled(){return this._getOption("preloadEnabled")}set preloadEnabled(i){this._setOption("preloadEnabled",i)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(i){this._setOption("renderAsync",i)}get rowRenderingMode(){return this._getOption("rowRenderingMode")}set rowRenderingMode(i){this._setOption("rowRenderingMode",i)}get scrollByContent(){return this._getOption("scrollByContent")}set scrollByContent(i){this._setOption("scrollByContent",i)}get scrollByThumb(){return this._getOption("scrollByThumb")}set scrollByThumb(i){this._setOption("scrollByThumb",i)}get showScrollbar(){return this._getOption("showScrollbar")}set showScrollbar(i){this._setOption("showScrollbar",i)}get useNative(){return this._getOption("useNative")}set useNative(i){this._setOption("useNative",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var BG=(()=>{class t extends Iue{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"scrolling"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-scrolling"]],inputs:{columnRenderingMode:"columnRenderingMode",mode:"mode",preloadEnabled:"preloadEnabled",renderAsync:"renderAsync",rowRenderingMode:"rowRenderingMode",scrollByContent:"scrollByContent",scrollByThumb:"scrollByThumb",showScrollbar:"showScrollbar",useNative:"useNative"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),vI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var _I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var yI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var xI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Ga=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var kG=(()=>{class t extends vo{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get groupColumn(){return this._getOption("groupColumn")}set groupColumn(i){this._setOption("groupColumn",i)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(i){this._setOption("sortOrder",i)}get summaryItem(){return this._getOption("summaryItem")}set summaryItem(i){this._setOption("summaryItem",i)}get _optionPath(){return"sortByGroupSummaryInfo"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxi-sort-by-group-summary-info"]],inputs:{groupColumn:"groupColumn",sortOrder:"sortOrder",summaryItem:"summaryItem"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),CI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var SI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var bI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var DI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var wI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var EI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var OI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var za=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var Fue=(()=>{class t extends Hs{get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get fileSelectionItems(){return this._getOption("fileSelectionItems")}set fileSelectionItems(i){this._setOption("fileSelectionItems",i)}get container(){return this._getOption("container")}set container(i){this._setOption("container",i)}get multiline(){return this._getOption("multiline")}set multiline(i){this._setOption("multiline",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Ai(t)))(n||t)}}(),t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var PG=(()=>{class t extends Fue{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"toolbar"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}get fileSelectionItemsChildren(){return this._getOption("fileSelectionItems")}set fileSelectionItemsChildren(i){this.setChildren("fileSelectionItems",i)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(B(ie,5),B(ie,1))},t.\u0275cmp=Se({type:t,selectors:[["dxo-toolbar"]],contentQueries:function(i,n,o){if(i&1&&(_t(o,ld,4),_t(o,wue,4)),i&2){let r;ot(r=rt())&&(n.itemsChildren=r),ot(r=rt())&&(n.fileSelectionItemsChildren=r)}},inputs:{disabled:"disabled",items:"items",visible:"visible",fileSelectionItems:"fileSelectionItems",container:"container",multiline:"multiline"},features:[bt([ie]),Le],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),II=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var FI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({}),t})();var or=function(t){return t===0?0:t/Math.abs(t)},zt=function(t,e,i){var n=!e&&e!==0,o=!i&&i!==0;return n&&(e=o?t:Math.min(t,i)),o&&(i=n?t:Math.max(t,e)),Math.min(Math.max(t,e),i)},Ln=function(t,e,i){return t>=e&&t<=i};function NG(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function Mue(t){var e=t.toExponential().split("e"),i=parseFloat(e[0]),n=parseInt(e[1]);return{exponent:n,mantissa:i}}function c0(t,e){var i=Mue(t);return parseFloat("".concat(i.mantissa,"e").concat(i.exponent+e))}function Aue(){return 3e-4.toPrecision(3)!=="0.000300"}function cg(t,e){var i=Rue(e||0)+2,n=t.toString().split("."),o=t,r=Math.abs(t),a,s=n_(t),l=r>1?10:0;return n.length===1?t:(s||(n_(e)&&(i=n[0].length+NG(e)),t=r,t=t-Math.floor(t)+l),i=Aue()&&NG(t)>6||i>7?15:7,!s&&(a=parseFloat(t.toPrecision(i)).toString().split("."),a[0]===l.toString())?parseFloat(n[0]+"."+a[1]):parseFloat(o.toPrecision(i)))}function Rue(t){var e=t.toString();if(e.indexOf(".")<0)return 0;var i=e.split("."),n=i[1].indexOf("e");return n>=0?n:i[1].length}var Bue=10;function kue(t){var e=or(t);return e*Math.round(Math.abs(t))}function Pue(t,e){var i=Math.pow(Bue,e),n=c0(t,e);return kue(n)/i}function h0(t,e){var i=e||0,n=i>0?Pue(...arguments):t;return n.toFixed(i)}var Nue={thousandsSeparator:",",decimalSeparator:"."},LG="'",Lue=15,Vue=2;function Hue(t){return t.split(",").slice(1).map(function(e){var i=0;return e.split("").filter(function(n,o){i+=n==="'";var r=n==="#"||n==="0",a=i%2;return r&&!a}).length})}function Wue(t){var e=t.split(";");return e.length===1&&e.push("-"+e[0]),e}function TI(t){return t.toString().split("").reverse().join("")}function Gue(t){return t.indexOf("%")!==-1&&!t.match(/'[^']*%[^']*'/g)}function jG(t){return t.replace(/'.+'/g,"")}function VG(t){if(!t)return 0;var e=jG(t);return e.length-e.replace(/[#]/g,"").length}function HG(t){if(!t)return 0;var e=jG(t);return e.length-e.replace(/[0]/g,"").length}function WG(t,e,i){if(!t)return"";for(t.length>i&&(t=t.substr(0,i));t.length>e&&t.slice(-1)==="0";)t=t.substr(0,t.length-1);for(;t.length<e;)t+="0";return t}function zue(t,e,i){if(!e.length)return t;for(var n=[],o=0;t;){var r=e[o];if(!r)break;n.push(t.slice(0,r)),t=t.slice(r),o<e.length-1&&o++}return n.join(i)}function GG(t,e){return t.split(LG).map(function(i,n){var o=n%2;return!i&&o?LG:o?i:i.replace(/[,#0]+/,e)}).join("")}function Uue(t){for(var e=!1,i=0;i<t.length;i++)if(t[i]==="'"&&(e=!e),t[i]==="."&&!e)return i;return t.length}function $G(t,e){return e=e||Nue,function(i){if(typeof i!="number"||isNaN(i))return"";var n=Wue(t),o=1/i===1/0,r=i>0||o,a=n[r?0:1],s=Uue(a),l=[a.substr(0,s),a.substr(s+1)],d=HG(l[1]),u=d+VG(l[1]);Gue(a)&&(i=c0(i,Vue)),r||(i=-i);var c=HG(l[0]),p=VG(l[0])||e.unlimitedIntegerDigits?void 0:c,g=Math.floor(i).toString().length,m=zt(u,0,Lue-g),y=Hue(l[0]).reverse(),C=h0(i,m<0?0:m).split("."),b=WG(TI(C[0]),c,p),O=WG(C[1],d,u);b=zue(b,y,e.thousandsSeparator);var k=TI(GG(TI(l[0]),b)),J=u?GG(l[1],O):"",U=k+(J.match(/\d/)?e.decimalSeparator:"")+J;return U}}function hg(t,e,i){var n=(e?.01:1)*parseFloat(t)||0;return i?-n:n}function zG(t,e,i,n){var o=t,r,a,s;do s&&(r=a.length===s.length?"0":"1",t=n?r+t:t+r),a=s||e(hg(o,i)),o=n?"1"+o:o+"1",s=e(hg(o,i));while(a!==s&&(n?a.length===s.length:a.length<=s.length));if(n&&s.length>a.length){var l=e(12345).indexOf("12345")===-1;do t="1"+t;while(l&&hg(t,i)<1e5)}return t}function UG(t,e,i,n){var o=e(hg(t,i,n)),r=t.split("."),a=r[0]+".3"+r[1].slice(1),s=hg(a,i,n),l=e(s).indexOf("3")-1;return o=o.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(o=o.slice(0,l)+"."+o.slice(l+1)),o=o.replace(/1+/,"1").replace(/1/g,"#"),i||(o=o.replace(/%/g,"'%'")),o}function KG(t){var e=".",i=t(1).indexOf("100")>=0;e=zG(e,t,i,!0),e=zG(e,t,i,!1);var n=UG(e,t,i,!1),o=UG(e,t,i,!0);return o==="-"+n?n:n+";"+o}var qG={_formatNumberCore:function(t,e,i){if(e==="currency"){i.precision=i.precision||0;var n=this.format(t,v({},i,{type:"fixedpoint"})),o=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+o+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}};var YG=(t,e)=>{if(e){var i=t;if(typeof t=="string"){i="";for(var n=0;n<t.length;n++)t[n]!=="$"&&(i+="\\"),i+=t[n]}for(var o={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xA4":i},r=e.split(";"),a=0;a<r.length;a++)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[a]=r[a].replace(new RegExp(s,"g"),o[s]));return r.length===2?r[0]+"_);"+r[1]:r[0]}};var QG={af:"\xA4#,##0.00;(\xA4#,##0.00)","af-NA":"\xA4#,##0.00;(\xA4#,##0.00)",agq:"#,##0.00\xA4",ak:"\xA4#,##0.00",am:"\xA4#,##0.00;(\xA4#,##0.00)",ar:"\xA4#,##0.00;(\xA4#,##0.00)","ar-AE":"\xA4#,##0.00;(\xA4#,##0.00)","ar-BH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DZ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EG":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-ER":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IL":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IQ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-JO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KW":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LB":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MR":"\xA4#,##0.00;(\xA4#,##0.00)","ar-OM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-PS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-QA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TN":"\xA4#,##0.00;(\xA4#,##0.00)","ar-YE":"\xA4#,##0.00;(\xA4#,##0.00)",as:"\xA4\xA0#,##,##0.00",asa:"#,##0.00\xA0\xA4",ast:"#,##0.00\xA0\xA4",az:"#,##0.00\xA0\xA4","az-Cyrl":"#,##0.00\xA0\xA4","az-Latn":"#,##0.00\xA0\xA4",bas:"#,##0.00\xA0\xA4",be:"#,##0.00\xA0\xA4","be-tarask":"#,##0.00\xA0\xA4",bem:"\xA4#,##0.00;(\xA4#,##0.00)",bez:"#,##0.00\xA4",bg:"0.00\xA0\xA4;(0.00\xA0\xA4)",bm:"\xA4#,##0.00;(\xA4#,##0.00)",bn:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","bn-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",bo:"\xA4\xA0#,##0.00","bo-IN":"\xA4\xA0#,##0.00",br:"#,##0.00\xA0\xA4",brx:"\xA4\xA0#,##,##0.00",bs:"#,##0.00\xA0\xA4","bs-Cyrl":"#,##0.00\xA0\xA4","bs-Latn":"#,##0.00\xA0\xA4",ca:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-AD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-ES-valencia":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-FR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-IT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ccp:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","ccp-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",ce:"#,##0.00\xA0\xA4",ceb:"\xA4#,##0.00;(\xA4#,##0.00)",cgg:"\xA4#,##0.00",chr:"\xA4#,##0.00;(\xA4#,##0.00)",ckb:"\xA4\xA0#,##0.00","ckb-IR":"\xA4\xA0#,##0.00",cs:"#,##0.00\xA0\xA4",cy:"\xA4#,##0.00;(\xA4#,##0.00)",da:"#,##0.00\xA0\xA4","da-GL":"#,##0.00\xA0\xA4",dav:"\xA4#,##0.00;(\xA4#,##0.00)",de:"#,##0.00\xA0\xA4","de-AT":"#,##0.00\xA0\xA4","de-BE":"#,##0.00\xA0\xA4","de-CH":"#,##0.00\xA0\xA4","de-IT":"#,##0.00\xA0\xA4","de-LI":"#,##0.00\xA0\xA4","de-LU":"#,##0.00\xA0\xA4",dje:"#,##0.00\xA4",doi:"\xA4#,##0.00",dsb:"#,##0.00\xA0\xA4",dua:"#,##0.00\xA0\xA4",dyo:"#,##0.00\xA0\xA4",dz:"\xA4#,##,##0.00",ebu:"\xA4#,##0.00;(\xA4#,##0.00)",ee:"\xA4#,##0.00;(\xA4#,##0.00)","ee-TG":"\xA4#,##0.00;(\xA4#,##0.00)",el:"#,##0.00\xA0\xA4","el-CY":"#,##0.00\xA0\xA4",en:"\xA4#,##0.00;(\xA4#,##0.00)","en-001":"\xA4#,##0.00;(\xA4#,##0.00)","en-150":"#,##0.00\xA0\xA4","en-AE":"\xA4#,##0.00;(\xA4#,##0.00)","en-AG":"\xA4#,##0.00;(\xA4#,##0.00)","en-AI":"\xA4#,##0.00;(\xA4#,##0.00)","en-AS":"\xA4#,##0.00;(\xA4#,##0.00)","en-AT":"\xA4\xA0#,##0.00","en-AU":"\xA4#,##0.00;(\xA4#,##0.00)","en-BB":"\xA4#,##0.00;(\xA4#,##0.00)","en-BE":"#,##0.00\xA0\xA4","en-BI":"\xA4#,##0.00;(\xA4#,##0.00)","en-BM":"\xA4#,##0.00;(\xA4#,##0.00)","en-BS":"\xA4#,##0.00;(\xA4#,##0.00)","en-BW":"\xA4#,##0.00;(\xA4#,##0.00)","en-BZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-CA":"\xA4#,##0.00;(\xA4#,##0.00)","en-CC":"\xA4#,##0.00;(\xA4#,##0.00)","en-CH":"\xA4\xA0#,##0.00;\xA4-#,##0.00","en-CK":"\xA4#,##0.00;(\xA4#,##0.00)","en-CM":"\xA4#,##0.00;(\xA4#,##0.00)","en-CX":"\xA4#,##0.00;(\xA4#,##0.00)","en-CY":"\xA4#,##0.00;(\xA4#,##0.00)","en-DE":"#,##0.00\xA0\xA4","en-DG":"\xA4#,##0.00;(\xA4#,##0.00)","en-DK":"#,##0.00\xA0\xA4","en-DM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ER":"\xA4#,##0.00;(\xA4#,##0.00)","en-FI":"#,##0.00\xA0\xA4","en-FJ":"\xA4#,##0.00;(\xA4#,##0.00)","en-FK":"\xA4#,##0.00;(\xA4#,##0.00)","en-FM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GB":"\xA4#,##0.00;(\xA4#,##0.00)","en-GD":"\xA4#,##0.00;(\xA4#,##0.00)","en-GG":"\xA4#,##0.00;(\xA4#,##0.00)","en-GH":"\xA4#,##0.00;(\xA4#,##0.00)","en-GI":"\xA4#,##0.00;(\xA4#,##0.00)","en-GM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GU":"\xA4#,##0.00;(\xA4#,##0.00)","en-GY":"\xA4#,##0.00;(\xA4#,##0.00)","en-HK":"\xA4#,##0.00;(\xA4#,##0.00)","en-IE":"\xA4#,##0.00;(\xA4#,##0.00)","en-IL":"\xA4#,##0.00;(\xA4#,##0.00)","en-IM":"\xA4#,##0.00;(\xA4#,##0.00)","en-IN":"\xA4#,##0.00;(\xA4#,##0.00)","en-IO":"\xA4#,##0.00;(\xA4#,##0.00)","en-JE":"\xA4#,##0.00;(\xA4#,##0.00)","en-JM":"\xA4#,##0.00;(\xA4#,##0.00)","en-KE":"\xA4#,##0.00;(\xA4#,##0.00)","en-KI":"\xA4#,##0.00;(\xA4#,##0.00)","en-KN":"\xA4#,##0.00;(\xA4#,##0.00)","en-KY":"\xA4#,##0.00;(\xA4#,##0.00)","en-LC":"\xA4#,##0.00;(\xA4#,##0.00)","en-LR":"\xA4#,##0.00;(\xA4#,##0.00)","en-LS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MG":"\xA4#,##0.00;(\xA4#,##0.00)","en-MH":"\xA4#,##0.00;(\xA4#,##0.00)","en-MO":"\xA4#,##0.00;(\xA4#,##0.00)","en-MP":"\xA4#,##0.00;(\xA4#,##0.00)","en-MS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MT":"\xA4#,##0.00;(\xA4#,##0.00)","en-MU":"\xA4#,##0.00;(\xA4#,##0.00)","en-MV":"\xA4\xA0#,##0.00","en-MW":"\xA4#,##0.00;(\xA4#,##0.00)","en-MY":"\xA4#,##0.00;(\xA4#,##0.00)","en-NA":"\xA4#,##0.00;(\xA4#,##0.00)","en-NF":"\xA4#,##0.00;(\xA4#,##0.00)","en-NG":"\xA4#,##0.00;(\xA4#,##0.00)","en-NL":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","en-NR":"\xA4#,##0.00;(\xA4#,##0.00)","en-NU":"\xA4#,##0.00;(\xA4#,##0.00)","en-NZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-PG":"\xA4#,##0.00;(\xA4#,##0.00)","en-PH":"\xA4#,##0.00;(\xA4#,##0.00)","en-PK":"\xA4#,##0.00;(\xA4#,##0.00)","en-PN":"\xA4#,##0.00;(\xA4#,##0.00)","en-PR":"\xA4#,##0.00;(\xA4#,##0.00)","en-PW":"\xA4#,##0.00;(\xA4#,##0.00)","en-RW":"\xA4#,##0.00;(\xA4#,##0.00)","en-SB":"\xA4#,##0.00;(\xA4#,##0.00)","en-SC":"\xA4#,##0.00;(\xA4#,##0.00)","en-SD":"\xA4#,##0.00;(\xA4#,##0.00)","en-SE":"#,##0.00\xA0\xA4","en-SG":"\xA4#,##0.00;(\xA4#,##0.00)","en-SH":"\xA4#,##0.00;(\xA4#,##0.00)","en-SI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","en-SL":"\xA4#,##0.00;(\xA4#,##0.00)","en-SS":"\xA4#,##0.00;(\xA4#,##0.00)","en-SX":"\xA4#,##0.00;(\xA4#,##0.00)","en-SZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-TC":"\xA4#,##0.00;(\xA4#,##0.00)","en-TK":"\xA4#,##0.00;(\xA4#,##0.00)","en-TO":"\xA4#,##0.00;(\xA4#,##0.00)","en-TT":"\xA4#,##0.00;(\xA4#,##0.00)","en-TV":"\xA4#,##0.00;(\xA4#,##0.00)","en-TZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-UG":"\xA4#,##0.00;(\xA4#,##0.00)","en-UM":"\xA4#,##0.00;(\xA4#,##0.00)","en-VC":"\xA4#,##0.00;(\xA4#,##0.00)","en-VG":"\xA4#,##0.00;(\xA4#,##0.00)","en-VI":"\xA4#,##0.00;(\xA4#,##0.00)","en-VU":"\xA4#,##0.00;(\xA4#,##0.00)","en-WS":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZA":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZW":"\xA4#,##0.00;(\xA4#,##0.00)",eo:"\xA4\xA0#,##0.00",es:"#,##0.00\xA0\xA4","es-419":"\xA4#,##0.00","es-AR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-BO":"\xA4#,##0.00","es-BR":"\xA4#,##0.00","es-BZ":"\xA4#,##0.00","es-CL":"\xA4#,##0.00","es-CO":"\xA4#,##0.00","es-CR":"\xA4#,##0.00","es-CU":"\xA4#,##0.00","es-DO":"\xA4#,##0.00;(\xA4#,##0.00)","es-EA":"#,##0.00\xA0\xA4","es-EC":"\xA4#,##0.00","es-GQ":"#,##0.00\xA0\xA4","es-GT":"\xA4#,##0.00","es-HN":"\xA4#,##0.00","es-IC":"#,##0.00\xA0\xA4","es-MX":"\xA4#,##0.00","es-NI":"\xA4#,##0.00","es-PA":"\xA4#,##0.00","es-PE":"\xA4#,##0.00","es-PH":"#,##0.00\xA0\xA4","es-PR":"\xA4#,##0.00","es-PY":"\xA4#,##0.00","es-SV":"\xA4#,##0.00","es-US":"\xA4#,##0.00","es-UY":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-VE":"\xA4#,##0.00",et:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",eu:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ewo:"#,##0.00\xA0\xA4",fa:"\u200E\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)","fa-AF":"\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)",ff:"#,##0.00\xA0\xA4","ff-Adlm":"\xA4\xA0#,##0.00","ff-Adlm-BF":"\xA4\xA0#,##0.00","ff-Adlm-CM":"\xA4\xA0#,##0.00","ff-Adlm-GH":"\xA4\xA0#,##0.00","ff-Adlm-GM":"\xA4\xA0#,##0.00","ff-Adlm-GW":"\xA4\xA0#,##0.00","ff-Adlm-LR":"\xA4\xA0#,##0.00","ff-Adlm-MR":"\xA4\xA0#,##0.00","ff-Adlm-NE":"\xA4\xA0#,##0.00","ff-Adlm-NG":"\xA4\xA0#,##0.00","ff-Adlm-SL":"\xA4\xA0#,##0.00","ff-Adlm-SN":"\xA4\xA0#,##0.00","ff-Latn":"#,##0.00\xA0\xA4","ff-Latn-BF":"#,##0.00\xA0\xA4","ff-Latn-CM":"#,##0.00\xA0\xA4","ff-Latn-GH":"#,##0.00\xA0\xA4","ff-Latn-GM":"#,##0.00\xA0\xA4","ff-Latn-GN":"#,##0.00\xA0\xA4","ff-Latn-GW":"#,##0.00\xA0\xA4","ff-Latn-LR":"#,##0.00\xA0\xA4","ff-Latn-MR":"#,##0.00\xA0\xA4","ff-Latn-NE":"#,##0.00\xA0\xA4","ff-Latn-NG":"#,##0.00\xA0\xA4","ff-Latn-SL":"#,##0.00\xA0\xA4",fi:"#,##0.00\xA0\xA4",fil:"\xA4#,##0.00;(\xA4#,##0.00)",fo:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fo-DK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GP":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-HT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-KM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-ML":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SY":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-VU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-WF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-YT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fur:"\xA4\xA0#,##0.00",fy:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",ga:"\xA4#,##0.00;(\xA4#,##0.00)","ga-GB":"\xA4#,##0.00;(\xA4#,##0.00)",gd:"\xA4#,##0.00;(\xA4#,##0.00)",gl:"#,##0.00\xA0\xA4",gsw:"#,##0.00\xA0\xA4","gsw-FR":"#,##0.00\xA0\xA4","gsw-LI":"#,##0.00\xA0\xA4",gu:"\xA4#,##,##0.00;(\xA4#,##,##0.00)",guz:"\xA4#,##0.00;(\xA4#,##0.00)",gv:"\xA4#,##0.00",ha:"\xA4\xA0#,##0.00","ha-GH":"\xA4\xA0#,##0.00","ha-NE":"\xA4\xA0#,##0.00",haw:"\xA4#,##0.00;(\xA4#,##0.00)",he:"#,##0.00\xA0\xA4",hi:"\xA4#,##,##0.00","hi-Latn":"\xA4#,##,##0.00",hr:"#,##0.00\xA0\xA4","hr-BA":"#,##0.00\xA0\xA4",hsb:"#,##0.00\xA0\xA4",hu:"#,##0.00\xA0\xA4",hy:"#,##0.00\xA0\xA4",ia:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",id:"\xA4#,##0.00",ig:"\xA4#,##0.00;(\xA4#,##0.00)",ii:"\xA4\xA0#,##0.00",is:"#,##0.00\xA0\xA4",it:"#,##0.00\xA0\xA4","it-CH":"#,##0.00\xA0\xA4","it-SM":"#,##0.00\xA0\xA4","it-VA":"#,##0.00\xA0\xA4",ja:"\xA4#,##0.00;(\xA4#,##0.00)",jgo:"\xA4\xA0#,##0.00",jmc:"\xA4#,##0.00",jv:"\xA4\xA0#,##0.00",ka:"#,##0.00\xA0\xA4",kab:"#,##0.00\xA4",kam:"\xA4#,##0.00;(\xA4#,##0.00)",kde:"\xA4#,##0.00;(\xA4#,##0.00)",kea:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kgp:"\xA4\xA0#,##0.00",khq:"#,##0.00\xA4",ki:"\xA4#,##0.00;(\xA4#,##0.00)",kk:"#,##0.00\xA0\xA4",kkj:"\xA4\xA0#,##0.00",kl:"\xA4#,##0.00;\xA4-#,##0.00",kln:"\xA4#,##0.00;(\xA4#,##0.00)",km:"#,##0.00\xA4;(#,##0.00\xA4)",kn:"\xA4#,##0.00;(\xA4#,##0.00)",ko:"\xA4#,##0.00;(\xA4#,##0.00)","ko-KP":"\xA4#,##0.00;(\xA4#,##0.00)",kok:"\xA4#,##0.00;(\xA4#,##0.00)",ks:"\xA4#,##0.00","ks-Arab":"\xA4#,##0.00","ks-Deva":"\xA4\xA0#,##0.00",ksb:"#,##0.00\xA4",ksf:"#,##0.00\xA0\xA4",ksh:"#,##0.00\xA0\xA4",ku:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kw:"\xA4#,##0.00",ky:"#,##0.00\xA0\xA4",lag:"\xA4\xA0#,##0.00",lb:"#,##0.00\xA0\xA4",lg:"#,##0.00\xA4",lkt:"\xA4\xA0#,##0.00",ln:"#,##0.00\xA0\xA4","ln-AO":"#,##0.00\xA0\xA4","ln-CF":"#,##0.00\xA0\xA4","ln-CG":"#,##0.00\xA0\xA4",lo:"\xA4#,##0.00;\xA4-#,##0.00",lrc:"\xA4\xA0#,##0.00","lrc-IQ":"\xA4\xA0#,##0.00",lt:"#,##0.00\xA0\xA4",lu:"#,##0.00\xA4",luo:"#,##0.00\xA4",luy:"\xA4#,##0.00;\xA4-\xA0#,##0.00",lv:"#,##0.00\xA0\xA4",mai:"\xA4\xA0#,##0.00",mas:"\xA4#,##0.00;(\xA4#,##0.00)","mas-TZ":"\xA4#,##0.00;(\xA4#,##0.00)",mer:"\xA4#,##0.00;(\xA4#,##0.00)",mfe:"\xA4\xA0#,##0.00",mg:"\xA4#,##0.00",mgh:"\xA4\xA0#,##0.00",mgo:"\xA4\xA0#,##0.00",mi:"\xA4\xA0#,##0.00",mk:"#,##0.00\xA0\xA4",ml:"\xA4#,##0.00;(\xA4#,##0.00)",mn:"\xA4\xA0#,##0.00",mni:"\xA4\xA0#,##0.00","mni-Beng":"\xA4\xA0#,##0.00",mr:"\xA4#,##0.00;(\xA4#,##0.00)",ms:"\xA4#,##0.00;(\xA4#,##0.00)","ms-BN":"\xA4#,##0.00;(\xA4#,##0.00)","ms-ID":"\xA4#,##0.00","ms-SG":"\xA4#,##0.00;(\xA4#,##0.00)",mt:"\xA4#,##0.00",mua:"\xA4#,##0.00;(\xA4#,##0.00)",my:"\xA4\xA0#,##0.00",mzn:"\xA4\xA0#,##0.00",naq:"\xA4#,##0.00",nb:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nb-SJ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nd:"\xA4#,##0.00;(\xA4#,##0.00)",nds:"\xA4\xA0#,##0.00","nds-NL":"\xA4\xA0#,##0.00",ne:"\xA4\xA0#,##,##0.00","ne-IN":"\xA4\xA0#,##,##0.00",nl:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-AW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BE":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BQ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-CW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SX":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nmg:"#,##0.00\xA0\xA4",nn:"#,##0.00\xA0\xA4",nnh:"\xA4\xA0#,##0.00",no:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nus:"\xA4#,##0.00;(\xA4#,##0.00)",nyn:"\xA4#,##0.00",om:"\xA4#,##0.00","om-KE":"\xA4#,##0.00",or:"\xA4#,##0.00;(\xA4#,##0.00)",os:"\xA4\xA0#,##0.00","os-RU":"\xA4\xA0#,##0.00",pa:"\xA4\xA0#,##0.00","pa-Arab":"\xA4\xA0#,##0.00","pa-Guru":"\xA4\xA0#,##0.00",pcm:"\xA4#,##0.00",pl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ps:"\xA4#,##0.00;(\xA4#,##0.00)","ps-PK":"\xA4#,##0.00;(\xA4#,##0.00)",pt:"\xA4\xA0#,##0.00","pt-AO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CV":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-PT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-ST":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-TL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",qu:"\xA4\xA0#,##0.00","qu-BO":"\xA4\xA0#,##0.00","qu-EC":"\xA4\xA0#,##0.00",rm:"#,##0.00\xA0\xA4",rn:"#,##0.00\xA4",ro:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ro-MD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",rof:"\xA4#,##0.00",ru:"#,##0.00\xA0\xA4","ru-BY":"#,##0.00\xA0\xA4","ru-KG":"#,##0.00\xA0\xA4","ru-KZ":"#,##0.00\xA0\xA4","ru-MD":"#,##0.00\xA0\xA4","ru-UA":"#,##0.00\xA0\xA4",rw:"\xA4\xA0#,##0.00",rwk:"#,##0.00\xA4",sa:"\xA4\xA0#,##0.00",sah:"#,##0.00\xA0\xA4",saq:"\xA4#,##0.00;(\xA4#,##0.00)",sat:"\xA4\xA0#,##0.00","sat-Olck":"\xA4\xA0#,##0.00",sbp:"#,##0.00\xA4",sc:"#,##0.00\xA0\xA4",sd:"\xA4\xA0#,##0.00","sd-Arab":"\xA4\xA0#,##0.00","sd-Deva":"\xA4\xA0#,##0.00",se:"#,##0.00\xA0\xA4","se-FI":"#,##0.00\xA0\xA4","se-SE":"#,##0.00\xA0\xA4",seh:"#,##0.00\xA4",ses:"#,##0.00\xA4",sg:"\xA4#,##0.00;\xA4-#,##0.00",shi:"#,##0.00\xA4","shi-Latn":"#,##0.00\xA4","shi-Tfng":"#,##0.00\xA4",si:"\xA4#,##0.00;(\xA4#,##0.00)",sk:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",smn:"#,##0.00\xA0\xA4",sn:"\xA4#,##0.00;(\xA4#,##0.00)",so:"\xA4#,##0.00;(\xA4#,##0.00)","so-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","so-ET":"\xA4#,##0.00;(\xA4#,##0.00)","so-KE":"\xA4#,##0.00;(\xA4#,##0.00)",sq:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-MK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",su:"\xA4#,##0.00","su-Latn":"\xA4#,##0.00",sv:"#,##0.00\xA0\xA4","sv-AX":"#,##0.00\xA0\xA4","sv-FI":"#,##0.00\xA0\xA4",sw:"\xA4\xA0#,##0.00","sw-CD":"\xA4\xA0#,##0.00","sw-KE":"\xA4\xA0#,##0.00","sw-UG":"\xA4\xA0#,##0.00",ta:"\xA4#,##0.00;(\xA4#,##0.00)","ta-LK":"\xA4#,##0.00;(\xA4#,##0.00)","ta-MY":"\xA4#,##0.00;(\xA4#,##0.00)","ta-SG":"\xA4#,##0.00;(\xA4#,##0.00)",te:"\xA4#,##0.00;(\xA4#,##0.00)",teo:"\xA4#,##0.00;(\xA4#,##0.00)","teo-KE":"\xA4#,##0.00;(\xA4#,##0.00)",tg:"#,##0.00\xA0\xA4",th:"\xA4#,##0.00;(\xA4#,##0.00)",ti:"\xA4#,##0.00","ti-ER":"\xA4#,##0.00",tk:"#,##0.00\xA0\xA4",to:"\xA4\xA0#,##0.00",tr:"\xA4#,##0.00;(\xA4#,##0.00)","tr-CY":"\xA4#,##0.00;(\xA4#,##0.00)",tt:"#,##0.00\xA0\xA4",twq:"#,##0.00\xA4",tzm:"#,##0.00\xA0\xA4",ug:"\xA4#,##0.00;(\xA4#,##0.00)",uk:"#,##0.00\xA0\xA4",und:"\xA4\xA0#,##0.00",ur:"\xA4#,##0.00;(\xA4#,##0.00)","ur-IN":"\xA4#,##0.00;(\xA4#,##0.00)",uz:"#,##0.00\xA0\xA4","uz-Arab":"\xA4\xA0#,##0.00","uz-Cyrl":"#,##0.00\xA0\xA4","uz-Latn":"#,##0.00\xA0\xA4",vai:"\xA4#,##0.00;(\xA4#,##0.00)","vai-Latn":"\xA4#,##0.00;(\xA4#,##0.00)","vai-Vaii":"\xA4#,##0.00;(\xA4#,##0.00)",vi:"#,##0.00\xA0\xA4",vun:"\xA4#,##0.00",wae:"\xA4\xA0#,##0.00",wo:"\xA4\xA0#,##0.00",xh:"\xA4#,##0.00",xog:"#,##0.00\xA0\xA4",yav:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",yi:"\xA4\xA0#,##0.00",yo:"\xA4#,##0.00;(\xA4#,##0.00)","yo-BJ":"\xA4#,##0.00;(\xA4#,##0.00)",yrl:"\xA4\xA0#,##0.00","yrl-CO":"\xA4\xA0#,##0.00","yrl-VE":"\xA4\xA0#,##0.00",yue:"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hant":"\xA4#,##0.00;(\xA4#,##0.00)",zgh:"#,##0.00\xA4",zh:"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-MO":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-SG":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-MO":"\xA4#,##0.00;(\xA4#,##0.00)",zu:"\xA4#,##0.00;(\xA4#,##0.00)"};var jue=["standard","accounting"],$ue=20,Kue=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,MI={},JG=t=>{var e=on.locale()+"/"+JSON.stringify(t);return MI[e]||(MI[e]=new Intl.NumberFormat(on.locale(),t).format),MI[e]},que=t=>new Intl.NumberFormat(on.locale(),{style:"currency",currency:t}),XG={engine:function(){return"intl"},_formatNumberCore:function(t,e,i){return e==="exponential"?this.callBase.apply(this,arguments):JG(this._normalizeFormatConfig(e,i,t))(t)},_normalizeFormatConfig:function(t,e,i){var n;if(t==="decimal"){var o=String(i).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:o&&o.length,round:i<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(t==="percent")n.style="percent";else if(t==="currency"){var r,a=(r=e.useCurrencyAccountingStyle)!==null&&r!==void 0?r:Fe().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||Fe().defaultCurrency,n.currencySign=jue[+a]}return n},_getPrecisionConfig:function(t){var e;return t===null?e={minimumFractionDigits:0,maximumFractionDigits:$ue}:e={minimumFractionDigits:t||0,maximumFractionDigits:t||0},e},format:function(t,e){return typeof t!="number"?t:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=Fe().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?JG(e)(t):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(t){var e=que(t);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(t){var e=Kue.exec(t)||[],i=e[1]?"before":"after",n=e[1]||e[4]||"",o=e[2]||e[3]||"";return{position:i,symbol:n,delimiter:o}},getCurrencySymbol:function(t){t||(t=Fe().defaultCurrency);var e=this._getCurrencySymbolInfo(t);return{symbol:e.symbol}},getOpenXmlCurrencyFormat:function(t){var e=t||Fe().defaultCurrency,i=this._getCurrencySymbolInfo(e).symbol,n=on.getValueByClosestLocale(o=>QG[o]);return YG(i,n)}};var Yue=typeof Intl<"u",Que=4,p0=10,ZG=["currency","fixedpoint","exponential","percent","decimal"],AI={1:"K",2:"M",3:"B",4:"T"},ez={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},RI=Kt({engine:function(){return"base"},numericFormats:ZG,defaultLargeNumberFormatPostfixes:AI,_parseNumberFormatString:function(t){var e={};if(!(!t||typeof t!="string")){var i=t.toLowerCase().split(" ");if(x(i,(n,o)=>{ZG.includes(o)?e.formatType=o:o in ez&&(e.power=ez[o])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e}},_calculateNumberPower:function(t,e,i,n){var o=Math.abs(t),r=0;if(o>1)for(;o&&o>=e&&(n===void 0||r<n);)r++,o/=e;else if(o>0&&o<1)for(;o<1&&(i===void 0||r>i);)r--,o*=e;return r},_getNumberByPower:function(t,e,i){for(var n=t;e>0;)n/=i,e--;for(;e<0;)n*=i,e++;return n},_formatNumber:function(t,e,i){e.power==="auto"&&(e.power=this._calculateNumberPower(t,1e3,0,Que)),e.power&&(t=this._getNumberByPower(t,e.power,1e3));var n=this.defaultLargeNumberFormatPostfixes[e.power]||"",o=this._formatNumberCore(t,e.formatType,i);return o=o.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),o},_formatNumberExponential:function(t,e){var i=this._calculateNumberPower(t,p0),n=this._getNumberByPower(t,i,p0);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=p0&&(i++,n/=p0);var o=(i>=0?"+":"")+i.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+o},_addZeroes:function(t,e){var i=Math.pow(10,e),n=t<0?"-":"";t=(Math.abs(t)*i>>>0)/i;for(var o=t.toString();o.length<e;)o="0"+o;return n+o},_addGroupSeparators:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,Fe().thousandsSeparator)+(e[1]?Fe().decimalSeparator+e[1]:"")},_formatNumberCore:function(t,e,i){return e==="exponential"?this._formatNumberExponential(t,i):(e!=="decimal"&&i.precision!==null&&(i.precision=i.precision||0),e==="percent"&&(t*=100),i.precision!==void 0&&(e==="decimal"?t=this._addZeroes(t,i.precision):t=i.precision===null?t.toPrecision():h0(t,i.precision)),e!=="decimal"?t=this._addGroupSeparators(t):t=t.toString().replace(".",Fe().decimalSeparator),e==="percent"&&(t+="%"),t)},_normalizeFormat:function(t){return t?(typeof t=="function"||q(t)||(t={type:t}),t):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(t,e){var i=this.format(90,"decimal");if(typeof t!="string"||i[1]==="0")return t;var n=e?i[1]:"0",o=e?"0":i[1],r=e?i[0]:"9",a=new RegExp("["+n+"-"+r+"]","g");return t.replace(a,s=>String.fromCharCode(s.charCodeAt(0)+(o.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp:function(t){var e=this._getSeparators(),i=new RegExp("[0-9"+ho(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),n=this.format(-1,t).replace(i,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(o=>{n=n.replace(new RegExp("\\".concat(o),"g"),"\\".concat(o))}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(t,e){if(!e)return t.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var i=this.getNegativeEtalonRegExp(e);return t.match(i)?-1:1},format:function(t,e){if(typeof t!="number"||typeof e=="number")return t;if(e=e&&e.formatter||e,typeof e=="function")return e(t);e=this._normalizeFormat(e),e.type||(e.type="decimal");var i=this._parseNumberFormatString(e.type);if(!i){var n=this._getSeparators();return n.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits($G(e.type,n)(t))}return this._formatNumber(t,i,e)},parse:function(t,e){if(t){if(e&&e.parser)return e.parser(t);t=this.convertDigits(t,!0),e&&typeof e!="string"&&me.log("W0011");var i=this.getDecimalSeparator(),n=new RegExp("[^0-9"+ho(i)+"]","g"),o=t.replace(n,"").replace(i,".").replace(/\.$/g,"");if(o==="."||o==="")return null;if(this._calcSignificantDigits(o)>15)return NaN;var r=+o*this.getSign(t,e);e=this._normalizeFormat(e);var a=this._parseNumberFormatString(e.type),s=a?.power;if(s){if(s==="auto"){var l=t.match(/\d(K|M|B|T)/);l&&(s=Object.keys(AI).find(d=>AI[d]===l[1]))}r*=Math.pow(10,3*s)}return a?.formatType==="percent"&&(r/=100),r}},_calcSignificantDigits:function(t){var[e,i]=t.split("."),n=r=>{for(var a=-1,s=0;s<r.length;s++)if(r[s]!=="0"){a=s;break}return a>-1?r.length-a:0},o=0;return e&&(o+=n(e.split(""))),i&&(o+=n(i.split("").reverse())),o}});RI.inject(qG);Yue&&RI.inject(XG);var $e=RI;var oi={valid:"valid",invalid:"invalid",pending:"pending"},Wr=class{constructor(){this.NAME="base"}defaultMessage(e){return w.getFormatter("validation-".concat(this.NAME))(e)}defaultFormattedMessage(e){return w.getFormatter("validation-".concat(this.NAME,"-formatted"))(e)}_isValueEmpty(e){return!pg.required.validate(e,{})}validate(e,i){var n=Array.isArray(e)?e:[e],o=!0;return n.length?n.every(r=>(o=this._validate(r,i),o)):o=this._validate(null,i),o}},BI=class extends Wr{constructor(){super(),this.NAME="required"}_validate(e,i){return!f(e)||e===!1?!1:(e=String(e),(i.trim||!f(i.trim))&&(e=e.trim()),e!=="")}},kI=class extends Wr{constructor(){super(),this.NAME="numeric"}_validate(e,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:i.useCultureSettings&&N(e)?!isNaN($e.parse(e)):ve(e)}},PI=class extends Wr{constructor(){super(),this.NAME="range"}_validate(e,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=pg.numeric.validate(e,i),o=f(e)&&e!=="",r=n?parseFloat(e):o&&e.valueOf(),a=i.min,s=i.max;if(!(n||$t(e))&&!o)return!1;if(f(a))return f(s)?r>=a&&r<=s:r>=a;if(f(s))return r<=s;throw me.Error("E0101")}},NI=class extends Wr{constructor(){super(),this.NAME="stringLength"}_validate(e,i){var n;return e=String((n=e)!==null&&n!==void 0?n:""),(i.trim||!f(i.trim))&&(e=e.trim()),i.ignoreEmptyValue&&this._isValueEmpty(e)?!0:pg.range.validate(e.length,v({},i))}},g0=class extends Wr{constructor(){super(),this.NAME="custom"}validate(e,i){if(i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=i.validator,o=n&&T(n.option)&&n.option("dataGetter"),r=T(o)&&o(),a={value:e,validator:n,rule:i};return r&&v(a,r),i.validationCallback(a)}},LI=class extends g0{constructor(){super(),this.NAME="async"}validate(e,i){if(f(i.reevaluate)||v(i,{reevaluate:!0}),i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=i.validator,o=n&&T(n.option)&&n.option("dataGetter"),r=T(o)&&o(),a={value:e,validator:n,rule:i};r&&v(a,r);var s=i.validationCallback(a);if(!Rr(s))throw me.Error("E0103");return this._getWrappedPromise(It(s).promise())}_getWrappedPromise(e){var i=new S;return e.then(function(n){i.resolve(n)},function(n){var o={isValid:!1};f(n)&&(N(n)?o.message=n:L(n)&&f(n.message)&&N(n.message)&&(o.message=n.message)),i.resolve(o)}),i.promise()}},VI=class extends Wr{constructor(){super(),this.NAME="compare"}_validate(e,i){if(!i.comparisonTarget)throw me.Error("E0102");if(i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;v(i,{reevaluate:!0});var n=i.comparisonTarget(),o=i.comparisonType||"==";switch(o){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}},HI=class extends Wr{constructor(){super(),this.NAME="pattern"}_validate(e,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=i.pattern;return N(n)&&(n=new RegExp(n)),n.test(e)}},WI=class extends Wr{constructor(){super(),this.NAME="email"}_validate(e,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:pg.pattern.validate(e,v({},i,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}},pg={required:new BI,numeric:new kI,range:new PI,stringLength:new NI,custom:new g0,async:new LI,compare:new VI,pattern:new HI,email:new WI},Jue=le.inherit({ctor(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new xo(this)},validate(){var t={isValid:!0,brokenRules:[],validators:[],status:oi.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),x(this.validators,(e,i)=>{var n=i.validate();t.isValid=t.isValid&&n.isValid,n.brokenRules&&(t.brokenRules=t.brokenRules.concat(n.brokenRules)),t.validators.push(i),n.status===oi.pending&&this._addPendingValidator(i),this._subscribeToChangeEvents(i)}),this._pendingValidators.length?t.status=oi.pending:(t.status=t.isValid?oi.valid:oi.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(t)),this._updateValidationInfo(t),v({},this._validationInfo.result)},_subscribeToChangeEvents(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){x(this.validators,(t,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(t){this._validationInfo.result=t,t.status===oi.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new S,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(t){var e=Yt(this._pendingValidators,function(i){return i===t})[0];e||this._pendingValidators.push(t)},_removePendingValidator(t){var e=this._pendingValidators.indexOf(t);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(t){var e=[];return x(this.validators,function(i,n){var o=Yt(t,function(r){return r.validator===n});o.length&&(e=e.concat(o))}),e},_updateBrokenRules(t){if(this._validationInfo.result){var e=this._validationInfo.result.brokenRules,i=Yt(e,function(n){return n.validator!==t.validator});t.brokenRules&&(e=i.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged(t){if(t.status===oi.pending){this._addPendingValidator(t.validator);return}this._resolveIfComplete(t)},_resolveIfComplete(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?oi.valid:oi.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===oi.valid;var e=v({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),i&&setTimeout(()=>{i.resolve(e)})}},_raiseValidatedEvent(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(t){var e=this.validators.indexOf(t);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator(t){this.validators.includes(t)||(this.validators.push(t),this._synchronizeValidationInfo())},reset(){x(this.validators,function(t,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),dd={groups:[],getGroupConfig(t){var e=Yt(this.groups,function(i){return i.group===t});if(e.length)return e[0]},findGroup(t,e){var i,n,o=(i=t.data())===null||i===void 0||(n=i.dxComponents)===null||n===void 0?void 0:n.includes("dxValidationGroup"),r=o&&t.dxValidationGroup("instance");if(r)return r;var a=t.parents(".dx-validationgroup").first();return a.length?a.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup()},addGroup(t){var e=this.getGroupConfig(t);return e||(e=new Jue(t),this.groups.push(e)),e},removeGroup(t){var e=this.getGroupConfig(t),i=this.groups.indexOf(e);return i>-1&&this.groups.splice(i,1),e},_setDefaultMessage(t){var{rule:e,validator:i,name:n}=t;f(e.message)||(i.defaultFormattedMessage&&f(n)?e.message=i.defaultFormattedMessage(n):e.message=i.defaultMessage())},_addBrokenRule(t){var{result:e,rule:i}=t;e.brokenRule||(e.brokenRule=i),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(i)},validate(t,e,i){var n,o={name:i,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:oi.valid,complete:null},r=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,a=[];return x(e||[],(s,l)=>{var d=pg[l.type],u;if(d){if(f(l.isValid)&&l.value===t&&!l.reevaluate)return l.isValid?!0:(o.isValid=!1,this._addBrokenRule({result:o,rule:l}),!1);if(l.value=t,l.type==="async")return a.push({rule:l,ruleValidator:d}),!0;if(u=d.validate(t,l),l.isValid=u,u||(o.isValid=!1,this._setDefaultMessage({rule:l,validator:d,name:i}),this._addBrokenRule({result:o,rule:l})),!l.isValid)return!1}else throw me.Error("E0100")}),o.isValid&&!o.brokenRules&&a.length&&(o=this._validateAsyncRules({value:t,items:a,result:o,name:i})),this._synchronizeGroupValidationInfo(r,o),o.status=o.pendingRules?oi.pending:o.isValid?oi.valid:oi.invalid,o},_synchronizeGroupValidationInfo(t,e){var i;if(t){var n=dd.getGroupConfig(t._validationGroup);n._updateBrokenRules.call(n,{validator:t,brokenRules:(i=e.brokenRules)!==null&&i!==void 0?i:[]})}},_validateAsyncRules(t){var{result:e,value:i,items:n,name:o}=t,r=[];return x(n,(a,s)=>{var l=s.ruleValidator.validate(i,s.rule);if(!Rr(l))this._updateRuleConfig({rule:s.rule,ruleResult:this._getPatchedRuleResult(l),validator:s.ruleValidator,name:o});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(s.rule);var d=l.then(u=>{var c=this._getPatchedRuleResult(u);return this._updateRuleConfig({rule:s.rule,ruleResult:c,validator:s.ruleValidator,name:o}),c});r.push(d)}}),r.length&&(e.complete=Promise.all(r).then(a=>this._getAsyncRulesResult({result:e,values:a}))),e},_updateRuleConfig(t){var{rule:e,ruleResult:i,validator:n,name:o}=t;e.isValid=i.isValid,i.isValid||(f(i.message)&&N(i.message)&&i.message.length?e.message=i.message:this._setDefaultMessage({rule:e,validator:n,name:o}))},_getPatchedRuleResult(t){var e;return L(t)?(e=v({},t),f(e.isValid)||(e.isValid=!0)):e={isValid:As(t)?t:!0},e},_getAsyncRulesResult(t){var{values:e,result:i}=t;return x(e,(n,o)=>{if(o.isValid===!1){i.isValid=o.isValid;var r=i.pendingRules[n];this._addBrokenRule({result:i,rule:r})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?oi.valid:oi.invalid,i},registerValidatorInGroup(t,e){var i=dd.addGroup(t);i.registerValidator.call(i,e)},_shouldRemoveGroup(t,e){var i=t===void 0,n=t&&t.NAME==="dxValidationGroup";return!i&&!n&&!e.length},removeRegisteredValidator(t,e){var i=dd.getGroupConfig(t);if(i){i.removeRegisteredValidator.call(i,e);var n=i.validators;this._shouldRemoveGroup(t,n)&&this.removeGroup(t)}},initValidationOptions(t){var e={};return t&&["isValid","validationStatus","validationError","validationErrors"].forEach(i=>{i in t&&v(e,this.synchronizeValidationOptions({name:i,value:t[i]},t))}),e},synchronizeValidationOptions(t,e){var{name:i,value:n}=t;switch(i){case"validationStatus":var o=n===oi.valid||n===oi.pending;return e.isValid!==o?{isValid:o}:{};case"isValid":var{validationStatus:r}=e,a=r;return n&&r===oi.invalid?a=oi.valid:!n&&r!==oi.invalid&&(a=oi.invalid),a!==r?{validationStatus:a}:{};case"validationErrors":var s=!n||!n.length?null:n[0];return e.validationError!==s?{validationError:s}:{};case"validationError":var{validationErrors:l}=e;if(!n&&l)return{validationErrors:null};if(n&&!l)return{validationErrors:[n]};if(n&&l&&n!==l[0])return l[0]=n,{validationErrors:l.slice()}}return{}},validateGroup(t){var e=dd.getGroupConfig(t);if(!e)throw me.Error("E0110");return e.validate()},resetGroup(t){var e=dd.getGroupConfig(t);if(!e)throw me.Error("E0110");return e.reset()}};dd.initGroups();var qe=dd;var vg=Array.isArray;function y0(t){var e=typeof t;return e==="string"||e==="number"}function tt(t){return t==null}function _g(t){return t===null||t===!1||t===!0||t===void 0}function Lt(t){return typeof t=="function"}function yg(t){return typeof t=="string"}function Xue(t){return typeof t=="number"}function vn(t){return t===null}function Zue(t){return t===void 0}function Zs(t,e){var i={};if(t)for(var n in t)i[n]=t[n];if(e)for(var o in e)i[o]=e[o];return i}function $I(t){return!vn(t)&&typeof t=="object"}var _i={},ece="$F";function KI(t){return t.substr(2).toLowerCase()}function rz(t,e){t.appendChild(e)}function qI(t,e,i){vn(i)?rz(t,e):t.insertBefore(e,i)}function tce(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function ice(t,e,i){t.replaceChild(e,i)}function az(t,e){t.removeChild(e)}function sz(t){for(var e=0;e<t.length;e++)t[e]()}function nce(t,e,i){var n=t.children;return i&4?n.$LI:i&8192?t.childFlags===2?n:n[e?0:n.length-1]:n}function Vn(t,e){for(var i;t;){if(i=t.flags,i&2033)return t.dom;t=nce(t,e,i)}return null}function Sg(t,e){do{var i=t.flags;if(i&2033){az(e,t.dom);return}var n=t.children;if(i&4&&(t=n.$LI),i&8&&(t=n),i&8192)if(t.childFlags===2)t=n;else{for(var o=0,r=n.length;o<r;++o)Sg(n[o],e);return}}while(t)}function lz(t,e,i){do{var n=t.flags;if(n&2033){qI(e,t.dom,i);return}var o=t.children;if(n&4&&(t=o.$LI),n&8&&(t=o),n&8192)if(t.childFlags===2)t=o;else{for(var r=0,a=o.length;r<a;++r)lz(o[r],e,i);return}}while(t)}function dz(t,e,i){return t.constructor.getDerivedStateFromProps?Zs(i,t.constructor.getDerivedStateFromProps(e,i)):i}var xg={v:!1},fc={componentComparator:null,createVNode:null,renderComplete:null};function fg(t,e){t.textContent=e}function uz(t,e){return $I(t)&&t.event===e.event&&t.data===e.data}function cz(t,e){for(var i in e)Zue(t[i])&&(t[i]=e[i]);return t}function YI(t,e){return!!Lt(t)&&(t(e),!0)}var mg="$";function C0(t,e,i,n,o,r,a,s){this.childFlags=t,this.children=e,this.className=i,this.dom=null,this.flags=n,this.key=o===void 0?null:o,this.props=r===void 0?null:r,this.ref=a===void 0?null:a,this.type=s}function Xe(t,e,i,n,o,r,a,s){var l=o===void 0?1:o,d=new C0(l,n,i,t,a,r,s,e);return fc.createVNode&&fc.createVNode(d),l===0&&gz(d,d.children),d}function oce(t,e,i){if(t&4)return i;var n=(t&32768?e.render:e).defaultHooks;return tt(n)?i:tt(i)?n:cz(i,n)}function rce(t,e,i){var n=(t&32768?e.render:e).defaultProps;return tt(n)?i:tt(i)?Zs(n,null):cz(i,n)}function ace(t,e){return t&12?t:e.prototype&&e.prototype.render?4:e.render?32776:8}function Oe(t,e,i,n,o){t=ace(t,e);var r=new C0(1,null,null,t,n,rce(t,e,i),oce(t,e,o),e);return fc.createVNode&&fc.createVNode(r),r}function bg(t,e){return new C0(1,tt(t)||t===!0||t===!1?"":t,null,16,e,null,null,null)}function rn(t,e,i){var n=Xe(8192,8192,null,t,e,null,i,null);switch(n.childFlags){case 1:n.children=S0(),n.childFlags=2;break;case 16:n.children=[bg(t)],n.childFlags=4;break}return n}function Vt(t){var e=t.props;if(e){var i=t.flags;i&481&&(e.children!==void 0&&tt(t.children)&&gz(t,e.children),e.className!==void 0&&(tt(t.className)&&(t.className=e.className||null),e.className=void 0)),e.key!==void 0&&(t.key=e.key,e.key=void 0),e.ref!==void 0&&(i&8?t.ref=Zs(t.ref,e.ref):t.ref=e.ref,e.ref=void 0)}return t}function sce(t){var e=t.children,i=t.childFlags;return rn(i===2?Ii(e):e.map(Ii),i,t.key)}function Ii(t){var e=t.flags&-16385,i=t.props;if(e&14&&!vn(i)){var n=i;i={};for(var o in n)i[o]=n[o]}return e&8192?sce(t):new C0(t.childFlags,t.children,t.className,e,t.key,i,t.ref,t.type)}function S0(){return bg("",null)}function hz(t,e,i,n){for(var o=t.length;i<o;i++){var r=t[i];if(!_g(r)){var a=n+mg+i;if(vg(r))hz(r,e,0,a);else{if(y0(r))r=bg(r,a);else{var s=r.key,l=yg(s)&&s[0]===mg;(r.flags&81920||l)&&(r=Ii(r)),r.flags|=65536,l?s.substring(0,n.length)!==n&&(r.key=n+s):vn(s)?r.key=a:r.key=n+s}e.push(r)}}}}function pz(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case ece:return 8192;default:return 1}}function gz(t,e){var i,n=1;if(_g(e))i=e;else if(y0(e))n=16,i=e;else if(vg(e)){for(var o=e.length,r=0;r<o;++r){var a=e[r];if(_g(a)||vg(a)){i=i||e.slice(0,r),hz(e,i,r,"");break}else if(y0(a))i=i||e.slice(0,r),i.push(bg(a,mg+r));else{var s=a.key,l=(a.flags&81920)>0,d=vn(s),u=yg(s)&&s[0]===mg;l||d||u?(i=i||e.slice(0,r),(l||u)&&(a=Ii(a)),(d||u)&&(a.key=mg+r),i.push(a)):i&&i.push(a),a.flags|=65536}}i=i||e,i.length===0?n=1:n=8}else i=e,i.flags|=65536,e.flags&81920&&(i=Ii(e)),n=2;return t.children=i,t.childFlags=n,t}function Dg(t){return _g(t)||y0(t)?bg(t,null):vg(t)?rn(t,0,null):t.flags&16384?Ii(t):t}var ud="http://www.w3.org/1999/xlink",GI="http://www.w3.org/XML/1998/namespace",tz={"xlink:actuate":ud,"xlink:arcrole":ud,"xlink:href":ud,"xlink:role":ud,"xlink:show":ud,"xlink:title":ud,"xlink:type":ud,"xml:base":GI,"xml:lang":GI,"xml:space":GI};function b0(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var fz=b0(0),zI=b0(null),mz=b0(!0);function iz(t,e){var i=e.$EV;return i||(i=e.$EV=b0(null)),i[t]||++fz[t]===1&&(zI[t]=fce(t)),i}function vz(t,e){var i=e.$EV;i&&i[t]&&(--fz[t]===0&&(document.removeEventListener(KI(t),zI[t]),zI[t]=null),i[t]=null)}function lce(t,e,i,n){if(Lt(i))iz(t,n)[t]=i;else if($I(i)){if(uz(e,i))return;iz(t,n)[t]=i}else vz(t,n)}function dce(t){return Lt(t.composedPath)?t.composedPath()[0]:t.target}function _z(t,e,i,n){var o=dce(t);do{if(e&&o.disabled)return;var r=o.$EV;if(r){var a=r[i];if(a&&(n.dom=o,a.event?a.event(a.data,t):a(t),t.cancelBubble))return}o=o.parentNode}while(!vn(o))}function uce(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function cce(){return this.defaultPrevented}function hce(){return this.cancelBubble}function yz(t){var e={dom:document};return t.isDefaultPrevented=cce,t.isPropagationStopped=hce,t.stopPropagation=uce,Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function pce(t){return function(e){if(e.button!==0){e.stopPropagation();return}_z(e,!0,t,yz(e))}}function gce(t){return function(e){_z(e,!1,t,yz(e))}}function fce(t){var e=t==="onClick"||t==="onDblClick"?pce(t):gce(t);return document.addEventListener(KI(t),e),e}function mce(t,e){var i=document.createElement("i");return i.innerHTML=e,i.innerHTML===t.innerHTML}function nz(t,e,i){if(t[e]){var n=t[e];n.event?n.event(n.data,i):n(i)}else{var o=e.toLowerCase();t[o]&&t[o](i)}}function wg(t,e){var i=function(n){var o=this.$V;if(o){var r=o.props||_i,a=o.dom;if(yg(t))nz(r,t,n);else for(var s=0;s<t.length;++s)nz(r,t[s],n);if(Lt(e)){var l=this.$V,d=l.props||_i;e(d,a,!1,l)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function cd(t,e,i){var n="$"+e,o=t[n];if(o){if(o[1].wrapped)return;t.removeEventListener(o[0],o[1]),t[n]=null}Lt(i)&&(t.addEventListener(e,i),t[n]=[e,i])}function QI(t){return t==="checkbox"||t==="radio"}var vce=wg("onInput",JI),_ce=wg(["onClick","onChange"],JI);function xz(t){t.stopPropagation()}xz.wrapped=!0;function yce(t,e){QI(e.type)?(cd(t,"change",_ce),cd(t,"click",xz)):cd(t,"input",vce)}function JI(t,e){var i=t.type,n=t.value,o=t.checked,r=t.multiple,a=t.defaultValue,s=!tt(n);i&&i!==e.type&&e.setAttribute("type",i),!tt(r)&&r!==e.multiple&&(e.multiple=r),!tt(a)&&!s&&(e.defaultValue=a+""),QI(i)?(s&&(e.value=n),tt(o)||(e.checked=o)):s&&e.value!==n?(e.defaultValue=n,e.value=n):tt(o)||(e.checked=o)}function gg(t,e){if(t.type==="option")xce(t,e);else{var i=t.children,n=t.flags;if(n&4)gg(i.$LI,e);else if(n&8)gg(i,e);else if(t.childFlags===2)gg(i,e);else if(t.childFlags&12)for(var o=0,r=i.length;o<r;++o)gg(i[o],e)}}function xce(t,e){var i=t.props||_i,n=t.dom;n.value=i.value,i.value===e||vg(e)&&e.indexOf(i.value)!==-1?n.selected=!0:(!tt(e)||!tt(i.selected))&&(n.selected=i.selected||!1)}var Cce=wg("onChange",Cz);function Sce(t){cd(t,"change",Cce)}function Cz(t,e,i,n){var o=!!t.multiple;!tt(t.multiple)&&o!==e.multiple&&(e.multiple=o);var r=t.selectedIndex;r===-1&&(e.selectedIndex=-1);var a=n.childFlags;if(a!==1){var s=t.value;Xue(r)&&r>-1&&e.options[r]&&(s=e.options[r].value),i&&tt(s)&&(s=t.defaultValue),gg(n,s)}}var bce=wg("onInput",Sz),Dce=wg("onChange");function wce(t,e){cd(t,"input",bce),e.onChange&&cd(t,"change",Dce)}function Sz(t,e,i){var n=t.value,o=e.value;if(tt(n)){if(i){var r=t.defaultValue;!tt(r)&&r!==o&&(e.defaultValue=r,e.value=r)}}else o!==n&&(e.defaultValue=n,e.value=n)}function bz(t,e,i,n,o,r){t&64?JI(n,i):t&256?Cz(n,i,o,e):t&128&&Sz(n,i,o),r&&(i.$V=e)}function Ece(t,e,i){t&64?yce(e,i):t&256?Sce(e):t&128&&wce(e,i)}function Dz(t){return t.type&&QI(t.type)?!tt(t.checked):!tt(t.value)}function Dt(){return{current:null}}function x0(t){t&&!YI(t,null)&&t.current&&(t.current=null)}function mc(t,e,i){t&&(Lt(t)||t.current!==void 0)&&i.push(function(){!YI(t,e)&&t.current!==void 0&&(t.current=e)})}function rr(t,e){ja(t),Sg(t,e)}function ja(t){var e=t.flags,i=t.children,n;if(e&481){n=t.ref;var o=t.props;x0(n);var r=t.childFlags;if(!vn(o))for(var a=Object.keys(o),s=0,l=a.length;s<l;s++){var d=a[s];mz[d]&&vz(d,t.dom)}r&12?Cg(i):r===2&&ja(i)}else i&&(e&4?(Lt(i.componentWillUnmount)&&i.componentWillUnmount(),x0(t.ref),i.$UN=!0,ja(i.$LI)):e&8?(n=t.ref,!tt(n)&&Lt(n.onComponentWillUnmount)&&n.onComponentWillUnmount(Vn(t,!0),t.props||_i),ja(i)):e&1024?rr(i,t.ref):e&8192&&t.childFlags&12&&Cg(i))}function Cg(t){for(var e=0,i=t.length;e<i;++e)ja(t[e])}function m0(t){t.textContent=""}function v0(t,e,i){Cg(i),e.flags&8192?Sg(e,t):m0(t)}function Oce(t){var e=t.event;return function(i){e(t.data,i)}}function Ice(t,e,i,n){if($I(i)){if(uz(e,i))return;i=Oce(i)}cd(n,KI(t),i)}function Fce(t,e,i){if(tt(e)){i.removeAttribute("style");return}var n=i.style,o,r;if(yg(e)){n.cssText=e;return}if(!tt(t)&&!yg(t)){for(o in e)r=e[o],r!==t[o]&&n.setProperty(o,r);for(o in t)tt(e[o])&&n.removeProperty(o)}else for(o in e)r=e[o],n.setProperty(o,r)}function Tce(t,e,i,n){var o=t&&t.__html||"",r=e&&e.__html||"";o!==r&&!tt(r)&&!mce(n,r)&&(vn(i)||(i.childFlags&12?Cg(i.children):i.childFlags===2&&ja(i.children),i.children=null,i.childFlags=1),n.innerHTML=r)}function UI(t,e,i,n,o,r,a){switch(t){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[t]=!!i;break;case"defaultChecked":case"value":case"volume":if(r&&t==="value")break;var s=tt(i)?"":i;n[t]!==s&&(n[t]=s);break;case"style":Fce(e,i,n);break;case"dangerouslySetInnerHTML":Tce(e,i,a,n);break;default:mz[t]?lce(t,e,i,n):t.charCodeAt(0)===111&&t.charCodeAt(1)===110?Ice(t,e,i,n):tt(i)?n.removeAttribute(t):o&&tz[t]?n.setAttributeNS(tz[t],t,i):n.setAttribute(t,i);break}}function XI(t,e,i,n,o){var r=!1,a=(e&448)>0;a&&(r=Dz(i),r&&Ece(e,n,i));for(var s in i)UI(s,null,i[s],n,o,r,null);a&&bz(e,t,n,i,!0,r)}function wz(t,e,i){var n=Dg(t.render(e,t.state,i)),o=i;return Lt(t.getChildContext)&&(o=Zs(i,t.getChildContext())),t.$CX=o,n}function ZI(t,e,i,n,o,r){var a=new e(i,n),s=a.$N=!!(e.getDerivedStateFromProps||a.getSnapshotBeforeUpdate);if(a.$SVG=o,a.$L=r,t.children=a,a.$BS=!1,a.context=n,a.props===_i&&(a.props=i),s)a.state=dz(a,i,a.state);else if(Lt(a.componentWillMount)){a.$BR=!0,a.componentWillMount();var l=a.$PS;if(!vn(l)){var d=a.state;if(vn(d))a.state=l;else for(var u in l)d[u]=l[u];a.$PS=null}a.$BR=!1}return a.$LI=wz(a,i,n),a}function D0(t,e){var i=t.props||_i;return t.flags&32768?t.type.render(i,t.ref,e):t.type(i,e)}function yi(t,e,i,n,o,r){var a=t.flags|=16384;a&481?eF(t,e,i,n,o,r):a&4?Rce(t,e,i,n,o,r):a&8?(Bce(t,e,i,n,o,r),iF(t,r)):a&512||a&16?Ez(t,e,o):a&8192?Ace(t,i,e,n,o,r):a&1024&&Mce(t,i,e,o,r)}function Mce(t,e,i,n,o){yi(t.children,t.ref,e,!1,null,o);var r=S0();Ez(r,i,n),t.dom=r.dom}function Ace(t,e,i,n,o,r){var a=t.children,s=t.childFlags;s&12&&a.length===0&&(s=t.childFlags=2,a=t.children=S0()),s===2?yi(a,i,e,n,o,r):hd(a,i,e,n,o,r)}function Ez(t,e,i){var n=t.dom=document.createTextNode(t.children);vn(e)||qI(e,n,i)}function eF(t,e,i,n,o,r){var a=t.flags,s=t.props,l=t.className,d=t.childFlags,u=t.dom=tce(t.type,n=n||(a&32)>0),c=t.children;if(!tt(l)&&l!==""&&(n?u.setAttribute("class",l):u.className=l),d===16)fg(u,c);else if(d!==1){var p=n&&t.type!=="foreignObject";d===2?(c.flags&16384&&(t.children=c=Ii(c)),yi(c,u,i,p,null,r)):(d===8||d===4)&&hd(c,u,i,p,null,r)}vn(e)||qI(e,u,o),vn(s)||XI(t,a,s,u,n),mc(t.ref,u,r)}function hd(t,e,i,n,o,r){for(var a=0;a<t.length;++a){var s=t[a];s.flags&16384&&(t[a]=s=Ii(s)),yi(s,e,i,n,o,r)}}function Rce(t,e,i,n,o,r){var a=ZI(t,t.type,t.props||_i,i,n,r);yi(a.$LI,e,a.$CX,n,o,r),tF(t.ref,a,r)}function Bce(t,e,i,n,o,r){yi(t.children=Dg(D0(t,i)),e,i,n,o,r)}function kce(t){return function(){t.componentDidMount()}}function tF(t,e,i){mc(t,e,i),Lt(e.componentDidMount)&&i.push(kce(e))}function Pce(t,e){return function(){t.onComponentDidMount(Vn(e,!0),e.props||_i)}}function iF(t,e){var i=t.ref;tt(i)||(YI(i.onComponentWillMount,t.props||_i),Lt(i.onComponentDidMount)&&e.push(Pce(i,t)))}function Nce(t,e,i,n,o,r){ja(t),e.flags&t.flags&2033?(yi(e,null,n,o,null,r),ice(i,e.dom,t.dom)):(yi(e,i,n,o,Vn(t,!0),r),Sg(t,i))}function $a(t,e,i,n,o,r,a){var s=e.flags|=16384;t.flags!==s||t.type!==e.type||t.key!==e.key||s&2048?t.flags&16384?Nce(t,e,i,n,o,a):yi(e,i,n,o,r,a):s&481?Gce(t,e,n,o,s,a):s&4?jce(t,e,i,n,o,r,a):s&8?$ce(t,e,i,n,o,r,a):s&16?Kce(t,e):s&512?e.dom=t.dom:s&8192?Hce(t,e,i,n,o,a):Wce(t,e,n,a)}function Lce(t,e,i){t!==e&&(t!==""?i.firstChild.nodeValue=e:fg(i,e))}function Vce(t,e){t.textContent!==e&&(t.textContent=e)}function Hce(t,e,i,n,o,r){var a=t.children,s=e.children,l=t.childFlags,d=e.childFlags,u=null;d&12&&s.length===0&&(d=e.childFlags=2,s=e.children=S0());var c=(d&2)!==0;if(l&12){var p=a.length;(l&8&&d&8||c||!c&&s.length>p)&&(u=Vn(a[p-1],!1).nextSibling)}nF(l,d,a,s,i,n,o,u,t,r)}function Wce(t,e,i,n){var o=t.ref,r=e.ref,a=e.children;if(nF(t.childFlags,e.childFlags,t.children,a,o,i,!1,null,t,n),e.dom=t.dom,o!==r&&!_g(a)){var s=a.dom;az(o,s),rz(r,s)}}function Gce(t,e,i,n,o,r){var a=e.dom=t.dom,s=t.props,l=e.props,d=!1,u=!1,c;if(n=n||(o&32)>0,s!==l){var p=s||_i;if(c=l||_i,c!==_i){d=(o&448)>0,d&&(u=Dz(c));for(var g in c){var m=p[g],y=c[g];m!==y&&UI(g,m,y,a,n,u,t)}}if(p!==_i)for(var C in p)tt(c[C])&&!tt(p[C])&&UI(C,p[C],null,a,n,u,t)}var b=e.children,O=e.className;t.className!==O&&(tt(O)?a.removeAttribute("class"):n?a.setAttribute("class",O):a.className=O),o&4096?Vce(a,b):nF(t.childFlags,e.childFlags,t.children,b,a,i,n&&e.type!=="foreignObject",null,t,r),d&&bz(o,e,a,c,!1,u);var k=e.ref,J=t.ref;J!==k&&(x0(J),mc(k,a,r))}function zce(t,e,i,n,o,r){ja(t),hd(e,i,n,o,Vn(t,!0),r),Sg(t,i)}function nF(t,e,i,n,o,r,a,s,l,d){switch(t){case 2:switch(e){case 2:$a(i,n,o,r,a,s,d);break;case 1:rr(i,o);break;case 16:ja(i),fg(o,n);break;default:zce(i,n,o,r,a,d);break}break;case 1:switch(e){case 2:yi(n,o,r,a,s,d);break;case 1:break;case 16:fg(o,n);break;default:hd(n,o,r,a,s,d);break}break;case 16:switch(e){case 16:Lce(i,n,o);break;case 2:m0(o),yi(n,o,r,a,s,d);break;case 1:m0(o);break;default:m0(o),hd(n,o,r,a,s,d);break}break;default:switch(e){case 16:Cg(i),fg(o,n);break;case 2:v0(o,l,i),yi(n,o,r,a,s,d);break;case 1:v0(o,l,i);break;default:var u=i.length|0,c=n.length|0;u===0?c>0&&hd(n,o,r,a,s,d):c===0?v0(o,l,i):e===8&&t===8?Yce(i,n,o,r,a,u,c,s,l,d):qce(i,n,o,r,a,u,c,s,d);break}break}}function Uce(t,e,i,n,o){o.push(function(){t.componentDidUpdate(e,i,n)})}function Oz(t,e,i,n,o,r,a,s,l){var d=t.state,u=t.props,c=!!t.$N,p=Lt(t.shouldComponentUpdate);if(c&&(e=dz(t,i,e!==d?Zs(d,e):e)),a||!p||p&&t.shouldComponentUpdate(i,e,o)){!c&&Lt(t.componentWillUpdate)&&t.componentWillUpdate(i,e,o),t.props=i,t.state=e,t.context=o;var g=null,m=wz(t,i,o);c&&Lt(t.getSnapshotBeforeUpdate)&&(g=t.getSnapshotBeforeUpdate(u,d)),$a(t.$LI,m,n,t.$CX,r,s,l),t.$LI=m,Lt(t.componentDidUpdate)&&Uce(t,u,d,g,l)}else t.props=i,t.state=e,t.context=o}function jce(t,e,i,n,o,r,a){var s=e.children=t.children;if(!vn(s)){s.$L=a;var l=e.props||_i,d=e.ref,u=t.ref,c=s.state;if(!s.$N){if(Lt(s.componentWillReceiveProps)){if(s.$BR=!0,s.componentWillReceiveProps(l,n),s.$UN)return;s.$BR=!1}vn(s.$PS)||(c=Zs(c,s.$PS),s.$PS=null)}Oz(s,c,l,i,n,o,!1,r,a),u!==d&&(x0(u),mc(d,s,a))}}function $ce(t,e,i,n,o,r,a){var s=!0,l=e.props||_i,d=e.ref,u=t.props,c=!tt(d),p=t.children;if(c&&Lt(d.onComponentShouldUpdate)&&(s=d.onComponentShouldUpdate(u,l)),s!==!1){c&&Lt(d.onComponentWillUpdate)&&d.onComponentWillUpdate(u,l);var g=Dg(D0(e,n));$a(p,g,i,n,o,r,a),e.children=g,c&&Lt(d.onComponentDidUpdate)&&d.onComponentDidUpdate(u,l)}else e.children=p}function Kce(t,e){var i=e.children,n=e.dom=t.dom;i!==t.children&&(n.nodeValue=i)}function qce(t,e,i,n,o,r,a,s,l){for(var d=r>a?a:r,u=0,c,p;u<d;++u)c=e[u],p=t[u],c.flags&16384&&(c=e[u]=Ii(c)),$a(p,c,i,n,o,s,l),t[u]=c;if(r<a)for(u=d;u<a;++u)c=e[u],c.flags&16384&&(c=e[u]=Ii(c)),yi(c,i,n,o,s,l);else if(r>a)for(u=d;u<r;++u)rr(t[u],i)}function Yce(t,e,i,n,o,r,a,s,l,d){var u=r-1,c=a-1,p=0,g=t[p],m=e[p],y,C;e:{for(;g.key===m.key;){if(m.flags&16384&&(e[p]=m=Ii(m)),$a(g,m,i,n,o,s,d),t[p]=m,++p,p>u||p>c)break e;g=t[p],m=e[p]}for(g=t[u],m=e[c];g.key===m.key;){if(m.flags&16384&&(e[c]=m=Ii(m)),$a(g,m,i,n,o,s,d),t[u]=m,u--,c--,p>u||p>c)break e;g=t[u],m=e[c]}}if(p>u){if(p<=c)for(y=c+1,C=y<a?Vn(e[y],!0):s;p<=c;)m=e[p],m.flags&16384&&(e[p]=m=Ii(m)),++p,yi(m,i,n,o,C,d)}else if(p>c)for(;p<=u;)rr(t[p++],i);else Qce(t,e,n,r,a,u,c,p,i,o,s,l,d)}function Qce(t,e,i,n,o,r,a,s,l,d,u,c,p){var g,m,y,C=0,b=s,O=s,k=r-s+1,J=a-s+1,U=new Int32Array(J+1),z=k===n,ce=!1,fe=0,he=0;if(o<4||(k|J)<32)for(C=b;C<=r;++C)if(g=t[C],he<J){for(s=O;s<=a;s++)if(m=e[s],g.key===m.key){if(U[s-O]=C+1,z)for(z=!1;b<C;)rr(t[b++],l);fe>s?ce=!0:fe=s,m.flags&16384&&(e[s]=m=Ii(m)),$a(g,m,l,i,d,u,p),++he;break}!z&&s>a&&rr(g,l)}else z||rr(g,l);else{var it={};for(C=O;C<=a;++C)it[e[C].key]=C;for(C=b;C<=r;++C)if(g=t[C],he<J)if(s=it[g.key],s!==void 0){if(z)for(z=!1;C>b;)rr(t[b++],l);U[s-O]=C+1,fe>s?ce=!0:fe=s,m=e[s],m.flags&16384&&(e[s]=m=Ii(m)),$a(g,m,l,i,d,u,p),++he}else z||rr(g,l);else z||rr(g,l)}if(z)v0(l,c,t),hd(e,l,i,d,u,p);else if(ce){var kt=Jce(U);for(s=kt.length-1,C=J-1;C>=0;C--)U[C]===0?(fe=C+O,m=e[fe],m.flags&16384&&(e[fe]=m=Ii(m)),y=fe+1,yi(m,l,i,d,y<o?Vn(e[y],!0):u,p)):s<0||C!==kt[s]?(fe=C+O,m=e[fe],y=fe+1,lz(m,l,y<o?Vn(e[y],!0):u)):s--}else if(he!==J)for(C=J-1;C>=0;C--)U[C]===0&&(fe=C+O,m=e[fe],m.flags&16384&&(e[fe]=m=Ii(m)),y=fe+1,yi(m,l,i,d,y<o?Vn(e[y],!0):u,p))}var Ua,f0,oz=0;function Jce(t){var e=0,i=0,n=0,o=0,r=0,a=0,s=0,l=t.length;for(l>oz&&(oz=l,Ua=new Int32Array(l),f0=new Int32Array(l));i<l;++i)if(e=t[i],e!==0){if(n=Ua[o],t[n]<e){f0[i]=n,Ua[++o]=i;continue}for(r=0,a=o;r<a;)s=r+a>>1,t[Ua[s]]<e?r=s+1:a=s;e<t[Ua[r]]&&(r>0&&(f0[i]=Ua[r-1]),Ua[r]=i)}r=o+1;var d=new Int32Array(r);for(a=Ua[r-1];r-- >0;)d[r]=a,a=f0[a],Ua[r]=0;return d}var Xce=typeof document<"u";Xce&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function Zce(t,e,i,n){var o=[],r=e.$V;xg.v=!0,tt(r)?tt(t)||(t.flags&16384&&(t=Ii(t)),yi(t,e,n,!1,null,o),e.$V=t,r=t):tt(t)?(rr(r,e),e.$V=null):(t.flags&16384&&(t=Ii(t)),$a(r,t,e,n,!1,null,o),r=e.$V=t),sz(o),xg.v=!1,Lt(i)&&i(),Lt(fc.renderComplete)&&fc.renderComplete(r,e)}function pd(t,e,i,n){i===void 0&&(i=null),n===void 0&&(n=_i),Zce(t,e,i,n)}var _0=[],ehe=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(t){window.setTimeout(t,0)},jI=!1;function Iz(t,e,i,n){var o=t.$PS;if(Lt(e)&&(e=e(o?Zs(t.state,o):t.state,t.props,t.context)),tt(o))t.$PS=e;else for(var r in e)o[r]=e[r];if(t.$BR)Lt(i)&&t.$L.push(i.bind(t));else{if(!xg.v&&_0.length===0){Fz(t,n),Lt(i)&&i.call(t);return}if(_0.indexOf(t)===-1&&_0.push(t),n&&(t.$F=!0),jI||(jI=!0,ehe(oF)),Lt(i)){var a=t.$QU;a||(a=t.$QU=[]),a.push(i)}}}function the(t){for(var e=t.$QU,i=0;i<e.length;++i)e[i].call(t);t.$QU=null}function oF(){var t;for(jI=!1;t=_0.shift();)if(!t.$UN){var e=t.$F;t.$F=!1,Fz(t,e),t.$QU&&the(t)}}function Fz(t,e){if(e||!t.$BR){var i=t.$PS;t.$PS=null;var n=[];xg.v=!0,Oz(t,Zs(t.state,i),t.props,Vn(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,n),sz(n),xg.v=!1}else t.state=t.$PS,t.$PS=null}var gd=function(e,i){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||_i,this.context=i||_i};gd.prototype.forceUpdate=function(e){this.$UN||Iz(this,{},e,!0)};gd.prototype.setState=function(e,i){this.$UN||this.$BS||Iz(this,e,i,!1)};gd.prototype.render=function(e,i,n){return null};var Gr={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){let t=this.callbacks;this.callbacks=[],t.forEach(e=>e())}}};var rF=(t,e)=>{if(!(t instanceof Object&&e instanceof Object))return t===e;let n=Object.keys(t),o=Object.keys(e);return n.length!==o.length?!1:!n.some(a=>t[a]!==e[a])},Ut=class extends gd{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,i){this._pendingContext=i??{}}shouldComponentUpdate(e,i){return!rF(this.props,e)||!rF(this.state,i)||!rF(this.context,this._pendingContext)}},di=class extends Ut{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){Gr.lock()}componentWillUpdate(e,i,n){Gr.lock()}componentDidMount(){Gr.callbacks.push(()=>{this._effects=this.createEffects()}),Gr.callEffects()}componentDidUpdate(){Gr.callbacks.push(()=>this.updateEffects()),Gr.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}},Mo=class extends di{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){let e=this.vDomElement,i=e.className.length?e.className.split(" "):[],n=i.filter(r=>e.dxClasses.previous.indexOf(r)<0),o=e.dxClasses.previous.filter(r=>i.indexOf(r)<0);n.forEach(r=>{let a=e.dxClasses.removed.indexOf(r);a>-1?e.dxClasses.removed.splice(a,1):e.dxClasses.added.includes(r)||e.dxClasses.added.push(r)}),o.forEach(r=>{let a=e.dxClasses.added.indexOf(r);a>-1?e.dxClasses.added.splice(a,1):e.dxClasses.removed.includes(r)||e.dxClasses.removed.push(r)})}componentDidMount(){let e=Vn(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e?.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();let e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(i=>e.classList.add(i)),e.dxClasses.removed.forEach(i=>e.classList.remove(i)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,i){let n=super.shouldComponentUpdate(e,i);return n&&this.vDomUpdateClasses(),n}};var ihe=0,w0=function(t){let e=ihe++;return{id:e,defaultValue:t,Provider:class extends gd{getChildContext(){return Object.assign(Object.assign({},this.context),{[e]:this.props.value||t})}render(){return this.props.children}}}};var ke=class{constructor(e,i){this.dependency=i,this.effect=e,this.destroy=e()}update(e){let i=this.dependency;e&&(this.dependency=e),(!e||e.some((n,o)=>i[o]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}};var zr=()=>new ke(()=>{oF()},[]);var nhe="a runtime error occured! Use Inferno in development environment to find the error.";function Tz(t){return t==null}function Mz(t){return t===null||t===!1||t===!0||t===void 0}function Az(t){return typeof t=="function"}function fd(t){return t===null}function Rz(t){throw t||(t=nhe),new Error(`Inferno Error: ${t}`)}function ohe(t,e){let i=document.createElement("i");return i.innerHTML=e,i.innerHTML===t.innerHTML}function rhe(t){let e,i;for(;t;){if(e=t.flags,e&2033)return t.dom;i=t.children,e&8192?t=t.childFlags===2?i:i[i.length-1]:e&4?t=i.$LI:t=i}return null}function ahe(t,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&ohe(t,e.dangerouslySetInnerHTML.__html))}function she(t,e,i,n,o,r,a){let s=t.type,l=t.ref,d=t.props||_i,u;if(r){let c=ZI(t,s,d,n,o,a),p=c.$LI;u=Eg(p,e,i,c.$CX,o,a),tF(l,c,a)}else{let c=Dg(D0(t,n));u=Eg(c,e,i,n,o,a),t.children=c,iF(t,a)}return u}function Bz(t,e,i,n,o,r){let a=t.childFlags,s=t.children,l=t.props,d=t.flags;if(a!==1){if(a===2)fd(i)?yi(s,e,n,o,null,r):(i=Eg(s,e,i,n,o,r),i=i?i.nextSibling:null);else if(a===16)fd(i)?e.appendChild(document.createTextNode(s)):e.childNodes.length!==1||i.nodeType!==3?e.textContent=s:i.nodeValue!==s&&(i.nodeValue=s),i=null;else if(a&12){let u=!1;for(let c=0,p=s.length;c<p;++c){let g=s[c];fd(i)||u&&(g.flags&16)>0?yi(g,e,n,o,i,r):(i=Eg(g,e,i,n,o,r),i=i?i.nextSibling:null),u=(g.flags&16)>0}}if(!(d&8192)){let u=null;for(;i;)u=i.nextSibling,e.removeChild(i),i=u}}else!fd(e.firstChild)&&!ahe(e,l)&&(e.textContent="",d&448&&(e.defaultValue=""))}function lhe(t,e,i,n,o,r){let a=t.props,s=t.className,l=t.flags,d=t.ref;return o=o||(l&32)>0,i.nodeType!==1?(eF(t,null,n,o,null,r),e.replaceChild(t.dom,i)):(t.dom=i,Bz(t,i,i.firstChild,n,o,r),fd(a)||XI(t,l,a,i,o),Tz(s)?i.className!==""&&i.removeAttribute("class"):o?i.setAttribute("class",s):i.className=s,mc(d,i,r)),t.dom}function kz(t,e,i){if(i.nodeType!==3)e.replaceChild(t.dom=document.createTextNode(t.children),i);else{let n=t.children;i.nodeValue!==n&&(i.nodeValue=n),t.dom=i}return t.dom}function dhe(t,e,i,n,o,r){let a=t.children;return t.childFlags===2?(kz(a,e,i),a.dom):(Bz(t,e,i,n,o,r),rhe(a[a.length-1]))}function Eg(t,e,i,n,o,r){let a=t.flags|=16384;return a&14?she(t,e,i,n,o,(a&4)>0,r):a&481?lhe(t,e,i,n,o,r):a&16?kz(t,e,i):a&512?t.dom=i:a&8192?dhe(t,e,i,n,o,r):(Rz(),null)}function Pz(t,e,i){let n=e.firstChild;if(fd(n))pd(t,e,i);else{let o=[];for(Mz(t)||(n=Eg(t,e,n,{},!1,o));n&&(n=n.nextSibling);)e.removeChild(n);if(o.length>0){let r;for(;(r=o.shift())!==void 0;)r()}}e.$V=t,Az(i)&&i()}function Nz(t){return t==null}function uhe(t){return typeof t=="string"}function Lz(t){return t===void 0}var che={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function vc(t,e,i){var n=arguments,o,r=null,a=null,s=null,l=0,d,u=arguments.length-2;if(u===1)o=i;else if(u>1)for(o=[];u-- >0;)o[u]=n[u+2];if(uhe(t)){if(l=pz(t),!Nz(e)){d={};for(var c in e)c==="className"||c==="class"?s=e[c]:c==="key"?a=e.key:c==="children"&&Lz(o)?o=e.children:c==="ref"?r=e.ref:(c==="contenteditable"&&(l|=4096),d[c]=e[c])}}else{if(l=2,Lz(o)||(e||(e={}),e.children=o),!Nz(e)){d={};for(var p in e)p==="key"?a=e.key:p==="ref"?r=e.ref:che[p]===1?(r||(r={}),r[p]=e[p]):d[p]=e[p]}return Oe(l,t,d,a,r)}return l&8192?rn(u===1?[o]:o,0,a):Xe(l,t,s,o,0,d,a,r)}var hhe=t=>{var e,i;return((e=t.container)===null||e===void 0?void 0:e.get(0))||((i=t.item)===null||i===void 0?void 0:i.get(0))};function Vz(t,e,i){setTimeout(()=>{pd(vc(t,e),hhe(e))},0)}var Hz=(t,e,i)=>{let n=e[t];return!!n&&typeof n!="string"};var phe=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),ghe=t=>typeof t=="number"?!0:!Number.isNaN(Number(t)),fhe=(t,e)=>phe.has(t)?e:`${e}px`,mhe=/[A-Z]/g,vhe=t=>t.replace(mhe,"-$&").toLowerCase();function _c(t){if(t instanceof Object)return Object.entries(t).reduce((e,[i,n])=>(e[vhe(i)]=ghe(n)?fhe(i,n):n,e),{})}var Wz=t=>{var{parentNode:e}=t;if(e){var i=t.nextSibling;Ls(t),e.$V=t.$V,pd(null,e),e.insertBefore(t,i),t.innerHTML="",delete e.$V}delete t.$V},md=Kt({createElement:(t,e)=>vc(t,e),remove:Wz,onAfterRender:()=>{Gr.callEffects()},onPreRender:()=>{Gr.lock()},render:(t,e,i,n)=>{if(n)pd(vc(t,e),i);else{var{parentNode:o}=i,r=i?.nextSibling,a=I.createElement("div");a.appendChild(i);var s=I.createDocumentFragment().appendChild(a),l=!!i.$V;l&&Wz(i),Pz(vc(t,e),s),i.$V=s.$V,o&&o.insertBefore(i,r)}}});var Gz=(t,e)=>Object.keys(t).length!==Object.keys(e).length?!1:Object.keys(t).every(i=>t[i]===e[i]);var _he=["isEqual"];function yhe(t){return!!t.toArray}function zz(t,e){var i,n={template:e,model:E({},t)},o=(i=t.data)!==null&&i!==void 0?i:{},{isEqual:r}=o,a=xe(o,_he);return r&&(n.model.data=a,n.isEqual=r),n}function xhe(t,e){var i,{data:n,index:o}=(i=t.model)!==null&&i!==void 0?i:{data:{}};n&&Object.keys(n).forEach(a=>{n[a]&&I.isNode(n[a])&&(n[a]=V(h(n[a])))});var r=t.template.render(E({container:e,transclude:t.transclude},{renovated:t.renovated},t.transclude?{}:{model:n},!t.transclude&&Number.isFinite(o)?{index:o}:{}));return r===void 0?[]:yhe(r)?r.toArray():[h(r).get(0)]}function Che(t,e){e.forEach(i=>{var n=!!t.find(o=>i===o);!n&&i.parentNode&&h(i).remove()})}var Og=class extends di{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var e=Vn(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};var i=e.parentNode,n=h(i),o=n.contents().toArray(),r=xhe(this.props,V(n));return wH(h(e),h(r)),()=>{var a=h(i).contents().toArray();Che(o,a),i.appendChild(e)}}shouldComponentUpdate(e){var{model:i,template:n}=this.props,{isEqual:o,model:r,template:a}=e,s=o??Gz;if(n!==a)return!0;if(!f(i)||!f(r))return i!==r;var{data:l,index:d}=i,{data:u,index:c}=r;return d!==c?!0:!s(l,u)}createEffects(){return[new ke(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}};function aF(t){return Array.isArray(t)?[...t]:E({},t)}function Uz(t,e,i){var n=i.length>0&&e&&t!==e?aF(e):aF(t),o=i[0];return i.length>1?n[o]=Uz(t[o],e?.[o],i.slice(1)):o&&(q(t[o])?n[o]=aF(t[o]):n[o]=t[o]),n}function jz(t,e,i,n){var o=e[i],r=t[i],a=t;q(o)||i!==n&&Array.isArray(o)?a[i]=Uz(o,r,co(n).slice(1)):a[i]=o}var sF=(t,e)=>i=>{Object.prototype.hasOwnProperty.call(t,i)&&t[i]===void 0&&(t[i]=e(i))},yc=(()=>{class t extends tn{constructor(i,n){super(i,n),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var i=this.getSupportedKeyNames(),n=i.length>0,o=typeof this._viewComponent.prototype.keyDown=="function";if(n&&!o)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var i;return(i=this._viewRef)===null||i===void 0?void 0:i.current}_checkContentReadyOption(i){var n=this._getContentReadyOptions().reduce((o,r)=>(o[r]=!0,o),{});return this._checkContentReadyOption=o=>!!n[o],this._checkContentReadyOption(i)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){var i=this._getViewComponentDefaultProps();return v(!0,super._getDefaultOptions(),i,this._propsInfo.twoWay.reduce((n,o)=>{var[r,a,s]=o;return E({},n,{[r]:i[a],[s]:l=>this.option(r,l)})},{}),this._propsInfo.templates.reduce((n,o)=>E({},n,{[o]:null}),{}))}_getUnwrappedOption(){var i={};return Object.keys(this.option()).forEach(n=>{i[n]=this.option(n)}),i}_initializeComponent(){var i;super._initializeComponent(),(i=this._templateManager)===null||i===void 0||i.addDefaultTemplates(this.getDefaultTemplates());var n=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(n),this._propsInfo.templates.forEach(o=>{this._componentTemplates[o]=this._createTemplateComponent(this._props[o])}),Object.keys(this._getActionConfigsFull()).forEach(o=>this._addAction(o)),this._viewRef=Dt(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var i=this.getProps();this._renderWrapper(i)}_renderWrapper(i){var n=this.$element()[0];this._isNodeReplaced||md.onPreRender(),md.render(this._viewComponent,i,n,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,md.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(i,n){this._options.silent(i,n)}_render(){}_removeWidget(){md.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var i=this.$element()[0];if(!this._elementAttr){var{attributes:n}=i,o=Array.from(n).filter(l=>{var d;return!this._propsInfo.templates.includes(l.name)&&((d=n[l.name])===null||d===void 0?void 0:d.specified)}).reduce((l,d)=>{var{name:u,value:c}=d,p=l,g=u in i;return p[u]=c===""&&g?i[u]:c,p},{});this._elementAttr=o,this._storedClasses=i.getAttribute("class")||""}for(var r=i.style,a={},s=0;s<r.length;s+=1)a[r[s]]=r.getPropertyValue(r[s]);return this._elementAttr.style=a,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(i){var{allowNull:n,elements:o,props:r,twoWay:a}=this._propsInfo,s=this._getViewComponentDefaultProps(),l=Object.keys(s),d=this._getDefaultOptions(),{children:u,onKeyboardHandled:c,ref:p}=i,g=c?(y,C)=>{c(C)}:void 0,m={ref:p,children:u,onKeyDown:g};return[...r,...this._getAdditionalProps()].forEach(y=>{Object.prototype.hasOwnProperty.call(i,y)&&(m[y]=i[y])}),n.forEach(sF(m,()=>null)),l.forEach(sF(m,y=>d[y])),a.forEach(y=>{var[C,b]=y;sF(m,()=>d[b])(C)}),o.forEach(y=>{if(y in m){var C=m[y];ii(C)&&(m[y]=this._patchElementParam(C))}}),m}getSupportedKeyNames(){return[]}prepareStyleProp(i){return typeof i.style=="string"?E({},i,{style:{},cssText:i.style}):i}getProps(){var i,n,{elementAttr:o}=this.option(),r=this._patchOptionValues(E({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(a=>{r[a]=this._componentTemplates[a]}),this.prepareStyleProp(E({},r,this.elementAttr,o,{className:[...((i=this.elementAttr.class)!==null&&i!==void 0?i:"").split(" "),...((n=o?.class)!==null&&n!==void 0?n:"").split(" ")].filter((a,s,l)=>a&&l.indexOf(a)===s).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return E({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var i=Object.values(this._templatesInfo),n={};return i.forEach(o=>{n[o]="dx-renovation-template-mock"}),n}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(i){var n=Object.entries(this._templatesInfo).reduce((o,r)=>{var a,[s,l]=r;return E({},o,{[s]:(a=i[s])!==null&&a!==void 0?a:l})},{});return E({},i,n)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var i={},n=this.getSupportedKeyNames();return n.forEach(o=>{i[o]=r=>this.viewRef.keyDown(U_.createKeyDownOptions(r))}),i}_addAction(i,n){var o=n;if(!o){var r=this._createActionByOption(i,this._getActionConfigsFull()[i]);o=a=>(Object.keys(a).forEach(s=>{f(a[s])&&I.isNode(a[s])&&(a[s]=V(h(a[s])))}),r(a))}this._actionsMap[i]=o}_optionChanged(i){var{fullName:n,name:o,previousValue:r,value:a}=i;jz(this._props,this.option(),o,n),this._propsInfo.templates.includes(o)&&a!==r&&(this._componentTemplates[o]=this._createTemplateComponent(a)),o&&this._getActionConfigsFull()[o]&&this._addAction(o),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),super._optionChanged(i),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?md.createElement(Og,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(i){if(i){var n=this._getTemplate(i);if(!(N(n)&&n==="dx-renovation-template-mock"))return o=>md.createElement(Og,zz(o,n))}}_wrapKeyDownHandler(i){return n=>{var{keyName:o,originalEvent:r,which:a}=n,s=this.customKeyHandlers,l=s[o]||s[a];if(l!==void 0){var d=l.bind(this),u=d(r,n);if(!u)return r.cancel=!0,r}return i?.(r,n)}}_toPublicElement(i){return V(h(i))}_patchElementParam(i){try{var n=h(i),o=n?.get(0);return o!=null&&o.nodeType?o:i}catch{return i}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return E({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(i,n){this.customKeyHandlers[i]=n}setAria(i,n){this._aria[i]=n,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}return t.IS_RENOVATED_WIDGET=!1,t.IS_RENOVATED_WIDGET=!0,t})();var E0=class extends yc{get _validationGroupConfig(){return qe.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var e=super.getProps();e.onClick=n=>{var{event:o}=n;this._clickAction({event:o,validationGroup:this._validationGroupConfig})};var i=Ea(e.icon);return i==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,i){var n=this.viewRef;i?n.activate():n.deactivate()}_getSubmitAction(){var e=!0,i="valid";return this._createAction(n=>{var{event:o,submitInput:r}=n;if(e){var a=this._validationGroupConfig;if(a!==void 0&&a!==""){var s=a.validate();i=s.status,s.status==="pending"&&(e=!1,this.option("disabled",!0),s.complete.then(l=>{var{status:d}=l;this.option("disabled",!1),i=d,i==="valid"&&r.click(),e=!0}))}}i!=="valid"&&o.preventDefault(),o.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var e=this.$element().find(".dx-button-content").first(),i=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");i.length&&(i.addClass("dx-button-content"),i.append(n),e.replaceWith(i))}_patchOptionValues(e){return super._patchOptionValues(E({},e,{templateData:e._templateData}))}_findGroup(){var e=this.$element(),i=this.option("validationGroup");return i!==void 0&&i!==""?i:qe.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){switch(e.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(e)}};function ui(t){return Object.keys(t).filter(e=>t[e]).join(" ")}var She=["iconTemplate","position","source"],bhe=t=>{var{iconClassName:e,props:{iconTemplate:i,source:n},sourceType:o}=t;return rn([o==="dxIcon"&&Xe(1,"i",e),o==="fontIcon"&&Xe(1,"i",e),o==="image"&&Xe(1,"img",e,null,1,{alt:"",src:n}),i&&Xe(1,"i",e,i({}),0)],0)},Dhe={position:"left",source:""},whe=t=>t&&(t.defaultProps?e=>Vt(Oe(2,t,E({},e))):t),$z=(()=>{class t extends Ut{constructor(i){super(i),this.state={}}get sourceType(){return Ea(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var i={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:n}=this.props;return this.sourceType==="dxIcon"?ui(E({},i,{["dx-icon-".concat(n)]:!0})):this.sourceType==="fontIcon"?ui(E({},i,{[String(n)]:!!n})):this.sourceType==="image"?ui(i):this.sourceType==="svg"?ui(E({},i,{"dx-svg-icon":!0})):""}get restAttributes(){var i=this.props,n=xe(i,She);return n}render(){var i=this.props;return bhe({props:E({},i,{iconTemplate:whe(i.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}return t.defaultProps=Dhe,t})();var Kz="dx-inkripple",qz="dx-inkripple-wave",Yz="dx-inkripple-showing",Qz="dx-inkripple-hiding",Ehe=2,Ohe=4e3,lF=300,Ihe=1e3,Jz=0,dF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:i,isCentered:n,wavesNumber:o}=t;return{waveSizeCoefficient:i||Ehe,isCentered:n||!1,wavesNumber:o||1,durations:Ahe(e??!0)}},xc=function(t){var e=dF(t);return{showWave:uF.bind(this,e),hideWave:cF.bind(this,e)}},Fhe=function(t){var e=t.children("."+Kz);return e.length===0&&(e=h("<div>").addClass(Kz).appendTo(t)),e},Xz=function(t,e){for(var i=Fhe(h(t)),n=i.children("."+qz).toArray(),o=n.length;o<e;o++){var r=h("<div>").appendTo(i).addClass(qz);n.push(r[0])}return h(n)},The=function(t,e){var i=h(e.element),n=ee(i),o=oe(i),r=parseInt(Math.sqrt(n*n+o*o)),a=Math.min(Ohe,parseInt(r*t.waveSizeCoefficient)),s,l;if(t.isCentered)s=(n-a)/2,l=(o-a)/2;else{var d=e.event,u=i.offset(),c=d.pageX-u.left,p=d.pageY-u.top;s=c-a/2,l=p-a/2}return{left:s,top:l,height:a,width:a}};function uF(t,e){var i=Xz(e.element,t.wavesNumber).eq(e.wave||Jz);t.hidingTimeout&&clearTimeout(t.hidingTimeout),Zz(i),i.css(The(t,e)),t.showingTimeout=setTimeout(Mhe.bind(this,t,i),0)}function Mhe(t,e){var i=t.durations.showingScale+"ms";e.addClass(Yz).css("transitionDuration",i)}function Ahe(t){return{showingScale:t?Ihe:lF,hidingScale:lF,hidingOpacity:lF}}function Zz(t){t.removeClass(Qz).css("transitionDuration","")}function cF(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var i=Xz(e.element,e.wavesNumber).eq(e.wave||Jz),n=t.durations,o=n.hidingScale+"ms, "+n.hidingOpacity+"ms";i.addClass(Qz).removeClass(Yz).css("transitionDuration",o);var r=Math.max(n.hidingScale,n.hidingOpacity);t.hidingTimeout=setTimeout(Zz.bind(this,i),r)}var Rhe=["config"],Bhe=t=>Vt(Xe(1,"div","dx-inkripple",null,1,E({},t.restAttributes))),khe={config:Object.freeze({})},e4=(()=>{class t extends Ut{constructor(i){super(i),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:i}=this.props;return dF(i)})()}get restAttributes(){var i=this.props,n=xe(i,Rhe);return n}hideWave(i){cF(this.getConfig,i)}showWave(i){uF(this.getConfig,i)}componentWillUpdate(i,n,o){this.props.config!==i.config&&(this.__getterCache.getConfig=void 0)}render(){var i=this.props;return Bhe({props:E({},i),getConfig:this.getConfig,restAttributes:this.restAttributes})}}return t.defaultProps=khe,t})();var Phe=Xt.add,t4=Math.abs,hF=0,pF=1,Ig=2,O0=10,Nhe=0,Lhe=180,Vhe=function(){return Yo("pointer-events")},Hhe=Ji(function(){var t=R.real().deviceType==="desktop";if(!Vhe()||!t)return D;var e=h("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return _.subscribeGlobal(e,"dxmousewheel",function(i){i.preventDefault()}),Phe(function(){e.appendTo("body")}),function(i,n){e.css("pointerEvents",i?"all":"none"),i&&e.css("cursor",n)}}),Whe=function(t,e){var i=Hhe();i(t,e)},gF=$s.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return this._stage!==Ig},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=hF},start:function(t){if(t._needSkipEvent||T_(t)){this._cancel(t);return}this._startEvent=Jo(t),this._startEventData=vt(t),this._stage=pF,this._init(t),this._setupImmediateTimer()},_setupImmediateTimer:function(){var t;if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),(t=this.immediateTimeout)!==null&&t!==void 0?t:Lhe)}},move:function(t){if(this._stage===pF&&this._directionConfirmed(t)){if(this._stage=Ig,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),this._stage===hF)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else this._stage===Ig&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),i=Hr(this._startEventData,vt(t)),n=t4(i.x),o=t4(i.y),r=this._validateMove(e,n,o),a=this._validateMove(e,o,n),s=this.getDirection(t),l=s==="both"&&(r||a),d=s==="horizontal"&&r,u=s==="vertical"&&a;return l||d||u||this._immediateAccepted},_validateMove:function(t,e,i){return e&&e>=t&&(this.immediate?e>=i:!0)},_getTouchBoundary:function(t){return this.immediate||li(t)?Nhe:O0},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),i=Hr(this._startEventData,vt(t));this._startEvent.pageX+=or(i.x)*e,this._startEvent.pageY+=or(i.y)*e},_resetActiveElement:function(){R.real().platform==="ios"&&this.getElement().find(":focus").length&&Do()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){var e=this._stage===Ig;e&&Whe(t,this.getElement().css("cursor"))},_clearSelection:function(t){li(t)||wa(t)||bH()},end:function(t){this._toggleGestureCover(!1),this._stage===Ig?this._end(t):this._stage===pF&&this._stop(t),this._stage=hF},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:D,_start:D,_move:D,_stop:D,_end:D});gF.initialTouchBoundary=O0;gF.touchBoundary=function(t){if(f(t)){O0=t;return}return O0};var Cc=gF;var Ghe=le.abstract,zhe=R.real(),n4="scroll",mF="dxscrollinit",vF="dxscrollstart",_F="dxscroll",yF="dxscrollend",xF="dxscrollstop",CF="dxscrollcancel",o4=le.inherit(function(){var t=F(n4,"dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=i=>{this._disposed||this._scroll(i)},_.on(this._element,t,this._proxiedScroll)},_scroll:Ghe,check:function(e,i){this._locked&&i()},dispose:function(){this._disposed=!0,_.off(this._element,t,this._proxiedScroll)}}}()),r4=o4.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout(function(){t._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),i4=r4.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if(!li(t)){this._lastWheelDirection=null;return}var e=t.shiftKey||!1,i=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!i}}),fF=r4.inherit({ctor:function(t){this.callBase(t,400)}});(function(){var{ios:t,android:e}=zhe;(t||e)&&(fF=o4.inherit({_scroll:function(){this._locked=!0;var i=this;Yn(this._scrollFrame),this._scrollFrame=zs(function(){i._locked=!1})},check:function(i,n){Yn(this._scrollFrame),Yn(this._checkFrame);var o=this,r=this.callBase;this._checkFrame=zs(function(){r.call(o,i,n),o._locked=!1})},dispose:function(){this.callBase(),Yn(this._scrollFrame),Yn(this._checkFrame)}}))})();var Uhe=Cc.inherit(function(){var t=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new fF(e),this._wheelLocker=new i4(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new fF(e.scrollTarget),this._wheelLocker=new i4(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,function(){li(e)&&this._accept(e)}.bind(this)),this._pointerLocker.check(e,function(){var i=this.isNative&&bo(e);!li(e)&&!i&&this._accept(e)}.bind(this)),this._fireEvent(mF,e),this._prevEventData=vt(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=vt(e),this._fireEvent(vF,e),this._prevEventData=vt(e)},_move:function(e){var i=vt(e);this._fireEvent(_F,e,{delta:Hr(this._prevEventData,i)});var n=Hr(this._savedEventData,i);n.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=vt(e)},_end:function(e){var i=Hr(this._prevEventData,vt(e)),n={x:0,y:0};if(!li(e)&&i.time<100){var o=Hr(this._savedEventData,this._prevEventData),r=t/o.time;n={x:o.x*r,y:o.y*r}}this._fireEvent(yF,e,{velocity:n})},_stop:function(e){this._fireEvent(xF,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(CF,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());wo({emitter:Uhe,events:[mF,vF,_F,yF,xF,CF]});var _n={init:mF,start:vF,move:_F,end:yF,stop:xF,cancel:CF,scroll:n4};function xi(t){return(e,i,n,o)=>{var r=o?F(t,o):t;if(i)return _.on(e,r,n,i),()=>{_.off(e,r,i)}}}var a4=xi(se),AQe=xi(_n.scroll),RQe=xi(_n.init),BQe=xi(_n.start),kQe=xi(_n.move),PQe=xi(_n.end),NQe=xi(_n.stop),LQe=xi(_n.cancel),VQe=xi(ae.down),HQe=xi(ae.up),WQe=xi(ae.move),GQe=xi("mouseenter"),zQe=xi("mouseleave"),UQe=xi("keydown"),s4=xi("dxactive"),l4=xi("dxinactive"),d4=xi("dxhoverstart"),u4=xi("dxhoverend"),c4=xi("focusin"),h4=xi("focusout");var el={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0};var Zt=w0(void 0);var jhe=["children","rtlEnabled"],$he=t=>t.props.children,Khe={},p4=(()=>{class t extends Ut{constructor(i){super(i),this.state={},this.__getterCache={}}getChildContext(){return E({},this.context,{[Zt.id]:this.config||Zt.defaultValue})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config={rtlEnabled:this.props.rtlEnabled}}get restAttributes(){var i=this.props,n=xe(i,jhe);return n}componentWillUpdate(i,n,o){this.props.rtlEnabled!==i.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var i=this.props;return $he({props:E({},i),config:this.config,restAttributes:this.restAttributes})}}return t.defaultProps=Khe,t})();function g4(t,e){return t!==void 0?t:e?.rtlEnabled!==void 0?e.rtlEnabled:Fe().rtlEnabled}function f4(t,e){var i=f(t),n=f(Fe().rtlEnabled)&&!i&&!f(e?.rtlEnabled);return i&&t!==e?.rtlEnabled||n}var qhe=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],Yhe=400,Qhe=30,Jhe=t=>Object.keys(t).reduce((e,i)=>t[i]?E({},e,{[i==="role"||i==="id"?i:"aria-".concat(i)]:String(t[i])}):e,{}),Xhe=t=>{var e=Vt(Xe(1,"div",t.cssClasses,t.props.children,0,E({},t.attributes,{tabIndex:t.tabIndex,title:t.props.hint,style:_c(t.styles)}),null,t.widgetElementRef));return t.shouldRenderConfigProvider?Oe(2,p4,{rtlEnabled:t.rtlEnabled,children:e}):e},Sc=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(el),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:Yhe,_feedbackShowTimeout:Qhe,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0}))),bc=(()=>{class t extends Mo{constructor(i){super(i),this.widgetElementRef=Dt(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return this.context[Zt.id]?this.context[Zt.id]:Zt.defaultValue}createEffects(){return[new ke(this.setRootElementRef,[]),new ke(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new ke(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new ke(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new ke(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new ke(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new ke(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new ke(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new ke(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new ke(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new ke(this.windowResizeEffect,[this.props.onDimensionChanged]),new ke(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new ke(this.checkDeprecation,[this.props.height,this.props.width]),new ke(this.applyCssTextEffect,[this.props.cssText]),zr()]}updateEffects(){var i,n,o,r,a,s,l,d,u,c,p,g,m;(i=this._effects[1])===null||i===void 0||i.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(n=this._effects[2])===null||n===void 0||n.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(o=this._effects[3])===null||o===void 0||o.update([this.props.disabled,this.props.name,this.props.onClick]),(r=this._effects[4])===null||r===void 0||r.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(a=this._effects[5])===null||a===void 0||a.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(s=this._effects[6])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(l=this._effects[7])===null||l===void 0||l.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(d=this._effects[8])===null||d===void 0||d.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(c=this._effects[10])===null||c===void 0||c.update([this.props.onDimensionChanged]),(p=this._effects[11])===null||p===void 0||p.update([this.props.name,this.props.onVisibilityChange]),(g=this._effects[12])===null||g===void 0||g.update([this.props.height,this.props.width]),(m=this._effects[13])===null||m===void 0||m.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:i,rootElementRef:n}=this.props;n&&(n.current=this.widgetElementRef.current),i?.(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:i,activeStateEnabled:n,activeStateUnit:o,disabled:r,onActive:a}=this.props,s=o;if(n&&!r)return s4(this.widgetElementRef.current,l=>{this.setState(d=>({active:!0})),a?.(l)},{timeout:i,selector:s},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:i,activeStateEnabled:n,activeStateUnit:o,onInactive:r}=this.props,a=o;if(n)return l4(this.widgetElementRef.current,s=>{this.state.active&&(this.setState(l=>({active:!1})),r?.(s))},{timeout:i,selector:a},"UIFeedback")}clickEffect(){var{disabled:i,name:n,onClick:o}=this.props,r=n;if(o&&!i)return eO.on(this.widgetElementRef.current,o,{namespace:r}),()=>eO.off(this.widgetElementRef.current,{namespace:r})}focusInEffect(){var{disabled:i,focusStateEnabled:n,name:o,onFocusIn:r}=this.props,a="".concat(o,"Focus");if(n&&!i)return c4(this.widgetElementRef.current,s=>{s.isDefaultPrevented()||(this.setState(l=>({focused:!0})),r?.(s))},null,a)}focusOutEffect(){var{focusStateEnabled:i,name:n,onFocusOut:o}=this.props,r="".concat(n,"Focus");if(i)return h4(this.widgetElementRef.current,a=>{!a.isDefaultPrevented()&&this.state.focused&&(this.setState(s=>({focused:!1})),o?.(a))},null,r)}hoverStartEffect(){var{activeStateUnit:i,disabled:n,hoverStateEnabled:o,onHoverStart:r}=this.props,a=i;if(o&&!n)return d4(this.widgetElementRef.current,s=>{!this.state.active&&this.setState(l=>({hovered:!0})),r?.(s)},{selector:a},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:i,hoverStateEnabled:n,onHoverEnd:o}=this.props,r=i;if(n)return u4(this.widgetElementRef.current,a=>{this.state.hovered&&(this.setState(s=>({hovered:!1})),o?.(a))},{selector:r},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:i,onKeyDown:n}=this.props;if(i&&n){var o=Oo.on(this.widgetElementRef.current,this.widgetElementRef.current,r=>n(r));return()=>Oo.off(o)}}resizeEffect(){var i="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:n}=this.props;if(n)return ec.on(this.widgetElementRef.current,n,{namespace:i}),()=>ec.off(this.widgetElementRef.current,{namespace:i})}windowResizeEffect(){var{onDimensionChanged:i}=this.props;if(i)return Qo.add(i),()=>{Qo.remove(i)}}visibilityEffect(){var{name:i,onVisibilityChange:n}=this.props,o="".concat(i,"VisibilityChange");if(n)return tc.on(this.widgetElementRef.current,()=>n(!0),()=>n(!1),{namespace:o}),()=>tc.off(this.widgetElementRef.current,{namespace:o})}checkDeprecation(){var{height:i,width:n}=this.props;T(n)&&me.log("W0017","width"),T(i)&&me.log("W0017","height")}applyCssTextEffect(){var{cssText:i}=this.props;i!==""&&(this.widgetElementRef.current.style.cssText=i)}get shouldRenderConfigProvider(){var{rtlEnabled:i}=this.props;return f4(i,this.config)}get rtlEnabled(){var{rtlEnabled:i}=this.props;return g4(i,this.config)}get attributes(){var{aria:i,disabled:n,focusStateEnabled:o,visible:r}=this.props,a=o&&!n&&this.props.accessKey;return E({},v({},a&&{accessKey:a}),Jhe(E({},i,{disabled:n,hidden:!r})),v({},this.restAttributes))}get styles(){var{height:i,width:n}=this.props,o=this.restAttributes.style||{},r=Pr("width",T(n)?n():n),a=Pr("height",T(i)?i():i);return E({},o,{height:a??o.height,width:r??o.width})}get cssClasses(){var{activeStateEnabled:i,addWidgetClass:n,className:o,classes:r,disabled:a,focusStateEnabled:s,hoverStateEnabled:l,onVisibilityChange:d,visible:u}=this.props,c=!!s&&!a,p=!!l&&!a,g=!!i&&!a,m={"dx-widget":!!n,[String(r)]:!!r,[String(o)]:!!o,"dx-state-disabled":!!a,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&c,"dx-state-active":!!this.state.active&&g,"dx-state-hover":!!this.state.hovered&&p&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!d};return ui(m)}get tabIndex(){var{disabled:i,focusStateEnabled:n,tabIndex:o}=this.props,r=n&&!i;return r?o:void 0}get restAttributes(){var i=this.props,n=xe(i,qhe);return n}focus(){ic.trigger(this.widgetElementRef.current)}blur(){var i=I.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===i&&i.blur()}activate(){this.setState(i=>({active:!0}))}deactivate(){this.setState(i=>({active:!1}))}render(){var i=this.props;return Xhe({props:E({},i),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}return t.defaultProps=Sc,t})();var Zhe=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],epe=["outlined","text","contained"],tpe=t=>{var{icon:e,iconPosition:i,stylingMode:n,text:o,type:r}=t,a=n&&epe.includes(n),s={"dx-button":!0,["dx-button-mode-".concat(a?n:"contained")]:!0,["dx-button-".concat(r??"normal")]:!0,"dx-button-has-text":!!o,"dx-button-has-icon":!!e,"dx-button-icon-right":i!=="left"};return ui(s)},ipe=t=>{var{children:e,iconPosition:i,iconTemplate:n,template:o,text:r}=t.props,a=!t.props.template&&!e&&r!=="",s=i==="left",l=!t.props.template&&!e&&(t.iconSource||t.props.iconTemplate)&&Oe(2,$z,{source:t.iconSource,position:i,iconTemplate:n});return Vt(Oe(2,bc,E({accessKey:t.props.accessKey,activeStateEnabled:t.props.activeStateEnabled,aria:t.aria,className:t.props.className,classes:t.cssClasses,disabled:t.props.disabled,focusStateEnabled:t.props.focusStateEnabled,height:t.props.height,hint:t.props.hint,hoverStateEnabled:t.props.hoverStateEnabled,onActive:t.onActive,onClick:t.onWidgetClick,onInactive:t.onInactive,onKeyDown:t.keyDown,rtlEnabled:t.props.rtlEnabled,tabIndex:t.props.tabIndex,visible:t.props.visible,width:t.props.width},t.restAttributes,{children:Xe(1,"div","dx-button-content",[t.props.template&&o({data:t.buttonTemplateData}),!t.props.template&&e,s&&l,a&&Xe(1,"span","dx-button-text",r,0),!s&&l,t.props.useSubmitBehavior&&Xe(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,t.submitInputRef),t.props.useInkRipple&&Oe(2,e4,{config:t.inkRippleConfig},null,t.inkRippleRef)],0,null,null,t.contentRef)}),null,t.widgetRef))},npe=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(el),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),_4=sW([{device:()=>R.real().deviceType==="desktop"&&!R.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>He(vi()),options:{useInkRipple:!0}}]),m4=t=>t&&(t.defaultProps?e=>Vt(Oe(2,t,E({},e))):t),vd=class extends Mo{constructor(e){super(e),this.state={},this.contentRef=Dt(),this.inkRippleRef=Dt(),this.submitInputRef=Dt(),this.widgetRef=Dt(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this),this.emitClickEvent=this.emitClickEvent.bind(this)}createEffects(){return[new ke(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),new ke(this.checkDeprecation,[this.props.type]),zr()]}updateEffects(){var e,i;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior]),(i=this._effects[1])===null||i===void 0||i.update([this.props.type])}submitEffect(){var{onSubmit:e,useSubmitBehavior:i}=this.props;if(i&&e)return tO.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>tO.off(this.submitInputRef.current,{namespace:"UIFeedback"})}checkDeprecation(){var{type:e}=this.props;e==="back"&&me.log("W0016","type","back","22.2","Use the 'back' icon instead")}onActive(e){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){var{onClick:i,useSubmitBehavior:n}=this.props;i?.({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){var{onKeyDown:i}=this.props,{keyName:n,originalEvent:o,which:r}=e,a=i?.(e);if(a!=null&&a.cancel)return a;(n==="space"||r==="space"||n==="enter"||r==="enter")&&(o.preventDefault(),this.emitClickEvent())}emitClickEvent(){this.contentRef.current.click()}get aria(){var{icon:e,text:i}=this.props,n=i??"";if(!i&&e){var o=Ea(e);switch(o){case"image":var r=!e.includes("base64")&&/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/.test(e);n=r?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break;case"dxIcon":n=w.format(Da(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":var a,s,l=(a=(s=/<title>(.*?)<\/title>/.exec(e))===null||s===void 0?void 0:s[1])!==null&&a!==void 0?a:"";n=l}}return E({role:"button"},n?{label:n}:{})}get cssClasses(){return tpe(this.props)}get iconSource(){var{icon:e,type:i}=this.props;return e||i==="back"?(e??"")||"back":""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:e,text:i,type:n}=this.props;return!i&&e||n==="back"?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:e,templateData:i,text:n}=this.props;return E({icon:e,text:n},i)}get restAttributes(){var e=this.props,i=xe(e,Zhe);return i}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,i,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text||this.props.type!==e.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var e=this.props;return ipe({props:E({},e,{template:m4(e.template),iconTemplate:m4(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,emitClickEvent:this.emitClickEvent,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};vd.defaultProps=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(npe),Object.getOwnPropertyDescriptors(E({},er(_4)))));var v4=[];function y4(t){v4.push(t),vd.defaultProps=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(vd.defaultProps),Object.getOwnPropertyDescriptors(er(_4)),Object.getOwnPropertyDescriptors(er(v4))))}var Dc=class extends E0{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return vd}};K("dxButton",Dc);Dc.defaultOptions=y4;var xt=Dc;var ar="dxdragstart",Xn="dxdrag",sr="dxdragend",Fg="dxdragenter",Tg="dxdragleave",bF="dxdrop",I0="dxDragEventsCount",Ka=[],wc=[],SF=[],DF={setup:function(t,e){var i=Ka.includes(t);i||(Ka.push(t),wc.push([]),SF.push(e||{}))},add:function(t,e){var i=Ka.indexOf(t);this.updateEventsCounter(t,e.type,1);var n=e.selector;wc[i].includes(n)||wc[i].push(n)},updateEventsCounter:function(t,e,i){if([Fg,Tg,bF].indexOf(e)>-1){var n=Ve(t,I0)||0;Ve(t,I0,Math.max(0,n+i))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){var e=Ve(t,I0);if(!e){var i=Ka.indexOf(t);Ka.splice(i,1),wc.splice(i,1),SF.splice(i,1),Ns(t,I0)}}};Oi(Fg,DF);Oi(Tg,DF);Oi(bF,DF);var ope=function(t){var e=Ka.indexOf(t.get(0)),i=wc[e].filter(o=>o),n=t.find(i.join(", "));return wc[e].includes(void 0)&&(n=n.add(t)),n},rpe=function(t){var e=Ka.indexOf(t.get(0));return SF[e]},ape=function(t,e){return t.itemPositionFunc?t.itemPositionFunc(e):e.offset()},spe=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},lpe=Cc.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){if(t=this._fireEvent(ar,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset,t.targetElements||t.targetElements===null){var e=qH(t.targetElements||[]);this._dropTargets=Ke(e,function(i){return h(i).get(0)})}else this._dropTargets=Ka},_move:function(t){var e=vt(t),i=this._calculateOffset(e);t=this._fireEvent(Xn,t,{offset:i}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if(this.direction!=="vertical"){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if(this.direction!=="horizontal"){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,i){return e!=null&&(t=Math.max(t,-e)),i!=null&&(t=Math.min(t,i)),t},_processDropTargets:function(t){var e=this._findDropTarget(t),i=e===this._currentDropTarget;i||(this._fireDropTargetEvent(t,Tg),this._currentDropTarget=e,this._fireDropTargetEvent(t,Fg))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var i={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};Zi(i)}},_findDropTarget:function(t){var e=this,i;return x(Ka,function(n,o){if(e._checkDropTargetActive(o)){var r=h(o);x(ope(r),function(a,s){var l=h(s);e._checkDropTarget(rpe(r),l,h(i),t)&&(i=s)})}}),i},_checkDropTargetActive:function(t){var e=!1;return x(this._dropTargets,function(i,n){return e=e||n===t||Rn(n,t),!e}),e},_checkDropTarget:function(t,e,i,n){var o=e.get(0)===h(n.target).get(0);if(o)return!1;var r=ape(t,e);if(n.pageX<r.left||n.pageY<r.top)return!1;var a=spe(t,e);return n.pageX>r.left+a.width||n.pageY>r.top+a.height||i.length&&i.closest(e).length||t.checkDropTarget&&!t.checkDropTarget(e,n)?!1:e},_end:function(t){var e=vt(t);this._fireEvent(sr,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,bF),delete this._currentDropTarget}});wo({emitter:lpe,events:[ar,Xn,sr]});var F0=5,wF=class{constructor(e){this.init(e)}init(e){var{dragEnabled:i,handle:n,draggableElement:o,positionController:r}=e;this._positionController=r,this._draggableElement=o,this._handle=n,this._dragEnabled=i,this.unsubscribe(),i&&this.subscribe()}moveDown(e){this._moveTo(F0,0,e)}moveUp(e){this._moveTo(-F0,0,e)}moveLeft(e){this._moveTo(0,-F0,e)}moveRight(e){this._moveTo(0,F0,e)}subscribe(){var e=this._getEventNames();_.on(this._handle,e.startEventName,i=>{this._dragStartHandler(i)}),_.on(this._handle,e.updateEventName,i=>{this._dragUpdateHandler(i)}),_.on(this._handle,e.endEventName,i=>{this._dragEndHandler(i)})}unsubscribe(){var e=this._getEventNames();_.off(this._handle,e.startEventName),_.off(this._handle,e.updateEventName),_.off(this._handle,e.endEventName)}_getEventNames(){var e=F(ar,"overlayDrag"),i=F(Xn,"overlayDrag"),n=F(sr,"overlayDrag");return{startEventName:e,updateEventName:i,endEventName:n}}_dragStartHandler(e){var i=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=i.top,e.maxBottomOffset=i.bottom,e.maxLeftOffset=i.left,e.maxRightOffset=i.right}_dragUpdateHandler(e){var i={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(i),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,i,n){if(this._dragEnabled){n.preventDefault(),n.stopPropagation();var o=this._fitOffsetIntoAllowedRange(e,i);this._moveByOffset(o),this._dragEndHandler(n)}}_fitOffsetIntoAllowedRange(e,i){var n=this._getAllowedOffsets();return{top:zt(e,-n.top,n.bottom),left:zt(i,-n.left,n.right)}}_getContainerDimensions(){var e=I.getDocument(),i=this._positionController.$dragResizeContainer.get(0),n=ee(i),o=oe(i);return Je(i)&&(o=Math.max(e.body.clientHeight,o),n=Math.max(e.body.clientWidth,n)),{width:n,height:o}}_getContainerPosition(){var e=this._positionController.$dragResizeContainer.get(0);return Je(e)?{top:0,left:0}:Pp(e)}_getElementPosition(){return Pp(this._draggableElement)}_getInnerDelta(){var e=this._getContainerDimensions(),i=this._getElementDimensions();return{x:e.width-i.width,y:e.height-i.height}}_getOuterDelta(){var{width:e,height:i}=this._getElementDimensions(),n=this._positionController.outsideDragFactor;return{x:e*n,y:i*n}}_getFullDelta(){var e=this._getInnerDelta(),i=this._getOuterDelta();return{x:e.x+i.x,y:e.y+i.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var e=this._getFullDelta(),i=e.y>=0&&e.x>=0;if(!i)return{top:0,bottom:0,left:0,right:0};var n=this._getElementPosition(),o=this._getContainerPosition(),r=this._getOuterDelta();return{top:n.top-o.top+r.y,bottom:-n.top+o.top+e.y,left:n.left-o.left+r.x,right:-n.left+o.left+e.x}}_moveByOffset(e){var i=fi(this._draggableElement),n={left:i.left+e.left,top:i.top+e.top};mt(this._draggableElement,n)}},x4=wF;var A0="dxResizable",dpe="dx-resizable",upe="dx-resizable-resizing",T0="dx-resizable-handle",cpe="dx-resizable-handle-top",hpe="dx-resizable-handle-bottom",ppe="dx-resizable-handle-left",gpe="dx-resizable-handle-right",M0="dx-resizable-handle-corner",fpe=F(ar,A0),mpe=F(Xn,A0),vpe=F(sr,A0),_pe={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},C4=tn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(dpe)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var t=this.option("handles");if(!(t==="none"||!t)){var e=t==="all"?["top","bottom","left","right"]:t.split(" "),i={};x(e,(n,o)=>{i[o]=!0,this._renderHandle(o)}),i.bottom&&i.right&&this._renderHandle("corner-bottom-right"),i.bottom&&i.left&&this._renderHandle("corner-bottom-left"),i.top&&i.right&&this._renderHandle("corner-top-right"),i.top&&i.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=h("<div>").addClass(T0).addClass(T0+"-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[fpe]=this._dragStartHandler.bind(this),t[mpe]=this._dragHandler.bind(this),t[vpe]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{_.on(e,t,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(t=>{_.off(t)})},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var t=this.$element();return t.css("boxSizing")==="border-box"?{width:ee(t),height:oe(t)}:{width:H(t),height:Y(t)}},_dragStartHandler:function(t){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=fi(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null},_toggleResizingClass:function(t){this.$element().toggleClass(upe,t)},_renderDragOffsets:function(t){var e=this._getArea();if(e){var i=h(t.target).closest("."+T0),n=ee(i),o=oe(i),r=i.offset(),a=e.offset,s=this._getAreaScrollOffset();t.maxLeftOffset=this._leftMaxOffset=r.left-a.left-s.scrollX,t.maxRightOffset=this._rightMaxOffset=a.left+e.width-r.left-n+s.scrollX,t.maxTopOffset=this._topMaxOffset=r.top-a.top-s.scrollY,t.maxBottomOffset=this._bottomMaxOffset=a.top+e.height-r.top-o+s.scrollY}},_getBorderWidth:function(t,e){if(Je(t.get(0)))return 0;var i=t.css(_pe[e]);return parseInt(i)||0},_proportionate:function(t,e){var i=this._elementSize,n=t==="x"?i.width/i.height:i.height/i.width;return e*n},_getProportionalDelta:function(t){var{x:e,y:i}=t,n=this._proportionate("y",e);if(n>=i)return{x:e,y:n};var o=this._proportionate("x",i);return o>=e?{x:o,y:i}:{x:0,y:0}},_getDirectionName:function(t){var e=this._movingSides;return t==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(t,e){var i,n=this._getDirectionName(t);return Math.min(e,(i=this["_".concat(n,"MaxOffset")])!==null&&i!==void 0?i:1/0)},_fitDeltaProportionally:function(t){var e=E({},t),i=this._elementSize,{minWidth:n,minHeight:o,maxWidth:r,maxHeight:a}=this.option(),s=()=>i.width+e.x,l=()=>i.height+e.y,d=m=>e[m]===this._fitIntoArea(m,e[m]),u=()=>Ln(s(),n,r)&&d("x"),c=()=>Ln(l(),o,a)&&d("y");if(!u()){var p=this._fitIntoArea("x",zt(s(),n,r)-i.width);e={x:p,y:this._proportionate("y",p)}}if(!c()){var g=this._fitIntoArea("y",zt(l(),o,a)-i.height);e={x:this._proportionate("x",g),y:g}}return u()&&c()?e:{x:0,y:0}},_fitDelta:function(t){var{x:e,y:i}=t,n=this._elementSize,{minWidth:o,minHeight:r,maxWidth:a,maxHeight:s}=this.option();return{x:zt(n.width+e,o,a)-n.width,y:zt(n.height+i,r,s)-n.height}},_getDeltaByOffset:function(t){var e=this._movingSides,i=this._isCornerHandler(e)&&this.option("keepAspectRatio"),n={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)};if(i){var o=this._getProportionalDelta(n),r=this._fitDeltaProportionally(o);n=r}else{var a=this._fitDelta(n),s=this._roundByStep(a);n=s}return n},_updatePosition:function(t,e){var{width:i,height:n}=e,o=this._elementLocation,r=this._movingSides,a=this.$element(),s=this._getElementSize(),l=t.y*(r.top?-1:1)-((s.height||n)-n),d=t.x*(r.left?-1:1)-((s.width||i)-i);mt(a,{top:o.top+(r.top?l:0),left:o.left+(r.left?d:0)})},_dragHandler:function(t){var e=this._getOffset(t),i=this._getDeltaByOffset(e),n=this._updateDimensions(i);this._updatePosition(i,n),this._triggerResizeAction(t,n)},_updateDimensions:function(t){var e=d=>d.substring(d.length-2)==="px",i=this.option("stepPrecision")==="strict",n=this._elementSize,o=n.width+t.x,r=n.height+t.y,a=this.$element().get(0).style,s=t.x||i||e(a.width),l=t.y||i||e(a.height);return s&&this.option({width:o}),l&&this.option({height:r}),{width:s?o:n.width,height:l?r:n.height}},_triggerResizeAction:function(t,e){var{width:i,height:n}=e;this._resizeAction({event:t,width:this.option("width")||i,height:this.option("height")||n,handles:this._movingSides}),pn(this.$element())},_isCornerHandler:t=>Object.values(t).reduce((e,i)=>e^i,0)===0,_getOffset:function(t){var e=t.offset,i=this._movingSides;return!i.left&&!i.right&&(e.x=0),!i.top&&!i.bottom&&(e.y=0),e},_roundByStep:function(t){return this.option("stepPrecision")==="strict"?this._roundStrict(t):this._roundNotStrict(t)},_getSteps:function(){return l_(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(t){var e=this._getSteps();return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_roundStrict:function(t){var e=this._movingSides,i={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)},n=this._getSteps(),o=this._elementLocation,r=this._elementSize,a=e.left?o.left:o.left+r.width,s=e.top?o.top:o.top+r.height,l=(a+i.x)%n.h,d=(s+i.y)%n.v,u=Math.sign||(b=>(b=+b,b===0||isNaN(b)?b:b>0?1:-1)),c=(b,O)=>(1+.2*u(O))%1*b,p=(b,O)=>Math.abs(b)<.2*O,g=i.x-l,m=i.y-d;l>c(n.h,i.x)&&(g+=n.h),d>c(n.v,i.y)&&(m+=n.v);var y=(e.left||e.right)&&!p(i.x,n.h)?g:0,C=(e.top||e.bottom)&&!p(i.y,n.v)?m:0;return{x:y*(e.left?-1:1),y:C*(e.top?-1:1)}},_getMovingSides:function(t){var e=h(t.target),i=e.hasClass(M0+"-top-left"),n=e.hasClass(M0+"-top-right"),o=e.hasClass(M0+"-bottom-left"),r=e.hasClass(M0+"-bottom-right");return{top:e.hasClass(cpe)||i||n,left:e.hasClass(ppe)||i||o,bottom:e.hasClass(hpe)||o||r,right:e.hasClass(gpe)||n||r}},_getArea:function(){var t=this.option("area");return T(t)&&(t=t.call(this)),q(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e=!T(t)&&!q(t),i={scrollY:0,scrollX:0};if(e){var n=h(t)[0];Je(n)&&(i.scrollX=n.pageXOffset,i.scrollY=n.pageYOffset)}return i},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e=h(t),i;return e.length&&(i={width:kp(e),height:Ku(e),offset:v({top:0,left:0},Je(e[0])?{}:e.offset())},this._correctAreaGeometry(i,e)),i},_correctAreaGeometry:function(t,e){var i=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;t.offset.left+=i+this._getBorderWidth(this.$element(),"left"),t.offset.top+=n+this._getBorderWidth(this.$element(),"top"),t.width-=ee(this.$element())-kp(this.$element()),t.height-=oe(this.$element())-Ku(this.$element())},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:ee(e),height:oe(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",zt(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",zt(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":W()&&this._renderWidth(ee(this.$element()));break;case"minHeight":case"maxHeight":W()&&this._renderHeight(oe(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(t)}},_clean:function(){this.$element().find("."+T0).remove()},_useTemplates:function(){return!1}});K(A0,C4);var S4=C4;var EF=function(){var t=[];return{add:function(e){t.includes(e)||t.push(e)},remove:function(e){var i=t.indexOf(e);i!==-1&&t.splice(i,1)},fire:function(){var e=t.pop(),i=!!e;return i&&e(),i},hasCallback:function(){return t.length>0}}}();var R0=1500,tl=[],b4=t=>(R0=Re(t,R0),R0),B0=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R0,e=tl.length,i=(e?tl[e-1]:t)+1;return tl.push(i),i},Mg=t=>{var e=tl.indexOf(t);e>=0&&tl.splice(e,1)},D4=t=>tl.length&&tl[tl.length-1]===t;var OF="dx-swatch-",ype=t=>{var e=h(t),i=e.closest('[class^="'.concat(OF,'"], [class*=" ').concat(OF,'"]')),n=Qn();if(!i.length)return n;var o=new RegExp("(\\s|^)(".concat(OF,".*?)(\\s|$)")),r=i[0].className.match(o)[2],a=n.children("."+r);return a.length||(a=h("<div>").addClass(r).appendTo(n)),a},k0={getSwatchContainer:ype};var xpe=G(),IF={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},E4={h:0,v:0},Ec=class{constructor(e){var{position:i,container:n,visualContainer:o,$root:r,$content:a,$wrapper:s,onPositioned:l,onVisualPositionChanged:d,restorePosition:u,_fixWrapperPosition:c,_skipContentPositioning:p}=e;this._props={position:i,container:n,visualContainer:o,restorePosition:u,onPositioned:l,onVisualPositionChanged:d,_fixWrapperPosition:c,_skipContentPositioning:p},this._$root=r,this._$content=a,this._$wrapper=s,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(i),this.updateVisualContainer(o)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){var e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?h(e):k0.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(mt(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&Ei.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e=Je(this.$visualContainer.get(0))||this._props._fixWrapperPosition,i=e?"fixed":"absolute";this._$wrapper.css("position",i)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=fi(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),Vr(this._$content);var e=this._$wrapper.css("overflow");if(this._$wrapper.css("overflow","hidden"),!this._props._skipContentPositioning){var i=Ei.setup(this._$content,this._position);this._initialPosition=i}this._$wrapper.css("overflow",e),this.detectVisualPositionChange()}_raisePositionedEvents(e){var i=this._previousVisualPosition,n=this._visualPosition,o=i?.top!==n.top||i?.left!==n.left;o&&this._props.onVisualPositionChanged({previousPosition:i,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var e,i=(e=this._position)!==null&&e!==void 0?e:{boundaryOffset:E4};this._$content.css("margin","".concat(i.v,"px ").concat(i.h,"px"))}_getVisualContainer(){var e,i,n=this._props.container,o=this._props.visualContainer,r=EV((e=this._props.position)===null||e===void 0?void 0:e.of)?this._props.position.of.target:(i=this._props.position)===null||i===void 0?void 0:i.of;return o?h(o):n?h(n):r?h(r):h(xpe)}_normalizePosition(e){var i={boundaryOffset:E4};return f(e)?v(!0,{},i,this._positionToObject(e)):i}_positionToObject(e){return N(e)?v({},IF[e]):e}};var Cpe=Xt.add,Oc=G(),O4=Zl,Spe="dx-overlay",bpe="dx-overlay-wrapper",Dpe="dx-overlay-content",wpe="dx-overlay-shader",I4="dx-inner-overlay",FF="dx-state-invisible",Epe="content",Ope="dx-rtl",MF=[],TF="dx-prevent-safari-scrolling",Ipe="tab";Cpe(()=>{_.subscribeGlobal(I.getDocument(),ae.down,t=>{for(var e=MF.length-1;e>=0;e--)if(!MF[e]._proxiedDocumentDownHandler(t))return})});var P0=ct.inherit({_supportedKeys:function(){return v(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return v(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:v({},IF.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_hideOnParentScrollTarget:void 0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!W()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),v(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(t,e){this.callBase(t,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),"preventScrollEvents"in e&&!e._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo())},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=h("<div>").addClass(bpe),this._$content=h("<div>").addClass(Dpe),this._initInnerOverlayClass();var t=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(t.attr("class")),t.addClass(Spe),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction(){T(this.option("position"))&&me.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(I4,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var t=this._getActionsList();x(t,(e,i)=>{this._actions[i]=this._createActionByOption(i,{excludeValidators:["disabled","readOnly"]})||D})},_initHideOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=h(Oc.document).is(t.target)||Rn(Oc.document,t.target),i=h(t.target).closest(".".concat(I4)).length,n=e&&!i&&!(this._$content.is(t.target)||Rn(this._$content.get(0),t.target));return n&&this._shouldHideOnOutsideClick(t)&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(t){var{hideOnOutsideClick:e}=this.option();return T(e)?e(t):e},_outsideClickHandler(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return Epe},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new Bn}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var i=t[e]._findTabbableBounds();if(i.first||i.last)return t[e]===this}return!1},_overlayStack:function(){return MF},_zIndexInitValue:function(){return P0.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;O4.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},O4.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:t}=this.option(),e=v({},t),i=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(i),this._customWrapperClass=i},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_toggleBodyScroll:D,_animateShowing:function(){var t,e,i,n=this,o=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},r=this._normalizeAnimation(o.show,"to"),a=(e=r?.start)!==null&&e!==void 0?e:D,s=(i=r?.complete)!==null&&i!==void 0?i:D;this._animate(r,function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&_.trigger(n._focusTarget(),"focus");for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];s.call(n,...d),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}},function(){if(!n._isAnimationPaused){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];a.call(n,...d),n._showAnimationProcessing=!0}})},_processShowingHidingCancel:function(t,e,i){Rr(t)?t.then(n=>{n?i():e()}).catch(()=>e()):t?i():e()},_show:function(){if(this._showingDeferred=new S,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new S().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var t=()=>{this._stopAnimation(),this._toggleBodyScroll(this.option("enableBodyScroll")),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(FF,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var e={cancel:!1};this._actions.onShowing(e),this._processShowingHidingCancel(e.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(FF,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(t)):t()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=v({type:"slide",skipElementInitialStyles:!0},t),L(t[e])&&v(t[e],{position:this._positionController.position})),t},_animateHiding:function(){var t,e,i,n=this,o=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},r=this._normalizeAnimation(o.hide,"from"),a=(e=r?.start)!==null&&e!==void 0?e:D,s=(i=r?.complete)!==null&&i!==void 0?i:D;this._animate(r,function(){var l;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];s.call(n,...u),n._hideAnimationProcessing=!1,(l=n._actions)===null||l===void 0||l.onHidden(),n._hidingDeferred.resolve()},function(){n._$content.css("pointerEvents","none");for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];a.call(n,...d),n._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new S().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new S;var t={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(t),this._toggleSafariScrolling(),this._toggleBodyScroll(!0),this._processShowingHidingCancel(t.cancel,()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()},()=>{this._isHidingActionCanceled=!0,this._toggleBodyScroll(this.option("enableBodyScroll")),this.option("visible",!0),this._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=I.getActiveElement(),e=!!this._$content.find(t).length;e&&Do()},_animate:function(t,e,i){t?(i=i||t.start||D,et.animate(this._$content,v({},t,{start:i,complete:e}))):e()},_stopAnimation:function(){et.stop(this._$content,!0)},_renderVisibility:function(t){t&&this._isParentHidden()||(this._currentVisible=t,this._stopAnimation(),t||EH(this._$content),t?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Xu(this._$content),pn(this._$content)):(this._toggleVisibility(t),this._$content.toggleClass(FF,!t),this._updateZIndexStackPosition(t),this._moveFromContainer()),this._toggleShading(t),this._toggleSubscriptions(t))},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),i=e.indexOf(this);t?(i===-1&&(this._zIndex=B0(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):i!==-1&&(e.splice(i,1),Mg(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass(wpe,t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(t){var e=F("keydown",this.NAME);t?_.on(I.getDocument(),e,this._proxiedTabTerminatorHandler):_.off(I.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,i={first:null,last:null},n=0;n<=e&&(!i.first&&t.eq(n).is(xE)&&(i.first=t.eq(n)),!i.last&&t.eq(e-n).is(xE)&&(i.last=t.eq(e-n)),!(i.first&&i.last));n++);return i},_tabKeyHandler:function(t){if(!(Ae(t)!==Ipe||!this._isTopOverlay())){var e=this._findTabbableBounds(),i=e.first,n=e.last,o=!t.shiftKey&&t.target===n.get(0),r=t.shiftKey&&t.target===i.get(0),a=e.length===0,s=!Rn(this._$wrapper.get(0),t.target);if(o||r||a||s){t.preventDefault();var l=t.shiftKey?n:i;_.trigger(l,"focusin"),_.trigger(l,"focus")}}},_toggleSubscriptions:function(t){W()&&(this._toggleHideTopOverlayCallback(t),this._toggleHideOnParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t?EF.add(this._hideTopOverlayHandler):EF.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(t){var e,i=F("scroll",this.NAME),{prevTargets:n,handler:o}=(e=this._parentsScrollSubscriptionInfo)!==null&&e!==void 0?e:{};_.off(n,i,o);var r=this.option("hideOnParentScroll");if(t&&r){var a=this._getHideOnParentScrollTarget().parents();R.real().deviceType==="desktop"&&(a=a.add(Oc)),_.on(a,i,o),this._parentsScrollSubscriptionInfo.prevTargets=a}},_hideOnParentsScrollHandler:function(t){var e=!1,i=this.option("hideOnParentScroll");T(i)&&(e=i(t)),!e&&!this._showAnimationProcessing&&this.hide()},_getHideOnParentScrollTarget:function(){var t=h(this.option("_hideOnParentScrollTarget"));return t.length?t:this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering"),e=this.option("visible")&&this._isParentHidden();if(e){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each(function(){var i=h(this);if(i.css("display")==="none")return e=!0,!1}),e||!I.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=new S,e=this.option("contentTemplate"),i=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return i&&i.render({container:V(this.$content()),noModel:!0,transclude:n,onRendered:()=>{t.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),t.done(()=>{this.option("visible")&&this._moveToContainer()}),t.promise()},_getPositionControllerConfig(){var{container:t,visualContainer:e,_fixWrapperPosition:i,restorePosition:n,_skipContentPositioning:o}=this.option();return{container:t,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:i,_skipContentPositioning:o}},_initPositionController(){this._positionController=new Ec(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription:function(t){var e=F(Xn,this.NAME);_.off(this._$wrapper,e),t&&_.on(this._$wrapper,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(i){i||this._toggleGestureCoverImpl(i)},_clearSelection:D,isNative:!0},i=>{var n=i.originalEvent.originalEvent,{type:o}=n||{},r=o==="wheel",a=o==="mousemove",s=r&&!ut(i);i._cancelPreventDefault=!0,n&&i.cancelable!==!1&&(!a&&!r||s)&&i.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){var t=this._positionController.$container;if(t!==void 0){var e=t.length>0;e||X.log("W1021",this.NAME)}},_moveToContainer:function(){var t=this._positionController.$container;this._$wrapper.appendTo(t),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(t){var{visible:e}=this.option();e&&W()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return Je(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=h(I.getBody()),i=R.real().platform==="ios"&&be.safari,n=this._isAllWindowCovered(),o=e.hasClass(TF),r=!o&&t&&n,a=o&&(!t||!n||this._disposed);i&&(a?(e.removeClass(TF),Oc.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):r&&(this._cachedBodyScrollTop=Oc.pageYOffset,e.addClass(TF)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t=this._positionController.$visualContainer,e=I.getDocumentElement(),i=Je(t.get(0)),n=i?e.clientWidth:ee(t),o=i?Oc.innerHeight:oe(t);this._$wrapper.css({width:n,height:o})},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=Oo.on(this._$content,null,t=>this._keyboardHandler(t))},_keyboardHandler:function(t){var e=t.originalEvent,i=h(e.target);(i.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var t=this.option();!this._contentAlreadyRendered&&!t.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){et.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&Mg(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass(Ope,t)},_optionChanged:function(t){var{value:e,name:i}=t;if(this._getActionsList().includes(i)){this._initActions();return}switch(i){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.resolveWith(this)}).fail(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.reject()});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(e);break;default:this.callBase(t)}},toggle:function(t){t=t===void 0?!this.option("visible"):t;var e=new S;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var i=new S;return this._animateDeferred=i,this.option("visible",t),i.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,e.reject()}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return V(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),pn(this._$content)):this.callBase()}});P0.baseZIndex=t=>b4(t);K("dxOverlay",P0);var yn=P0;var Fpe=Nn.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(t){var e=new S,i=new S;this._deferredItems[t.index]=i;var n=this.callBase.call(this,t);return i.done(()=>{e.resolve(n)}),e.promise()},_onItemTemplateRendered:function(t,e){return()=>{this._deferredItems[e.index].resolve()}},_postProcessRenderItems:D,_renderItemsAsync(){var t=new S;return A.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),t.resolve()}),t.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),F4=Fpe;var N0="dx-toolbar";var AF="dx-toolbar-before",Tpe="dx-toolbar-center",T4="dx-toolbar-after",Mpe="dx-toolbar-mini",Ape="dx-toolbar-item",Ag="dx-toolbar-label",Rpe="dx-toolbar-button",Bpe="dx-toolbar-items-container",kpe="dx-toolbar-group",M4="dx-toolbar-compact",A4="text",Ppe="default",Npe="contained",Lpe="dxToolbarItemDataKey",Vpe=15,L0=class extends F4{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>e!=="disabled")}_initTemplates(){super._initTemplates();var e=new Bi(function(i,n,o){if(q(n)){var{text:r,html:a,widget:s}=n;if(r&&i.text(r).wrapInner("<div>"),a&&i.html(a),s==="dxDropDownButton"){var l;n.options=(l=n.options)!==null&&l!==void 0?l:{},f(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?A4:Npe)}if(s==="dxButton"){if(this.option("useFlatButtons")){var d,u;n.options=(d=n.options)!==null&&d!==void 0?d:{},n.options.stylingMode=(u=n.options.stylingMode)!==null&&u!==void 0?u:A4}if(this.option("useDefaultButtons")){var c,p;n.options=(c=n.options)!==null&&c!==void 0?c:{},n.options.type=(p=n.options.type)!==null&&p!==void 0?p:Ppe}}}else i.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:i,model:o,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return v(super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return He()},options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".".concat(AF),".".concat(Tpe),".".concat(T4)].join(","))}_itemClass(){return Ape}_itemDataKey(){return Lpe}_dimensionChanged(){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._renderItemsAsync(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(N0),this._$toolbarItemsContainer=h("<div>").addClass(Bpe).appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){var e=this._$toolbarItemsContainer;x(["before","center","after"],(i,n)=>{var o="dx-toolbar-".concat(n),r=e.find(".".concat(o));r.length||(this["_$".concat(n,"Section")]=h("<div>").addClass(o).appendTo(e))})}_arrangeItems(e){var i;e=(i=e)!==null&&i!==void 0?i:H(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var n=Ze(this._$beforeSection.get(0)),o=Ze(this._$afterSection.get(0));this._alignCenterSection(n,o,e);var r=this._$toolbarItemsContainer.find(".".concat(Ag)).eq(0),a=r.parent();if(r.length){var s=n.width?n.width:r.position().left,l=a.hasClass(AF)?0:s,d=a.hasClass(T4)?0:o.width,u=0;a.children().not(".".concat(Ag)).each(function(){u+=ee(this)});var c=e-u,p=Math.max(c-l-d,0);if(a.hasClass(AF))this._alignSection(this._$beforeSection,p);else{var g=ee(r)-H(r);r.css("maxWidth",p-g)}}}_alignCenterSection(e,i,n){this._alignSection(this._$centerSection,n-e.width-i.width);var o=this.option("rtlEnabled"),r=o?i:e,a=o?e:i,s=Ze(this._$centerSection.get(0));(r.right>s.left||s.right>a.left)&&this._$centerSection.css({marginLeft:r.width,marginRight:a.width,float:r.width>a.width?"none":"right"})}_alignSection(e,i){var n=e.find(".".concat(Ag)),o=n.toArray();i-=this._getCurrentLabelsPaddings(o);var r=this._getCurrentLabelsWidth(o),a=Math.abs(r-i);i<r?(o=o.reverse(),this._alignSectionLabels(o,a,!1)):this._alignSectionLabels(o,a,!0)}_alignSectionLabels(e,i,n){for(var o=function(u){return Ze(u).width},r=0;r<e.length;r++){var a=h(e[r]),s=Math.ceil(o(e[r])),l=void 0;n&&a.css("maxWidth","inherit");var d=Math.ceil(n?o(e[r]):s);if(d<i)l=n?d:0,i-=d;else{l=n?s+i:s-i,a.css("maxWidth",l);break}a.css("maxWidth",l)}}_applyCompactMode(){var e=this.$element();e.removeClass(M4),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>H(e)&&e.addClass(M4)}_getCurrentLabelsWidth(e){var i=0;return e.forEach(function(n,o){i+=ee(n)}),i}_getCurrentLabelsPaddings(e){var i=0;return e.forEach(function(n,o){i+=ee(n)-H(n)}),i}_renderItem(e,i,n,o){var r,a,s=(r=i.location)!==null&&r!==void 0?r:"center",l=n??this["_$".concat(s,"Section")],d=!!((a=i.text)!==null&&a!==void 0?a:i.html),u=super._renderItem(e,i,l,o);return u.toggleClass(Rpe,!d).toggleClass(Ag,d).addClass(i.cssClass),u}_renderGroupedItems(){x(this.option("items"),(e,i)=>{var n,o=i.items,r=h("<div>").addClass(kpe),a=(n=i.location)!==null&&n!==void 0?n:"center";!o||!o.length||(x(o,(s,l)=>{this._renderItem(s,l,r,null)}),this._$toolbarItemsContainer.find(".dx-toolbar-".concat(a)).append(r))})}_renderItems(e){var i=this.option("grouped")&&e.length&&e[0].items;i?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){var e;return(e=this.option("items"))!==null&&e!==void 0?e:[]}_renderContentImpl(){var e=this._getToolbarItems();this.$element().toggleClass(Mpe,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return H(this.$element())>0&&Y(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,i,n){super._itemOptionChanged.apply(this,[e,i,n]),this._arrangeItems()}_optionChanged(e){var{name:i,value:n}=e;switch(i){case"width":super._optionChanged.apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged.apply(this,arguments)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){He()&&Promise.all([new Promise(e=>{var i=()=>{var o=!0;return this.$element().parents().each((r,a)=>{if(et.isAnimating(h(a)))return o=!1,!1}),o&&e(),o},n=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>i()||n(),Vpe)};n()}),(()=>{var e=this.$element().find(".".concat(Ag)),i=[];return e.each((n,o)=>{var r=h(o).text(),a=h(o).css("fontWeight");i.push(wG(r,a))}),Promise.all(i)})()]).then(()=>{this._dimensionChanged()})}};K("dxToolbarBase",L0);var R4=L0;var B4=G(),Hpe={observe:D,unobserve:D,disconnect:D},RF=class{constructor(){if(!W()||!B4.ResizeObserver)return Hpe;this._callbacksMap=new Map,this._observer=new B4.ResizeObserver(e=>{e.forEach(i=>{var n;(n=this._callbacksMap.get(i.target))===null||n===void 0||n(i)})})}observe(e,i){this._callbacksMap.set(e,i),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}},Wpe=new RF,Ur=Wpe;var Gpe=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],BF=G(),V0=class extends Ec{constructor(e){var{fullScreen:i,forceApplyBindings:n,dragOutsideBoundary:o,dragAndResizeArea:r,outsideDragFactor:a}=e,s=xe(e,Gpe);super(s),this._props=E({},this._props,{fullScreen:i,forceApplyBindings:n,dragOutsideBoundary:o,dragAndResizeArea:r,outsideDragFactor:a}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer()}set outsideDragFactor(e){this._props.outsideDragFactor=e}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)mt(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,i;(e=(i=this._props).forceApplyBindings)===null||e===void 0||e.call(i),super.positionContent()}}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return h(BF);if(this._props.dragAndResizeArea)return h(this._props.dragAndResizeArea);var e=E_().get(0)||this._props.container;return e?this._$markupContainer:h(BF)}_getVisualContainer(){return this._props.fullScreen?h(BF):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}};var zpe={setOverflow:D,restoreOverflow:D},k4=()=>{if(!W())return zpe;var t=G(),e=I.getDocument().documentElement,i=I.getBody(),n=R.real().platform==="ios",o={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null},r=()=>{var s=t.innerWidth-e.clientWidth;if(!(o.paddingRight||s<=0)){var l=t.getComputedStyle(i).getPropertyValue("padding-right"),d=parseInt(l,10);o.paddingRight=d,i.style.setProperty("padding-right","".concat(d+s,"px"))}},a=()=>{f(o.paddingRight)&&(o.paddingRight?i.style.setProperty("padding-right","".concat(o.paddingRight,"px")):i.style.removeProperty("padding-right"),o.paddingRight=null)};return{setOverflow:n?()=>{if(!(f(o.position)||i.style.position==="fixed")){var{scrollY:s,scrollX:l}=t;o.position=i.style.position,o.top=i.style.top,o.left=i.style.left,i.style.setProperty("position","fixed"),i.style.setProperty("top","".concat(-s,"px")),i.style.setProperty("left","".concat(-l,"px"))}}:()=>{r(),!(o.overflow||i.style.overflow==="hidden")&&(o.overflow=i.style.overflow,o.overflowX=i.style.overflowX,o.overflowY=i.style.overflowY,i.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(f(o.position)){var s=-parseInt(i.style.top,10),l=-parseInt(i.style.left,10);["position","top","left"].forEach(d=>{o[d]?i.style.setProperty(d,o[d]):i.style.removeProperty(d)}),t.scrollTo(l,s),o.position=null}}:()=>{a(),["overflow","overflowX","overflowY"].forEach(s=>{if(f(o[s])){var l=s.replace(/(X)|(Y)/,d=>"-".concat(d.toLowerCase()));o[s]?i.style.setProperty(l,o[s]):i.style.removeProperty(l),o[s]=null}})}}};var Upe=G(),kF="dx-popup",P4="dx-popup-wrapper",jpe="dx-popup-fullscreen",$pe="dx-popup-fullscreen-width",Kpe="dx-popup-normal",qpe="dx-popup-content",Ype="dx-popup-content-scrollable",Qpe="dx-state-disabled",Jpe="dx-popup-draggable",N4="dx-popup-title",Xpe="dx-closebutton",L4="dx-popup-bottom",Zpe="dx-has-close-button",ege="dx-template-wrapper",tge="dx-popup-flex-height",ige="dx-popup-inherit-height",nge="dx-toolbar-label",V4=["cancel","clear","done"],oge="default",rge="normal",age="text",sge="contained",lge=be.safari&&$_(be.version,[11])<0,il={static:"",inherit:ige,flex:tge},dge=t=>{var e=R.current(),i=e.platform,n="bottom",o="before";if(i==="ios")switch(t){case"cancel":n="top";break;case"clear":n="top",o="after";break;case"done":o="after"}else if(i==="android")switch(t){case"cancel":case"done":o="after"}return{toolbar:n,location:o}},H4=yn.inherit({_supportedKeys:function(){return v(this.callBase(),{upArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveUp(t)},downArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveDown(t)},leftArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveLeft(t)},rightArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveRight(t)}})},_getDefaultOptions:function(){return v(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=vi();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(e){return R.real().deviceType==="desktop"&&e.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return He(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){var t=this.option("_wrapperClassExternal"),e=t?"".concat(P4," ").concat(t):P4;this.callBase(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(kF),this.$wrapper().addClass(e),this._$popupContent=this._$content.wrapInner(h("<div>").addClass(qpe)).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_createBodyOverflowManager:function(){this._bodyOverflowManager=k4()},_toggleFullScreenClass:function(t){this.$overlayContent().toggleClass(jpe,t).toggleClass(Kpe,!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Bn,bottom:new Bn})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(t){this._shouldSkipContentResize(t)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var t=this.option("animation");return["to","from"].some(e=>{var i,n=t==null||(i=t.show)===null||i===void 0?void 0:i[e];return L(n)&&("width"in n||"height"in n)})},_updateResizeCallbackSkipCondition(){var t=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>t&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_observeContentResize:function(t){if(this.option("useResizeObserver")){var e=this._$content.get(0);t?Ur.observe(e,i=>{this._contentResizeHandler(i)}):Ur.unobserve(e)}},_areContentDimensionsRendered:function(t){var e,i,n,o=(e=t.contentBoxSize)===null||e===void 0?void 0:e[0];if(o){var r,a;return parseInt(o.inlineSize,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.width)&&parseInt(o.blockSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.height)}var s=t.contentRect;return parseInt(s.width,10)===((i=this._renderedDimensions)===null||i===void 0?void 0:i.width)&&parseInt(s.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_renderContent(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),{title:e,showTitle:i}=this.option();if(i&&e&&t.unshift({location:R.current().ios?"center":"before",text:e}),i||t.length>0){this._$title&&this._$title.remove();var n=h("<div>").addClass(N4).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,n).addClass(N4),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(Zpe,this._hasCloseButton())}else this._$title&&this._$title.detach();this._toggleAriaLabel()},_toggleAriaLabel(){var t,{title:e,showTitle:i}=this.option(),n=i&&!!e,o=n?new Ee:null;(t=this._$title)===null||t===void 0||t.find(".".concat(nge)).eq(0).attr("id",o),this.$overlayContent().attr("aria-labelledby",o)},_renderTemplateByType:function(t,e,i,n){var{rtlEnabled:o,useDefaultToolbarButtons:r,useFlatToolbarButtons:a,disabled:s}=this.option(),l=this._getTemplateByOption(t),d=l instanceof Bn;if(d){var u=v({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),c=v(n,{items:e,rtlEnabled:o,useDefaultButtons:r,useFlatButtons:a,disabled:s,integrationOptions:u});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:this._getToolbarName(),options:c}});var p=i.children("div");return i.replaceWith(p),p}else{var g=h(l.render({container:V(i)}));return g.hasClass(ege)&&(i.replaceWith(g),i=g),i}},_getToolbarName:function(){return"dxToolbarBase"},_renderVisibilityAnimate:function(t){return this.callBase(t)},_hide(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:V(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(t,e,i)=>{var n=h("<div>").addClass(Xpe);this._createComponent(n,xt,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),h(i).append(n)}},_getToolbarItems:function(t){var e=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var n=R.current().platform,o=0;return x(e,(r,a)=>{var s=f(a.shortcut),l=s?dge(a.shortcut):a;if(s&&n==="ios"&&o<2&&(l.toolbar="top",o++),l.toolbar=a.toolbar||l.toolbar||"top",l&&l.toolbar===t){s&&v(l,{location:a.location},this._getToolbarItemByAlias(a));var d=n==="generic";a.shortcut==="done"&&d||a.shortcut==="cancel"&&!d?i.unshift(l):i.push(l)}}),t==="top"&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:t=>t.toLowerCase()==="done"?"OK":Da(t,!0),_getToolbarItemByAlias:function(t){var e=this,i=t.shortcut;if(!V4.includes(i))return!1;var n=v({text:w.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:e.option("useDefaultToolbarButtons")?oge:rge,stylingMode:e.option("useFlatToolbarButtons")?age:sge},t.options||{}),o=kF+"-"+i;return this._toolbarItemClasses.push(o),{template:function(r,a,s){var l=h("<div>").addClass(o).appendTo(s);e._createComponent(l,xt,n)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=h("<div>").addClass(L4).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass(L4),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(t){this.callBase(...arguments),this.$content().toggleClass(Qpe,!!t)},_toggleClasses:function(){var t=V4;x(t,(e,i)=>{var n=kF+"-"+i;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(n+"-visible"),this._$bottom.addClass(n)):(this.$wrapper().removeClass(n+"-visible"),this._$bottom.removeClass(n))})},_toggleFocusClass(t,e){if(this.callBase(t,e),t&&!D4(this._zIndex)){var i=B0(this._zIndexInitValue());Mg(this._zIndex),this._zIndex=i,this._$wrapper.css("zIndex",i),this._$content.css("zIndex",i)}},_toggleContentScrollClass(){var t=!this.option("preventScrollEvents");this.$content().toggleClass(Ype,t)},_getPositionControllerConfig(){var{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:i,dragAndResizeArea:n,outsideDragFactor:o}=this.option();return v({},this.callBase(),{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:i,dragAndResizeArea:n,outsideDragFactor:o})},_initPositionController(){this._positionController=new V0(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(t){var{visible:e,useResizeObserver:i}=this.option();if(e&&W()){var n=this._showAnimationProcessing,o=n&&!(t!=null&&t.forceStopAnimation)&&i;this._isAnimationPaused=o||void 0,this._stopAnimation(),t!=null&&t.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(t?.isDimensionChange),o&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(H(this._$content),10),height:parseInt(Y(this._$content),10)})},_renderGeometryImpl:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var t=this._getOptionValue("height");t==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var t=this._getDragTarget(),e=this.option("dragEnabled");if(t){var i={dragEnabled:e,handle:t.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(i):this._drag=new x4(i),this.$overlayContent().toggleClass(Jpe,e)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,S4,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:t=>{this._resizeEndHandler(t),this._observeContentResize(!0)},onResize:t=>{this._setContentHeight(),this._actions.onResize(t)},onResizeStart:t=>{this._observeContentResize(!1),this._actions.onResizeStart(t)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(t){var e=this._resizable.option("width"),i=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),i&&this._setOptionWithoutOptionChange("height",i),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(t.event),this._actions.onResizeEnd(t)},_setContentHeight:function(){(this.option("forceApplyBindings")||D)();var t=this.$overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===il.flex?-e:0},_chooseHeightStrategy:function(t){var e=t.style.width==="auto"||t.style.width==="",i=il.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||lge?i=il.inherit:i=il.flex),i},_getHeightCssStyles:function(t,e){var i={},n=this._getOptionValue("maxHeight",e),o=this._getOptionValue("minHeight",e),r=this._splitPopupHeight(),a=r.header+r.footer+r.contentVerticalOffsets+r.popupVerticalOffsets+this._heightStrategyChangeOffset(t,r.popupVerticalPaddings);if(t===il.static){if(!this._isAutoHeight()||n||o){var s=this.option("fullScreen")?Math.min(Ze(e).height,G().innerHeight):Ze(e).height,l=s-a;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var d=h(this._positionController.$visualContainer).get(0),u=f2(n,-a,d),c=m2(o,-a,d);i={height:"auto",minHeight:c,maxHeight:u}}return i},_setHeightClasses:function(t,e){var i="";for(var n in il)il[n]!==e&&(i+=" "+il[n]);t.removeClass(i).addClass(e)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:Uw(t&&t.get(0)),footer:Uw(e&&e.get(0)),contentVerticalOffsets:__(this.$overlayContent().get(0),!0),popupVerticalOffsets:__(this.$content().get(0),!0),popupVerticalPaddings:__(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),W()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_dispose:function(){this.callBase(),this._toggleBodyScroll(!0)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass($pe,ee(this.$overlayContent())===H(Upe))},_toggleSafariScrolling(){this.option("enableBodyScroll")&&this.callBase()},_toggleBodyScroll:function(t){if(this._bodyOverflowManager){var{setOverflow:e,restoreOverflow:i}=this._bodyOverflowManager;t?i():e()}},refreshPosition:function(){this._renderPosition()},_optionChanged:function(t){var e,{value:i,name:n}=t;switch(n){case"disabled":this.callBase(t),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(i);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),pn(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),pn(this.$overlayContent());break;case"container":if(this.callBase(t),this.option("resizeEnabled")){var o;(o=this._resizable)===null||o===void 0||o.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(t),(e=this._resizable)===null||e===void 0||e.option(n,i);break;case"onTitleRendered":this._createTitleRenderAction(i);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var r=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),r&&(this._renderGeometry(),pn(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=i;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),pn(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=i,this._toggleFullScreenClass(i),this._toggleSafariScrolling(),this._renderGeometry(),pn(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":this.callBase(t),this._toggleContentScrollClass();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return V(this.$content())},$overlayContent:function(){return this._$content}});K("dxPopup",H4);var Fi=H4;var jr=class{constructor(e,i,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=i,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=h("<div>").appendTo(e)}_addToContainer(e){var{$placeMarker:i,$container:n}=this;i?i.replaceWith(e):e.appendTo(n)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:e,options:i}=this;return i.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:e,$placeMarker:i}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),i&&i.remove()}render(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var{instance:i,$element:n}=this._create();this.instance=i,this._attachEvents(i,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}};var uge="dx-dropdowneditor-button",cge="dx-dropdowneditor-button-visible",hge="dxDropDownEditor-selectLabel",H0=class extends jr{constructor(e,i,n){super(e,i,n),this.currentTemplate=null}_attachEvents(e){var{editor:i}=this;e.option("onClick",n=>{var o;if((o=i._shouldCallOpenHandler)!==null&&o!==void 0&&o.call(i)){i._openHandler(n);return}!i.option("openOnFieldClick")&&i._openHandler(n)}),_.on(e.$element(),"mousedown",n=>{i.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){var{editor:e}=this,i=h("<div>"),n=this._getOptions();this._addToContainer(i);var o=e._createComponent(i,xt,v({},n,{elementAttr:{"aria-label":w.format(hge)}}));return this._legacyRender(e.$element(),i,n.visible),{$element:i,instance:o}}_getOptions(){var{editor:e}=this,i=this._isVisible(),n=e.option("readOnly"),o={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n,visible:i};return this._addTemplate(o),o}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,i,n){e.toggleClass(cge,n),i&&i.removeClass("dx-button").addClass(uge)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var e=super.update();if(e){var{editor:i,instance:n}=this,o=i.$element(),r=this._getOptions();n?.option(r),this._legacyRender(o,n?.$element(),r.visible)}}};var{ios:pge,mac:gge}=R.real(),fge=pge||gge,mge=function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch{e={start:0,end:0}}return e},vge=function(t,e){var i=I.getBody();if(!(!i.contains(t)&&!i.contains(t.getRootNode().host)))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch{}},_ge=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t=h(t).get(0),!f(e))return mge(t);!i&&fge&&I.getActiveElement(t)!==t||vge(t,e)},Rg=_ge;var Ic=" ",W0=class{constructor(e){this._value=Ic,v(this,e)}next(e){if(!arguments.length)return this._next;this._next=e}_prepareHandlingArgs(e,i){var n,o,r;i=i||{};var a=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[a]=(n=i.str)!==null&&n!==void 0?n:e[a],e.start=(o=i.start)!==null&&o!==void 0?o:e.start,e.length=(r=i.length)!==null&&r!==void 0?r:e.length,e.index=e.index+1,e}first(e){return e=e||0,this.next().first(e+1)}isAccepted(){return!1}adjustedCaret(e,i,n){return i?this._adjustedForward(e,0,n):this._adjustedBackward(e,0,n)}_adjustedForward(){}_adjustedBackward(){}isValid(){}reset(){}clear(){}text(){}value(){}rawValue(){}handle(){}},G0=class extends W0{next(){}handle(){return 0}text(){return""}value(){return""}first(){return 0}rawValue(){return""}adjustedCaret(){return 0}isValid(){return!0}},Bg=class extends W0{text(){return(this._value!==Ic?this._value:this.maskChar)+this.next().text()}value(){return this._value+this.next().value()}rawValue(){return this._value+this.next().rawValue()}handle(e){var i=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!i||!i.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));var n=i[0],o=i.substring(1);return this._tryAcceptChar(n,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:o,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:o,length:e.length-1}))}clear(e){this._tryAcceptChar(Ic,e),this.next().clear(this._prepareHandlingArgs(e))}reset(){this._accepted(!1),this.next().reset()}_tryAcceptChar(e,i){if(this._accepted(!1),!!this._isAllowed(e,i)){var n=e===Ic?this.maskChar:e;i.fullText=i.fullText.substring(0,i.index)+n+i.fullText.substring(i.index+1),this._accepted(!0),this._value=e}}_accepted(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e}first(e){return this._value===Ic?e||0:super.first(e)}_isAllowed(e,i){return e===Ic?!0:this._isValid(e,i)}_isValid(e,i){var n=this.allowedChars;return n instanceof RegExp?n.test(e):T(n)?n(e,i.index,i.fullText):Array.isArray(n)?n.includes(e):n===e}isAccepted(e){return e===0?this._accepted():this.next().isAccepted(e-1)}_adjustedForward(e,i,n){return i>=e?i:this.next()._adjustedForward(e,i+1,n)||i+1}_adjustedBackward(e,i){return i>=e-1?e:this.next()._adjustedBackward(e,i+1)||i+1}isValid(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}},kg=class extends Bg{value(){return this.next().value()}handle(e){var i=Object.prototype.hasOwnProperty.call(e,"value"),n=i?e.value:e.text;if(!n.length||!e.length)return 0;if(e.start||i)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));var o=n[0],r=n.substring(1);this._tryAcceptChar(o);var a=this._isAllowed(o)?this._prepareHandlingArgs(e,{str:r,length:e.length-1}):e;return this.next().handle(a)+1}clear(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))}_tryAcceptChar(e){this._accepted(this._isValid(e))}_isValid(e){return e===this.maskChar}first(e){return e=e||0,this.next().first(e+1)}_adjustedForward(e,i,n){return i>=e&&n===this.maskChar?i:e===i+1&&this._accepted()?e:this.next()._adjustedForward(e,i+1,n)}_adjustedBackward(e,i){return i>=e-1?0:this.next()._adjustedBackward(e,i+1)}isValid(e){return this.next().isValid(this._prepareHandlingArgs(e))}};var z0="dx-invalid-message",yge="dx-invalid-message-auto",xge="dx-invalid-message-always",Cge="dx-invalid-message-content",Sge=100,W4=yn.inherit({_getDefaultOptions(){return v(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:t}=this.option();this.option("position.of",t)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass(z0),this.$wrapper().addClass(z0)):(this.$element().removeClass(z0),this.$wrapper().removeClass(z0))},_updateContentId(){var{container:t,contentId:e}=this.option(),i=e??h(t).attr("aria-describedby");this.$content().addClass(Cge).attr("id",i)},_renderInnerHtml(t){var e=t&&h(t);e?.html(this._textMarkup)},_getTextMarkup(){var t,e=(t=this.option("validationErrors"))!==null&&t!==void 0?t:[],i="";return e.forEach(n=>{var o,r=i?"<br />":"";i+=r+r_((o=n?.message)!==null&&o!==void 0?o:"")}),i},_toggleModeClass(){var t=this.option("mode");this.$wrapper().toggleClass(yge,t==="auto").toggleClass(xge,t==="always")},updateMaxWidth(){var t=this.option("target"),e=ee(t),i="100%";e&&(i=Math.max(e,Sge)),this.option({maxWidth:i})},_getPositionsArray:function(t,e){switch(t){case"top":return["".concat(e," bottom"),"".concat(e," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(e," top"),"".concat(e," bottom")]}},_updatePosition:function(){var{positionSide:t,rtlEnabled:e,offset:i,boundary:n}=this.option(),o=Xi(e),r=this._getPositionsArray(t,o),a=E({},i);this.$element().addClass("dx-invalid-message-".concat(t)),e&&t!=="left"&&t!=="right"&&(a.h=-a.h),t==="top"&&(a.v=-a.v),t==="left"&&(a.h=-a.h),this.option("position",{offset:a,boundary:n,my:r[0],at:r[1],collision:"none flip"})},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(n)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});K("dxValidationMessage",W4);var U0=W4;var G4="dx-invalid-message-auto",bge="dx-state-readonly",Dge="dx-invalid",wge="dx-show-invalid-badge",z4="dx-validation-target",Ege="valid",U4="invalid",Oge="editorReadOnly",Ige=["outlined","filled","underlined"],j4={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},PF=ct.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=de(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&Ve(e[0],z4,this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(qe.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var t=this.$element();t.addClass(wge)},_getDefaultOptions:function(){return v(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:Ege,validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(t=this.option("_onMarkupRendered"))===null||t===void 0||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var i,n=(i=this._validationMessage)===null||i===void 0?void 0:i.$wrapper();n?.removeClass(G4),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n?.addClass(G4),150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this.option("stylingMode"),e=this._getStylingModePrefix(),i=Ige.map(a=>e+a);i.forEach(a=>this.$element().removeClass(a));var n=e+t;if(i.indexOf(n)===-1){var o=this._getDefaultOptions().stylingMode,r=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(r||o)}this.$element().addClass(n)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass(Dge,t),this.setAria(U4,t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&this.option("validationStatus")!==U4,e=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!t),!(!W()||this.option("_showValidationMessage")===!1)&&(this._disposeValidationMessage(),!t&&e)){var{validationMessageMode:n,validationMessageOffset:o,validationBoundary:r,rtlEnabled:a}=this.option();this._$validationMessage=h("<div>").appendTo(i);var s="dx-".concat(new Ee);this.setAria("describedby",s),this._validationMessage=new U0(this._$validationMessage,v({validationErrors:e,rtlEnabled:a,target:this._getValidationMessageTarget(),visualContainer:i,mode:n,positionSide:this._getValidationMessagePosition(),offset:o,boundary:r,contentId:s},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition:function(){return this.option("validationMessagePosition")},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass(bge,!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),i=F("keydown",Oge);_.off(e,i),t&&_.on(e,i,n=>{Ae(n)==="backspace"&&n.preventDefault()})},_dispose:function(){var t=this.$element()[0];Ve(t,z4,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();e&&(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,{name:i,value:n}=t,o=j4[i]?j4[i]:i;(e=this._validationMessage)===null||e===void 0||e.option(o,n)},_hasActiveElement:D,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(qe.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;case"_showValidationMessage":break;default:this.callBase(t)}},blur:function(){this._hasActiveElement()&&Do()},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});PF.isEditor=t=>t instanceof PF;var Ui=PF;var Fge=ae.down,Tge="dx-state-invisible",Mge="dx-clear-button-area",Age="dx-icon-clear",Rge="dx-icon",Bge="dx-show-clear-button",j0=class extends jr{_create(){var e=h("<span>").addClass(Mge).append(h("<span>").addClass(Rge).addClass(Age));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){var{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,i){var{editor:n}=this,o=n.NAME;_.on(i,F(Fge,o),r=>{r.preventDefault(),r.pointerType!=="mouse"&&n._clearValueHandler(r)}),_.on(i,F(se,o),r=>n._clearValueHandler(r))}_legacyRender(e,i){e.toggleClass(Bge,i)}update(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!e&&super.update();var{editor:i,instance:n}=this,o=i.$element(),r=this._isVisible();n&&n.toggleClass(Tge,!r),this._legacyRender(o,r)}};var $4="dx-custom-button-hovered",$0=class extends jr{_attachEvents(e,i){var{editor:n}=this;_.on(i,nc,()=>{n.$element().addClass($4)}),_.on(i,Ys,()=>{n.$element().removeClass($4)}),_.on(i,se,o=>{o.stopPropagation()})}_create(){var{editor:e}=this,i=h("<div>");this._addToContainer(i);var n=e._createComponent(i,xt,v({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:i,instance:n}}_prepareIntegrationOptions(e){return v({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){var e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var{editor:e}=this;return e.option("visible")}_isDisabled(){var e=this.options.disabled!==void 0;return e?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}};var kge="dx-texteditor-buttons-container";function Pge(t){(()=>{if(!t||typeof t!="object"||Array.isArray(t))throw X.Error("E1053")})(),(()=>{if(!("name"in t))throw X.Error("E1054")})(),(()=>{var{name:e}=t;if(typeof e!="string")throw X.Error("E1055")})(),(()=>{var{location:e}=t;"location"in t&&e!=="after"&&e!=="before"&&(t.location="after")})()}function K4(t,e){if(t.indexOf(e)!==-1)throw X.Error("E1055",e);t.push(e)}function Nge(t,e){return!!e.find(i=>i.name===t)}var K0=class{constructor(e,i){this.buttons=[],this.defaultButtonsInfo=i,this.editor=e}_compileButtonInfo(e){var i=[];return e.map(n=>{var o=typeof n=="string";o||Pge(n);var r=o||Nge(n.name,this.defaultButtonsInfo);if(r){var a=this.defaultButtonsInfo.find(l=>{var{name:d}=l;return d===n||d===n.name});if(!a)throw X.Error("E1056",this.editor.NAME,n);return K4(i,n),a}else{var{name:s}=n;return K4(i,s),v(n,{Ctor:$0})}})}_createButton(e){var{Ctor:i,options:n,name:o}=e,r=new i(o,this.editor,n);return this.buttons.push(r),r}_renderButtons(e,i,n){var o=null,r=e?this._compileButtonInfo(e):this.defaultButtonsInfo;return r.forEach(a=>{var{location:s="after"}=a;s===n&&this._createButton(a).render((o=o||h("<div>").addClass(kge),n==="before"?i.prepend(o):i.append(o),o))}),o}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){var i=this.buttons.find(n=>{var{name:o}=n;return o===e});return i&&i.instance}renderAfterButtons(e,i){return this._renderButtons(e,i,"after")}renderBeforeButtons(e,i){return this._renderButtons(e,i,"before")}updateButtons(e){this.buttons.forEach(i=>{(!e||e.indexOf(i.name)!==-1)&&i.update()})}};var Lge=ba(),Vge="dx-loadindicator",Hge="dx-loadindicator-wrapper",Wge="dx-loadindicator-content",Gge="dx-loadindicator-icon",q4="dx-loadindicator-segment",zge="dx-loadindicator-segment-inner",Uge="dx-loadindicator-image",Y4=ct.inherit({_getDefaultOptions:function(){return v(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=vi();return this.callBase().concat([{device:function(){var e=R.real(),i=e.platform==="android"&&!/chrome/i.test(Lge.userAgent);return i},options:{viaImage:!0}},{device:function(){return He(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return d0(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(Vge)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=h("<div>").addClass(Hge),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=h("<div>").addClass(Wge),this._$wrapper.append(this._$content)},_renderMarkup:function(){hE()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=h("<div>").addClass(Gge),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var i=h("<div>").addClass(q4).addClass(q4+e);t&&i.append(h("<div>").addClass(zge)),this._$indicator.append(i)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass(Uge),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=H(this.$element()),e=Y(this.$element());var i=Math.min(e,t);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});K("dxLoadIndicator",Y4);var ci=Y4;var Q4="dx-texteditor-label",J4="dx-texteditor-with-label",X4="dx-texteditor-with-floating-label",Z4="dx-texteditor-with-before-buttons",jge="dx-label-before",$ge="dx-label",Kge="dx-label-after",q0=class{constructor(e){this._props=e,this._id="".concat(Q4,"-").concat(new Ee),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=h("<div>").addClass(jge),this._$labelSpan=h("<span>"),this._$label=h("<div>").addClass($ge).append(this._$labelSpan),this._$after=h("<div>").addClass(Kge),this._$root=h("<div>").addClass(Q4).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(e){if(this._props.$editor.removeClass(X4).removeClass(J4),e){var i=this._props.mode==="floating"?X4:J4;this._props.$editor.addClass(i)}}_updateEditorBeforeButtonsClass(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(Z4),e){var i=this._props.containsButtonsBefore?Z4:"";this._props.$editor.addClass(i)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){var e,i=(e=this._props.beforeWidth)!==null&&e!==void 0?e:this._props.getBeforeWidth();this._$before.css({width:i})}}_updateMaxWidth(){if(this._isVisible()){var e,i=(e=this._props.containerWidth)!==null&&e!==void 0?e:this._props.getContainerWidth();this._$label.css({maxWidth:i})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}};var qge="dx-texteditor",Yge="dx-texteditor-input-container",nU="dx-texteditor-input",Qge="."+nU,Jge="dx-texteditor-container",Xge="dx-texteditor-buttons-container",eU="dx-placeholder",Zge="dx-texteditor-empty",efe="dx-state-invisible",tfe="dx-pending-indicator",tU="dx-validation-pending",ife="dx-valid",Y0=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],nfe=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],ofe=q0;function iU(t){if(f(t)&&!Array.isArray(t))throw X.Error("E1053")}var rfe=Ui.inherit({ctor:function(t,e){e&&iU(e.buttons),this._buttonCollection=new K0(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return v(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return f(t)&&t!==!1?t:""},stylingMode:Fe().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=vi();return He(t)},options:{stylingMode:Fe().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:j0}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(Qge).first()},_isFocused:function(){return An(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+Xge).eq(0)},_isControlKey:function(t){return nfe.indexOf(t)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(qge),this._renderInput(),this._renderButtonContainers(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$textEditorContainer=h("<div>").addClass(Jge).appendTo(this.$element()),this._$textEditorInputContainer=h("<div>").addClass(Yge).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput())},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(tU);var t=this._getInputContainer(),e=h("<div>").addClass(tfe).appendTo(t);this._pendingIndicator=this._createComponent(e,ci)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(tU))},_renderValidationState:function(){this.callBase();var t=this.option("validationStatus")==="pending",e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass(ife,!!this._showValidMark)},_getButtonsContainer(){return this._$textEditorContainer},_renderButtonContainers:function(){var t=this.option("buttons"),e=this._getButtonsContainer();this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,e),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,e)},_cleanButtonContainers:function(){var t,e;(t=this._$beforeButtonsContainer)===null||t===void 0||t.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this.callBase()},_createInput:function(){var t=h("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var i=v(this._getDefaultAttributes(),e);t.attr(i).addClass(nU),this._setInputMinHeight(t)},_setInputMinHeight:function(t){t.css("minHeight",this.option("height")?"0":"")},_getPlaceholderAttr(){var{ios:t,mac:e}=R.real(),{placeholder:i}=this.option(),n=i||(t||e?" ":null);return n},_getDefaultAttributes(){var t={autocomplete:"off",placeholder:this._getPlaceholderAttr()};return t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){x(this.option("buttons"),(e,i)=>{var{options:n,name:o}=i;if(n&&!n.stylingMode&&this.option("visible")){var r=this.getButton(o);r.option&&r.option("stylingMode",t==="underlined"?"text":"contained")}})},_renderValue:function(){var t=this._renderInputValue();return t.promise()},_renderInputValue:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("value");var i=this.option("text"),n=this.option("displayValue"),o=this.option("displayValueFormatter");return n!==void 0&&t!==null?i=o(n):f(i)||(i=o(t)),this.option("text",i),this._input().val()!==(f(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),new S().resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass(Zge,t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat(eU)).eq(0).toggleClass(efe,!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),i=this.option("focusStateEnabled");e||!i?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(Ur.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return H(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&H(this._$beforeButtonsContainer);return t??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(t){var e,i=this.option("inputAttr"),n=i?.["aria-label"],o=(e=this._label)===null||e===void 0?void 0:e.getId(),r=n?void 0:o;if(o||t){var a={labelledby:r,label:n};this.setAria(a,this._getFieldElement())}},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=h(this._getLabelContainer()).get(0);var{label:t,labelMode:e,labelMark:i}=this.option(),n={$editor:this.$element(),text:t,mark:i,mode:e,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new ofe(n),this._setFieldAria(),this._labelContainerElement&&Ur.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),i={id:e?"dx-".concat(new Ee):void 0,"data-dx_placeholder":e},n=this._$placeholder=h("<div>").attr(i);n.insertAfter(t),n.addClass(eU)},_attachPlaceholderEvents:function(){var t=F(ae.up,this.NAME);_.on(this._$placeholder,t,()=>{_.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||h()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&_.trigger(e,"focus"),_.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this._input();x(Y0,(e,i)=>{if(this.hasActionSubscription("on"+i)){var n=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});_.on(t,F(i.toLowerCase(),this.NAME),o=>{this._disposed||n({event:o})})}})},_refreshEvents:function(){var t=this._input();x(Y0,(e,i)=>{_.off(t,F(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),i=t.ctrlKey&&Ae(t)==="enter",n=e.val()!==this.option("value");i&&n&&_.trigger(e,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var t=F(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=F(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),i=F("keydown","".concat(this.NAME,"TextChange")),n=this._input();_.on(n,t,this._keyPressHandler.bind(this)),_.on(n,e,this._valueChangeEventHandler.bind(this)),_.on(n,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");_.off(this._input(),t),_.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return t.type==="focusin"?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase(h(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();_.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(t===""||t===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),_.off(this._input(),"keyup.onEnterKey.dxTextEditor"),_.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||Ae(t)==="enter"&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(I.getActiveElement(this._input()[0]))},_optionChanged:function(t){var{name:e,fullName:i,value:n}=t,o=e.replace("on","");if(Y0.includes(o)){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(n),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setFieldAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":i===e&&iU(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();t==="search"&&(t="text");try{e.prop("type",t)}catch{e.prop("type","text")}},getButton(t){return this._buttonCollection.getButton(t)},focus:function(){_.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var i=this.callBase(t,e),n=t.charAt(0).toUpperCase()+t.substr(1);return Y0.indexOf(n)>=0&&this._refreshEvents(),i}}),oU=rfe;var NF="dxMask",afe="blur beforedeactivate",rU=" ",sfe=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],lfe=["historyUndo","historyRedo"],dfe=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function ufe(t){return rU.repeat(t)}var Q0=class{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(this._editorOption("valueChangeEvent").split(" ").includes("change")){var e=this._editorInput(),i=F(afe,NF);_.on(e,i,n=>{this.editor._changeHandler(n)})}}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){var{originalEvent:i}=e;if(i){var{inputType:n}=i;if(lfe.includes(n))this._handleHistoryInputEvent();else if(sfe.includes(n))this._handleBackwardDeleteInputEvent();else{var o=this._editorCaret();if(!o.end)return;this._clearSelectedText(),this._autoFillHandler(i),this._editorCaret(o),this._handleInsertTextInputEvent(i.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}}_handleHistoryInputEvent(){var e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();var e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret();var i=this._editorCaret();i.start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var e,i,n=((e=this._prevCaret)===null||e===void 0?void 0:e.end)-((i=this._prevCaret)===null||i===void 0?void 0:i.start)||1,o=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:o.start,length:n,text:ufe(n)}))}_handleInsertTextInputEvent(e){var i,n,o=e??"";this.editor.setForwardDirection();var r=this._updateEditorMask({start:(i=(n=this._prevCaret)===null||n===void 0?void 0:n.start)!==null&&i!==void 0?i:0,length:o.length||1,text:o});r||this._editorCaret(this._prevCaret)}_updateEditorMask(e){var i=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){var{start:o,end:r}=this._editorCaret(),a=n-i,s=n>1;s&&i===1&&this._editorCaret({start:o+a,end:r+a}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){var{editor:i}=this;i._maskKeyHandler(e,()=>{i._hasSelection()||i._handleKey(rU)})}_cutHandler(e){var i=this._editorCaret(),n=this._editorInput().val().substring(i.start,i.end);this.editor._maskKeyHandler(e,()=>Kp(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{var e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){var{editor:i}=this;if(!this._editorOption("disabled")){var n=this._editorCaret();i._maskKeyHandler(e,()=>{var o=Kp(e),r=i._maskRulesChain.text().substring(n.end),a=i._handleChain({text:o,start:n.start,length:o.length}),s=n.start+a;i._handleChain({text:r,start:s,length:r.length}),i._caret({start:s,end:s})})}}_autoFillHandler(e){var{editor:i}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(i._maskKeyHandler(e,()=>{i._handleChain({text:n,start:0,length:n.length})}),i._validateMask())})}_isAutoFill(){var e=this._editorInput();if(be.webkit){var i,n=e.get(0);return(i=n?.matches(":-webkit-autofill"))!==null&&i!==void 0?i:!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}_clearTimers(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}getHandler(e){return i=>{var n;(n=this["_".concat(e,"Handler")])===null||n===void 0||n.call(this,i)}}attachEvents(){var e=this._editorInput();dfe.forEach(i=>{var n=F(i.toLowerCase(),NF);_.on(e,n,this.getHandler(i))}),this._attachChangeEventHandler()}detachEvents(){this._clearTimers(),_.off(this._editorInput(),".".concat(NF))}clean(){this._clearTimers()}};var cfe=function(){return{}},J0=Rg,aU=" ",hfe="\\",sU="dx-texteditor-masked",LF="forward",pfe="backward",gfe="drop",ffe={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return X0(t)},l:function(t){return X0(t)||dU(t)},C:/\S/,c:/./,A:function(t){return X0(t)||lU(t)},a:function(t){return X0(t)||lU(t)||dU(t)}};function lU(t){return/[0-9]/.test(t)}function X0(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function dU(t){return t===" "}var mfe=oU.inherit({_getDefaultOptions:function(){return v(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:w.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},i=t.callBase();return x(e,function(n,o){var r=i[n];i[n]=function(a){t.option("mask")&&o.call(t,a),r&&r(a)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=new Q0(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var t=this._onMouseWheel!==D;if(t){var e=this._input(),i=F(Ks,this.NAME),n=this._createAction(function(o){var{event:r}=o;An(e)&&!ut(r)&&(this._onMouseWheel(r),r.preventDefault(),r.stopPropagation())}.bind(this));_.off(e,i),_.on(e,i,function(o){n({event:o})})}},_onMouseWheel:D,_useMaskBehavior(){return!!this.option("mask")},_attachDropEventHandler(){var t=this._useMaskBehavior();if(t){var e=F(gfe,this.NAME),i=this._input();_.off(i,e),_.on(i,e,n=>n.preventDefault())}},_render:function(){this._attachMouseWheelEventHandlers(),this._renderMask(),this.callBase(),this._attachDropEventHandler()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=h("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(sU),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(sU),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){J0=cfe;try{t.apply(this,e)}finally{J0=Rg}},_changeHandler:function(t){var e=this._input(),i=e.val();if(i!==this._changedValue){this._changedValue=i;var n=Jo(t,{type:"change"});_.trigger(e,n)}},_parseMask:function(){this._maskRules=v({},ffe,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new G0;var i=e[t],n=i===hfe,o=n?new kg({maskChar:e[t+1]}):this._getMaskRule(i);return o.next(this._parseMaskRule(t+1+n)),o},_getMaskRule:function(t){var e;return x(this._maskRules,function(i,n){if(i===t)return e={pattern:i,allowedChars:n},!1}),f(e)?new Bg(v({maskChar:this.option("maskChar")||" "},e)):new kg({maskChar:t})},_renderMaskedValue:function(){if(this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,i){if(i===void 0)return t;var n=t.slice(0,e.start),o=t.slice(e.end),r=n+i+o;return r},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return Nu(this._value)},_shouldShowMask:function(){var t=this.option("showMaskMode");return t==="onFocus"?An(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=Nu(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(t){return this._isControlKey(Ae(t))||ut(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._updateMaskInfo(),e},_normalizeChainArguments:function(t){return t=t||{},t.index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return this._isMaskedValueMode()?t=this._replaceMaskCharWithEmpty(t||this._textValue||""):t=t||this._value||"",t},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g"),aU)},_maskKeyHandler:function(t,e){if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var i=this._input().val(),n=()=>{i!==this._input().val()&&_.trigger(this._input(),"input")},o=e();o?o.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(t,e){this._direction(e||LF),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(aU);this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),i=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,o=i===n?1:n-i;this._handleChain({text:t,start:i,length:o})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,i=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,i,t);this._caret({start:n,end:n})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:i,end:i})},_caret:function(t,e){var i=this._input();if(i.length){if(!arguments.length)return J0(i);J0(i,t,e)}},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction(LF)},setBackwardDirection:function(){this._direction(pfe)},isForwardDirection:function(){return this._direction()===LF},_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var t=Nu(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask(),this._refreshValueChangeEvent()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0,validationError:null}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}},reset:function(){var{value:t}=this._getDefaultOptions();this.option("value")===t&&this._renderMaskedValue(),this.callBase()}}),VF=mfe;K("dxTextEditor",VF);var Z0=VF;var vfe=G(),_fe=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],yfe="dx-textbox",uU="dx-searchbox",xfe="dx-icon",Cfe="dx-icon-search",cU=Z0.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return v(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(yfe),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;this.option("mode")==="search"?(t.addClass(uU),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass(uU),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=h("<div>").addClass(xfe).addClass(Cfe);t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return H(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=ee(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(e&&!t.ctrlKey&&!this._hasSelection()){var i=h(t.target),n=Ae(t);return this._cutOffExtraChar(i),i.val().length<e||_fe.includes(n)||vfe.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(t){var e=h(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),i=t.val();e&&i.length>e&&t.val(i.substr(0,e))},_getMaxLength:function(){var t=!!this.option("mask");return t?null:this.option("maxLength")}});K("dxTextBox",cU);var hU=cU;var nl=hU;var Fc=function(t){if(W())return ee(t)},Tc=function(t){return t===null&&(t=void 0),typeof t=="function"&&(t=t()),t};var Sfe="dx-dropdowneditor",pU="dx-dropdowneditor-input-wrapper",bfe="dx-dropdowneditor-icon",ey="dx-dropdowneditor-overlay",Dfe="dx-dropdowneditor-overlay-flipped",wfe="dx-dropdowneditor-active",Efe="dx-dropdowneditor-field-clickable",Ofe="dx-dropdowneditor-field-template-wrapper",gU=R.current().platform==="ios",fU=nl.inherit({_supportedKeys:function(){return v({},this.callBase(),{tab:function(t){if(this.option("opened")){if(this.option("applyValueMode")==="instantly"){this.close();return}var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(_.trigger(e,"focus"),e.select()),t.preventDefault()}},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!ut(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this.close(),!1):!0},downArrow:function(t){return!ut(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this._validatedOpening(),!1):!0},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:H0}])},_getDefaultOptions:function(){return v(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:w.format("OK"),cancelButtonText:w.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=Xi(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e=t.platform==="generic";return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+pU).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:i}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",v({},n,{my:e,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(Sfe),this.setAria("role",this._getAriaRole())},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._renderTemplateWrapper(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(h("<div>").addClass(pU)).children().eq(0)},_getAriaHasPopup:()=>"true",_getAriaAutocomplete:()=>"list",_getAriaRole:()=>"combobox",_setDefaultAria:function(){this.setAria({haspopup:this._getAriaHasPopup(),autocomplete:this._getAriaAutocomplete(),role:this._getAriaRole()})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_getButtonsContainer(){var t=this._getFieldTemplate();return t?this._$container:this._$textEditorContainer},_renderTemplateWrapper(){var t=this._getFieldTemplate();t&&(this._$templateWrapper||(this._$templateWrapper=h("<div>").addClass(Ofe).prependTo(this.$element())))},_renderTemplatedField:function(t,e){var i=An(this._input());this._detachKeyboardEvents(),this._detachFocusEvents(),this._$textEditorContainer.remove(),this._$templateWrapper.empty();var n=this._$templateWrapper;t.render({model:e,container:V(n),onRendered:()=>{var o=!!this.$element().find(n).length;if(o){var r=this._input();if(!r.length)throw X.Error("E1010");this._integrateInput(),i&&_.trigger(r,"focus")}}})},_integrateInput:function(){var t,{isValid:e}=this.option();this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent(),this._setDefaultAria(),this._setFieldAria(),this._toggleValidationClasses(!e),(t=this.option("_onMarkupRendered"))===null||t===void 0||t()},_refreshEmptinessEvent:function(){_.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new Eo(function(t){var e=h("<div>").addClass(bfe);h(t.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=F(se,this.NAME),i=this.option("openOnFieldClick");_.off(t,e),_.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(Efe,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){gU&&(this._detachFocusOutEvents(),_.on(this._inputWrapper(),F("focusout",this.NAME),t=>{var e=t.relatedTarget;if(e&&this.option("opened")){var i=this._isTargetOutOfComponent(e);i&&this.close()}}))},_isTargetOutOfComponent:function(t){var e=this.content?h(this.content()).closest(".".concat(ey)):this._$popup,i=h(t).closest(".".concat(ey),e).length===0;return i},_detachFocusOutEvents:function(){gU&&_.off(this._inputWrapper(),F("focusout",this.NAME))},_getInputClickHandler:function(t){return t?e=>{this._executeOpenAction(e)}:e=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!An(this._input())&&(this._resetCaretPosition(),_.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){var{value:i}=e,n=f(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(wfe,t),this._setPopupOption("visible",t);var e={expanded:t,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=h("<div>").addClass(ey).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:D,_renderPopup:function(){var t=v(this._popupConfig(),this._options.cache("dropDownOptions"));delete t.closeOnOutsideClick,t.elementAttr&&!Object.keys(t.elementAttr).length&&delete t.elementAttr,this._popup=this._createComponent(this._$popup,Fi,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(t){this._popupContentId="dx-"+new Ee,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:D,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:v(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>Fc(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:t=>this._closeOutsideDropDownHandler(t),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:ey,_ignorePreventScrollEventsDeprecation:!0}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?t=>{this._popupInitializedAction({popup:t.component})}:null},_dimensionChanged:function(){if(W()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()},_updatePopupWidth:function(){var t=Tc(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>Fc(this.$element()))},_popupPositionedHandler:function(t){var e,i,{labelMode:n,stylingMode:o}=this.option();if(this._popup){var r=this._popup.$overlayContent(),a=(e=t.position)===null||e===void 0||(i=e.v)===null||i===void 0?void 0:i.flip,s=n!=="hidden"&&o==="outlined";if(t.position&&r.toggleClass(Dfe,a),a&&s&&this._label.isVisible()){var l=this._label.$element();mt(r,{top:fi(r).top-parseInt(l.css("fontSize"))})}}},_popupShowingHandler:D,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var t;this._closeAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var t=this.option("validationMessagePosition");if(t!=="auto")return t;var e="bottom";if(this._popup&&this._popup.option("visible")){var{top:i}=Ei.setup(this.$element()),{top:n}=Ei.setup(this._popup.$content());e=i+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(t){var{target:e}=t,i=h(e),n=this.getButton("dropDown"),o=n&&n.$element(),r=!!i.closest(this.$element()).length,a=!!i.closest(o).length,s=!r&&!a;return s},_clean:function(){delete this._openOnFieldClickAction,delete this._$templateWrapper,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=h(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(_.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){_.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if(e!=="default"){var n=kr(e);x(i,function(o,r){v(r,{toolbar:n[0],location:n[1]})})}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=ct.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=h("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":W()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return V(this._input())},content:function(){return this._popup?this._popup.content():null}});K("dxDropDownEditor",fU);var ty=fU;var Ife="dx-list-item",mU="dx-list-group",HF=20,Ffe=(1<<HF)-1,vU=function(t){return(t.group<<HF)+t.item},_d=function(t){return{group:t>>HF,item:t&Ffe}},Tfe=dc.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+mU)},_groupItemElements:function(t){return t.find("."+Ife)},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),i=!1;return t?(t.items&&t.items.length&&(t=t.items[0]),x(e,function(n,o){if(!o.items||(x(o.items,function(r,a){return a!==t?!0:(i={group:n,item:r},!1)}),i))return!1}),i):!1},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return ve(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);return t},deleteItemAtIndex:function(t){var e=_d(t),i=this._collectionWidget.option("items")[e.group].items;i.splice(e.item,1)},getKeysByItems:function(t){var e=[],i;for(i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);var n=[];for(i=0;i<e.length;i++)n.push(this._collectionWidget.keyOf(e[i]));return n},getIndexByKey:function(t,e){var i=e||this._collectionWidget.option("items"),n=-1,o=this;return x(i,function(r,a){if(a.items&&(x(a.items,function(s,l){var d=o._collectionWidget.keyOf(l);if(o._equalKeys(d,t))return n={group:r,item:s},!1}),n!==-1))return!1}),n},_getGroups:function(t){var e=this._collectionWidget._dataController,i=e.group();return i?nn.queryByOptions(Nt(t),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var i=[],n=this._getGroups(e),o={},r=a=>{var s=this.getIndexByKey(a,n),l=s&&n[s.group];if(l)return{groupKey:l.key,item:l.items[s.item]}};return x(t,function(a,s){var l=r(s);if(l){var d=l.groupKey,u=l.item,c=o[d];c||(c={key:d,items:[]},o[d]=c,i.push(c)),c.items.push(u)}}),i},moveItemAtIndexToIndex:function(t,e){var i=this._collectionWidget.option("items"),n=_d(t),o=_d(e),r=i[n.group].items,a=i[o.group].items,s=r[n.item];r.splice(n.item,1),a.splice(o.item,0,s)},_isItemIndex:function(t){return t&&ve(t.group)&&ve(t.item)},_getNormalizedItemIndex:function(t){var e=h(t),i=e.closest("."+mU);return i.length?vU({group:this._groupElements().index(i),item:this._groupItemElements(i).index(e)}):-1},_normalizeItemIndex:function(t){return vU(t)},_denormalizeItemIndex:function(t){return _d(t)},_getItemByNormalizedIndex:function(t){var e=_d(t),i=this._groupElements().eq(e.group);return this._groupItemElements(i).eq(e.item)},_itemsFromSameParent:function(t,e){return _d(t).group===_d(e).group}}),_U=Tfe;var WF={};function yU(t,e,i){var n=WF,o={};o[t]=n[t]?n[t]:{},o[t][e]=i,v(n,o)}var xU=[],iy=function(t,e,i){xU.push({enabled:t,decoratorType:e,decoratorSubType:i})};iy(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});iy(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var t=this.option("itemDeleteMode");return t==="toggle"||t==="slideButton"||t==="swipe"||t==="static"?"delete":"menu"},function(){var t=this.option("itemDeleteMode");return t==="slideItem"&&(t="slide"),t});iy(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});iy(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var Mfe="dx-list-item-before-bag",Afe="dx-list-item-after-bag",Rfe="beforeBag",Bfe="afterBag",kfe="modifyElement",Pfe="afterRender",Nfe="getExcludedSelectors",Lfe=le.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&x(this._decorators,function(t,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],x(xU,function(t,e){var i=e.enabled.call(this._list);if(i){var n=e.decoratorType.call(this._list),o=e.decoratorSubType.call(this._list),r=this._createDecorator(n,o);this._decorators.push(r)}}.bind(this))},_createDecorator:function(t,e){var i=this._findDecorator(t,e);return new i(this._list)},_findDecorator:function(t,e){var i,n=(i=WF[t])===null||i===void 0?void 0:i[e];if(!n)throw X.Error("E1012",t,e);return n},modifyItemElement:function(t){var e=h(t.itemElement),i={$itemElement:e};this._prependBeforeBags(e,i),this._appendAfterBags(e,i),this._applyDecorators(kfe,i)},afterItemsRendered:function(){this._applyDecorators(Pfe)},_prependBeforeBags:function(t,e){var i=this._collectDecoratorsMarkup(Rfe,e,Mfe);t.prepend(i)},_appendAfterBags:function(t,e){var i=this._collectDecoratorsMarkup(Bfe,e,Afe);t.append(i)},_collectDecoratorsMarkup:function(t,e,i){var n=h("<div>");return x(this._decorators,function(){var o=h("<div>").addClass(i);this[t](v({$container:o},e)),o.children().length&&n.append(o)}),n.children()},_applyDecorators:function(t,e){x(this._decorators,function(){this[t](e)})},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,i=e.length,n=0;n<i;n++)if(e[n][t]!==D)return!0;return!1},_eventHandler:function(t,e,i){if(!this._decorators)return!1;for(var n=!1,o=this._decorators,r=o.length,a=0;a<r&&(n=o[a][t](e,i),!n);a++);return n},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(t){return this._eventHandler("handleEnterPressing",t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators(Nfe,t),t.join(",")}}),CU=Lfe;var Mc="dxswipestart",Ac="dxswipe",ol="dxswipeend",Vfe={defaultItemSizeFunc:function(){return H(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){var e=vt(t);return(e.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=vt(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},Hfe={defaultItemSizeFunc:function(){return Y(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){var e=vt(t);return(e.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=vt(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},Wfe={horizontal:Vfe,vertical:Hfe},Gfe=Cc.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return Wfe[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=vt(t)},_start:function(t){this._savedEventData=vt(t),t=this._fireEvent(Mc,t),t.cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),i=vt(t),n=e.calcOffsetRatio.call(this,t);n=this._fitOffset(n,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(Ac,t,{offset:n}),t.cancelable!==!1&&t.preventDefault()},_end:function(t){var e=this._getStrategy(),i=e.calcOffsetRatio.call(this,t),n=e.isFastSwipe.call(this,t),o=i,r=this._calcTargetOffset(i,n);o=this._fitOffset(o,this.elastic),r=this._fitOffset(r,!1),this._fireEvent(ol,t,{offset:o,targetOffset:r})},_fitOffset:function(t,e){var i=this._getStrategy(),n=i.getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var i;return e?(i=Math.ceil(Math.abs(t)),t<0&&(i=-i)):i=Math.round(t),i}});wo({emitter:Gfe,events:[Mc,Ac,ol]});var SU="dx-list-item-badge-container",zfe="dx-list-item-badge",Ufe="dx-badge",GF="dx-list-item-chevron-container",jfe="dx-list-item-chevron",$fe=To.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children("."+SU).remove(),!!t){var e=h("<div>").addClass(SU).append(h("<div>").addClass(zfe).addClass(Ufe).text(t)),i=this._$element.children("."+GF).first();i.length>0?e.insertBefore(i):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children("."+GF).remove(),!!t){var e=h("<div>").addClass(GF),i=h("<div>").addClass(jfe);e.append(i).appendTo(this._$element)}}}),bU=$fe;var zF="dxScrollbar",EU="dx-scrollable-scrollbar",DU="".concat(EU,"-active"),Kfe="dx-scrollable-scroll",qfe="dx-scrollable-scroll-content",Yfe="dx-scrollbar-hoverable",wU="horizontal",Qfe=15,qa={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Rc=null,Jfe=ct.inherit({_getDefaultOptions:function(){return v(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:qa.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(Yfe,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=h("<div>").addClass(Kfe),h("<div>").addClass(qfe).appendTo(this._$thumb),this.$element().addClass(EU).append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===qa.onHover||t===qa.always)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension=t===wU?"width":"height",this._prop=t===wU?"left":"top"},_attachPointerDownHandler:function(){_.on(this._$thumb,F(ae.down,zF),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(DU),Rc=this},feedbackOff:function(){this.$element().removeClass(DU),Rc=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===qa.onScroll&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case qa.onScroll:break;case qa.onHover:t=t||!!this._isHovered;break;case qa.never:t=!1;break;case qa.always:t=!0}return t},moveTo:function(t){if(!this._isHidden()){q(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),mt(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=t,n=e),this._baseContainerToContentRatio=n?i/n:i,this._realContainerToContentRatio=e?t/e:t;var o=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),Qfe));this._thumbRatio=(t-o)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,o/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===qa.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return q(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===Rc&&(Rc=null),_.off(this._$thumb,"."+zF)},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:Br(function(){this._adjustVisibility()&&this.option("visible",!0)})});Xt.add(function(){_.subscribeGlobal(I.getDocument(),F(ae.up,zF),function(){Rc&&Rc.feedbackOff()})});var ny=Jfe;var OU="dxNativeScrollable",UF="dx-scrollable-native",Xfe="dx-scrollable-scrollbar-simulated",Zfe="dx-scrollable-scrollbars-hidden",Pg="vertical",oy="horizontal",eme=500,tme=le.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=h(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=R.real(),e=t.platform;this._$element.addClass(UF).addClass(UF+"-"+e).toggleClass(Zfe,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(Xfe),this._renderScrollbar(Pg),this._renderScrollbar(oy)},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new ny(h("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:D,handleStart:D,handleMove:function(t){if(this._isLocked()){t.cancel=!0;return}this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:D,handleCancel:D,handleStop:D,_eachScrollbar:function(t){t=t.bind(this),x(this._scrollbars||{},function(e,i){t(i,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:t,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-t):this._isReachedLeft(t),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(t)):this._isReachedRight(t),reachedTop:this._isDirection(Pg)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(Pg)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:t,left:e}=this.location();return{top:-t,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection(oy)?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection(oy)?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:t}=this.option();return t!=="never"&&t!==!1},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:t,left:e}=this._getScrollOffset();this._eachScrollbar(function(i){i.moveTo({top:-t,left:-e}),i.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(t){t.option("visible",!1)})}.bind(this),eme)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:D,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:Y(this._$container),width:H(this._$container)},this._componentContentSize={height:Y(this._component.$content()),width:H(this._component.$content())},this._contentSize={height:Y(this._$content),width:H(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(t,e){var i=e===Pg?"height":"width";t.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection(Pg)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(oy)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp(UF+"\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),_.off(this._$element,"."+OU),_.off(this._$container,"."+OU),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return this.option("disabled")||li(t)&&this._isScrolledInMaxDirection(t)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(t){var e=this._$container.get(0),i;return t.delta>0?i=t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?i=e.scrollLeft>=this._getMaxOffset().left:i=e.scrollTop>=this._getMaxOffset().top,i},getDirection:function(){return this._allowedDirection()}}),Bc=tme;var IU="dx-scrollview-pull-down-loading",jF="dx-scrollview-pull-down-ready",ime="dx-scrollview-pull-down-image",nme="dx-scrollview-pull-down-indicator",ome="dx-scrollview-pull-down-text",rme="dx-scrollview-pull-down-text-visible",ry=0,Ng=1,ay=2,$F=3,ame=400,sme=Bc.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=h(t.content()),this._$container=h(t.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=de(),this.releaseCallbacks=de(),this.reachBottomCallbacks=de()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=h("<div>").addClass(ime),e=h("<div>").addClass(nme),i=new ci(h("<div>")).$element(),n=this._$pullDownText=h("<div>").addClass(ome);this._$pullingDownText=h("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=h("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=h("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(i)).append(n)},_releaseState:function(){this._state=ry,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:ry},{element:this._$pulledDownText,visibleState:Ng},{element:this._$refreshingText,visibleState:ay}];x(e,function(i,n){var o=t._state===n.visibleState?"addClass":"removeClass";n.element[o](rme)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===Ng&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(t){mt(this._$topPocket,{top:t}),mt(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),this._state!==ay){var e=this.location().top,i=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==$F&&(this._state=$F,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==Ng&&(this._state=Ng,this._$pullDown.addClass(jF),this._refreshPullDownText())},_stateReleased:function(){this._state!==ry&&(this._$pullDown.removeClass(IU).removeClass(jF),this._releaseState())},_pullDownRefreshing:function(){this._state!==ay&&(this._state=ay,this._$pullDown.addClass(IU).removeClass(jF),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=Ng},release:function(){var t=new S;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===$F&&(this._state=ry),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),ame),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),FU=sme;var TU="dx-scrollview-pull-down-loading",lme="dx-scrollview-pull-down-indicator",dme="dx-scrollview-pull-down-refreshing",ume="dx-icon-pulldown",KF=0,cme=1,MU=2,qF=4,sy=5,hme=Bc.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=h(t.content()),this._$container=h(t.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=de(),this.releaseCallbacks=de(),this.reachBottomCallbacks=de()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=h("<div>").addClass(lme),e=new ci(h("<div>")).$element();this._$icon=h("<div>").addClass(ume),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=KF,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),this._state===KF&&this._location===0&&(this._startClientY=vt(t.originalEvent).y,this._state=qF)},handleMove:function(t){this.callBase(t),this._deltaY=vt(t.originalEvent).y-this._startClientY,this._state===qF&&(this._pullDownEnabled&&this._deltaY>0?this._state=sy:this._complete()),this._state===sy&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),i=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass(dme,e<t),mt(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===sy&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*oe(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*oe(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===qF||this._state===sy)&&this._releaseState()},handleScroll:function(t){if(this.callBase(t),this._state!==MU){var e=this.location().top,i=this._location-e;this._location=e,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==KF&&(this._$pullDown.removeClass(TU),this._releaseState())},_pullDownRefreshing:function(){this._state=MU,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(TU),mt(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=cme},release:function(){var t=new S;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),AU=hme;var pme=le.abstract,gme=le.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Yn(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=zs(this._proxiedStepCore)},_step:pme,_isFinished:D,_stop:D,_complete:D,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),ly=gme;var RU="dxSimulatedScrollable",fme="dxScrollableStrategy",dy=RU+"Cursor",YF=RU+"Keyboard",QF="dx-scrollable-simulated",mme="dx-scrollable-scrollbars-alwaysvisible",vme="dx-scrollable-scrollbar",$r="vertical",ji="horizontal",uy=.92,BU=.5,kU=1,_me=Math.round(1e3/60),yme=40,xme=500,Cme=kU/5,Sme=400,bme=Sme/_me,Dme=(1-Math.pow(uy,bme))/(1-uy),Ya={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},PU=ly.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:kU,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?uy:BU},_complete:function(){this.scroller._scrollComplete()}}),wme=PU.inherit({VELOCITY_LIMIT:Cme,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return uy},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),JF=le.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===ji?"x":"y",this._prop=t.direction===ji?"left":"top",this._dimension=t.direction===ji?"width":"height",this._scrollProp=t.direction===ji?"scrollLeft":"scrollTop",x(t,(e,i)=>{this["_"+e]=i})},_initAnimators:function(){this._inertiaAnimator=new PU(this),this._bounceAnimator=new wme(this)},_initScrollbar:function(){this._scrollbar=new ny(h("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return t===!0?"onScroll":t===!1?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&_.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=t!==void 0?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=t!==void 0?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(W()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),i=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(Ze(t)[e])},_getBaseDimension:function(t,e){var i="offset"+Vs(e);return t[i]},_moveContentByTranslator:function(t){var e,i=-this._maxScrollPropValue;if(t>0?e=t:t<=i?e=t-i:e=t%1,this._translateOffset!==e){var n={};if(n[this._prop]=e,this._translateOffset=e,e===0){Vr(this._$content);return}mt(this._$content,n)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=this._bounceLocation=this._boundLocation(),e=t-this._location;this._velocity=e/Dme},_inBounds:function(t){return t=t!==void 0?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:Br(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!li(t.originalEvent)){var e=h(t.originalEvent.target),i=this._isScrollbar(e);i&&this._moveToMouseLocation(t),this._thumbScrolling=i||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+e/this._containerToContentRatio()-Y(this._$container)/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=BU),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new S,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),si(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Et(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(fi(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:Fw(function(){var t=this._containerSize(),e=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);Et(()=>{this._scrollbar.option({containerSize:t,contentSize:e,baseContainerSize:i,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:Br(Fw(Br(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var i=this._$content[0]["scroll"+Vs(this._dimension)]*this._getScaleRatio();e=Math.max(i,e)}return e},_validateEvent:function(t){var e=h(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:D}),lr,kc,cy=le.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=h(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass(QF),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(ji)&&this._createScroller(ji),this._isDirection($r)&&this._createScroller($r),this._$element.toggleClass(mme,this.option("showScrollbar")==="always")},_createScroller:function(t){this._scrollers[t]=new JF(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var i=this._getPropByDirection(e);if(f(t[i])){var n=this._scrollers[e];t[i]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(i,n){e=i||n}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){if(li(t.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,i){var n=h(t.originalEvent.target),o=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[i]=o})},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[ji]=t,this._validDirections[$r]=t},_eachScroller:function(t){t=t.bind(this),x(this._scrollers,function(e,i){t(i,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){kc=this},_resetActive:function(){kc===this&&(kc=null)},handleMove:function(t){if(this._isLocked()){t.cancel=!0,this._resetActive();return}this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[ji],e.y*=this._validDirections[$r];var i=this._tryGetDevicePixelRatio();i&&li(t.originalEvent)&&(e.x=Math.round(e.x/i*100)/100,e.y=Math.round(e.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(W())return G().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){_.off(this._$element,".".concat(YF)),!this.option("disabled")&&this.option("useKeyboard")&&_.on(this._$element,F("keydown",YF),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{Ae(t)===Ya.TAB&&this._eachScroller(i=>{i._updateHandler()})}),!!this._$container.is(I.getActiveElement(this._$container.get(0)))){var e=!0;switch(Ae(t)){case Ya.DOWN:this._scrollByLine({y:1});break;case Ya.UP:this._scrollByLine({y:-1});break;case Ya.RIGHT:this._scrollByLine({x:1});break;case Ya.LEFT:this._scrollByLine({x:-1});break;case Ya.PAGE_DOWN:this._scrollByPage(1);break;case Ya.PAGE_UP:this._scrollByPage(-1);break;case Ya.HOME:this._scrollToHome();break;case Ya.END:this._scrollToEnd();break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),i=yme;e&&(i=Math.abs(i/e*100)/100),this.scrollBy({top:(t.y||0)*-i,left:(t.x||0)*-i})},_scrollByPage:function(t){var e=this._wheelProp(),i=this._dimensionByProp(e),n={},o=i==="width"?H:Y;n[e]=t*-o(this._$container),this.scrollBy(n)},_dimensionByProp:function(t){return t==="left"?"width":"height"},_getPropByDirection:function(t){return t===ji?"left":"top"},_scrollToHome:function(){var t=this._wheelProp(),e={};e[t]=0,this._component.scrollTo(e)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),i={},n=e==="width"?H:Y;i[t]=n(this._$content)-n(this._$container),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this._createActionByOption(t);return()=>{e(v(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:t,vertical:e}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:e&&i.top,left:t&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),i=Ke(this._scrollers,n=>n["_"+t+"Handler"].apply(n,e));return A.apply(h,i).promise()},location:function(){var t=fi(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){_.off(this._$element,".".concat(dy)),!this.option("disabled")&&this._isHoverMode()&&(_.on(this._$element,F("mouseenter",dy),this._cursorEnterHandler.bind(this)),_.on(this._$element,F("mouseleave",dy),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(t){t=t||{},t.originalEvent=t.originalEvent||{},!(kc||t.originalEvent._hoverHandled)&&(lr&&lr._cursorLeaveHandler(),lr=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){lr!==this||kc===lr||(this._eventHandler("cursorLeave"),lr=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(!(!this._isHoverMode()&&(!t||kc))){var e=h(t),i=e.closest(".".concat(QF,":not(.dx-state-disabled)")),n=i.length&&i.data(fme);lr&&lr!==n&&lr._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this._eventHandler("update").done(this._updateAction);return A(t,si(()=>{var e=this._allowedDirections();return Et(()=>{var i=e.vertical?"pan-x":"";i=e.horizontal?"pan-y":i,i=e.vertical&&e.horizontal?"none":i,this._$container.css("touchAction",i)}),A().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers[$r],i=this._scrollers[ji];return{vertical:e&&(e._minOffset<0||t),horizontal:i&&(i._minOffset<0||t)}},_updateBounds:function(){this._scrollers[ji]&&this._scrollers[ji]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==$r},updateRtlPosition:function(t){if(t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:t,scrollLeft:e}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===t&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=t,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return W()?G().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers[$r],i=this._scrollers[ji];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),i&&(t.left=i._boundLocation(t.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return li(t)&&ut(t)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:li(t)?this._validateWheel(t):this._validateMove(t)},_validateWheel:function(t){var e=this._scrollers[this._wheelDirection(t)],i=e._reachedMin(),n=e._reachedMax(),o=!i||!n,r=!i&&!n,a=i&&t.delta>0,s=n&&t.delta<0,l=o&&(r||a||s);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},xme)),l},_validateMove:function(t){return!this.option("scrollByContent")&&!h(t.target).closest(".".concat(vme)).length?!1:this._allowedDirection()},getDirection:function(t){return li(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===ji?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case ji:return ji;case $r:return $r;default:return t&&t.shiftKey?ji:$r}},dispose:function(){this._resetActive(),lr===this&&(lr=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(QF),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){_.off(this._$element,".".concat(dy)),_.off(this._$container,".".concat(YF))}});var Eme=Math,NU="dx-scrollview-pull-down-loading",XF="dx-scrollview-pull-down-ready",Ome="dx-scrollview-pull-down-image",Ime="dx-scrollview-pull-down-indicator",Fme="dx-scrollview-pull-down-text",Tme="dx-scrollview-pull-down-text-visible",Lg=0,Vg=1,ZF=2,eT=3,Mme=JF.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=Lg,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:Lg},{element:this._$pulledDownText,visibleState:Vg},{element:this._$refreshingText,visibleState:ZF}];x(e,function(i,n){var o=t._state===n.visibleState?"addClass":"removeClass";n.element[o](Tme)})},_initCallbacks:function(){this.pullDownCallbacks=de(),this.releaseCallbacks=de(),this.reachBottomCallbacks=de()},_updateBounds:function(){var t=this._direction!=="horizontal";if(t){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var e=this._$container.get(0),i=this._$content.get(0);this._bottomBoundary=Math.max(i.clientHeight-this._bottomPocketSize-e.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==Lg&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var t=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(t.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===Vg?this._pullDownRefreshing():this._inBounds()&&this._state===eT?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==eT&&(this._state=eT,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return Eme.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==Vg&&(this._state=Vg,this._maxOffset=0,this._$pullDown.addClass(XF),this._refreshPullDownText())},_stateReleased:function(){this._state!==Lg&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(NU).removeClass(XF),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==ZF&&(this._state=ZF,this._$pullDown.addClass(NU).removeClass(XF),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===Lg&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=Gu(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=Y(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=Vg},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),Ame=cy.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=de(),this.releaseCallbacks=de(),this.reachBottomCallbacks=de()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=h("<div>").addClass(Ome),e=h("<div>").addClass(Ime),i=new ci(h("<div>")).$element(),n=this._$pullDownText=h("<div>").addClass(Fme);this._$pullingDownText=h("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=h("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=h("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(i)).append(n)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,i=e._scrollers[t]=new Mme(e._scrollerOptions(t));i.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return v(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=Y(this._$topPocket),t},dispose:function(){x(this._scrollers,function(){this.dispose()}),this.callBase()}}),LU=Ame;var hy=function(){return[{device:function(){return!So},options:{useNative:!1}},{device:function(t){return!R.isSimulator()&&R.real().deviceType==="desktop"&&t.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:Co,showScrollbar:"onHover"}}]};function py(t,e){for(var i={left:0,top:0},n=e;(o=n)!==null&&o!==void 0&&o.offsetParent&&!n.classList.contains(t);){var o,r=n.offsetParent,a=n.getBoundingClientRect(),s=r.getBoundingClientRect();i.left+=a.left-s.left,i.top+=a.top-s.top,n=n.offsetParent}return i}var yd="vertical",gy="horizontal",fy="both";var my="dx-scrollable-content";function VU(t,e,i,n,o){var r=E({top:0,left:0,right:0,bottom:0},o),a=e===yd,s=a?"top":"left",l=a?"bottom":"right",d=a?"height":"width",u=i["offset".concat(Vs(d))],c=i["client".concat(Vs(d))],p=i.getBoundingClientRect()[d],g=t.getBoundingClientRect()[d],m=1;Math.abs(p-u)>1&&(m=p/u);var y=py(my,t)[s]/m,C=n[s],b=C-y+r[s],O=C-y-g/m+c-r[l];return b<=0&&O>=0?C:C-(Math.abs(b)>Math.abs(O)?O:b)}var qr="dxScrollable",Rme="dxScrollableStrategy",HU="dx-scrollable",Bme="dx-scrollable-disabled",kme="dx-scrollable-container",Pme="dx-scrollable-wrapper",WU="dx-scrollable-content",Kr="vertical",Qa="horizontal",tT="both",iT=tn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{disabled:!1,onScroll:null,direction:Kr,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(hy(),[{device:function(){return So&&R.real().platform==="android"&&!be.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass(HU),e=this._$container=h("<div>").addClass(kme),i=this._$wrapper=h("<div>").addClass(Pme),n=this._$content=h("<div>").addClass(WU);n.append(t.contents()).appendTo(e),e.appendTo(i),i.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var{scrollWidth:t,clientWidth:e,scrollHeight:i,clientHeight:n}=h(this.container()).get(0);return{left:t-e,top:i-n}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};_.off(this._$wrapper,"."+qr),_.on(this._$wrapper,F(_n.init,qr),e,this._initHandler.bind(this)),_.on(this._$wrapper,F(_n.start,qr),t.handleStart.bind(t)),_.on(this._$wrapper,F(_n.move,qr),t.handleMove.bind(t)),_.on(this._$wrapper,F(_n.end,qr),t.handleEnd.bind(t)),_.on(this._$wrapper,F(_n.cancel,qr),t.handleCancel.bind(t)),_.on(this._$wrapper,F(_n.stop,qr),t.handleStop.bind(t)),_.off(this._$container,"."+qr),_.on(this._$container,F("scroll",qr),t.handleScroll.bind(t))},_validate:function(t){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed(t){return this._strategy.validate(t)},handleMove(t){this._strategy.handleMove(t)},_prepareDirections(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass(Bme,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+Qa).removeClass("dx-scrollable-"+Kr).removeClass("dx-scrollable-"+tT).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(Rme,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new Bc(this):new cy(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(!(!t||!W())){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");if(t===Kr)return"left";if(t===Qa)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(q(t)){var e=Re(t.left,t.x),i=Re(t.top,t.y);return{left:f(e)?-e:void 0,top:f(i)?-i:void 0}}else{var n=this.option("direction");return{left:n!==Kr?-t:void 0,top:n!==Qa?-t:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===Kr?e!==Qa:t===Qa?e!==Kr:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection(tT)&&t.vertical&&t.horizontal?this._allowedDirectionValue=tT:this._isDirection(Qa)&&t.horizontal?this._allowedDirectionValue=Qa:this._isDirection(Kr)&&t.vertical?this._allowedDirectionValue=Kr:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return V(this._$content)},container:function(){return V(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:t,rtlEnabled:e}=this.option();return t&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return Y(this._$container)},scrollHeight:function(){return oe(this.$content())},clientWidth:function(){return H(this._$container)},scrollWidth:function(){return ee(this.$content())},update:function(){if(this._strategy)return A(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){t=this._normalizeLocation(t),!(!t.top&&!t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:e.left-Re(t.left,e.left),top:e.top-Re(t.top,e.top)});!i.top&&!i.left||this._strategy.scrollBy(i)},scrollToElement:function(t,e){var i=h(t),n=this.$content().find(t).length,o=i.parents("."+HU).length-i.parents("."+WU).length===0;if(!(!n||!o)){var r={top:0,left:0},a=this.option("direction");a!==Kr&&(r.left=this.getScrollElementPosition(i,Qa,e)),a!==Qa&&(r.top=this.getScrollElementPosition(i,Kr,e)),this.scrollTo(r)}},getScrollElementPosition:function(t,e,i){var n=this.scrollOffset();return VU(t.get(0),e,h(this.container()).get(0),n,i)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!iT.IS_RENOVATED_WIDGET}});K(qr,iT);var vy=iT;var ki=vy;var Nme="dx-loadpanel",Lme="dx-loadpanel-wrapper",GU="dx-loadpanel-indicator",zU="dx-loadpanel-message",Vme="dx-loadpanel-content",Hme="dx-loadpanel-content-wrapper",Wme="dx-loadpanel-pane-hidden",UU=yn.inherit({_supportedKeys:function(){return v(this.callBase(),{escape:D})},_getDefaultOptions:function(){return v(this.callBase(),{message:w.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return He()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(Nme),this.$wrapper().addClass(Lme)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(Vme),this._$loadPanelContentWrapper=h("<div>").addClass(Hme),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new S,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){e.resolve()})},t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var t=this.option("message");if(t){var e=h("<div>").addClass(zU).text(t);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=h("<div>").addClass(GU).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,ci,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+zU).remove(),this.$content().find("."+GU).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(Wme,!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});K("dxLoadPanel",UU);var _y=UU;var xd="dx-scrollview",Gme=xd+"-content",zme=xd+"-top-pocket",Ume=xd+"-bottom-pocket",jme=xd+"-pull-down",nT=xd+"-scrollbottom",$me=nT+"-indicator",Kme=nT+"-text",qme=xd+"-loadpanel",Yme={pullDown:FU,swipeDown:AU,simulated:LU},Qme=!W(),Jme={finishLoading:D,release:D,refresh:D,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(t){if(t.name!=="onUpdated")return this.callBase.apply(this,arguments)}},jU=ki.inherit(Qme?Jme:{_getDefaultOptions:function(){return v(this.callBase(),{pullingDownText:w.format("dxScrollView-pullingDownText"),pulledDownText:w.format("dxScrollView-pulledDownText"),refreshingText:w.format("dxScrollView-refreshingText"),reachBottomText:w.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=R.real();return t.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return He()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(xd),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=h("<div>").addClass(Gme);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=h("<div>").addClass(zme),e=this._$pullDown=h("<div>").addClass(jme);t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=h("<div>").addClass(Ume),e=this._$reachBottom=h("<div>").addClass(nT),i=h("<div>").addClass($me),n=new ci(h("<div>")).$element(),o=this._$reachBottomText=h("<div>").addClass(Kme);this._updateReachBottomText(),e.append(i.append(n)).append(o),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=h("<div>").addClass(qme).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,_y,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=Yme[t];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return(t==="pullDown"||t==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},content:function(){return V(this._$content.children().eq(1))},release:function(t){return t!==void 0&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});K("dxScrollView",jU);var $U=jU;var yy=$U;var Xme=t=>Array.isArray(t)&&t.every(e=>{var i=Object.keys(e).length===2,n="key"in e&&"items"in e;return i&&n&&Array.isArray(e.items)}),xy={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,i={};return this._getGroupedOption()&&Xme(t)&&(i=t.reduce((n,o)=>{var r=o.items.map(a=>(L(a)||(a={text:a},e=!0),"key"in a||(a.key=o.key),a));return n.concat(r)},[]),t={store:{type:"array",data:i},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}};function Cy(t){return t?Number(t.replace("px","")):0}function Zme(t){var e,i;return t&&W()?(e=(i=G()).getComputedStyle)===null||e===void 0?void 0:e.call(i,t):null}function KU(t,e){var i=Zme(t);return i?Cy(i["margin".concat(Vs(e))]):0}var eve="dx-list",by="dx-list-item",tve="."+by,ive="dx-list-item-icon-container",nve="dx-list-item-icon",Pc="dx-list-group",oT="dx-list-group-header",Sy="dx-list-group-body",ove="dx-list-collapsible-groups",qU="dx-list-group-collapsed",rve="dx-list-group-header-indicator",ave="dx-has-next",sve="dx-list-next-button",YU="dx-wrap-item-text",lve=".dx-list-select-all",dve="dxListItemData",QU=70,uve=pe("items"),cve,Hg=hc.inherit({_activeStateUnit:[tve,lve].join(","),_supportedKeys:function(){var t=this,e=function(n){var o=i(n),r=o.is(t.option("focusedElement"));r&&(function(a,s){var l=a.position().top;s==="prev"&&(l=a.position().top-Y(t.$element())+oe(a)),t.scrollTo(l)}(o,n),o=i(n)),t.option("focusedElement",V(o)),t.scrollToItem(o)};function i(n){var o=t.scrollTop(),r=Y(t.$element()),a=h(t.option("focusedElement")),s=!0;if(!a.length)return h();for(;s;){var l=a[n]();if(!l.length)break;var d=l.position().top+oe(l)/2;s=d<r+o&&d>o,s&&(a=l)}return a}return v(this.callBase(),{leftArrow:D,rightArrow:D,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return v(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:w.format("dxList-pullingDownText"),pulledDownText:w.format("dxList-pulledDownText"),refreshingText:w.format("dxList-refreshingText"),pageLoadingText:w.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:w.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=vi();return this.callBase().concat(hy(),[{device:function(){return!So},options:{useNativeScrolling:!1}},{device:function(e){return!So&&!R.isSimulator()&&R.real().deviceType==="desktop"&&e.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return He(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return by},_itemDataKey:function(){return dve},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(t){this._selectionChangeEventInstance=t},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+Pc).children("."+Sy).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){var i=this.callBase(t,e);return i.done(function(){this._refreshItemElements()})},deleteItem:function(t){var e=this.callBase(t);return e.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)))return this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=QU,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return v(this.callBase(),{paginate:Re(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(t){return this._itemContainer().find(".".concat(Pc)).eq(t).find(".".concat(Sy))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),i=t&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),hve(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:i?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=h(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(YU),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new Bi(function(t,e){q(e)?e.key&&t.text(e.key):t.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var i=en(t.icon).addClass(nve),n=h("<div>").addClass(ive);n.append(i),e.prepend(n)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=this._dataController,i=this._scrollBottomMode()&&t&&!e.isLoading()&&!this._isLastPage();this._shouldContinueLoading(i)?this._infiniteDataLoading():(this._scrollView.release(!i&&!e.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted:function(t){return f(t)&&(this._isFirstLoadCompleted=t),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var e=!this._itemElements().length,i=!e||this._isDataSourceFirstLoadCompleted();if(i){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),t||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&W()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){var t=this._scrollView;return!t||Y(t.content())>Y(t.container())},_pullDownHandler:function(t){this._pullRefreshAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()?(this._clearSelectedItems(),e.pageIndex(0),e.reload()):this._updateLoadingState()},_shouldContinueLoading:function(t){var e,i,n=Y(this._scrollView.content())-Y(this._scrollView.container())<((e=(i=this._scrollView.scrollOffset())===null||i===void 0?void 0:i.top)!==null&&e!==void 0?e:0);return t&&(!this._scrollViewIsFull()||n)},_infiniteDataLoading:function(){var t=this.$element().is(":visible");t&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;!e.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(t){this.option("grouped")?(x(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),He()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=F(se,this.NAME),e="."+oT,i=this.$element(),n=this.option("collapsibleGroups");i.toggleClass(ove,n),_.off(i,t,e),n&&_.on(i,t,e,function(o){this._createAction(function(r){var a=h(r.event.currentTarget).parent();this._collapseGroupHandler(a),this.option("focusStateEnabled")&&this.option("focusedElement",V(a.find("."+by).eq(0)))}.bind(this),{validatingTargetName:"element"})({event:o})}.bind(this))},_collapseGroupHandler:function(t,e){var i=new S;if(t.hasClass(qU)===e)return i.resolve();var n=t.children("."+Sy),o=oe(n),r=0;return o===0&&(fo(n,"auto"),r=oe(n)),t.toggleClass(qU,e),et.animate(n,{type:"custom",from:{height:o},to:{height:r},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(!0),i.resolve()}.bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=h(),this.$element().addClass(eve),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria({role:"group",roledescription:"list"},this.$element()),this._setListAria()},_setListAria(){var{items:t}=this.option(),e=t!=null&&t.length?{role:"listbox",label:"Items"}:{role:void 0,label:void 0};this.setAria(e)},_focusTarget:function(){return this._itemContainer()},_renderInkRipple:function(){this._inkRipple=xc()},_toggleActiveState:function(t,e,i){this.callBase.apply(this,arguments);var n=this;if(this._inkRipple){var o={element:t,event:i};e?He()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(o)},QU/2):n._inkRipple.showWave(o):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(o))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(h(t.itemElement))},_attachSwipeEvent:function(t){var e=F(ol,this.NAME);_.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var i=h("<div>").addClass(Pc).appendTo(this._itemContainer()),n="dx-".concat(new Ee().toString()),o={role:"group",labelledby:n};this.setAria(o,i);var r=h("<div>").addClass(oT).attr("id",n).appendTo(i),a=this.option("groupTemplate"),s=this._getTemplate(e.template||a,e,t,r),l={index:t,itemData:e,container:V(r)};this._createItemByTemplate(s,l),He()&&h("<div>").addClass(rve).prependTo(r),this._renderingGroupIndex=t;var d=h("<div>").addClass(Sy).appendTo(i);x(uve(e)||[],function(u,c){this._renderItem({group:t,item:u},c,d)}.bind(this)),this._groupRenderAction({groupElement:V(i),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState(h(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState(h(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t="."+oT,e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var i=[e,"dxpointerdown",t,this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",t,this._upInkRippleHandler];_.off(...i),_.on(...i),_.off(...n),_.on(...n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataController,i=this._getNextButton();this.$element().toggleClass(ave,t),t&&e.isLoaded()&&i.appendTo(this._itemContainer()),t||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=h("<div>").addClass(sve),e=h("<div>").appendTo(t);return this._createComponent(e,xt,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:He()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!W())this.callBase();else{var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(t),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(YU,t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.option(t.name,t.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"selectByClick":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest("."+Pc),i=e.find("."+by);return v(this.callBase(t),{itemIndex:{group:e.index(),item:i.index(t)}})},expandGroup:function(t){var e=new S,i=this._itemContainer().find("."+Pc).eq(t);return this._collapseGroupHandler(i,!1).done(function(){e.resolveWith(this)}.bind(this)),e.promise()},collapseGroup:function(t){var e=new S,i=this._itemContainer().find("."+Pc).eq(t);return this._collapseGroupHandler(i,!0).done(function(){e.resolveWith(this)}.bind(this)),e},updateDimensions:function(){var t=this,e=new S;return t._scrollView?t._scrollView.update().done(function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)}):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t),i=e?.get(0);this._scrollView.scrollToElement(i,{bottom:KU(i,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(xy);Hg.ItemClass=bU;function hve(){return cve||yy}var pve="dx-list-item-selected",gve="dx-list-item-response-wait",fve=Hg.inherit({_supportedKeys(){var t=this,e=this.callBase(),i=(n,o)=>{var r=this._editStrategy,a=this.option("focusedElement"),s=r.getNormalizedIndex(a),l=s===this._getLastItemIndex();if(!(l&&this._dataController.isLoading()))if(n.shiftKey&&t.option("itemDragging.allowReordering")){var d=s+(o?-1:1),u=r.getItemElement(d);this.reorderItem(a,u),this.scrollToItem(a),n.preventDefault()}else{var c=this._editProvider,p=c.handleKeyboardEvents(s,o);p||(o?e.upArrow(n):e.downArrow(n))}};return v({},e,{del:n=>{t.option("allowItemDeleting")&&(n.preventDefault(),t.deleteItem(t.option("focusedElement")))},upArrow:n=>i(n,!0),downArrow:n=>i(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_isItemStrictEquals:function(t,e){var i=t&&t.__dx_key__;return i&&!this.key()&&this._selection.isItemSelected(i)?!1:this.callBase(t,e)},_getDefaultOptions(){return v(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:w.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:t=>t.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new CU(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new _U(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>pve,_itemResponseWaitClass:()=>gve,_itemClickHandler(t){var e=h(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=this._editProvider.handleClick(e,t);i||(this._saveSelectionChangeEvent(t),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(t){var e=h(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=wa(t)&&this._editProvider.handleContextMenu(e,t);if(i){t.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(t){if(this.option("grouped")){var e,i=(e=this._editStrategy.getIndexByItemData(t))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(i)}else return this.callBase(t)},_itemContextMenuHandler(t){var e=h(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t);if(i){t.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(t){this.callBase(...arguments),this._editProvider.modifyItemElement(t)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(t){return this._itemElements().index(t)},getItemElementByFlatIndex(t){var e=this._itemElements();return t<0||t>=e.length?h():e.eq(t)},getItemByIndex(t){return this._editStrategy.getItemDataByIndex(t)},deleteItem(t){var e=this._editStrategy,i=e.getNormalizedIndex(t),n=this.option("focusedElement"),o=this.option("focusStateEnabled"),r=n?e.getNormalizedIndex(n):i,a=r===this._getLastItemIndex(),s=a||i<r?r-1:r,l=this.callBase(t);return l.done(function(){o&&this.focusListItem(s)})}}),JU=fve;function XU(t){return class{constructor(){throw new Error("Module '".concat(t,"' not found"))}static getInstance(){}}}var ZU=XU("TextBox"),dr={_getDefaultOptions:function(){return v(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){t.removeClass(n),this._removeSearchBox();return}var o=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(o):(t.addClass(n),this._$searchEditorElement=h("<div>").addClass(i).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,ZU,o))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),i=w.format("Search");return v({mode:"search",placeholder:i,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":i},onValueChanged:function(n){var o=t.option("searchTimeout");t._valueChangeDeferred=new S,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done(function(){this.option("searchValue",n.value)}.bind(t)),n.event&&n.event.type==="input"&&o?t._valueChangeTimeout=setTimeout(function(){t._valueChangeDeferred.resolve()},o):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return t==="equals"?"=":t},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){X.log("W1009");return}t.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_cleanAria:function(){var t=this.$element();this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(t){ZU=t}};var mve=JU.inherit(dr).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t=this._dataController,e={filter:t.filter()};t.addSearchFilter(e);var i=e.filter;return i},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),i=this.option("searchMode");this.callBase();var n=this._dataController;t&&t.length&&n.searchValue(t),i.length&&n.searchOperation(dr.getOperationBySearchMode(i)),e&&n.searchExpr(e)}}),rT=mve;K("dxList",rT);var Yr=rT;var vve=v({},lc,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new mi({store:new Fo(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=pe(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=pe(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new S;return t=this._unwrappedValue(t),f(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}.bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;(t=this._loadValueDeferred)===null||t===void 0||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=(e=t)!==null&&e!==void 0?e:this._getCurrentValue(),t&&this._dataSource&&this._valueGetterExpr()==="this"&&(t=this._getItemKey(t)),qt.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,o=e.length;n<o;n++)i[e[n]]=t[e[n]];return i}return e&&typeof t=="object"&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&f(t)&&f(e)&&(Array.isArray(i)?n=this._compareByCompositeKey(t,e,i):n=this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=L;if(!n(t)||!n(e))return!1;for(var o=0,r=i.length;o<r;o++)if(t[i[o]]!==e[i[o]])return!1;return!0},_compareByKey:function(t,e,i){var n=qt.unwrap,o=Re(n(t[i]),t),r=Re(n(e[i]),e);return this._compareValues(o,r)},_compareValues:function(t,e){return Wt(t,!0)===Wt(e,!0)},_initDynamicTemplates:D,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=N(t)&&t!=="this"||T(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),aT=vve;var e3=G(),_ve=".dx-list-item",yve="dxListItemData",xve="dx-dropdownlist-popup-wrapper",Cve="input",Sve=["startswith","contains","endwith","notcontains"],t3=R.real().platform!=="android",i3=ty.inherit({_supportedKeys:function(){var t=this.callBase();return v({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=h(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:D,home:D,end:D})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return v(this.callBase(),v(aT._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:w.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:D,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new qs("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new Nt(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return x(t,function(n,o){if(this._isValueEquals(o,e))return i=n,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();_.off(t,"mouseup"),_.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&h(t);if(e&&e.length&&!Je(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),x(i,function(n,o){if(o===h("body").get(0))return!1;if(e3.getComputedStyle(o).overflowY==="hidden")return this._$customBoundaryContainer=h(o),!1}.bind(this))}},_popupWrapperClass:function(){return xve},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&typeof t!="object"&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach(function(o){e.itemByValue[this._valueGetter(o)]=o},this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=Yt(i,function(o){return this._isValueEquals(this._valueGetter(o),t)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return i!==void 0?new S().resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant(){var t,e=this.option("opened"),i=(t=this._list)===null||t===void 0?void 0:t.getFocusedItemId(),n=h("#".concat(i)).length>0,o=e&&n&&i;this.setAria({activedescendant:o||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",Re(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,i){var n=h(i),o=this._valueGetter(n.data(yve)),r=this._isSelectedValue(o,t);r?this._list.selectItem(n):this._list.unselectItem(n)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(!Sve.includes(e))throw X.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(_ve):h()},_popupConfig:function(){return v(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_renderList:function(){this._listId="dx-"+new Ee()._value;var t=h("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=t,this._list=this._createComponent(t,Yr,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=F("mousedown","dxDropDownList");_.off(this._$list,t),_.on(this._$list,t,e=>e.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_getAriaHasPopup:()=>"listbox",_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return R.real().deviceType==="desktop"},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:D,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var t=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return F(Cve,this.NAME+"Search")},_getCompositionStartEvent:function(){return F("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return F("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return F("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),_.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(_.on(this._input(),this._getSearchEvent(),t=>{this._searchHandler(t)}),t3&&(_.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),_.on(this._input(),this._getCompositionEndEvent(),t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){_.off(this._input(),this._getSearchEvent()),_.off(this._input(),this._getSetFocusPolicyEvent()),t3&&(_.off(this._input(),this._getCompositionStartEvent()),_.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(arguments.length)this._isTextComposition=t;else return this._isTextComposition},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},i)):this._searchDataSource(e)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataController;t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&(this._updatePopupWidth(),this._updateListDimensions()))}},_dataSourceChangedHandler:function(t){this._dataController.pageIndex()===0?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataController,e=t.items()||[],i=e.length,n=this._needPassDataSourceToList();return!!(n&&i)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged:function(){this.callBase(),this._updateListDimensions()},_needPopupRepaint:function(){var t=this._dataController,e=t.pageIndex(),i=f(this._pageIndex)&&e<=this._pageIndex||t.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,i},_updateListDimensions:function(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),n=oe(e3),o=e?Math.min(oe(e),n):n,r=Math.max(i,o-i-oe(t));return Math.min(.5*o,r)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return this.option("valueExpr")==="this"&&L(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(aT,xy);K("dxDropDownList",i3);var n3=i3;var o3=new Ce("");var bve={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Slt=Pt(te({},bve),{"[class.ng-submitted]":"isSubmitted"});var Dve={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function Wg(t){return Dve[t]}var zg=7,r3=4,a3=7,s3=52,Gg=["millisecond","second","minute","hour","day","week","month","quarter","year"],wve=function(t,e,i){var n=e.getTime()-t.getTime(),o=Wg(i)||1;return Math.floor(n/o)},Eve=function(t,e){var i=Ey(t);switch(i){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},u3=function(t){var e,i,n,o=["millisecond","second","minute","hour","day","month","year"],r={};for(e=o.length-1;e>=0;e--)n=o[e],i=Math.floor(t/Wg(n)),i>0&&(r[n+"s"]=i,t-=Dy(n,i));return r},Ove=function(t){var e=0;return L(t)&&x(t,function(i,n){e+=Dy(i.substr(0,i.length-1),n)}),N(t)&&(e=Dy(t,1)),e};function Dy(t,e){return Wg(t)*e}function Ey(t){var e=-1,i;return N(t)?t:L(t)?(x(t,function(n,o){for(i=0;i<Gg.length;i++)o&&(n===Gg[i]+"s"||n===Gg[i])&&e<i&&(e=i)}),Gg[e]):""}var Ive={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function Fve(t){return Ive[Ey(t)]||""}var c3=function(t){return Math.floor(t/3)},h3=function(t){return 3*c3(t)};function p3(t,e,i,n){t=new Date(t.getTime());var o=new Date(t.getTime()),r,a,s=Ey(e);switch(s){case"second":t=new Date(1e3*Math.floor(o.getTime()/1e3));break;case"minute":t=new Date(6e4*Math.floor(o.getTime()/6e4));break;case"hour":t=new Date(36e5*Math.floor(o.getTime()/36e5));break;case"year":t.setMonth(0);case"month":t.setDate(1);case"day":t.setHours(0,0,0,0);break;case"week":t=y3(t,n||0),t.setHours(0,0,0,0);break;case"quarter":r=h3(t.getMonth()),a=t.getMonth(),t.setDate(1),t.setHours(0,0,0,0),a!==r&&t.setMonth(r)}return i&&s!=="hour"&&s!=="minute"&&s!=="second"&&S3(o,t),t}function g3(t){return p3(t,"day")}var Tve=function(t){var e=g3(t);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},Mve=function(t,e){var i=0,n={year:t.getFullYear()!==e.getFullYear(),month:t.getMonth()!==e.getMonth(),day:t.getDate()!==e.getDate(),hour:t.getHours()!==e.getHours(),minute:t.getMinutes()!==e.getMinutes(),second:t.getSeconds()!==e.getSeconds(),millisecond:t.getMilliseconds()!==e.getMilliseconds()};return x(n,function(o,r){r&&i++}),i===0&&b3(t,e)!==0&&(n.hour=!0,i++),n.count=i,n};function f3(t,e,i){var n=new Date(t.getTime()),o=N(e)?v3(e.toLowerCase()):ve(e)?u3(e):e;return o.years&&n.setFullYear(n.getFullYear()+o.years*i),o.quarters&&n.setMonth(n.getMonth()+3*o.quarters*i),o.months&&n.setMonth(n.getMonth()+o.months*i),o.weeks&&n.setDate(n.getDate()+7*o.weeks*i),o.days&&n.setDate(n.getDate()+o.days*i),o.hours&&n.setTime(n.getTime()+36e5*o.hours*i),o.minutes&&n.setTime(n.getTime()+6e4*o.minutes*i),o.seconds&&n.setTime(n.getTime()+1e3*o.seconds*i),o.milliseconds&&n.setTime(n.getTime()+o.milliseconds*i),n}var m3=function(t,e,i){var n=i?-1:1;return $t(t)?f3(t,e,n):cg(t+e*n,e)},Ave=function(t,e,i){var n=[],o;for(n.push($t(t)?new Date(t.getTime()):t),o=t;o<e;)o=m3(o,i),n.push(o);return n},Rve=function(t,e){if(t==="month")return Zn(e.getFullYear(),e.getMonth(),1);if(t==="year")return Zn(e.getFullYear(),0,e.getDate());if(t==="decade")return Zn(jg(e),e.getMonth(),e.getDate());if(t==="century")return Zn(Ug(e),e.getMonth(),e.getDate())},Bve=function(t,e){if(t==="month")return Zn(e.getFullYear(),e.getMonth(),wy(e));if(t==="year")return Zn(e.getFullYear(),11,e.getDate());if(t==="decade")return Zn(jg(e)+9,e.getMonth(),e.getDate());if(t==="century")return Zn(Ug(e)+90,e.getMonth(),e.getDate())},kve=function(t,e){var i=Zn(e.getFullYear(),e.getMonth(),1);return t==="month"||(i.setMonth(0),t==="year")||(t==="decade"&&i.setFullYear(jg(e)),t==="century"&&i.setFullYear(Ug(e))),i},Pve=function(t,e){var i=new Date(e);return i.setDate(wy(e)),t==="month"||(i.setMonth(11),i.setDate(wy(i)),t==="year")||(t==="decade"&&i.setFullYear(jg(e)+9),t==="century"&&i.setFullYear(Ug(e)+99)),i};function wy(t){var e=Zn(t.getFullYear(),t.getMonth()+1,0);return e.getDate()}var Nve=function(t){switch(t){case"month":return"year";case"year":return"decade";case"decade":return"century"}},Lve=function(t){switch(t){case"century":return"decade";case"decade":return"year";case"year":return"month"}},Vve=function(t){var e=1;return t==="year"&&(e=12),t==="decade"&&(e=120),t==="century"&&(e=1200),e},Hve=function(t){var e=1;return t==="decade"&&(e=12),t==="century"&&(e=120),e};function v3(t){var e={};switch(t){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function Wve(t,e){return lT(t,e)&&t.getDate()===e.getDate()}function lT(t,e){return _3(t,e)&&t.getMonth()===e.getMonth()}function _3(t,e){return t&&e&&t.getFullYear()===e.getFullYear()}function Gve(t,e){return t&&e&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()}var zve=function(t,e){if(!(!f(t)||!f(e))){var i=t.getFullYear()-t.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return t&&e&&i===n}},Uve=function(t,e){if(!(!f(t)||!f(e))){var i=t.getFullYear()-t.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return t&&e&&i===n}};function Ug(t){return t&&t.getFullYear()-t.getFullYear()%100}function jg(t){return t&&t.getFullYear()-t.getFullYear()%10}var jve=function(){return"yyyy/MM/dd"},$ve=function(t){if(f(t))return Zn(t.getFullYear(),t.getMonth(),1)},Kve=function(t){if(f(t))return Zn(t.getFullYear(),t.getMonth()+1,0)};function y3(t,e){var i=(t.getDay()-e+zg)%zg,n=new Date(t);return n.setDate(t.getDate()-i),n}function l3(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}function qve(t){var e=l3(t)-l3(x3(t.getFullYear()));return 1+Math.floor(e/Wg("day"))}function x3(t){return new Date(t,0,1)}function sT(t){return new Date(t,11,31)}function d3(t,e){var i=t.getDay()-e+1;return i<=0&&(i+=zg),i}function dT(t,e,i){var n=d3(x3(t.getFullYear()),e),o=d3(sT(t.getFullYear()),e),r=zg-n+1,a=Math.ceil((qve(t)-r)/7);switch(i){case"fullWeek":if(r===zg&&a++,a===0){var s=sT(t.getFullYear()-1);return dT(s,e,i)}return a;case"firstDay":r>0&&a++;var l=n===a3||o===a3;return(a>s3&&!l||a===54)&&(a=1),a;case"firstFourDays":r>3&&a++;var d=n===r3||o===r3;if(a>s3&&!d&&(a=1),a===0){var u=sT(t.getFullYear()-1);return dT(u,e,i)}return a}}var Yve=function(t,e){var i=Cd.getDatesInterval(t,e,"day"),n=new Date(t);return i>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},Qve=function(t,e,i,n){return n==="date"&&(e=e&&Cd.correctDateWithUnitBeginning(e,"day"),i=i&&Cd.correctDateWithUnitBeginning(i,"day"),t=t&&Cd.correctDateWithUnitBeginning(t,"day")),C3(t,e,i)===t},Jve=function(t){var{firstMin:e,firstMax:i,secondMin:n,secondMax:o}=t;return e<=n&&n<=i||e>n&&e<o||e<o&&i>o},Xve=function(t){var e=Math.floor(t),i=t%1*60;return{hours:e,minutes:i}},Zve=function(t,e){var i=this.dateTimeFromDecimal(e),n=new Date(t);return(t.getHours()===i.hours&&t.getMinutes()<i.minutes||t.getHours()<i.hours)&&n.setHours(i.hours,i.minutes,0,0),n};function C3(t,e,i){var n=t;return f(t)?(f(e)&&t<e&&(n=e),f(i)&&t>i&&(n=i),n):t}function S3(t,e){if(f(t)){var i=e.getHours()-t.getHours();if(i!==0){var n=i===1||i===-23?-1:1,o=new Date(e.getTime()+36e5*n);(n>0||o.getDate()===e.getDate())&&e.setTime(o.getTime())}}}var e_e=function(t){var e=new Date(t.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function b3(t,e){return 60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3}var t_e=function(t){return new Date(t)},i_e=function(t,e,i){for(var n=[],o=new Date(t.getTime());o<e;)n.push(new Date(o.getTime())),o=this.addInterval(o,i);return n},Zn=function(t){var e=new Date(...arguments);return e.setFullYear(t),e},n_e=()=>{var t=typeof Intl<"u";return t?Intl.DateTimeFormat().resolvedOptions().timeZone:null},Cd={dateUnitIntervals:Gg,convertMillisecondsToDateUnits:u3,dateToMilliseconds:Ove,getNextDateUnit:Eve,convertDateUnitToMilliseconds:Dy,getDateUnitInterval:Ey,getDateFormatByTickInterval:Fve,getDatesDifferences:Mve,correctDateWithUnitBeginning:p3,trimTime:g3,setToDayEnd:Tve,roundDateByStartDayHour:Zve,dateTimeFromDecimal:Xve,addDateInterval:f3,addInterval:m3,getSequenceByInterval:Ave,getDateIntervalByString:v3,sameHoursAndMinutes:Gve,sameDate:Wve,sameMonthAndYear:lT,sameMonth:lT,sameYear:_3,sameDecade:zve,sameCentury:Uve,getDifferenceInMonth:Vve,getDifferenceInMonthForCells:Hve,getFirstYearInDecade:jg,getFirstDecadeInCentury:Ug,getShortDateFormat:jve,getViewFirstCellDate:Rve,getViewLastCellDate:Bve,getViewDown:Lve,getViewUp:Nve,getLastMonthDay:wy,getLastMonthDate:Kve,getFirstMonthDate:$ve,getFirstWeekDate:y3,getWeekNumber:dT,normalizeDateByWeek:Yve,getQuarter:c3,getFirstQuarterMonth:h3,dateInRange:Qve,intervalsOverlap:Jve,roundToHour:e_e,normalizeDate:C3,getViewMinBoundaryDate:kve,getViewMaxBoundaryDate:Pve,fixTimezoneGap:S3,getTimezonesDifference:b3,makeDate:t_e,getDatesInterval:wve,getDatesOfInterval:i_e,createDateWithFullYear:Zn,getMachineTimezoneName:n_e};Cd.sameView=function(t,e,i){return Cd[Da("same "+t)](e,i)};var Q=Cd;var D3={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},uT=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Number((parseInt(t[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Number((parseInt(t[4]+t[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),i=parseInt(t[2],10),n=parseInt(t[3],10),o=w3(e,i,n);return[o[0],o[1],o[2],1,[e,i,n]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),i=parseInt(t[2],10),n=parseInt(t[3],10),o=E3(e,i,n);return[o[0],o[1],o[2],1,null,[e,i,n]]}}],Ja=Math.round;function rl(t){this.baseColor=t;var e;t&&(e=String(t).toLowerCase().replace(/ /g,""),e=D3[e]?"#"+D3[e]:e,e=o_e(e)),e||(this.colorIsInvalid=!0),e=e||{},this.r=Qr(e[0]),this.g=Qr(e[1]),this.b=Qr(e[2]),this.a=Qr(e[3],1,1),e[4]?this.hsv={h:e[4][0],s:e[4][1],v:e[4][2]}:this.hsv=a_e(this.r,this.g,this.b),e[5]?this.hsl={h:e[5][0],s:e[5][1],l:e[5][2]}:this.hsl=l_e(this.r,this.g,this.b)}function o_e(t){if(t==="transparent")return[0,0,0,0];for(var e=0,i=uT.length,n;e<i;++e)if(n=uT[e].re.exec(t),n)return uT[e].process(n);return null}function Qr(t,e,i){return e=e||0,i=i||255,t<0||isNaN(t)?e:t>i?i:t}function r_e(t,e,i){return"#"+(16777216|t<<16|e<<8|i).toString(16).slice(1)}function a_e(t,e,i){var n=Math.max(t,e,i),o=Math.min(t,e,i),r=n-o,a,s,l=n;if(s=n===0?0:1-o/n,n===o)a=0;else switch(n){case t:a=(e-i)/r*60,e<i&&(a+=360);break;case e:a=(i-t)/r*60+120;break;case i:a=(t-e)/r*60+240}return s*=100,l*=100/255,{h:Math.round(a),s:Math.round(s),v:Math.round(l)}}function w3(t,e,i){var n=Math.floor(t%360/60),o=(100-e)*i/100,r=t%60/60*(i-o),a=o+r,s=i-r,l,d,u;switch(n){case 0:l=i,d=a,u=o;break;case 1:l=s,d=i,u=o;break;case 2:l=o,d=i,u=a;break;case 3:l=o,d=s,u=i;break;case 4:l=a,d=o,u=i;break;case 5:l=i,d=o,u=s}return[Math.round(2.55*l),Math.round(2.55*d),Math.round(2.55*u)]}function s_e(t,e,i,n){var o=Math.max(t,e,i);switch(o){case t:return(e-i)/n+(e<i?6:0);case e:return(i-t)/n+2;case i:return(t-e)/n+4}}function l_e(t,e,i){t=Nc(t,255),e=Nc(e,255),i=Nc(i,255);var n=Math.max(t,e,i),o=Math.min(t,e,i),r=n+o,a,s,l=r/2;if(n===o)a=s=0;else{var d=n-o;l>.5?s=d/(2-r):s=d/r,a=s_e(t,e,i,d),a/=6}return{h:Ja(360*a),s:Ja(100*s),l:Ja(100*l)}}function cT(t,e){var i=e;return t==="r"&&(i=e+1/3),t==="b"&&(i=e-1/3),i}function d_e(t){return t<0&&(t+=1),t>1&&(t-=1),t}function hT(t,e,i){return i=d_e(i),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function E3(t,e,i){var n,o,r;if(t=Nc(t,360),e=Nc(e,100),i=Nc(i,100),e===0)n=o=r=i;else{var a=i<.5?i*(1+e):i+e-i*e,s=2*i-a;n=hT(s,a,cT("r",t)),o=hT(s,a,cT("g",t)),r=hT(s,a,cT("b",t))}return[Ja(255*n),Ja(255*o),Ja(255*r)]}function Nc(t,e){return t=Math.min(e,Math.max(0,parseFloat(t))),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function pT(t,e,i){return e=e||0,i=i||255,!(t%1!==0||t<e||t>i||typeof t!="number"||isNaN(t))}rl.prototype={constructor:rl,highlight:function(t){return t=t||10,this.alter(t).toHex()},darken:function(t){return t=t||10,this.alter(-t).toHex()},alter:function(t){var e=new rl;return e.r=Qr(this.r+t),e.g=Qr(this.g+t),e.b=Qr(this.b+t),e},blend:function(t,e){var i=t instanceof rl?t:new rl(t),n=new rl;return n.r=Qr(Ja(this.r*(1-e)+i.r*e)),n.g=Qr(Ja(this.g*(1-e)+i.g*e)),n.b=Qr(Ja(this.b*(1-e)+i.b*e)),n},toHex:function(){return r_e(this.r,this.g,this.b)},getPureColor:function(){var t=w3(this.hsv.h,100,100);return new rl("rgb("+t.join(",")+")")},isValidHex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},isValidRGB:function(t,e,i){return!(!pT(t)||!pT(e)||!pT(i))},isValidAlpha:function(t){return!(isNaN(t)||t<0||t>1||typeof t!="number")},colorIsInvalid:!1,fromHSL:function(t){var e=new rl,i=E3(t.h,t.s,t.l);return e.r=i[0],e.g=i[1],e.b=i[2],e}};var{PI:u_e,LN10:zlt,abs:Ult,log:jlt,floor:$lt,ceil:Klt,pow:qlt,sqrt:Ylt,atan2:Qlt}=Math;var Jlt=Q.dateToMilliseconds;var Xlt=u_e/180;function Ao(t,e){for(;t.length<e;)t="0"+t;return t}var $g={3:"abbreviated",4:"wide",5:"narrow"},gT={y:function(t,e,i){var n=t[i?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Ao(n.toString(),e)},M:function(t,e,i,n){var o=t[i?"getUTCMonth":"getMonth"](),r=$g[e];return r?n.getMonthNames(r,"format")[o]:Ao((o+1).toString(),Math.min(e,2))},L:function(t,e,i,n){var o=t[i?"getUTCMonth":"getMonth"](),r=$g[e];return r?n.getMonthNames(r,"standalone")[o]:Ao((o+1).toString(),Math.min(e,2))},Q:function(t,e,i,n){var o=t[i?"getUTCMonth":"getMonth"](),r=Math.floor(o/3),a=$g[e];return a?n.getQuarterNames(a)[r]:Ao((r+1).toString(),Math.min(e,2))},E:function(t,e,i,n){var o=t[i?"getUTCDay":"getDay"](),r=$g[e<3?3:e];return n.getDayNames(r)[o]},a:function(t,e,i,n){var o=t[i?"getUTCHours":"getHours"](),r=o<12?0:1,a=$g[e];return n.getPeriodNames(a)[r]},d:function(t,e,i){return Ao(t[i?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(t,e,i){return Ao(t[i?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(t,e,i){var n=t[i?"getUTCHours":"getHours"]();return Ao((n%12||12).toString(),Math.min(e,2))},m:function(t,e,i){return Ao(t[i?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(t,e,i){return Ao(t[i?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(t,e,i){return Ao(t[i?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(t,e,i){var n=i?0:t.getTimezoneOffset(),o=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),s=r%60,l=Ao(a.toString(),2),d=Ao(s.toString(),2);return o+l+(e>=3?":":"")+(e>1||s?d:"")},X:function(t,e,i){return i||!t.getTimezoneOffset()?"Z":gT.x(t,e,i)},Z:function(t,e,i){return gT.X(t,e>=5?3:2,i)}},Oy=function(t,e){return function(i){var n,o,r,a=0,s=!1,l,d="";if(!i)return null;if(!t)return i;var u=t[t.length-1]==="Z"||t.slice(-3)==="'Z'";for(n=0;n<t.length;n++)r=t[n],o=gT[r],l=r===t[n+1],a++,l||(o&&!s&&(d+=o(i,a,u,e)),a=0),r==="'"&&!l?s=!s:(s||!o)&&(d+=r),r==="'"&&l&&n++;return d}};var c_e=["January","February","March","April","May","June","July","August","September","October","November","December"],h_e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p_e=["AM","PM"],g_e=["Q1","Q2","Q3","Q4"],O3=(t,e)=>{var i={abbreviated:3,short:2,narrow:1};return Ke(t,n=>n.substr(0,i[e]))},Xa={getMonthNames:function(t){return O3(c_e,t)},getDayNames:function(t){return O3(h_e,t)},getQuarterNames:function(t){return g_e},getPeriodNames:function(t){return p_e}};var F3="number",T3="yyyy/MM/dd",f_e="yyyy/MM/dd HH:mm:ss",M3=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,A3=/^(\d{2}):(\d{2})(:(\d{2}))?$/,I3=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],m_e=/^(\d{4})\/(\d{2})\/(\d{2})$/,v_e=3,R3=function(t,e){var i;return N(t)&&!e&&(i=y_e(t)),i||__e(t)};function an(t){return+t||0}function __e(t){var e=B3(t)===T3,i=!$t(t)&&Date.parse(t);if(!i&&e){var n=t.match(m_e);if(n){var o=new Date(an(n[1]),an(n[2]),an(n[3]));return o.setFullYear(an(n[1])),o.setMonth(an(n[2])-1),o.setDate(an(n[3])),o}}return ve(i)?new Date(i):t}function y_e(t){var e=t.match(M3);if(!e)return e=t.match(A3),e?new Date(0,0,0,an(e[1]),an(e[2]),an(e[4])):void 0;var i=an(e[1]),n=--e[3],o=e[5],r=0,a=0,s=p=>(i<100&&p.setFullYear(i),p);r=an(e[14]),a=an(e[16]),e[13]==="-"&&(r=-r,a=-a);var l=an(e[6])-r,d=an(e[8])-a,u=an(e[10]),c=function(p){return p=p||"",an(p)*Math.pow(10,v_e-p.length)}(e[11]);return e[12]?s(new Date(Date.UTC(i,n,o,l,d,u,c))):s(new Date(i,n,o,l,d,u,c))}var x_e=function(t,e){var i=t.match(M3),n="";if(!i)return i=t.match(A3),i?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var o=1;o<I3.length;o++)i[o]&&(n+=I3[o]||i[o]);return i[12]==="Z"&&(n+="'Z'"),i[14]&&(i[15]?n+="xxx":i[16]?n+="xx":n+="x"),n},C_e=function(t){return typeof t=="number"?new Date(t):R3(t,!Fe().forceIsoDateParsing)},S_e=function(t,e){return e?$t(t)?e===F3?t&&t.valueOf?t.valueOf():null:Oy(e,Xa)(t):null:t},B3=function(t){if(typeof t=="number")return F3;if(N(t)){var e;return Fe().forceIsoDateParsing&&(e=x_e(t)),e||(t.indexOf(":")>=0?f_e:T3)}else if(t)return null},Ct={dateParser:R3,deserializeDate:C_e,serializeDate:S_e,getDateSerializationFormat:B3};var b_e="\u060C",P3=" .,:;/\\<>()-[]"+b_e,D_e=". m.",al=function(t){var e=t&&$e.convertDigits(t,!1).charCodeAt(0),i=$e.convertDigits("0",!1).charCodeAt(0);return i<=e&&e<i+10},w_e=function(t,e,i,n){var o=t[i],r=t[i+1];if(!n&&(o==="."||o===" "&&t.slice(i-1,i+3)===D_e||o==="-"&&!al(r)))return!0;var a=n&&e.some(s=>t[i]!==s[i]);return P3.indexOf(o)<0&&n===al(o)&&(!n||a)},E_e=function(t,e){if(!al(t[e]))for(;e>0&&!al(t[e-1])&&(t[e-1]==="."||P3.indexOf(t[e-1])<0);)e--;return e},O_e=function(t,e,i,n){var o=0,r=[],a=function(s){return t[o]!==s[o]&&(n===void 0||al(t[o])===n)};for(Array.isArray(e)||(e=[e]),o=0;o<t.length;o++)if(i.indexOf(o)<0&&e.filter(a).length){o=E_e(t,o);do{if(n=al(t[o]),!r.length&&!n&&al(e[0][o]))break;r.push(o),i.unshift(o),o++}while(t[o]&&w_e(t,e,o,n));break}return r.length===1&&(t[i[0]-1]==="0"||t[i[0]-1]==="\u0660")&&i.unshift(i[0]-1),r},I_e=function(t,e,i,n){var o=e[0],r=o<n.length?n[o]:o;return e.forEach(function(a,s){t=t.substr(0,r+s)+(i.length>1?i[s]:i)+t.substr(r+s+1)}),e.length===1&&(t=t.replace("0"+i,i+i),t=t.replace("\u0660"+i,i+i)),t},F_e=function(t,e,i,n){var o,r,a;if(!al(t[e[0]]||"0")){for(var s=Math.max(e.length<=3?3:4,i.length);e.length>s;){for(r=e.pop(),a=n[r],n[r]=-1,o=r+1;o<n.length;o++)n[o]--;t=t.substr(0,a)+t.substr(a+1)}for(r=e[e.length-1]+1,a=r<n.length?n[r]:r;e.length<s;){for(e.push(e[e.length-1]+1),o=r;o<n.length;o++)n[o]++;t=t.substr(0,a)+" "+t.substr(a)}}return t=I_e(t,e,i,n),t},k3=function(t,e){return Array.isArray(t)?t.map(function(i){return(e(i)||"").toString()}):(e(t)||"").toString()},T_e=/[a-zA-Z]/g,M_e=function(t,e,i,n){var o=e.split("").map(function(r,a){return i.indexOf(a)<0&&(r.match(T_e)||r==="'")?n[a]:-1});return t=t.split("").map(function(r,a){var s=r,l=o.indexOf(a)>=0,d=a>0&&o.indexOf(a-1)>=0,u=o.indexOf(a+1)>=0;return l&&(d||(s="'"+s),u||(s+="'")),s}).join(""),t},Iy=function(t){var e=[],i=k3(new Date(2009,8,8,6,5,4),t),n=i.split("").map(function(s,l){return l}),o=i,r={},a=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(o&&(a.forEach(function(s){var l=O_e(i,k3(s.date,t),e,s.isDigit),d=s.pattern==="M"&&!r.d?"L":s.pattern;o=F_e(o,l,d,n),r[d]=l.length}),o=M_e(o,i,e,n),e.length))return o};var es={3:"abbreviated",4:"wide",5:"narrow"},N3=function(t,e){return t>2?Object.keys(es).map(function(i){return["format","standalone"].map(function(n){return e.getMonthNames(es[i],n).join("|")}).join("|")}).join("|"):t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},A_e={":":function(t,e){var i=t>1?"{".concat(t,"}"):"",n=ho(e.getTimeSeparator());return n!==":"&&(n="".concat(n,"|:")),"".concat(n).concat(i)},y:function(t){return t===2?"[0-9]{".concat(t,"}"):"[0-9]+?"},M:N3,L:N3,Q:function(t,e){return t>2?e.getQuarterNames(es[t],"format").join("|"):"0?[1-4]"},E:function(t,e){return"\\D*"},a:function(t,e){return e.getPeriodNames(es[t<3?3:t],"format").join("|")},d:function(t){return t===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(t){return t===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(t){return t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(t){return"[0-9]{1,".concat(t,"}")},w:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},x:function(t){return t===3?"[+-](?:2[0-3]|[01][0-9]):(?:[0-5][0-9])|Z":"[+-](?:2[0-3]|[01][0-9])(?:[0-5][0-9])|Z"}},Za=Number,fT=function(t,e){return t.map(i=>i.toLowerCase()).indexOf(e.toLowerCase())},L3=function(t,e,i){return e>2?["format","standalone"].map(function(n){return Object.keys(es).map(function(o){var r=i.getMonthNames(es[o],n);return fT(r,t)})}).reduce(function(n,o){return n.concat(o)}).filter(function(n){return n>=0})[0]:Za(t)-1},R_e={y:function(t,e){var i=Za(t);return e===2?i<30?2e3+i:1900+i:i},M:L3,L:L3,Q:function(t,e,i){return e>2?i.getQuarterNames(es[e],"format").indexOf(t):Za(t)-1},E:function(t,e,i){var n=i.getDayNames(es[e<3?3:e],"format");return fT(n,t)},a:function(t,e,i){var n=i.getPeriodNames(es[e<3?3:e],"format");return fT(n,t)},d:Za,H:Za,h:Za,m:Za,s:Za,S:function(t,e){for(e=Math.max(e,3),t=t.slice(0,3);e<3;)t+="0",e++;return Za(t)}},Fy=["y","M","d","h","m","s","S"],mT={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(t,e,i){var n=t.getHours(),o=i.h;o!==void 0&&o!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),t.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},B_e=function(t,e){var i=t[e];if(!i)return 0;var n=0;do e++,n++;while(t[e]===i);return n},k_e=function(t,e){for(var i="",n=0;n<e;n++)i+=t;return i},vT=function(t,e){for(var i="",n="",o,r=[],a=function(){n&&(r.push("'".concat(n,"'")),i+="".concat(ho(n),")"),n="")},s=0;s<t.length;s++){var l=t[s],d=l==="'",u=A_e[l];if(!(d&&(o=!o,t[s-1]!=="'")))if(u&&!o){var c=B_e(t,s),p=k_e(l,c);a(),r.push(p),i+="(".concat(u(c,e),")"),s+=c-1}else n||(i+="("),n+=l}return a(),N_e(r)||Bs.warn("The following format may be parsed incorrectly: ".concat(t,".")),{patterns:r,regexp:new RegExp("^".concat(i,"$"),"i")}},P_e=["d","H","h","m","s","w","M","L","Q"],N_e=function(t){var e=o=>{if(!o)return!1;var r=o[0];return["y","S"].includes(r)||P_e.includes(r)&&o.length<3},i=!0,n=0;return t.every((o,r,a)=>(e(o)&&((s=>s[0]!=="S"&&s.length!==2)(o)&&(i=++n<2),e(a[r+1])||(n=0)),i))},V3=function(){return mT},L_e=function(t,e,i,n,o){var r=e[0],a=mT[r],s=R_e[r];if(a&&s){var l=s(i,e.length,n);o[e]=l,t[a]?t[a](l):a(t,l,o)}},V_e=function(t,e,i){var n=mT[e],o="g"+n.substr(1),r=i[o]();t[n](r)},H_e=function(t){return t.map(function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]})},W_e=function(t){var e=t.map(function(i){return Fy.indexOf(i)});return Math.max.apply(Math,e)},G_e=function(t){var e=t.filter(function(i){return Fy.indexOf(i)<0});return Fy.concat(e)},H3=function(t,e){var i=vT(t,e);return function(n){var o=i.regexp.exec(n);if(o){var r=new Date,a=new Date(r.getFullYear(),0,1),s=H_e(i.patterns),l=W_e(s),d=G_e(s),u={};return d.forEach(function(c,p){if(!(!c||p<Fy.length&&p>l)){var g=s.indexOf(c);if(g>=0){var m=i.patterns[g],y=o[g+1];L_e(a,m,y,e,u)}else V_e(a,c,r)}}),a}return null}};var W3={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var z_e=/[\u200E\u200F]/g,U_e=/[\u202F]/g,Sd=t=>e=>{if(!t.timeZoneName){var i=e.getFullYear(),n=String(i).length<3,o=n?i+400:i,r=new Date(Date.UTC(o,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&r.setFullYear(i);var a=v({timeZone:"UTC"},t);return yT(r,a)}return yT(e,t)},_T={},j_e=t=>{var e=on.locale()+"/"+JSON.stringify(t);return _T[e]||(_T[e]=new Intl.DateTimeFormat(on.locale(),t).format),_T[e]};function yT(t,e){return j_e(e)(t).replace(z_e,"").replace(U_e," ")}var xT=t=>new Intl.NumberFormat(on.locale()).format(t),$_e=(()=>{var t={};return e=>{if(!(e in t)){if(xT(0)==="0")return t[e]=!1,!1;t[e]={};for(var i=0;i<10;++i)t[e][xT(i)]=i}return t[e]}})(),Ty=t=>{var e=$_e(on.locale());return e?t.split("").map(i=>i in e?String(e[i]):i).join(""):t},G3=t=>t.replace(/(\D)0+(\d)/g,"$1$2"),K_e=(t,e)=>G3(t)===G3(e),CT=t=>t.replace("d\u2019","de "),ST={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(ST,"shortdateshorttime",{get:function(){var t=Intl.DateTimeFormat(on.locale()).resolvedOptions();return{year:t.year,month:t.month,day:t.day,hour:"numeric",minute:"numeric"}}});var q_e=t=>typeof t=="string"&&ST[t.toLowerCase()],z3={standalone:function(t,e){var i=new Date(1999,t,13,1),n=Sd({month:e})(i);return n},format:function(t,e){var i=new Date(0,t,13,1),n=CT(Sd({day:"numeric",month:e})(i)),o=n.split(" ").filter(r=>r.indexOf("13")<0);return o.length===1?o[0]:o.length===2?o[0].length>o[1].length?o[0]:o[1]:z3.standalone(t,e)}},U3={engine:function(){return"intl"},getMonthNames:function(t,e){var i={wide:"long",abbreviated:"short",narrow:"narrow"}[t||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map((n,o)=>z3[e](o,i))},getDayNames:function(t){var e=(i=>Array.apply(null,new Array(7)).map((n,o)=>Sd({weekday:i})(new Date(0,0,o))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[t||"wide"]);return e},getPeriodNames:function(){var t=Sd({hour:"numeric",hour12:!0});return[1,13].map(e=>{var i=xT(1),n=t(new Date(0,0,1,e)).split(i);if(n.length!==2)return"";var o=n[0].length>n[1].length?n[0]:n[1];return o.trim()})},format:function(t,e){if(t){if(!e)return t;typeof e!="function"&&!e.formatter&&(e=e.type||e);var i=q_e(e);if(i)return Sd(i)(t);var n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):Sd(e)(t)}},parse:function(t,e){var i;return e&&!e.parser&&typeof t=="string"&&(t=CT(t),i=n=>CT(this.format(n,e))),this.callBase(t,i||e)},_parseDateBySimpleFormat:function(t,e){t=Ty(t);var i=this.getFormatParts(e),n=t.split(/\D+/).filter(a=>a.length>0);if(i.length===n.length){var o=this._generateDateArgs(i,n),r=a=>{var s=((l,d)=>{var u=d?12:0;return new Date(l.year,l.month,l.day,(l.hours+u)%24,l.minutes,l.seconds)})(o,a);if(K_e(Ty(this.format(s,e)),t))return s};return r(!1)||r(!0)}},_generateDateArgs:function(t,e){var i=new Date,n={year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),hours:0,minutes:0,seconds:0};return t.forEach((o,r)=>{var a=e[r],s=parseInt(a,10);o==="month"&&(s-=1),n[o]=s}),n},formatUsesMonthName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return Ty(yT(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(t){if(typeof t=="string")return this.callBase(t);var e=v({},ST[t.toLowerCase()]),i=new Date(2001,2,4,5,6,7),n=Sd(e)(i);return n=Ty(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(o=>({name:o.name,index:n.indexOf(o.value)})).filter(o=>o.index>-1).sort((o,r)=>o.index-r.index).map(o=>o.name)}};var Y_e=0,Q_e=typeof Intl<"u",bT={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},J_e={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},j3=Kt({engine:function(){return"base"},_getPatternByFormat:function(t){return bT[t.toLowerCase()]},_expandPattern:function(t){return this._getPatternByFormat(t)||t},formatUsesMonthName:function(t){return this._expandPattern(t).indexOf("MMMM")!==-1},formatUsesDayName:function(t){return this._expandPattern(t).indexOf("EEEE")!==-1},getFormatParts:function(t){var e=this._getPatternByFormat(t)||t,i=[];return x(e.split(/\W+/),(n,o)=>{x(J_e,(r,a)=>{a.includes(o)&&i.push(r)})}),i},getMonthNames:function(t){return Xa.getMonthNames(t)},getDayNames:function(t){return Xa.getDayNames(t)},getQuarterNames:function(t){return Xa.getQuarterNames(t)},getPeriodNames:function(t){return Xa.getPeriodNames(t)},getTimeSeparator:function(){return":"},is24HourFormat:function(t){for(var e=new Date(2017,0,20,11,0,0,0),i=new Date(2017,0,20,23,0,0,0),n=this.format(e,t),o=this.format(i,t),r=0;r<n.length;r++)if(n[r]!==o[r])return!isNaN(parseInt(n[r]))},format:function(t,e){if(t){if(!e)return t;var i;if(typeof e=="function")i=e;else if(e.formatter)i=e.formatter;else if(e=e.type||e,N(e))return e=bT[e.toLowerCase()]||e,$e.convertDigits(Oy(e,this)(t));if(i)return i(t)}},parse:function(t,e){var i=this,n,o;if(t){if(!e)return this.parse(t,"shortdate");if(e.parser)return e.parser(t);if(typeof e=="string"&&!bT[e.toLowerCase()])n=e;else{o=a=>{var s=i.format(a,e);return $e.convertDigits(s,!0)};try{n=Iy(o)}catch{}}if(n)return t=$e.convertDigits(t,!0),H3(n,this)(t);me.log("W0012");var r=new Date(t);if(!(!r||isNaN(r.getTime())))return r}},firstDayOfWeekIndex:function(){var t=on.getValueByClosestLocale(e=>W3[e]);return t===void 0?Y_e:t}});Q_e&&j3.inject(U3);var ue=j3;var My=Kt({format:function(t,e){var i=N(e)&&e!==""||q(e)||T(e),n=ve(t)||$t(t);if(!i||!n)return f(t)?t.toString():"";if(T(e))return e(t);if(N(e)&&(e={type:e}),ve(t))return $e.format(t,e);if($t(t))return ue.format(t,e)},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?t.length===1?t[0]:function(e){return t.map(function(i){return ue.format(e,i)}).join(" ")}:t},getDateFormatByDifferences:function(t,e){var i=[],n=e&&t.millisecond&&!(t.year||t.month||t.day);return n?i.push(function(o){return o.getSeconds()+o.getMilliseconds()/1e3+"s"}):t.millisecond&&i.push("millisecond"),(t.hour||t.minute||!n&&t.second)&&i.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day?e&&e==="month"?"monthandyear":(i.unshift("shortdate"),this._normalizeFormat(i)):t.year&&t.month?"monthandyear":t.year&&t.quarter?"quarterandyear":t.year?"year":t.quarter?"quarter":t.month&&t.day?(e?i.unshift(function(o){return ue.getMonthNames("abbreviated")[o.getMonth()]+" "+ue.format(o,"day")}):i.unshift("monthandday"),this._normalizeFormat(i)):t.month?"month":t.day?(e?i.unshift("day"):i.unshift(function(o){return ue.format(o,"dayofweek")+", "+ue.format(o,"day")}),this._normalizeFormat(i)):this._normalizeFormat(i)},getDateFormatByTicks:function(t){var e,i,n;if(t.length>1)for(e=Q.getDatesDifferences(t[0],t[1]),n=1;n<t.length-1;n++)i=Q.getDatesDifferences(t[n],t[n+1]),e.count<i.count&&(e=i);else e={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};var o=this.getDateFormatByDifferences(e);return o},getDateFormatByTickInterval:function(t,e,i){var n,o=function(s,l,d){switch(l){case"year":case"quarter":s.month=d;case"month":s.day=d;case"week":case"day":s.hour=d;case"hour":s.minute=d;case"minute":s.second=d;case"second":s.millisecond=d}};i=N(i)?i.toLowerCase():i;var r=Q.getDatesDifferences(t,e);t!==e&&function(s,l,d){!d.getMilliseconds()&&d.getSeconds()?d.getSeconds()-l.getSeconds()===1&&(s.millisecond=!0,s.second=!1):!d.getSeconds()&&d.getMinutes()?d.getMinutes()-l.getMinutes()===1&&(s.second=!0,s.minute=!1):!d.getMinutes()&&d.getHours()?d.getHours()-l.getHours()===1&&(s.minute=!0,s.hour=!1):!d.getHours()&&d.getDate()>1?d.getDate()-l.getDate()===1&&(s.hour=!0,s.day=!1):d.getDate()===1&&d.getMonth()?d.getMonth()-l.getMonth()===1&&(s.day=!0,s.month=!1):!d.getMonth()&&d.getFullYear()&&d.getFullYear()-l.getFullYear()===1&&(s.month=!0,s.year=!1)}(r,t>e?e:t,t>e?t:e),n=Q.getDateUnitInterval(r),o(r,n,!0),n=Q.getDateUnitInterval(i||"second"),o(r,n,!1),r[{week:"day"}[n]||n]=!0;var a=this.getDateFormatByDifferences(r);return a}});var X_e="dx-box",Z_e="dx-box-flex",e0e="dx-box-item",q3="dxBoxItemData",t0e=1,i0e={row:"minWidth",col:"minHeight"},n0e={row:"maxWidth",col:"maxHeight"},$3={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},K3={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},o0e={row:"row",col:"column"},Lc=(t,e,i)=>{if(i=Pr(e,i),t.style[Yo(e)]=i,!W()){if(i===""||!f(i))return;var n=Ap(e),o="".concat(n,": ").concat(i,";");m_(t,o,!1)}},DT=class extends To{_renderVisible(e,i){super._renderVisible(e),f(i)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:i})}},wT=class{constructor(e,i){this._$element=e,this._option=i}renderBox(){this._$element.css({display:"".concat(Uu("flexDirection"),"flex")}),Lc(this._$element.get(0),"flexDirection",o0e[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var e=this._option("align");return e in $3?$3[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var e=this._option("crossAlign");return e in K3?K3[e]:e}renderItems(e){var i=Uu("flexDirection"),n=this._option("direction");x(e,function(){var o=h(this),r=o.data(q3);o.css({display:"".concat(i,"flex")}).css(n0e[n],r.maxSize||"none").css(i0e[n],r.minSize||"0"),Lc(o.get(0),"flexBasis",r.baseSize||0),Lc(o.get(0),"flexGrow",r.ratio),Lc(o.get(0),"flexShrink",f(r.shrink)?r.shrink:t0e),o.children().each((a,s)=>{h(s).css({width:"auto",height:"auto",display:"".concat(Uu("flexDirection"),"flex"),flexBasis:0}),Lc(s,"flexGrow",1),Lc(s,"flexDirection",h(s)[0].style.flexDirection||"column")})})}},Y3=(()=>{class t extends Nn{_getDefaultOptions(){return v(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return e0e}_itemDataKey(){return q3}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass(Z_e),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new wT(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(i,n){this._queue.push({$item:i,config:n})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(X_e),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(i){for(super._renderItems(i);this._queueIsNotEmpty();){var n=this._shiftItemFromQueue();this._createComponent(n.$item,t,v({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},n.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(i){var n=i.itemData&&i.itemData.node;return n?this._renderItemContentByNode(i,n):super._renderItemContent(i)}_postprocessRenderItem(i){var n=i.itemData.box;n&&this._pushItemToQueue(i.itemContent,n)}_createItemByTemplate(i,n){return n.itemData.box?i.source?i.source():h():super._createItemByTemplate(i,n)}_itemOptionChanged(i,n,o,r){n==="visible"&&this._onItemStateChanged({name:n,state:o,oldState:r!==!1}),super._itemOptionChanged(i,n,o)}_optionChanged(i){switch(i.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(i)}}_itemOptions(){var i=super._itemOptions();return i.fireItemStateChangedAction=n=>{this._onItemStateChanged(n)},i}}return t.ItemClass=DT,t})();K("dxBox",Y3);var Q3=Y3;var bd=Q3;var r0e=["*"],ET=(()=>{class t extends Ws{constructor(i,n,o,r,a,s,l){super(i,n,o,r,s,l),this._createEventEmitters([{subscribe:"click",emit:"onClick"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconChange"},{emit:"rtlEnabledChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"templateChange"},{emit:"textChange"},{emit:"typeChange"},{emit:"useSubmitBehaviorChange"},{emit:"validationGroupChange"},{emit:"visibleChange"},{emit:"widthChange"}]),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(i){this._setOption("useSubmitBehavior",i)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(i){this._setOption("validationGroup",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}_createInstance(i,n){return new xt(i,n)}ngOnDestroy(){this._destroyWidget()}}return t.\u0275fac=function(i){return new(i||t)(B(dt),B(Ne),B(Ft),B(zi),B(ie),B(Tr),B(Di))},t.\u0275cmp=Se({type:t,selectors:[["dx-button"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},outputs:{onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconChange:"iconChange",rtlEnabledChange:"rtlEnabledChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",templateChange:"templateChange",textChange:"textChange",typeChange:"typeChange",useSubmitBehaviorChange:"useSubmitBehaviorChange",validationGroupChange:"validationGroupChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[bt([Ft,zi,ie]),Le],ngContentSelectors:r0e,decls:1,vars:0,template:function(i,n){i&1&&(Tn(),qi(0))},encapsulation:2}),t})(),OT=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({imports:[[Gs,mo],mo]}),t})();var Kg="dx-buttongroup",a0e="".concat(Kg,"-wrapper"),X3="".concat(Kg,"-item"),s0e="".concat(Kg,"-first-item"),l0e="".concat(Kg,"-last-item"),J3="".concat(X3,"-has-width"),d0e="dx-shape-standard",u0e=Nn.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Bi((t,e,i)=>{this._prepareItemStyles(t);var n=this.option("buttonTemplate");this._createComponent(t,xt,v({},i,e,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(n)?i:{},template:i.template||n}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions(){return v(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(t){return T(t)||this.option("integrationOptions.templates")[t]},_prepareItemStyles(t){var e=t.data("dxItemIndex");e===0&&t.addClass(s0e);var i=this.option("items");i&&e===i.length-1&&t.addClass(l0e),t.addClass(d0e)},_renderItemContent(t){return t.container=h(t.container).parent(),this.callBase(t)},_setAriaSelectionAttribute(t,e){this.setAria("pressed",e,t)},_renderItemContentByNode(t,e){return t.container=h(t.container.children().first()),this.callBase(t,e)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>X3,_itemSelectHandler(t){this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)||this.callBase(t)}}),Z3=ct.inherit({_getDefaultOptions(){return v(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(Kg),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_fireSelectionChangeEvent(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_renderButtons(){var t=h("<div>").addClass(a0e).appendTo(this.$element()),e=this.option("selectedItems"),i={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:n=>{var o=this.option("width");f(o)&&h(n.itemElement).addClass(J3)},onSelectionChanged:n=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(n.addedItems,n.removedItems)},onItemClick:n=>{this._itemClickAction(n)}};f(e)&&e.length&&(i.selectedItems=e),this._buttonsCollection=this._createComponent(t,u0e,i)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(t){switch(t.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(t.name,t.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(t),this._buttonsCollection.itemElements().toggleClass(J3,!!t.value);break;default:this.callBase(t)}}});K("dxButtonGroup",Z3);var ej=Z3;var tj=ej;var ij="dxSwipeable",c0e="dx-swipeable",h0e={onStart:Mc,onUpdated:Ac,onEnd:ol,onCancel:"dxswipecancel"},p0e=180,nj=tn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:p0e,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(c0e),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),x(h0e,function(e,i){var n=this._createActionByOption(e,{context:this});i=F(i,t),_.on(this.$element(),i,this._eventData,function(o){return n({event:o})})}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){_.off(this.$element(),"."+ij)},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});Us(nj,ij);var qg=nj;var g0e="dx-calendar-navigator",f0e="dx-calendar-navigator-previous-month",m0e="dx-calendar-navigator-next-month",v0e="dx-calendar-navigator-previous-view",_0e="dx-calendar-navigator-next-view",y0e="dx-calendar-disabled-navigator-link",x0e="dx-calendar-caption-button",C0e="dx-button-text",IT=class extends ct{_getDefaultOptions(){return v(super._getDefaultOptions(),{onClick:null,onCaptionClick:null,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return He()},options:{type:"default",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),this.$element().addClass(g0e),this._renderButtons(),this._renderCaption()}_renderButtons(){var{rtlEnabled:e,type:i,stylingMode:n}=this.option();this._prevButton=this._createComponent(h("<div>"),xt,{focusStateEnabled:!1,icon:e?"chevronright":"chevronleft",onClick:s=>{this._clickAction({direction:-1,event:s})},type:i,stylingMode:n,integrationOptions:{}});var o=this._prevButton.$element().addClass(v0e).addClass(f0e);this._nextButton=this._createComponent(h("<div>"),xt,{focusStateEnabled:!1,icon:e?"chevronleft":"chevronright",onClick:s=>{this._clickAction({direction:1,event:s})},type:i,stylingMode:n,integrationOptions:{}});var r=this._nextButton.$element().addClass(_0e).addClass(m0e);this._caption=this._createComponent(h("<div>").addClass(x0e),xt,{focusStateEnabled:!1,onClick:s=>{this._captionClickAction({event:s})},type:i,stylingMode:n,template:(s,l)=>{var{text:d}=this.option(),u=d.split(" - ");u.forEach(c=>{h(l).append(h("<span>").addClass(C0e).text(c))})},integrationOptions:{}});var a=this._caption.$element();this.$element().append(o,a,r)}_renderCaption(){this._caption.option("text",this.option("text"))}toggleButton(e,i){var n="_"+e+"Button",o=this[n];o&&(o.option("disabled",i),o.$element().toggleClass(y0e,i))}_optionChanged(e){switch(e.name){case"text":this._renderCaption();break;default:super._optionChanged(e)}}},oj=IT;var{abstract:Jr}=ct,S0e="dx-calendar-other-view",b0e="dx-calendar-cell",D0e="dx-calendar-cell-start",w0e="dx-calendar-cell-end",E0e="dx-calendar-cell-start-in-row",O0e="dx-calendar-cell-end-in-row",I0e="dx-calendar-week-number-cell",FT="dx-calendar-empty-cell",F0e="dx-calendar-today",rj="dx-calendar-selected-date",aj="dx-calendar-cell-in-range",TT="dx-calendar-cell-range-hover",MT="dx-calendar-cell-range-hover-start",AT="dx-calendar-cell-range-hover-end",sj="dx-calendar-range-start-date",lj="dx-calendar-range-end-date",RT="dx-calendar-contoured-date",dj="td:not(.".concat(I0e,")"),uj=F(se,"dxCalendar"),cj=F(nc,"dxCalendar"),BT="dxDateValueKey",T0e=ct.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return v(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents()},_createTable:function(){this._$table=h("<table>");var t=w.format("dxCalendar-ariaWidgetName"),e=w.format("dxCalendar-ariaHotKeysInfo");return this.setAria({label:"".concat(t,". ").concat(e),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=h("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,i=this.option("rowCount");e<i;e++){t.row=this._createRow();for(var n=0,o=this.option("colCount");n<o;n++)this._renderCell(t,n);this._renderWeekNumberCell(t)}},_createRow:function(){var t=I.createElement("tr");return this.setAria("role","row",h(t)),this.$body.get(0).appendChild(t),t},_createCell:function(t,e){var i=I.createElement("td"),n=h(i);return i.className=this._getClassNameByDate(t,e),i.setAttribute("data-value",Ct.serializeDate(t,Q.getShortDateFormat())),Ve(i,BT,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},n),{cell:i,$cell:n}},_renderCell:function(t,e){var{cellDate:i,prevCellDate:n,row:o}=t;n&&Q.fixTimezoneGap(n,i),t.prevCellDate=i;var{cell:r,$cell:a}=this._createCell(i,e),s=this.option("cellTemplate");h(o).append(r),s?s.render(this._prepareCellTemplateData(i,e,a)):r.innerHTML=this._getCellText(i),t.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(t,e){var i=b0e;return this._isTodayCell(t)&&(i+=" ".concat(F0e)),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(i+=" ".concat(FT)),this._isOtherView(t)&&(i+=" ".concat(S0e)),this.option("selectionMode")==="range"&&(e===0&&(i+=" ".concat(E0e)),e===this.option("colCount")-1&&(i+=" ".concat(O0e)),this._isStartDayOfMonth(t)&&(i+=" ".concat(D0e)),this._isEndDayOfMonth(t)&&(i+=" ".concat(w0e))),i},_prepareCellTemplateData:function(t,e,i){var n=t instanceof Date,o=n?this._getCellText(t):t,r=n?t:void 0,a=this._getViewName();return{model:{text:o,date:r,view:a},container:V(i),index:e}},_renderEvents:function(){this._createCellClickAction(),_.off(this._$table,uj),_.on(this._$table,uj,dj,t=>{h(t.currentTarget).hasClass(FT)||this._cellClickAction({event:t,value:h(t.currentTarget).data(BT)})}),_.off(this._$table,cj),this.option("selectionMode")==="range"&&(this._createCellHoverAction(),_.on(this._$table,cj,dj,t=>{h(t.currentTarget).hasClass(FT)||this._cellHoverAction({event:t,value:h(t.currentTarget).data(BT)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction:function(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||D},_getDefaultDisabledDatesHandler:function(t){return D},_isTodayCell:Jr,_isDateOutOfRange:Jr,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:Jr,_isStartDayOfMonth:Jr,_isEndDayOfMonth:Jr,_getCellText:Jr,_getFirstCellData:Jr,_getNextCellData:Jr,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),i=this._getCellByDate(t);e.removeClass(RT),t&&i.addClass(RT)}},_getContouredCell:function(){return this._$table.find(".".concat(RT))},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value");Array.isArray(t)||(t=[t]),this._updateSelectedClass(t)}},_updateSelectedClass:function(t){var e;this._isRangeMode()&&!this._isMonthView()||((e=this._$selectedCells)===null||e===void 0||e.forEach(i=>{i.removeClass(rj)}),this._$selectedCells=t.map(i=>this._getCellByDate(i)),this._$selectedCells.forEach(i=>{i.addClass(rj)}))},_renderRange:function(){var t,e,i,n,o,r,a,s,{allowValueSelection:l,value:d,range:u}=this.option();!l||!this._isRangeMode()||!this._isMonthView()||((t=this._$rangeCells)===null||t===void 0||t.forEach(c=>{c.removeClass(aj)}),(e=this._$hoveredRangeCells)===null||e===void 0||e.forEach(c=>{c.removeClass(TT)}),(i=this._$rangeStartHoverCell)===null||i===void 0||i.removeClass(MT),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass(AT),(o=this._$rangeStartDateCell)===null||o===void 0||o.removeClass(sj),(r=this._$rangeEndDateCell)===null||r===void 0||r.removeClass(lj),this._$rangeCells=u.map(c=>this._getCellByDate(c)),this._$rangeStartDateCell=this._getCellByDate(d[0]),this._$rangeEndDateCell=this._getCellByDate(d[1]),this._$rangeCells.forEach(c=>{c.addClass(aj)}),(a=this._$rangeStartDateCell)===null||a===void 0||a.addClass(sj),(s=this._$rangeEndDateCell)===null||s===void 0||s.addClass(lj))},_renderHoveredRange(){var t,e,i,n,o,{allowValueSelection:r,hoveredRange:a}=this.option();!r||!this._isRangeMode()||!this._isMonthView()||((t=this._$hoveredRangeCells)===null||t===void 0||t.forEach(s=>{s.removeClass(TT)}),(e=this._$rangeStartHoverCell)===null||e===void 0||e.removeClass(MT),(i=this._$rangeEndHoverCell)===null||i===void 0||i.removeClass(AT),this._$hoveredRangeCells=a.map(s=>this._getCellByDate(s)),this._$rangeStartHoverCell=this._getCellByDate(a[0]),this._$rangeEndHoverCell=this._getCellByDate(a[a.length-1]),this._$hoveredRangeCells.forEach(s=>{s.addClass(TT)}),(n=this._$rangeStartHoverCell)===null||n===void 0||n.addClass(MT),(o=this._$rangeEndHoverCell)===null||o===void 0||o.addClass(AT))},_isMonthView:function(){return this.option("zoomLevel")==="month"},_isRangeMode:function(){return this.option("selectionMode")==="range"},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=Q.getViewFirstCellDate(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:Jr,isBoundary:Jr,_optionChanged:function(t){var{name:e,value:i}=t;switch(e){case"value":this._renderValue();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),Yg=T0e;var M0e="dx-calendar-other-month",A0e="dx-calendar-other-view",R0e="dx-calendar-week-number-cell",B0e={month:Yg.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return v(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(A0e)).addClass(M0e)},_renderFocusTarget:D,getCellAriaLabel:function(t){return ue.format(t,"longdate")},_renderHeader:function(){var t=h("<tr>"),e=h("<thead>").append(t);this._$table.prepend(e);for(var i=0,n=this.option("colCount");i<n;i++)this._renderHeaderCell(i,t);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(t)},_renderHeaderCell:function(t,e){var{firstDayOfWeek:i}=this.option(),{full:n,abbreviated:o}=this._getDayCaption(i+t),r=h("<th>").attr({scope:"col",abbr:n}).text(o);e.append(r)},_renderWeekHeaderCell:function(t){var e=h("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});t.prepend(e)},_renderWeekNumberCell:function(t){var{showWeekNumbers:e,cellTemplate:i}=this.option();if(e){var n=this._getWeekNumber(t.prevCellDate),o=I.createElement("td"),r=h(o);o.className=R0e,i?i.render(this._prepareCellTemplateData(n,-1,r)):o.innerHTML=n,t.row.prepend(o),this.setAria({role:"gridcell",label:"Week ".concat(n)},r)}},_getWeekNumber:function(t){var{weekNumberRule:e,firstDayOfWeek:i}=this.option();return e==="auto"?Q.getWeekNumber(t,i,i===1?"firstFourDays":"firstDay"):Q.getWeekNumber(t,i,e)},getNavigatorCaption:function(){return ue.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return Q.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!Q.dateInRange(t,e,i,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth:function(t){return Q.sameDate(t,Q.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth:function(t){return Q.sameDate(t,Q.getLastMonthDate(this.option("date")))},_getCellText:function(t){return ue.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount"),i=t%e;return{full:ue.getDayNames()[i],abbreviated:ue.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var{firstDayOfWeek:t}=this.option(),e=Q.getFirstMonthDate(this.option("date")),i=t-e.getDay(),n=this.option("colCount");return i>=0&&(i-=n),e.setDate(e.getDate()+i),e},_getNextCellData:function(t){return t=new Date(t),t.setDate(t.getDate()+1),t},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(Ct.serializeDate(t,Q.getShortDateFormat()),"']"))},isBoundary:function(t){return Q.sameMonthAndYear(t,this.option("min"))||Q.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){var i=t.some(function(n){return Q.sameDate(n,e.date)});if(i)return!0}}}),year:Yg.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Q.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!Q.dateInRange(t,Q.getFirstMonthDate(this.option("min")),Q.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){return ue.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(Ct.serializeDate(e,Q.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return ue.format(t,"monthandyear")},getNavigatorCaption:function(){return ue.format(this.option("date"),"yyyy")},isBoundary:function(t){return Q.sameYear(t,this.option("min"))||Q.sameYear(t,this.option("max"))},_renderWeekNumberCell:D}),decade:Yg.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Q.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!Q.dateInRange(t.getFullYear(),e&&e.getFullYear(),i&&i.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!Q.sameDecade(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){return ue.format(t,"yyyy")},_getFirstCellData:function(){var t=Q.getFirstYearInDecade(this.option("date"))-1;return Q.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=Q.getFirstYearInDecade(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+9),ue.format(i,"yyyy")+"-"+ue.format(n,"yyyy")},_isValueOnCurrentView:function(t,e){return Q.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(Ct.serializeDate(e,Q.getShortDateFormat()),"']"))},isBoundary:function(t){return Q.sameDecade(t,this.option("min"))||Q.sameDecade(t,this.option("max"))},_renderWeekNumberCell:D}),century:Yg.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Q.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=Q.getFirstYearInDecade(t),i=Q.getFirstYearInDecade(this.option("min")),n=Q.getFirstYearInDecade(this.option("max"));return!Q.dateInRange(e,i,n)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!Q.sameCentury(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){var e=ue.format(t,"yyyy"),i=new Date(t);return i.setFullYear(i.getFullYear()+9),e+" - "+ue.format(i,"yyyy")},_getFirstCellData:function(){var t=Q.getFirstDecadeInCentury(this.option("date"))-10;return Q.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(Q.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(Ct.serializeDate(e,Q.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=Q.getFirstDecadeInCentury(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+99),ue.format(i,"yyyy")+"-"+ue.format(n,"yyyy")},isBoundary:function(t){return Q.sameCentury(t,this.option("min"))||Q.sameCentury(t,this.option("max"))},_renderWeekNumberCell:D})},hj=B0e;var kT=class{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,i){this.calendar._dateValue(e,i)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,i){this.calendar._updateAriaSelected(e,i),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,i){var n,o;e=((n=e)===null||n===void 0?void 0:n.map(r=>this._convertToDate(r)))||[],i=((o=i)===null||o===void 0?void 0:o.map(r=>this._convertToDate(r)))||[],this._updateViewsValue(e),this.updateAriaSelected(e,i),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,i){this.calendar._updateViewsOption(e,i)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}},Vc=kT;var PT=class extends Vc{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,i){this.skipNavigate(),this.dateValue(e,i)}updateAriaSelected(e,i){var n,o;(n=e)!==null&&n!==void 0||(e=[this.dateOption("value")]),(o=i)!==null&&o!==void 0||(i=[]),super.updateAriaSelected(e,i)}getDefaultCurrentDate(){return this.dateOption("value")}_updateViewsValue(e){this._updateViewsOption("value",e[0])}},pj=PT;var NT=class extends Vc{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("values"),range:[],selectionMode:"multi"}}selectValue(e,i){var n=[...this.dateOption("values")],o=n.findIndex(r=>r?.toDateString()===e.toDateString());o>-1?n.splice(o,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,i)}updateAriaSelected(e,i){var n,o;(n=e)!==null&&n!==void 0||(e=this.dateOption("values")),(o=i)!==null&&o!==void 0||(i=[]),super.updateAriaSelected(e,i)}getDefaultCurrentDate(){var e=this.dateOption("values").filter(i=>i);return this._getLowestDateInArray(e)}},gj=NT;var mj=864e5,fj=120*mj,LT=class extends Vc{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){var e=this._getValues(),i=this._getDaysInRange(e[0],e[1]);return{value:e,range:i,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this)}}selectValue(e,i){var[n,o]=this._getValues();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.calendar.option("_allowChangeSelectionOrder")===!0?(this.calendar._valueSelected=!0,this.calendar.option("_currentSelection")==="startDate"?this.calendar._convertToDate(e)>this.calendar._convertToDate(o)?this.dateValue([e,null],i):this.dateValue([e,o],i):this.calendar._convertToDate(e)>=this.calendar._convertToDate(n)?this.dateValue([n,e],i):this.dateValue([e,null],i)):!n||o?this.dateValue([e,null],i):this.dateValue(n<e?[n,e]:[e,n],i)}updateAriaSelected(e,i){var n,o;(n=e)!==null&&n!==void 0||(e=this._getValues()),(o=i)!==null&&o!==void 0||(i=[]),super.updateAriaSelected(e,i)}processValueChanged(e,i){super.processValueChanged(e,i);var n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){var{_allowChangeSelectionOrder:e,_currentSelection:i}=this.calendar.option(),n=this.dateOption("values");if(e){if(i==="startDate"&&n[0])return n[0];if(i==="endDate"&&n[1])return n[1]}var o=n.filter(r=>r);return this._getLowestDateInArray(o)}_getValues(){var e=this.dateOption("values");if(!e.length)return e;var[i,n]=e;return i&&n&&i>n&&([i,n]=[n,i]),[i,n]}_getRange(){var[e,i]=this._getValues();return this._getDaysInRange(e,i)}_getDaysInRange(e,i){if(!e||!i)return[];var n=this.calendar.option("currentDate").getTime(),o=new Date(Math.max(n-fj,e)),r=new Date(Math.min(n+fj,i));return[...Q.getDatesOfInterval(o,r,mj),r]}_cellHoverHandler(e){var i=this._isMaxZoomLevel(),[n,o]=this._getValues(),{_allowChangeSelectionOrder:r,_currentSelection:a}=this.calendar.option();if(i){var s=r&&a==="startDate";if(n&&!o&&!s){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&o&&!(r&&a==="endDate")){if(e.value<o){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,o));return}}else if(n&&o){if(a==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}else if(a==="endDate"&&e.value>o){this._updateViewsOption("hoveredRange",this._getDaysInRange(o,e.value));return}}this._updateViewsOption("hoveredRange",[])}}},vj=LT;var k0e="dx-calendar",P0e="dx-calendar-body",N0e="dx-calendar-cell",L0e="dx-calendar-footer",V0e="dx-calendar-today-button",H0e="dx-calendar-with-footer",W0e="dx-calendar-views-wrapper",_j="dx-calendar-view",G0e="dx-calendar-multiview",z0e="dx-calendar-range",U0e="dx-state-focused",j0e="dx-gesture-cover",Ay=250,yj=.6,xj=1,$0e="yyyy-MM-dd",K0e="dxDateValueKey",Cj=F(Ys,"dxCalendar"),Hc={month:3,year:2,decade:1,century:0},Pi={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},q0e={SingleSelection:pj,MultiSelection:gj,RangeSelection:vj};function Y0e(t){return t.hasClass(U0e)}var Sj=Ui.inherit({_activeStateUnit:"."+N0e,_getDefaultOptions:function(){return v(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,values:[],dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:Pi.MONTH,maxZoomLevel:Pi.MONTH,minZoomLevel:Pi.CENTURY,selectionMode:"single",showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return v(this.callBase(),{rightArrow:function(t){t.preventDefault(),ut(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),ut(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),ut(t))this._navigateUp();else{if(et.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),ut(t))this._navigateDown();else{if(et.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(i)){var o=Q.sameView(e,i,n)?n:Q.getViewFirstCellDate(e,i);this._moveToClosestAvailableDate(o)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(i)){var o=Q.sameView(e,i,n)?n:Q.getViewLastCellDate(e,i);this._moveToClosestAvailableDate(o)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:D,enter:this._enterKeyHandler})},_enterKeyHandler:function(t){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(e,t)}},_getSerializationFormat:function(t){var e=this.option(t||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(ve(e))return"number";if(N(e))return Ct.getDateSerializationFormat(e)},_convertToDate:function(t){return Ct.deserializeDate(t)},_dateValue:function(t,e){var i=Array.isArray(t)?"values":"value";if(e){if(e.type==="keydown"){var n=this._view._getContouredCell().get(0);e.target=n}this._saveValueChangeEvent(e)}this._dateOption(i,t)},_dateOption:function(t,e){if(arguments.length===1){var i,n=(i=this.option("values"))!==null&&i!==void 0?i:[];return t==="values"?n.map(a=>this._convertToDate(a)):this._convertToDate(this.option(t))}var o=this._getSerializationFormat(t),r=t==="values"?e?.map(a=>Ct.serializeDate(a,o))||[]:Ct.serializeDate(e,o);this.option(t,r)},_shiftDate:function(t,e,i,n){switch(t){case Pi.MONTH:e.setDate(e.getDate()+i*n);break;case Pi.YEAR:e.setMonth(e.getMonth()+i*n);break;case Pi.DECADE:e.setFullYear(e.getFullYear()+i*n);break;case Pi.CENTURY:e.setFullYear(e.getFullYear()+10*i*n)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),i=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,i,t,1);for(var o=this._getMaxDate(),r=this._getMinDate(),a=this._areDatesInNeighborView(n,i,e),s=Ln(i,r,o)&&a,l=new Date(i);s;){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(n,l,t,1),a=this._areDatesInNeighborView(n,l,e),s=Ln(l,r,o)&&a}this._view.isDateDisabled(e)||this._view.isDateDisabled(i)?this._waitRenderView(t>0?1:-1):(this._skipNavigate=!0,this.option("currentDate",i))},_areDatesInSameView(t,e,i){switch(t){case Pi.MONTH:return e.getMonth()===i.getMonth();case Pi.YEAR:return e.getYear()===i.getYear();case Pi.DECADE:return parseInt(e.getYear()/10)===parseInt(i.getYear()/10);case Pi.CENTURY:return parseInt(e.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(t,e,i){switch(t){case Pi.MONTH:return n=e.getMonth(),o=i.getMonth(),r=Math.abs(n-o),Math.min(r,12-r)<=1;case Pi.YEAR:return Math.abs(e.getYear()-i.getYear())<=1;case Pi.DECADE:return Math.abs(e.getYear()-i.getYear())<=10;case Pi.CENTURY:return Math.abs(e.getYear()-i.getYear())<=100}var n,o,r},_moveToClosestAvailableDate:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),e=new Date(t),i=this.option("zoomLevel"),n=!this._isDateNotAvailable(e),o=n,r=n,a,s,l=new Date(e),d=new Date(e);do{if(o){e=l;break}if(r){e=d;break}this._shiftDate(i,l,1,1),this._shiftDate(i,d,1,-1),a=this._areDatesInSameView(i,l,t),s=this._areDatesInSameView(i,d,t),o=a&&!this._isDateNotAvailable(l),r=s&&!this._isDateNotAvailable(d)}while(a||s);this.option("currentDate",e)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),i=this._getMinDate();return!Ln(t,i,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy:function(){var t=this._getSelectionStrategyName(),e=q0e[t];(!this._selectionStrategy||this._selectionStrategy.NAME!==t)&&(this._selectionStrategy=new e(this))},_refreshSelectionStrategy:function(){this._initSelectionStrategy(),this._refresh()},_getSelectionStrategyName:function(){var t=this.option("selectionMode");switch(t){case"multi":return"MultiSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),i=this.option("zoomLevel");Hc[e]<Hc[t]||(Hc[i]>Hc[e]?this.option("zoomLevel",e):Hc[i]<Hc[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t,e=(t=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate()))!==null&&t!==void 0?t:this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(t){return t=Q.normalizeDate(t,this._getMinDate(),this._getMaxDate()),f(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new Eo(function(t){var e=t.model;h(t.container).append(h("<span>").text(e&&e.text||String(e)))})}),this.callBase()},_updateCurrentDate:function(t){et.isAnimating(this._$viewsWrapper)&&et.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),i=this._getMaxDate();if(e>i){this.option("currentDate",new Date);return}var n=this._getNormalizedDate(t);if(t.getTime()!==n.getTime()){this.option("currentDate",new Date(n));return}var o=this._getViewsOffset(this._view.option("date"),n);o!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(o=0),this._view&&o!==0&&!this._suppressNavigation?this._additionalView?o>2||o<-1?(this._refreshViews(),this._setViewContoured(n),this._updateAriaId(n),this._renderNavigator()):o===1&&this._skipNavigate?(this._setViewContoured(n),this._updateAriaId(n)):this._navigate(o,n):this._navigate(o,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n)),this._skipNavigate=!1},_isAdditionalViewDate(t){return this._additionalView?t>=this._additionalView._getFirstAvailableDate():!1},_getActiveView:function(t){return this._isAdditionalViewDate(t)?this._additionalView:this._view},_setViewContoured:function(t){if(this.option("skipFocusCheck")||Y0e(this._focusTarget())){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null);var i=this._isAdditionalViewDate(t)?this._additionalView:this._view;i.option("contouredDate",t)}},_getMinDate:function(){var t=this.option("_rangeMin");return t||(this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min))},_getMaxDate:function(){var t=this.option("_rangeMax");return t||(this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max))},_getViewsOffset:function(t,e){var i=this.option("zoomLevel");if(i===Pi.MONTH)return this._getMonthsOffset(t,e);var n;switch(i){case Pi.CENTURY:n=100;break;case Pi.DECADE:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(t.getFullYear()/n)},_getMonthsOffset:function(t,e){var i=e.getFullYear()-t.getFullYear(),n=e.getMonth()-t.getMonth();return 12*i+n},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var e=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var i;e=this._getDate((i=e)!==null&&i!==void 0?i:this.option("currentDate"));var n=e.getDate(),o=Q.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+o);var r=Q.getLastMonthDate(e).getDate();return e.setDate(n>r?r:n),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass(k0e),t.toggleClass(z0e,this.option("selectionMode")==="range"),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderEvents(),this._renderNavigator(),t.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=h("<div>").addClass(P0e),this._$viewsWrapper=h("<div>").addClass(W0e),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(_j+"-"+this.option("zoomLevel"));var{currentDate:t,viewsCount:e}=this.option();if(this.$element().toggleClass(G0e,e>1),this._view=this._renderSpecificView(t),W()){var i=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(i)?this._renderSpecificView(i):null;var n=this._getDateByOffset(e,t);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}e>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,t))),this._translateViews()},_renderSpecificView:function(t){var{zoomLevel:e}=this.option(),i=hj[e],n=h("<div>").appendTo(this._$viewsWrapper),o=this._viewConfig(t),r=this._createComponent(n,i,o);return r},_viewConfig:function(t){var e,i=this.option("disabledDates");return i=T(i)?this._injectComponent(i.bind(this)):i,E({},this._selectionStrategy.getViewOptions(),{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:(e=this.option("firstDayOfWeek"))!==null&&e!==void 0?e:ue.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:i,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){_.off(this._$viewsWrapper,Cj),this.option("selectionMode")==="range"&&_.on(this._$viewsWrapper,Cj,null,t=>{this._updateViewsOption("hoveredRange",[])})},_injectComponent:function(t){var e=this;return function(i){return v(i,{component:e}),t(i)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),i=Q.getViewMinBoundaryDate(e,this._getMinDate()),n=Q.getViewMaxBoundaryDate(e,this._getMaxDate());return Q.dateInRange(t,i,n)},_translateViews:function(){var{viewsCount:t}=this.option();mt(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,t),this._moveViewElement(this._additionalView,1)},_moveViewElement(t,e){t&&mt(t.$element(),{left:this._getViewPosition(e),top:0})},_getViewPosition:function(t){var e=this.option("rtlEnabled")?-1:1;return 100*t*e+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),i=Q.getViewDown(e),n=this._isMaxZoomLevel();if(i&&!n)this._navigateDown(t.event.currentTarget);else{var o=this._updateTimeComponent(t.value);this._selectionStrategy.selectValue(o,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),i=this._dateOption("value");return i&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds()),e.setMilliseconds(i.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=Q.getViewDown(e);if(i){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=h(t).data(K0e)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new oj(h("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig:function(){var{rtlEnabled:t}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:t}},_navigatorClickHandler:function(t){var{currentDate:e,viewsCount:i}=this.option(),n=t.direction;if(i>1){var o=this._isAdditionalViewDate(e),r=o&&n<0||!o&&n>0;r&&(n*=2)}var a=this._getDateByOffset(n,e);this._moveToClosestAvailableDate(a)},_navigateUp:function(){var t=this.option("zoomLevel"),e=Q.getViewUp(t);!e||this._isMinZoomLevel(t)||(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),i=this._getMaxDate();return Q.sameView(t,e,i)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!f(this._afterView)),this._navigator.toggleButton("prev",!f(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),qg,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){et.stop(this._$viewsWrapper,!0);var{viewsCount:e}=this.option();this._toggleGestureCoverCursor("grabbing"),t.event.maxLeftOffset=this._getRequiredView("next")?1/e:0,t.event.maxRightOffset=this._getRequiredView("prev")?1/e:0},_toggleGestureCoverCursor:function(t){h(".".concat(j0e)).css("cursor",t)},_getRequiredView:function(t){var e,i=this.option("rtlEnabled");return t==="next"?e=i?this._beforeView:this._afterView:t==="prev"&&(e=i?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;mt(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){this._toggleGestureCoverCursor("auto");var{currentDate:e,rtlEnabled:i}=this.option(),n=t.event.targetOffset,o=n?n/Math.abs(n):0,r=this._isAdditionalViewDate(e),a=r&&(i?o===-1:o===1);if(o===0){this._animateWrapper(0,Ay);return}var s=-o*this._getRtlCorrection()*(a?2:1),l=this._getDateByOffset(s);this._isDateInInvalidRange(l)&&(o>=0?l=new Date(this._getMinDate()):l=new Date(this._getMaxDate())),this.option("currentDate",l)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=H(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this.option("viewsCount")>1,i,n;t>.5&&this._beforeView?(i=this._beforeView,n=e&&this._view):t<-.5&&this._afterView?(i=e?this._additionalView:this._afterView,n=e?this._afterView:null):(i=this._view,n=e?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(i,n))},_getViewsCaption:function(t,e){var i=t.getNavigatorCaption(),{viewsCount:n}=this.option();if(n>1&&e){var o=e.getNavigatorCaption();i="".concat(i," - ").concat(o)}return i},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),i=this._getMaxDate(),n=Q.normalizeDate(t,e,i);return n===e||n===i}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent(h("<div>"),xt,{focusStateEnabled:this.option("focusStateEnabled"),text:w.format("dxCalendar-todayButtonText"),onClick:i=>{this._toTodayView(i)},type:"default",stylingMode:"text",integrationOptions:{}}).$element().addClass(V0e);this._$footer=h("<div>").addClass(L0e).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(H0e,t)},_renderSubmitElement:function(){this._$submitElement=h("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(Ct.serializeDate(e,$0e))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){et.stop(this._view.$element(),!0),this._popAnimationView(this._view,yj,xj,Ay),this.option("viewsCount")>1&&(et.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,yj,xj,Ay))},_popAnimationView:function(t,e,i,n){return et.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:i,opacity:i},duration:n})},_navigate:function(t,e){if(t!==0&&Math.abs(t)!==1&&this._isViewAvailable(e)){var i=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var n=this._getRtlCorrection(),o=t>0?1:t<0?-1:0,r=-n*o*this._viewWidth(),a=this._$viewsWrapper.position().left;a!==r&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(r,Ay).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return et.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:t=>new Date(t),_toTodayView:function(t){var e=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(e,t.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(e,t.event),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e),this._selectionStrategy.updateAriaSelected()},_rearrangeViews:function(t){var e;if(t!==0){var{viewsCount:i}=this.option(),n,o,r,a,s;if(t<0?(n=1,o="_beforeView",r="_afterView",a="_view",s=i===1?"_view":"_additionalView"):(n=-1,o="_afterView",r="_beforeView",a=i===1?"_view":"_additionalView",s="_view"),!!this[o]){var l=this[o].option("date");(e=this[r])===null||e===void 0||e.$element().remove(),this[r]=this._renderSpecificView(this._getDateByOffset(n*i,l)),this[s].$element().remove(),i===1?this[s]=this[o]:(this[s]=this[a],this[a]=this[o]);var d=this._getDateByOffset(-n,l);this[o]=this._isViewAvailable(d)?this._renderSpecificView(d):null}}},_resetLocation:function(){mt(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._setViewContoured(this.option("currentDate"))},_focusOutHandler:function(){var t;this.callBase.apply(this,arguments),this._view.option("contouredDate",null),(t=this._additionalView)===null||t===void 0||t.option("contouredDate",null)},_updateViewsOption:function(t,e){var i,n,o;this._view.option(t,e),(i=this._additionalView)===null||i===void 0||i.option(t,e),(n=this._beforeView)===null||n===void 0||n.option(t,e),(o=this._afterView)===null||o===void 0||o.option(t,e)},_setViewsMinOption:function(t){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(t)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption:function(t){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(t)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions:function(){this._resetActiveState(),this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateAriaSelected:function(t,e){e.forEach(i=>{this.setAria("selected",void 0,this._view._getCellByDate(i))}),t.forEach(i=>{this.setAria("selected",!0,this._view._getCellByDate(i))}),this.option("viewsCount")>1&&(e.forEach(i=>{this.setAria("selected",void 0,this._additionalView._getCellByDate(i))}),t.forEach(i=>{this.setAria("selected",!0,this._additionalView._getCellByDate(i))}))},_updateAriaId:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("currentDate");var i="dx-"+new Ee,n=this._getActiveView(t),o=n._getCellByDate(t);this.setAria("id",i,o),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var{value:e,previousValue:i}=t;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(_j+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":this.option("selectionMode")==="single"&&this._selectionStrategy.processValueChanged([e],[i]),this._setSubmitValue(e),this.callBase(t);break;case"values":this.option("selectionMode")!=="single"&&this._selectionStrategy.processValueChanged(e,i),this._raiseValueChangeAction(e,i),this._saveValueChangeEvent(void 0);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});K("dxCalendar",Sj);var bj=Sj;var Dj=bj;function wj(t,e){var i,n,o=(i=(n=t.getRootNode)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:document;return o.querySelector(e)}var Ej="dx-invalid-message-auto",Oj="dx-validation-target",Wc=class extends yc{getProps(){var e=super.getProps();return e.onFocusIn=()=>{var i=this.option("validationMessageMode")==="auto";if(i){var n=h(wj(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n?.removeClass(Ej),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n?.addClass(Ej)},150)}},e.saveValueChangeEvent=i=>{this._valueChangeEventInstance=i},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=de(),Ve(this.$element()[0],Oj,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(qe.initValidationOptions(e))}_getDefaultOptions(){return v(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,i){var n=v({},e.option()),o=()=>this._silent(i,n);o(),e.on("optionChanged",o)}_raiseValidation(e,i){var n=!f(e)&&!f(i);e!==i&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,i){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:i,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){var{name:i,previousValue:n,value:o}=e;switch(i&&this._getActionConfigs()[i]!==void 0&&this._addAction(i),i){case"value":this._raiseValidation(o,n),this._raiseValueChangeAction(o,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(qe.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}reset(){var{value:e}=this._getDefaultOptions();this.option({value:e})}_dispose(){super._dispose(),Ve(this.element(),Oj,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var Q0e=Ui.isEditor,Ij=t=>Q0e(t)||t instanceof Wc;Wc.isEditor=Ij;Ui.isEditor=Ij;var Ry=class extends Wc{_useTemplates(){return!1}_isFocused(){var e=this.$element()[0];return e.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};var J0e=["dataSource","selectedRowKeys"],X0e={integrationOptions:!0};function Qg(t,e,i){return{path:t,value:e,previousValue:i}}function Fj(t,e,i,n,o,r){if(!X0e[n]){var a=gi(e),s=gi(i);if(e!==i)if(a!==s)t.push(Qg(n,i,e));else if(a==="object")if(!q(i))t.push(Qg(n,i,e));else{var l=Tj(e,i,o,r);t.push(...l.map(c=>E({},c,{path:"".concat(n,".").concat(c.path)})))}else if(a==="array"){var d=r.some(c=>o.includes(c));if(d&&e!==i)t.push(Qg(n,i,e));else if(e.length!==i.length)t.push(Qg(n,i,e));else{var u=Tj(e,i,o,r);[].push.apply(t,u.map(c=>E({},c,{path:"".concat(n).concat(c.path)})))}}else t.push(Qg(n,i,e))}}var Mj=t=>(e,i,n,o)=>{var r=[],a=Array.isArray(e)?s=>{Fj(r,e[s],i[s],"[".concat(s,"]"),"".concat(n,".").concat(s),o)}:s=>{Fj(r,e[s],i[s],s,"".concat(n,".").concat(s),o)};return t(e).forEach(a),Object.keys(i).filter(s=>!Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==i[s]).forEach(s=>{r.push({path:s,value:i[s],previousValue:e[s]})}),r},Tj=Mj(t=>Object.keys(t)),Z0e={key:!0,ref:!0,children:!0,style:!0},eye=Mj(t=>Object.keys(t).filter(e=>!Z0e[e]));function Aj(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J0e;return eye(t,e,"",i)}var tye=["valueChange"],iye=["componentProps","componentType","templateNames"],Rj=t=>Object.keys(t).reduce((e,i)=>(t[i]!==void 0&&(e[i]=t[i]),e),{}),nye=t=>{var{props:{componentProps:{className:e}},restAttributes:i,widgetRef:n}=t;return Rj(Xe(1,"div",e,null,1,E({},i),null,n))},oye={},Gc=(()=>{class t extends di{constructor(i){super(i),this.state={},this.widgetRef=Dt(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return this.context[Zt.id]?this.context[Zt.id]:Zt.defaultValue}createEffects(){return[new ke(this.setupWidget,[]),new ke(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var i;(i=this._effects[1])===null||i===void 0||i.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var i=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=i,()=>{i.dispose(),this.instance=null}}updateWidget(){var i=this.getInstance();if(i){var n=Aj(this.prevProps||{},this.properties);n.length&&(i.beginUpdate(),n.forEach(o=>{var{path:r,value:a}=o;i.option(r,a)}),i.endUpdate()),this.prevProps=this.properties}}get properties(){var i,n=Rj(this.props.componentProps),{valueChange:o}=n,r=xe(n,tye),a=E({rtlEnabled:!!((i=this.config)!==null&&i!==void 0&&i.rtlEnabled),isRenovated:!0},r);o&&(a.onValueChanged=l=>{var{value:d}=l;return o(d)});var s=this.props.templateNames;return s.forEach(l=>{Hz(l,a,this)&&(a[l]=(d,u,c)=>{Vz(this.props.componentProps[l],{item:d,index:u,container:c},this)})}),a}get restAttributes(){var i=this.props,n=xe(i,iye);return n}getInstance(){return this.instance}render(){var i=this.props;return nye({props:E({},i),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}return t.defaultProps=oye,t})();var rye=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],aye=t=>{var{componentProps:e,restAttributes:i}=t;return Vt(Oe(2,Gc,E({componentType:U0,componentProps:e,templateNames:[]},i)))},sye=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(el),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0}))),Bj=(()=>{class t extends Ut{constructor(i){super(i),this.state={}}get componentProps(){return this.props}get restAttributes(){var i=this.props,n=xe(i,rye);return n}render(){var i=this.props;return aye({props:E({},i),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return t.defaultProps=sye,t})();var lye=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],dye=t=>{var{classes:e,isValid:i,readOnly:n}=t,o={"dx-state-readonly":!!n,"dx-invalid":!i,["".concat(e)]:!!e};return ui(o)},uye=t=>{var{aria:e,cssClasses:i,isValidationMessageVisible:n,onFocusIn:o,props:{accessKey:r,activeStateEnabled:a,children:s,className:l,disabled:d,focusStateEnabled:u,height:c,hint:p,hoverStateEnabled:g,onClick:m,onKeyDown:y,rtlEnabled:C,tabIndex:b,validationMessageMode:O,validationMessagePosition:k,visible:J,width:U},restAttributes:z,rootElementRef:ce,validationErrors:fe,validationMessageGuid:he,validationMessageTarget:it,widgetRef:kt}=t;return Vt(Oe(2,bc,E({rootElementRef:ce,aria:e,classes:i,activeStateEnabled:a,focusStateEnabled:u,hoverStateEnabled:g,accessKey:r,className:l,rtlEnabled:C,hint:p,disabled:d,height:c,width:U,onFocusIn:o,onClick:m,onKeyDown:y,tabIndex:b,visible:J},z,{children:rn([s,n&&Oe(2,Bj,{validationErrors:fe,mode:O,positionSide:k,rtlEnabled:C,target:it,boundary:it,visualContainer:it,contentId:he})],0)}),null,kt))},Jt=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(el),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,inputAttr:Object.freeze({}),defaultValue:null,valueChange:()=>{}}))),cye={get readOnly(){return Jt.readOnly},get name(){return Jt.name},get validationError(){return Jt.validationError},get validationErrors(){return Jt.validationErrors},get validationMessageMode(){return Jt.validationMessageMode},get validationMessagePosition(){return Jt.validationMessagePosition},get validationStatus(){return Jt.validationStatus},get isValid(){return Jt.isValid},get inputAttr(){return Jt.inputAttr},get defaultValue(){return Jt.defaultValue},get valueChange(){return Jt.valueChange},get className(){return Jt.className},get activeStateEnabled(){return Jt.activeStateEnabled},get disabled(){return Jt.disabled},get focusStateEnabled(){return Jt.focusStateEnabled},get hoverStateEnabled(){return Jt.hoverStateEnabled},get tabIndex(){return Jt.tabIndex},get visible(){return Jt.visible},get aria(){return Sc.aria},get classes(){return Sc.classes}},Jg=class extends Mo{constructor(e){super(e),this.widgetRef=Dt(),this.rootElementRef=Dt(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new Ee),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new ke(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),zr()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){var{onFocusIn:i}=this.props;i?.(e)}get cssClasses(){return"".concat(dye(E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var e,{isValid:i,validationStatus:n}=this.props,o=(e=this.validationErrors)!==null&&e!==void 0?e:[],r=i&&n!=="invalid";return!r&&o.length>0}get aria(){var{isValid:e,readOnly:i}=this.props,n={readonly:i?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),E({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:e,validationErrors:i}=this.props,n=i&&[...i];return!n&&e&&(n=[E({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){var e=E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=xe(e,lye);return i}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,i,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var e=this.props;return uye({props:E({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}};Jg.defaultProps=cye;function Xg(t){var e,i=G();return t?(e=i.getComputedStyle)===null||e===void 0?void 0:e.call(i,t):null}var hye=[[22,16],[18,16]],pye=[[[12,8],[20,18]],[[16,10],[16,14]]];function kj(){var t=vi();return{isMaterialTheme:He(t),isCompactTheme:DG(t)}}function gye(){var{isCompactTheme:t,isMaterialTheme:e}=kj();return hye[+e][+t]}function fye(t){var{isCompactTheme:e,isMaterialTheme:i}=kj();return pye[+t][+i][+e]}function Pj(t,e){var i=fye(e),n=gye(),o=i/n;return Math.ceil(o*t)}var mye=["isChecked","size"],vye=t=>{var{cssStyles:e,elementRef:i}=t;return Xe(1,"span","dx-checkbox-icon",null,1,{style:_c(e)},null,i)},_ye={isChecked:!1},Nj=(()=>{class t extends di{constructor(i){super(i),this.state={},this.elementRef=Dt(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new ke(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var i;(i=this._effects[0])===null||i===void 0||i.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:i,size:n}=this.props;if(W()&&n){var o=this.getIconSize(n),r=Pj(o,i);this.setIconFontSize(r)}}setIconFontSize(i){var n=this.elementRef.current;n.style.fontSize="".concat(i,"px")}getIconSize(i){return ve(i)?i:i.endsWith("px")?parseInt(i,10):this.getComputedIconSize()}getComputedIconSize(){var i=this.elementRef.current,n=Xg(i),o=parseInt(n?.width,10);return o}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:i}=this.props,n=Pr("width",i),o=Pr("height",i);return{height:o,width:n}})()}get restAttributes(){var i=this.props,n=xe(i,mye);return n}componentWillUpdate(i,n,o){super.componentWillUpdate(),this.props.size!==i.size&&(this.__getterCache.cssStyles=void 0)}render(){var i=this.props;return vye({props:E({},i),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}return t.defaultProps=_ye,t})();var yye=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],xye=t=>{var{text:e,value:i}=t,n=i,o=n===null,r={"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":o};return ui(r)},Cye=t=>{var{aria:e,cssClasses:i,editorRef:n,keyDown:o,onWidgetClick:r,props:{accessKey:a,activeStateEnabled:s,className:l,disabled:d,focusStateEnabled:u,height:c,hint:p,hoverStateEnabled:g,iconSize:m,isValid:y,name:C,onFocusIn:b,readOnly:O,rtlEnabled:k,tabIndex:J,text:U,validationError:z,validationErrors:ce,validationMessageMode:fe,validationMessagePosition:he,validationStatus:it,value:kt,visible:Mi,width:hi},restAttributes:Ni}=t;return Vt(Oe(2,Jg,E({aria:e,classes:i,onClick:r,onKeyDown:o,accessKey:a,activeStateEnabled:s,focusStateEnabled:u,hoverStateEnabled:g,className:l,disabled:d,readOnly:O,hint:p,height:c,width:hi,rtlEnabled:k,tabIndex:J,visible:Mi,validationError:z,validationErrors:ce,validationMessageMode:fe,validationMessagePosition:he,validationStatus:it,isValid:y,onFocusIn:b},Ni,{children:rn([Vt(Xe(64,"input",null,null,1,E({type:"hidden",value:"".concat(kt)},C&&{name:C}))),Xe(1,"div","dx-checkbox-container",[Oe(2,Nj,{size:m,isChecked:kt===!0}),U&&Xe(1,"span","dx-checkbox-text",U,0)],0)],4)}),null,n))},Ci=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(Jt),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return R.real().deviceType==="desktop"&&!R.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),Sye={get text(){return Ci.text},get enableThreeStateBehavior(){return Ci.enableThreeStateBehavior},get activeStateEnabled(){return Ci.activeStateEnabled},get hoverStateEnabled(){return Ci.hoverStateEnabled},get focusStateEnabled(){return Ci.focusStateEnabled},get defaultValue(){return Ci.defaultValue},get valueChange(){return Ci.valueChange},get readOnly(){return Ci.readOnly},get name(){return Ci.name},get validationError(){return Ci.validationError},get validationErrors(){return Ci.validationErrors},get validationMessageMode(){return Ci.validationMessageMode},get validationMessagePosition(){return Ci.validationMessagePosition},get validationStatus(){return Ci.validationStatus},get isValid(){return Ci.isValid},get inputAttr(){return Ci.inputAttr},get className(){return Ci.className},get disabled(){return Ci.disabled},get tabIndex(){return Ci.tabIndex},get visible(){return Ci.visible},get aria(){return Sc.aria}},Dd=class extends Mo{constructor(e){super(e),this.editorRef=Dt(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[zr()]}onWidgetClick(e){var{enableThreeStateBehavior:i,readOnly:n,saveValueChangeEvent:o}=this.props;if(!n)if(o?.(e),i){var r;this.setState(s=>(r=(this.props.value!==void 0?this.props.value:s.value)===null||((this.props.value!==void 0?this.props.value:s.value)?!1:null),{value:r})),this.props.valueChange(r)}else{var a;this.setState(s=>{var l;return a=!((l=this.props.value!==void 0?this.props.value:s.value)!==null&&l!==void 0&&l),{value:a}}),this.props.valueChange(a)}}keyDown(e){var{onKeyDown:i}=this.props,{keyName:n,originalEvent:o,which:r}=e,a=i?.(e);if(a!=null&&a.cancel)return a;(n==="space"||r==="space")&&(o.preventDefault(),this.onWidgetClick(o))}get cssClasses(){return xye(E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,i=(this.props.value!==void 0?this.props.value:this.state.value)===null,n={role:"checkbox",checked:i?"mixed":"".concat(e)};return E({},n,this.props.aria)}get restAttributes(){var e=E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=xe(e,yye);return i}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var e=this.props;return Cye({props:E({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function bye(t){var e=["value"];return Object.keys(t).reduce((i,n)=>{var o=t[n],r=e.some(a=>a===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return i[r]=o,i},{})}Dd.defaultProps=Sye;var Lj=[];function Vj(t){Lj.push(t),Dd.defaultProps=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(Dd.defaultProps),Object.getOwnPropertyDescriptors(bye(er(Lj)))))}var zc=class extends Ry{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return Dd}};K("dxCheckBox",zc);zc.defaultOptions=Vj;var sl=zc;var Uc=function(t){for(var e=0,i=0,n=0;n<t.length;++n)if(t[n]==="'"&&e++,t[n]==="."&&(++i,e%2===0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},Zg=function(t,e,i){for(var n=-1;i--&&n++<t.length;)n=t.indexOf(e,n);return n},ef=function(t,e){return e===-1?[t]:[t.slice(0,e),t.slice(e+1)]},Hj=function(t,e){return t&&cg(t/100,e)};var tf=function(t,e){if(typeof e=="string"){var i=e.split(";"),n=$e.getSign(t,e);i[1]=i[1]||"-"+i[0],e=i[n<0?1:0],e=(a=e,a.replace(/'([^']*)'/g,s=>s.split("").map(()=>" ").join("").substr(2)));var o=/^[^#0.,]*/.exec(e)[0].length,r=/[^#0.,]*$/.exec(e)[0].length;return{start:o,end:t.length-r}}else return{start:0,end:t.length};var a},Wj=function(t,e){var i=$e.getDecimalSeparator(),n=new RegExp("[^0-9"+ho(i)+"]","g"),o=e.slice(0,t);return o.replace(n,"").length},Gj=function(t){return t.split("").reverse().join("")},zj=function(t,e){if(!t)return-1;for(var i=/[0-9]/g,n=1,o=null,r=i.exec(e);r;){if(o=r.index,n>=t)return o;n++,r=i.exec(e)}return o===null?e.length:o},Dye=function(t){return t.replace(/[^0-9e]+$/,"")},ll=function(t,e){return t.start===void 0&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},Uj=function(t,e,i,n){i=ll(i,0);var o=$e.getDecimalSeparator(),r=wye(t),a=Uc(n).occurrence,s=r?0:Zg(t,o,a),l=Zg(e,o,a),d=ef(t,s),u=ef(e,l),c=s!==-1&&i.start>s;if(c){var p=i.start-s-1,g=Wj(p,d[1]),m=u[1]?l+1+zj(g,u[1])+1:e.length;return ts(m,e,n)}else{var y=Dye(u[0]),C=d[0].length-i.start,b=Wj(C,Gj(d[0])),O=zj(b,Gj(y)),k=y.length-(O+1);return ts(k,e,n)}};function wye(t){return t.length===1&&!!t.match(/^[,.][0-9]*$/g)}var jj=function(t,e,i){t=ll(t,0);var n=ts(t,e,i);return t.start>=n.start&&t.end<=n.end};function ts(t,e,i){t=ll(t,0);var n=tf(e,i),o={start:zt(t.start,n.start,n.end),end:zt(t.end,n.start,n.end)};return o}var $j=function(t,e,i){var n=tf(t,i),o=tf(e,i);return o.start-n.start};var Eye="dx-numberbox-spin",Oye="dx-numberbox-spin-button",Iye=100,Yj="dxNumberBox",Kj=F(ae.up,Yj),qj=F(ae.cancel,Yj),Fye=ct.inherit({_getDefaultOptions:function(){return v(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t=Eye+"-"+this.option("direction");this.$element().addClass(Oye).addClass(t),this._spinIcon=h("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=F(ae.down,this.NAME),e=this.$element();_.off(e,t),_.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),_.on(this.$element(),mn.name,function(){this._feedBackDeferred=new S,hW(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,Iye,{event:t})}.bind(this));var e=I.getDocument();_.on(e,Kj,this._clearTimer.bind(this)),_.on(e,qj,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){_.off(this.$element(),mn.name);var t=I.getDocument();_.off(t,Kj),_.off(t,qj),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),wd=Fye;var Tye="dx-numberbox-spin",Mye="dx-numberbox-spin-container",Aye="dx-numberbox-spin-touch-friendly",By=class extends jr{_attachEvents(e,i){var{editor:n}=this,o=F(ae.down,n.NAME),r=i.children(),a=n._createAction(s=>n._spinButtonsPointerDownHandler(s));_.off(i,o),_.on(i,o,s=>a({event:s})),wd.getInstance(r.eq(0)).option("onChange",s=>n._spinUpChangeHandler(s)),wd.getInstance(r.eq(1)).option("onChange",s=>n._spinDownChangeHandler(s))}_create(){var{editor:e}=this,i=h("<div>").addClass(Mye),n=h("<div>").appendTo(i),o=h("<div>").appendTo(i),r=this._getOptions();return this._addToContainer(i),e._createComponent(n,wd,v({direction:"up"},r)),e._createComponent(o,wd,v({direction:"down"},r)),this._legacyRender(e.$element(),this._isTouchFriendly(),r.visible),{instance:i,$element:i}}_getOptions(){var{editor:e}=this,i=this._isVisible(),n=e.option("disabled");return{visible:i,disabled:n}}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){var{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,i,n){e.toggleClass(Aye,i),e.toggleClass(Tye,n)}update(){var e=super.update();if(e){var{editor:i,instance:n}=this,o=i.$element(),r=this._isVisible(),a=this._isTouchFriendly(),s=n.children(),l=wd.getInstance(s.eq(0)),d=wd.getInstance(s.eq(1)),u=this._getOptions();l.option(u),d.option(u),this._legacyRender(o,a,r)}}};var Rye=Math,Bye="dx-numberbox",kye=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],Pye="NumberBoxForceValueChange",Nye=Z0.inherit({_supportedKeys:function(){return v(this.callBase(),{upArrow:function(t){ut(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){ut(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return v(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:w.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:By}])},_isSupportInputMode:function(){var t=parseFloat(be.version);return be.chrome&&t>=66||be.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return R.real().generic&&!R.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return R.real().deviceType!=="desktop"&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(Bye),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=h("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val(WV(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=zp(t),i=/[\d.,eE\-+]/.test(e);if(!i){var n=Ae(t);return ut(t)||n&&kye.includes(n)?void 0:(t.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");(!t.length||Number(t)!==e)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=f(e)?null:w.format("dxNumberBox-noDataText");return this.setAria({valuenow:Re(e,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),new S().resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),i=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:Re(this.option("min"),""),valuemax:Re(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();!this.option("useLargeSpinButtons")&&I.getActiveElement()!==t[0]&&_.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var i=parseFloat(this.option("step"));if(i!==0){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*t);var o=this.option("min"),r=this.option("max");f(o)&&(n=Math.max(o,n)),f(r)&&(n=Math.min(r,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var i=/[,.](.*)/,n=i.test(t),o=i.test(e);if(n||o){var r=n?i.exec(t)[0].length:0,a=o?i.exec(e)[0].length:0,s=Rye.max(r,a);return t=this._round(t+e,s),t}return t+e},_round:function(t,e){e=e||0;var i=Math.pow(10,e);return t*=i,t=Math.round(t)/i,t},_renderValueChangeEvent:function(){this.callBase();var t=F("focusout",Pye);_.off(this.element(),t),_.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),i=this._normalizeText(),n=this._parseValue(i),o=i!=="."&&i!=="-";if(this._isValueValid()&&!this._validateValue(n)){e.val(this._applyDisplayValueFormatter(n));return}o&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})},_applyValueBoundaries:function(t,e){var i=this._isValueIncomplete(t),n=this._isValueInRange(t);!i&&!n&&e!==null&&Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t=this.option("mode")==="number",e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return Ln(t,this.option("min"),this.option("max"))},_isNumber:function(t){return this._parseValue(t)!==null},_validateValue:function(t){var e=this._normalizeText(),i=this._isValueValid(),n=!0,o=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&i?n=!0:!o&&!i&&(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:zt(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),Qj=Nye;var VT="dxNumberFormatter",ky=1,HT=-1,Jj="-",nf="minus",Lye="input",Vye=110,Xj=0,Hye=Qj.inherit({_getDefaultOptions:function(){return v(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return t==="del"},_supportedKeys:function(){return this._useMaskBehavior()?v(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,HT),rightArrow:this._arrowHandler.bind(this,ky),home:this._moveCaretToBoundaryEventHandler.bind(this,ky),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,HT)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=$e.getDecimalSeparator(),i=Uc(this.option("format")).occurrence;return Zg(t,e,i)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(HT,t)}}.bind(this),Xj)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(t){var e=this._getFormatPattern(),i=this.option("value"),n=this._format(i,e)||"";return n!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&_.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),o=ll(this._caret(),t);jj(o,i,n)||(o=t===ky?o.end:o.start,e.preventDefault(),this._caret(ts(o,i,n)))}},_moveCaretToBoundary:function(t){var e=tf(this._getInputVal(),this._getFormatPattern()),i=ll(t===ky?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=$e.getDecimalSeparator(),n=t.charAt(e.end)===i,o=(this._lastKey===i||this._lastKey==="."||this._lastKey===",")&&n;return o},_getInputVal:function(){return $e.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=$e.convertDigits(zp(t),!0),this._lastKeyName=Ae(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),n;this._lastKeyName===nf?n="":n=t.which===Vye?$e.getDecimalSeparator():this._lastKey;var o=this._tryParse(e,i,n);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),o===void 0?this._lastKeyName!==nf&&t.originalEvent.preventDefault():this._parsedValue=o,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),n=e.start,o=e.end;this._lastKey=zp(t),this._lastKeyName=Ae(t);var r=this._isDeleteKey(this._lastKeyName),a=!r;if(n===o){var s=n,l=a&&s>0||r&&s<i.length;if(l)r&&o++,a&&n--;else{t.preventDefault();return}}var d=i.slice(n,o);if(this._isStub(d)){if(this._moveCaret(r?1:-1),this._parsedValue<0||1/this._parsedValue===-1/0){this._revertSign(t),this._setTextByParsedValue();var u=this.option("valueChangeEvent").split(" ").includes("input");u&&_.trigger(this._input(),"input")}t.preventDefault();return}var c=$e.getDecimalSeparator();if(d===c){var p=i.indexOf(c);this._isNonStubAfter(p+1)&&(this._moveCaret(r?1:-1),t.preventDefault());return}if(o-n<i.length){var g=this._replaceSelectedText(i,{start:n,end:o},""),m=g.search(/[0-9]/)<0;if(m&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var y=this._tryParse(i,{start:n,end:o},"");y===void 0?t.preventDefault():this._parsedValue=y},_isPercentFormat:function(){var t=this._getFormatPattern(),e=t.replace(/'[^']+'/g,"");return e.indexOf("%")!==-1},_parse:function(t,e){var i=this.option("format"),n=T(i.parser),o=n?i.parser:$e.parse,r=0;if(!n){var a=Uc(e).index,s=this._getTextSeparatorIndex(t),l=a!==-1?a:e.length,d=s!==-1?s:t.length;d>l&&e.indexOf("#")===-1&&(r=d-l)}return t=t.substr(r),o(t,e)},_format:function(t,e){var i=this.option("format"),n=i?.formatter||i,o=T(n)?n:$e.format,r=t===null?"":o(t,e);return r},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this.option("format"),e=T(t?.parser),i=N(t)&&(t.indexOf("0")>=0||t.indexOf("#")>=0),n=t==="exponential"||t?.type==="exponential",o=e||i||n;this._currentFormat=o?t:KG(r=>{var a=this._format(r,t);return $e.convertDigits(a,!0)})},_getFormatForSign:function(t){var e=this._getFormatPattern();if(N(e)){var i=e.split(";"),n=$e.getSign(t,e);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}else{var o=$e.getSign(t);return o<0?"-":""}},_removeStubs:function(t,e){var i=this._getFormatForSign(t),n=$e.getThousandsSeparator(),o=this._getStubs(i),r=t;if(o.length){var a=o[0],s=new RegExp("("+ho(o[1]||"")+")$","g"),l=new RegExp("[-"+ho(e?"":n)+"]","g");r=r.replace(a,"").replace(s,"").replace(l,"")}return r},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map(function(n){return n.replace(/'/g,"")})},_truncateToPrecision:function(t,e){if(f(t)){var i=t.toString(),n=i.indexOf(".");if(i&&n>-1){var o=parseFloat(i.substr(0,n+e+1));return isNaN(o)?t:o}}return t},_tryParse:function(t,e,i){var n=e.start!==e.end,o=n&&e.start===0&&e.end===t.length,r=$e.getDecimalSeparator();if(o&&i===r)return 0;var a=this._replaceSelectedText(t,e,i),s=this._getFormatPattern(),l=this._getParsedValue(a,s),d=!s.parser&&this._getPrecisionLimits(a).max,u=l!==this._parsedValue,c=i===r&&d===0,p=!n&&!u&&i!==Jj&&this._isStub(i);if(!(c||p)&&(this._removeStubs(a)===""&&(l=Math.abs(0*this._parsedValue)),!isNaN(l))){var g=l===null?this._parsedValue:l;return l=d?this._truncateToPrecision(g,d):l,!s.parser&&this._isPercentFormat()?Hj(l,d):l}},_getParsedValue:function(t,e){var i=$e.getSign(t,e?.formatter||e),n=this._removeStubs(t,!0),o=this._parse(n,e),r=o<0?-1:1,a=ve(o)&&i!==r?i*o:o;return a},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=$e.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),o=n>=0&&n<e.start,r=this._removeStubs(t,!0).split(i);if(!o||r.length!==2)return!1;var a=r[1].length,s=this._getFormatPattern(),l=!!s.parser,d=!l&&this._getPrecisionLimits(this._getFormatPattern(),t),u=l?!0:Ln(a,d.min,d.max),c=r[1].charAt(a-1)==="0";return u&&(c||!a)},_isValueInRange:function(t){var e=Re(this.option("min"),-1/0),i=Re(this.option("max"),1/0);return Ln(t,e,i)},_setInputText:function(t){var e=$e.convertDigits(t,!0),i=Uj(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t=this.option("mode")==="number",e=R.real().deviceType==="desktop";this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return N(t)&&t.length===1},_moveCaret:function(t){if(t){var e=ll(this._caret(),t),i=ts(e,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(t){var e=Ae(t),i=ut(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===nf,o=this._useMaskBehavior();return o&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){_.off(this._input(),"."+VT)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return f(e)?e==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();_.on(t,F(Lye,VT),function(e){this._formatValue(e),this._isValuePasted=!1}.bind(this)),_.on(t,F("dxclick",VT),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(ts(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),Xj))}.bind(this)),_.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var i=ho($e.getDecimalSeparator()),n="^[^0-9"+i+"]+$",o=new RegExp(n,"g");return o.test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),i=Uc(e).index,n=(ef(e,i)[1]||"").replace(/[^#0]/g,""),o=n.replace(/^(0*)#*/,"$1").length,r=n.length;return{min:o,max:r}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end)if(Ae(t)===nf){this._applyRevertedSign(t,e,!0);return}else this._caret(ts(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,i){var n=-1*Re(this._parsedValue,null);if((this._isValueInRange(n)||n===0)&&(this._parsedValue=n,i)){var o=this._getFormatPattern(),r=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var a=this._getInputVal(),s=$j(r,a,o);e=ll(e,s);var l=ts(e,a,o);this._caret(l)}},_removeMinusFromText:function(t,e){var i=this._lastKeyName===nf&&t.charAt(e.start-1)===Jj;return i?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(e,i),o=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n)){this._formattedValue=e,o&&this._setTextByParsedValue();return}var r=$e.convertDigits(this._formattedValue,!0)!==e;if(r){var a=this._tryParse(e,i,"");f(a)&&(this._parsedValue=a)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal()),e=t?this._parseValue():null;if(!ve(e)){this._parsedValue=e;return}this._parsedValue=zt(e,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}}),WT=Hye;K("dxNumberBox",WT);var Zj=WT;var of=Zj;var e$=G(),Wye="keydown",Xr="dxDraggable",Gye=F(ar,Xr),zye=F(Xn,Xr),Uye=F(sr,Xr),jye=F(Fg,Xr),$ye=F(Tg,Xr),Kye=F(ae.down,Xr),qye=F(Wye,Xr),t$="clone",GT,jc,Yye="content",zT=t=>({x:t.pageX-h(e$).scrollLeft(),y:t.pageY-h(e$).scrollTop()}),Qye="dx-gesture-cover",Jye="dx-overlay-wrapper",Xye="dx-overlay-content",Py=class{constructor(e,i){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=i,e==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,i){var n=!1;e.some(o=>{var r=h(o),a=r.hasClass(Jye),s=r.hasClass(Xye);return a||s?!0:(n=this._trySetScrollable(o,i),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return(e.css(this._overFlowAttr)==="auto"||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?H(e):Y(e))}_trySetScrollable(e,i){var n=h(e),o,r=this._component.option("scrollSensitivity"),a=this.isScrollable(n);return a&&(o=this._calculateDistanceToBorders(n,i),r>o[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(o[this._limitProps.start]),this._$scrollableAtPointer=n):r>o[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(o[this._limitProps.end]),this._$scrollableAtPointer=n):(a=!1,this._preventScroll=!1)),a}_calculateDistanceToBorders(e,i){var n=e.get(0),o;return n?(o=Ze(n),{left:i.x-o.left,top:i.y-o.top,right:o.right-i.x,bottom:o.bottom-i.y}):{}}_calculateScrollSpeed(e){var i=this._component,n=i.option("scrollSensitivity"),o=i.option("scrollSpeed");return Math.ceil(Math.pow((n-e)/n,2)*o)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var e=this._$scrollableAtPointer.closest(".dx-scrollable"),i=e.data("dxScrollable")||e.data("dxScrollView");if(i){var n=i.scrollOffset()[this._limitProps.start]+this._scrollSpeed;i.scrollTo({[this._limitProps.start]:n})}}else{var o=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](o)}var r=this._component._dragMoveArgs;r&&this._component._dragMoveHandler(r)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,i){if(!e)return!1;var n=Ze(e.get(0)),o=n[this._limitProps.start],r=n[this._sizeAttr],a=zT(i),s=this._sizeAttr==="width"?a.x:a.y;return s<o||s>o+r}},Zye=ly.inherit({ctor(t){this.callBase(),this._strategy=t},_step(){var t=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;t&&t.scrollByStep(),e&&e.scrollByStep()}}),i$=tn.inherit({reset:D,dragMove:D,dragEnter:D,dragLeave:D,dragEnd(t){var e=this._getSourceDraggable();return e._fireRemoveEvent(t),S().resolve()},_fireRemoveEvent:D,_getDefaultOptions(){return v(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),v(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new Zye(this),this._horizontalScrollHelper=new Py("horizontal",this),this._verticalScrollHelper=new Py("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset(t){return L(t)&&(t={h:t.x,v:t.y}),t=kr(t).map(e=>parseFloat(e)),{left:t[0],top:t.length===1?t[0]:t[1]}},_getNormalizedCursorOffset(t,e){return T(t)&&(t=t.call(this,e)),this._normalizeCursorOffset(t)},_calculateElementOffset(t){var e,i,{event:n}=t,o=h(t.itemElement),r=h(t.dragElement),a=this._dragElementIsCloned(),s=this.option("cursorOffset"),l={left:0,top:0},d=this._initialLocate=fi(r);return(a||t.initialOffset||s)&&(e=t.initialOffset||o.offset(),s&&(l=this._getNormalizedCursorOffset(s,t),isFinite(l.left)&&(e.left=n.pageX),isFinite(l.top)&&(e.top=n.pageY)),i=r.offset(),e.top-=i.top+(l.top||0)-d.top,e.left-=i.left+(l.left||0)-d.left),e},_initPosition(t){var e=h(t.dragElement),i=this._calculateElementOffset(t);i&&this._move(i,e),this._startPosition=fi(e)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(t){var e=this.NAME;return Ap(e)+(t?"-".concat(t):"")},_getItemsSelector(){return this.option("filter")||""},_$content(){var t=this.$element(),e=t.children(".dx-template-wrapper");return e.length?e:t},_attachEventHandlers(){if(!this.option("disabled")){var t=this._$content(),e=this._getItemsSelector(),i=this.option("allowMoveByClick"),n={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(o,r)=>{var a=this.option("group"),s=this._getSourceDraggable().option("group"),l=this._getScrollable(o);return this._verticalScrollHelper.isOutsideScrollable(l,r)||this._horizontalScrollHelper.isOutsideScrollable(l,r)?!1:s&&s===a}};i&&(t=this._getArea(),_.on(t,Kye,n,this._pointerDownHandler.bind(this))),e[0]===">"&&(e=e.slice(1)),_.on(t,Gye,e,n,this._dragStartHandler.bind(this)),_.on(t,zye,n,this._dragMoveHandler.bind(this)),_.on(t,Uye,n,this._dragEndHandler.bind(this)),_.on(t,jye,n,this._dragEnterHandler.bind(this)),_.on(t,$ye,n,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&_.on(t,qye,this._keydownHandler.bind(this))}},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(t$))},_getDragTemplateArgs(t,e){return{container:V(e),model:{itemData:this.option("itemData"),itemElement:V(t)}}},_createDragElement(t){var e=t,i=this.option("clone"),n=this._getContainer(),o=this.option("dragTemplate");return o?(o=this._getTemplate(o),e=h("<div>").appendTo(n),o.render(this._getDragTemplateArgs(t,e))):i&&(e=h("<div>").appendTo(n),t.clone().css({width:t.css("width"),height:t.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix(t$),e.get(0)!==t.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){_.off(this._$content(),".".concat(Xr)),_.off(this._getArea(),".".concat(Xr))},_move(t,e){mt(e||this._$dragElement,t)},_getDraggableElement(t){var e=this._getSourceElement();if(e)return e;var i=this.option("allowMoveByClick");if(i)return this.$element();var n=h(t&&t.target),o=this._getItemsSelector();if(o[0]===">"){var r=this._$content().find(o);r.is(n)||(n=n.closest(r))}return n},_getSourceElement(){var t=this._getSourceDraggable();return t._$sourceElement},_pointerDownHandler(t){if(!T_(t)){var e={},i=this.$element(),n=this.option("dragDirection");(n==="horizontal"||n==="both")&&(e.left=t.pageX-i.offset().left+fi(i).left-H(i)/2),(n==="vertical"||n==="both")&&(e.top=t.pageY-i.offset().top+fi(i).top-Y(i)/2),this._move(e,i),this._getAction("onDragMove")(this._getEventArgs(t))}},_isValidElement(t,e){var i=this.option("handle"),n=h(t.originalEvent&&t.originalEvent.target);return i&&!n.closest(i).length||!e.length?!1:!e.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler(t){var e=this._getDraggableElement(t);if(this.dragInProgress=!0,!this._isValidElement(t,e)){t.cancel=!0;return}if(!this._$sourceElement){var i=this._getDragStartArgs(t,e);if(this._getAction("onDragStart")(i),i.cancel){t.cancel=!0;return}this.option("itemData",i.itemData),this._setSourceDraggable(),this._$sourceElement=e;var n=e.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),n=this._getDraggableElementOffset(n.left,n.top));var o=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(o.children());var r=o.css("position")==="fixed";this._initPosition(v({},i,{dragElement:o.get(0),initialOffset:r&&n})),this._getAction("onDraggableElementShown")(E(E({},i),{dragElement:o}));var a=this._getArea(),s=this._getAreaOffset(a),l=this._getBoundOffset(),d=ee(a),u=oe(a),c=H(o),p=Y(o),g=o.offset().left-s.left,m=o.offset().top-s.top;a.length&&(t.maxLeftOffset=g-l.left,t.maxRightOffset=d-g-c-l.right,t.maxTopOffset=m-l.top,t.maxBottomOffset=u-m-p-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset(t){var e=t&&Ei.offset(t);return e||{left:0,top:0}},_toggleDraggingClass(t){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),t)},_toggleDragSourceClass(t,e){var i=e||this._$sourceElement;i&&i.toggleClass(this._addWidgetPrefix("source"),t)},_setGestureCoverCursor(t){h(".".concat(Qye)).css("cursor",t.css("cursor"))},_getBoundOffset(){var t=this.option("boundOffset");return T(t)&&(t=t.call(this)),FV(t)},_getArea(){var t=this.option("boundary");return T(t)&&(t=t.call(this)),h(t)},_getContainer(){var t=this.option("container");return t===void 0&&(t=Qn()),h(t)},_getDraggableElementOffset(t,e){var i,n,o,r,a=this._initScrollTop,s=this._initScrollLeft,l=this._getScrollableScrollTop(),d=this._getScrollableScrollLeft(),u=h(this.element()).css("position"),c=u==="fixed",p={left:((n=(i=this._startPosition)===null||i===void 0?void 0:i.left)!==null&&n!==void 0?n:0)+t,top:((r=(o=this._startPosition)===null||o===void 0?void 0:o.top)!==null&&r!==void 0?r:0)+e};return c||this._hasClonedDraggable()?p:{left:ve(d)?p.left+d-s:p.left,top:ve(l)?p.top+l-a:p.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(t){if(this._dragMoveArgs=t,!this._$dragElement){t.cancel=!0;return}var e=this._getDraggableElementOffset(t.offset.x,t.offset.y);this._move(e),this._updateScrollable(t);var i=this._getEventArgs(t);if(this._getAction("onDragMove")(i),i.cancel!==!0){var n=this._getTargetDraggable();n.dragMove(t,scrollBy)}},_updateScrollable(t){if(this.option("autoScroll")){var e=zT(t),i=I.elementsFromPoint(e.x,e.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(i,e),this._horizontalScrollHelper.updateScrollable(i,e)}},_getScrollable(t){var e;return t.parents().toArray().some(i=>{var n=h(i);return this._horizontalScrollHelper.isScrollable(n)||this._verticalScrollHelper.isScrollable(n)?(e=n,!0):!1}),e},_getScrollableScrollTop(){var t,e;return(e=(t=this._getScrollable(h(this.element())))===null||t===void 0?void 0:t.scrollTop())!==null&&e!==void 0?e:0},_getScrollableScrollLeft(){var t,e;return(e=(t=this._getScrollable(h(this.element())))===null||t===void 0?void 0:t.scrollLeft())!==null&&e!==void 0?e:0},_defaultActionArgs(){var t=this.callBase.apply(this,arguments),e=this.option("component");return e&&(t.component=e,t.element=e.element()),t},_getEventArgs(t){var e=this._getSourceDraggable(),i=this._getTargetDraggable();return{event:t,itemData:e.option("itemData"),itemElement:V(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:i.option("component")||i,fromData:e.option("data"),toData:i.option("data")}},_getDragStartArgs(t,e){var i=this._getEventArgs(t);return{event:i.event,itemData:i.itemData,itemElement:e,fromData:i.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(t){var e=S(),i=this._getEventArgs(t),n=this._getEventArgs(t),o=this._getTargetDraggable(),r=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(i)}finally{A(It(i.cancel)).done(a=>{if(!a&&(o!==this&&o._getAction("onDrop")(n),!n.cancel)){r=!1,A(It(o.dragEnd(i))).always(e.resolve);return}e.resolve()}).fail(e.resolve),e.done(()=>{r&&this._revertItemToInitialPosition(),this._resetDragOptions(o)})}},_isTargetOverAnotherDraggable(t){var e=this._getSourceDraggable();if(this===e)return!1;var i=e._$dragElement,n=e.$element(),o=this.$element(),r=zT(t),a=I.elementsFromPoint(r.x,r.y,this.element()),s=a.filter(c=>{var p=h(c);return p.hasClass(this._addWidgetPrefix())?!p.closest(i).length:!1})[0],l=this._getSourceElement(),d=s===n.get(0),u=h(s).closest(l).length;return!s||s===o.get(0)&&!d&&!u},_dragEnterHandler(t){this._fireDragEnterEvent(t),this._isTargetOverAnotherDraggable(t)&&this._setTargetDraggable();var e=this._getSourceDraggable();e.dragEnter(t)},_dragLeaveHandler(t){this._fireDragLeaveEvent(t),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var e=this._getSourceDraggable();e.dragLeave(t)},_keydownHandler(t){this.dragInProgress&&t.key==="Escape"&&this._keydownEscapeHandler(t)},_keydownEscapeHandler(t){var e=this._getSourceElement();if(e){var i=this._getEventArgs(t);if(this._getAction("onDragCancel")(i),!i.cancel){this.dragInProgress=!1,jc?._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var n=this._getTargetDraggable();this._resetDragOptions(n),this._attachEventHandlers()}}},_getAction(t){return this["_".concat(t,"Action")]||this._createActionByOption(t)},_getAnonymousTemplateName:()=>Yye,_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Bn}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var t=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&h(e.render({container:this.element(),transclude:t}))},_optionChanged(t){var{name:e}=t;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(t)}},_getTargetDraggable(){return GT||this},_getSourceDraggable(){return jc||this},_setTargetDraggable(){var t=this.option("group"),e=this._getSourceDraggable();t&&t===e.option("group")&&(GT=this)},_setSourceDraggable(){jc=this},_resetSourceDraggable(){jc=null},_resetTargetDraggable(){GT=null},_resetDragOptions(t){this.reset(),t.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(t){var e=this._getEventArgs(t);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent(t){var e=this._getEventArgs(t);this._getAction("onDragLeave")(e)}});K(Xr,i$);var n$=i$;var exe=le.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,e){var i=this;x(t,function(n,o){var r=f(e)?e:i._getParentId(o),a=i._convertItemToNode(o,r);i._dataStructure.push(a),i._checkForDuplicateId(a.internalFields.key),i._indexByKey[a.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(o)&&i._convertItemsToNodes(i._dataAccessors.getters.items(o),a.internalFields.key)})},_checkForDuplicateId:function(t){if(f(this._indexByKey[t]))throw X.Error("E1040",t)},_getParentId:function(t){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(t):void 0},_itemHasChildren:function(t){if(this._dataType!=="plain"){var e=this._dataAccessors.getters.items(t);return e&&e.length}},_getUniqueKey:function(t){var e=this._dataAccessors.getters.key,i=e(t),n=e&&(i||i===0)&&Rs(i);return n?i:this.getItemsCount()},_convertItemToNode:function(t,e){this._itemsCount++,t.visible!==!1&&this._visibleItemsCount++;var i={internalFields:{disabled:this._dataAccessors.getters.disabled(t,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(t,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(t,{defaultValue:!1}),key:this._getUniqueKey(t),parentKey:f(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(t),childrenKeys:[]}};return v(i,t),delete i.items,i},setChildrenKeys:function(){var t=this;x(this._dataStructure,function(e,i){if(i.internalFields.parentKey!==t._rootValue){var n=t.getParentNode(i);n&&n.internalFields.childrenKeys.push(i.internalFields.key)}})},_makeObjectFromPrimitive:function(t){if(Rs(t)){var e=t;t={},this._dataAccessors.setters.key(t,e)}return t},_convertToPublicNode:function(t,e){if(!t)return null;var i={text:this._dataAccessors.getters.display(t),key:t.internalFields.key,selected:t.internalFields.selected,expanded:t.internalFields.expanded,disabled:t.internalFields.disabled,parent:e||null,itemData:t.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(t,e){if(!t.length)return[];var i=this,n=[];return x(t,function(o,r){r=Rs(r)?i._getByKey(r):r;var a=i._convertToPublicNode(r,e);a.children=i.convertToPublicNodes(r.internalFields.childrenKeys,a),n.push(a),r.internalFields.publicNode=a}),n},setDataAccessors:function(t){this._dataAccessors=t},_getByKey:function(t){return this._dataStructure[this.getIndexByKey(t)]||null},getParentNode:function(t){return this._getByKey(t.internalFields.parentKey)},getByKey:function(t,e){if(e==null)return null;var i=null,n=this,o=function(r,a){return x(r,function(s,l){var d=l.internalFields&&l.internalFields.key||n._dataAccessors.getters.key(l);if(d.toString()===a.toString())return i=l,!1}),i};return o(t,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},x(this._dataStructure,function(e,i){t._checkForDuplicateId(i.internalFields.key),t._indexByKey[i.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},x(this._dataStructure,function(t,e){e.internalFields.childrenKeys=[]})},getIndexByKey:function(t){return this._indexByKey[t]},createPlainStructure:function(t,e,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(t),this.setChildrenKeys(),this._dataStructure}}),o$=exe;var $c="expanded",Ed="selected",txe="disabled";dr.setEditorClass(nl);var ixe=le.inherit({ctor:function(t){this.options={},v(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(t,e){this.options[t]=e,t==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new o$,onNodeChanged:D,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Ed)},_updateExpansion:function(t){this.options.recursiveExpansion&&(t?this._updateOneBranch(t):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray($c)},_updateNodesKeysArray:function(t){var e=this,i=[];return x(e._getDataBySelectionMode(),function(n,o){e._isNodeVisible(o)&&o.internalFields[t]&&(t===$c||e.options.multipleSelection?i.push(o.internalFields.key):(i.length&&e.toggleSelection(i[0],!1,!0),i=[o.internalFields.key]))}),i},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(t){return t.internalFields.item.visible!==!1},_getByKey:function(t,e){return t===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(t,e)},_setChildrenSelection:function(){var t=this;x(this._dataStructure,function(e,i){if(i.internalFields.childrenKeys.length){var n=i.internalFields.selected;n===!0&&t._toggleChildrenSelection(i,n)}})},_setParentSelection:function(){var t=this;x(this._dataStructure,function(e,i){var n=t.options.dataConverter.getParentNode(i);n&&i.internalFields.parentKey!==t.options.rootValue&&t._iterateParents(i,function(o){var r=t._calculateSelectedState(o);t._setFieldState(o,Ed,r)})})},_setParentExpansion:function(){var t=this;x(this._dataStructure,function(e,i){i.internalFields.expanded&&t._updateOneBranch(i.internalFields.key)})},_updateOneBranch:function(t){var e=this,i=this.getNodeByKey(t);e._iterateParents(i,function(n){e._setFieldState(n,$c,!0)})},_iterateChildren:function(t,e,i,n){if(T(i)){var o=this,r=t.internalFields.key;n=n||[],n.indexOf(r)===-1&&(n.push(r),x(t.internalFields.childrenKeys,function(a,s){var l=o.getNodeByKey(s);i(l),l.internalFields.childrenKeys.length&&e&&o._iterateChildren(l,e,i,n)}))}},_iterateParents:function(t,e,i){if(!(t.internalFields.parentKey===this.options.rootValue||!T(e))){i=i||[];var n=t.internalFields.key;if(i.indexOf(n)===-1){i.push(n);var o=this.options.dataConverter.getParentNode(t);o&&(e(o),o.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(o,e,i))}}},_calculateSelectedState:function(t){for(var e=t.internalFields.childrenKeys.length,i=0,n=0,o=!1,r=0;r<=e-1;r++){var a=this.getNodeByKey(t.internalFields.childrenKeys[r]),s=a.internalFields.item.visible===!1,l=a.internalFields.selected;if(s){n++;continue}l?i++:l===void 0&&(i+=.5)}return i&&(o=i===e-n?!0:void 0),o},_toggleChildrenSelection:function(t,e){var i=this;this._iterateChildren(t,!0,function(n){i._isNodeVisible(n)&&i._setFieldState(n,Ed,e)})},_setFieldState:function(t,e,i){t.internalFields[e]!==i&&(t.internalFields[e]=i,t.internalFields.publicNode&&(t.internalFields.publicNode[e]=i),this.options.dataAccessors.setters[e](t.internalFields.item,i),this.options.onNodeChanged(t))},_markChildren:function(t){var e=this;x(t,function(i,n){var o=e.getIndexByKey(n),r=e.getNodeByKey(n);e._dataStructure[o]=0,r.internalFields.childrenKeys.length&&e._markChildren(r.internalFields.childrenKeys)})},_removeNode:function(t){var e=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(e.internalFields.childrenKeys);var i=this,n=0,o=v([],this._dataStructure);x(o,function(r,a){a||(i._dataStructure.splice(r-n,1),n++)})},_addNode:function(t){var e=this.options.dataConverter,i=e._convertItemToNode(t,this.options.dataAccessors.getters.parentKey(t));this._dataStructure=this._dataStructure.concat(i),this._initialDataStructure=this._initialDataStructure.concat(i),e._dataStructure=e._dataStructure.concat(i)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(t){var e=null;return x(this._dataStructure,function(i,n){if(n.internalFields.item===t)return e=n,!1}),e},getNodesByItems:function(t){var e=this,i=[];return x(t,function(n,o){var r=e.getNodeByItem(o);r&&i.push(r)}),i},getNodeByKey:function(t,e){return this._getByKey(e||this._getDataBySelectionMode(),t)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(t){return t.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(t){return Nt(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",t]).toArray()},getIndexByKey:function(t){return this.options.dataConverter.getIndexByKey(t)},addItem:function(t){this._addNode(t),this._updateFields()},removeItem:function(t){this._removeNode(t),this._updateFields()},toggleSelection:function(t,e,i){var n=this._isSingleModeUnselect(e),o=this._getByKey(i||n?this._initialDataStructure:this._dataStructure,t);this._setFieldState(o,Ed,e),this.options.recursiveSelection&&!i&&(e?this._setChildrenSelection():this._toggleChildrenSelection(o,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Ed)},_isSingleModeUnselect:function(t){return!this.options.multipleSelection&&!t},toggleNodeDisabledState:function(t,e){var i=this.getNodeByKey(t);this._setFieldState(i,txe,e)},toggleSelectAll:function(t){if(f(t)){var e=this,i=e._selectedNodesKeys[e._selectedNodesKeys.length-1],n=e._isSingleModeUnselect(t)?this._initialDataStructure:this._dataStructure;x(n,function(o,r){e._isNodeVisible(r)&&e._setFieldState(r,Ed,t)}),e._selectedNodesKeys=e._updateNodesKeysArray(Ed),!t&&e.options.selectionRequired&&e.toggleSelection(i,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(t,e){var i=this.getNodeByKey(t);this._setFieldState(i,$c,e),e&&this._updateExpansion(t),this._expandedNodesKeys=this._updateNodesKeysArray($c)},isFiltered:function(t){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[t]).length},_createCriteria:function(t,e,i){var n=[];return Array.isArray(t)?(x(t,function(o,r){n.push([r,i,e],"or")}),n.pop(),n):[t,i,e]},_filterDataStructure:function(t,e){var i=this.options.searchExpr||this.options.dataAccessors.getters.display,n=dr.getOperationBySearchMode(this.options.searchMode),o=this._createCriteria(i,t,n);return e=e||this._initialDataStructure,Nt(e,{langParams:this.options.langParams}).filter(o).toArray()},search:function(t){var e=this,i=this._filterDataStructure(t),n=this.options.dataConverter;return function o(r,a){for(var s=r.length;a<s;){var l=r[a];if(l.internalFields.parentKey===e.options.rootValue){a++;continue}var d=n.getParentNode(l);if(!d){X.log("W1007",l.internalFields.parentKey,l.internalFields.key),a++;continue}if(d.internalFields.expanded||e._setFieldState(d,$c,!0),r.includes(d)){a++;continue}r.splice(a,0,d),o(r,a)}}(i,0),this.options.sort&&(i=nn.queryByOptions(Nt(i),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),n._indexByKey={},x(i,function(o,r){r.internalFields.childrenKeys=[],n._indexByKey[r.internalFields.key]=o}),n._dataStructure=i,n.setChildrenKeys(),n._dataStructure}}),r$=ixe;var nxe="dx-state-disabled",oxe="dx-item-url",rxe=Nn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new r$(v({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:D,_getItemExtraPropNames:D,_initDynamicTemplates:function(){var t=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new Bi(this._addContent.bind(this),t,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent:function(t,e){t.html(e.html).append(this._getIconContainer(e)).append(this._getTextContainer(e))},_getLinkContainer:function(t,e,i){var{linkAttr:n,url:o}=i,r=L(n)?n:{};return h("<a>").addClass(oxe).attr(E({},r,{href:o})).append(t).append(e)},_getIconContainer:function(t){return t.icon?en(t.icon):void 0},_getTextContainer:function(t){return h("<span>").text(t.text)},_initAccessors:function(){var t=this;x(this._getAccessors(),function(e,i){t._compileAccessor(i)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var e=this,i=[];return x(t.internalFields.childrenKeys,function(n,o){var r=e._dataAdapter.getNodeByKey(o);i.push(r)}),i},_hasChildren:function(t){return t&&t.internalFields.childrenKeys.length},_compileAccessor:function(t){var e="_"+t+"Getter",i="_"+t+"Setter",n=this.option(t+"Expr");if(n){if(T(n)){this[i]=function(o,r){o[n()]=r},this[e]=function(o){return o[n()]};return}}else{this[e]=D,this[i]=D;return}this[e]=pe(n),this[i]=Hu(n)},_createDataAdapterAccessors:function(){var t=this,e={getters:{},setters:{}};return x(this._getAccessors(),function(i,n){var o="_"+n+"Getter",r="_"+n+"Setter",a=n==="parentId"?"parentKey":n;e.getters[a]=t[o],e.setters[a]=t[r]}),e.getters.display=this._displayGetter?this._displayGetter:i=>i.text,e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:D,_renderItemFrame:function(t,e){var i=this.callBase.apply(this,arguments);return i.toggleClass(nxe,!!this._disabledGetter(e)),i},_optionChanged:function(t){switch(t.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(t);break;default:this.callBase(t)}}}),Ny=rxe;var UT=class extends dc{_getPlainItems(){return Ke(this._collectionWidget.option("items"),function e(i){return i.items?[i].concat(Ke(i.items,e)):i})}_stringifyItem(e){return JSON.stringify(e,(i,n)=>i==="template"?this._getTemplateString(n):n)}_getTemplateString(e){var i;return typeof e=="object"?i=h(e).text():i=e.toString(),i}},a$=UT;var rf="dx-menu",axe=rf+"-no-icons",sxe="dx-menu-base",Ro=rf+"-item",lxe=Ro+"-content",jT=Ro+"-selected",s$=Ro+"-wrapper",dxe=rf+"-items-container",uxe=Ro+"-expanded",cxe=rf+"-separator",hxe=rf+"-last-group-item",pxe=Ro+"-has-text",gxe=Ro+"-has-icon",fxe=Ro+"-has-submenu",l$=Ro+"-popout",mxe=l$+"-container",d$=Ro+"-text",vxe="single",_xe={show:50,hide:300},yxe="".concat(d$,"-with-url"),xxe="dx-icon-with-url",Cxe="dx-item-url",Sxe=(()=>{class t extends Ny{_getDefaultOptions(){return v(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return Ro}_setAriaSelectionAttribute(){}_selectedItemClass(){return jT}_widgetClass(){return sxe}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return v(super._supportedKeys(),{space:()=>{var i=h(this.option("focusedElement"));!i.length||!this._isSelectionEnabled()||this.selectItem(i[0])},pageUp:D,pageDown:D})}_isSelectionEnabled(){return this.option("selectionMode")===vxe}_init(){this._activeStateUnit=".".concat(Ro),super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(i,n,o){var{linkAttr:r,url:a}=o;return i?.addClass(xxe),n?.addClass(yxe),super._getLinkContainer(i,n,{linkAttr:r,url:a})}_addContent(i,n){var{html:o,url:r}=n;if(r){i.html(o);var a=this._getLinkContainer(this._getIconContainer(n),this._getTextContainer(n),n);i.append(a)}else super._addContent(i,n);i.append(this._getPopoutContainer(n)),this._addContentClasses(n,i.parent())}_getTextContainer(i){var{text:n}=i;if(n){var o=h("<span>").addClass(d$),r=q(i)?n:String(i);return o.text(r)}}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(i){var n=i.items,o;if(n&&n.length){var r=h("<div>").addClass(l$);o=h("<span>").addClass(mxe).append(r)}return o}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(i){if(i){var n=this._dataAdapter.getNodeByItem(i);this._dataAdapter.toggleSelection(n.internalFields.key,!0)}}_renderSelectedItem(){var i=this._dataAdapter.getSelectedNodesKeys(),n=i.length&&i[0],o=this.option("selectedItem");if(!n){this._selectByItem(o);return}var r=this._dataAdapter.getNodeByKey(n);if(r.selectable!==!1){if(!o){this.option("selectedItem",r.internalFields.item);return}o!==r.internalFields.item&&(this._dataAdapter.toggleSelection(n,!1),this._selectByItem(o))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=xc()}_toggleActiveState(i,n,o){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var r={element:i,event:o};n?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}}_getShowSubmenuMode(){var i=this.option("showSubmenuMode");return i=L(i)?i.name:i,this._isDesktopDevice()?i:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return R.real().deviceType==="desktop"}_initEditStrategy(){var i=a$;this._editStrategy=new i(this)}_addCustomCssClass(i){i.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(s$)}_hoverStartHandler(i){var n=this._getItemElementByEventArgs(i);!n||this._isItemDisabled(n)||(i.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,n),this._getSubmenuDelay("show"))))}_getAvailableItems(i){return super._getAvailableItems(i).filter(function(){return h(this).css("visibility")!=="hidden"})}_isItemDisabled(i){return this._disabledGetter(i.data(this._itemDataKey()))}_showSubmenu(i){this._addExpandedClass(i)}_addExpandedClass(i){h(i).addClass(uxe)}_getSubmenuDelay(i){var{delay:n}=this.option("showSubmenuMode");return f(n)?L(n)?n[i]:n:_xe[i]}_getItemElementByEventArgs(i){var n=h(i.target);if(n.hasClass(this._itemClass())||n.get(0)===i.currentTarget)return n;for(;!n.hasClass(this._itemClass());)if(n=n.parent(),n.hasClass("dx-submenu"))return null;return n}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(i){return i&&i.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(i,n){if(i.length){this.hasIcons=!1;var o=this._renderContainer(this.$element(),n),r=-1,a=-1;x(i,(s,l)=>{var d=l.visible!==!1;d&&r<0&&(r=s);var u=r<s&&(l.beginGroup||s===a);u&&(a=d?s:s+1),s===a&&r<s&&this._renderSeparator(o),this._renderItem(s,l,o)}),this.hasIcons||o.addClass(axe)}}_renderContainer(i){var n=h("<ul>");return this.setAria("role","none",n),n.appendTo(i).addClass(dxe)}_createDOMElement(i){var n=h("<li>");return this.setAria("role","none",n),n.appendTo(i).addClass(s$)}_renderItem(i,n,o,r){var a=this.option("items"),s=r||this._createDOMElement(o);a[i+1]&&a[i+1].beginGroup&&s.addClass(hxe);var l=super._renderItem(i,n.internalFields.item,s);n.internalFields.item===this.option("selectedItem")&&l.addClass(jT),l.attr("tabIndex",-1),this._hasSubmenu(n)&&this.setAria("haspopup","true",l)}_renderItemFrame(i,n,o){var r=o.children(".".concat(Ro));return r.length?r:super._renderItemFrame.apply(this,arguments)}_refreshItem(i,n){var o=this._dataAdapter.getNodeByItem(n),r=i.data(this._itemIndexKey()),a=i.closest("ul"),s=i.closest("li");this._renderItem(r,o,a,s)}_addContentClasses(i,n){var o=i.text?!!i.text.length:!1,r=!!i.icon,a=i.items?!!i.items.length:!1;n.toggleClass(pxe,o),n.toggleClass(gxe,r),this.hasIcons||(this.hasIcons=r),n.toggleClass(fxe,a)}_getItemContent(i){var n=super._getItemContent(i);return n.length||(n=i.children(".".concat(lxe))),n}_postprocessRenderItem(i){var n=h(i.itemElement),o=this._dataAdapter.getSelectedNodesKeys();if(!o.length||!this._selectedGetter(i.itemData)||!this._isItemSelectable(i.itemData)){this._setAriaSelectionAttribute(n,"false");return}var r=this._dataAdapter.getNodeByItem(i.itemData);r.internalFields.key===o[0]?(n.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(n,"true")):this._setAriaSelectionAttribute(n,"false")}_isItemSelectable(i){return i.selectable!==!1}_renderSeparator(i){h("<li>").appendTo(i).addClass(cxe)}_itemClickHandler(i){if(!i._skipHandling){var n=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(i,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:n.bind(this)}),i._skipHandling=!0}}_itemClick(i){var{event:n,itemData:o}=i.args[0],r=this._getItemElementByEventArgs(n),a=r&&r.find(".".concat(Cxe)).get(0);o.url&&a&&a.click()}_updateSubmenuVisibilityOnClick(i){this._updateSelectedItemOnClick(i),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(i.args[0].itemElement)}_updateSelectedItemOnClick(i){var n=i.args?i.args[0]:i;if(this._isItemSelectAllowed(n.itemData)){var o=this._dataAdapter.getSelectedNodesKeys(),r=o.length&&this._dataAdapter.getNodeByKey(o[0]);r&&this._toggleItemSelection(r,!1),!r||r.internalFields.item!==n.itemData?this.selectItem(n.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectAllowed(i){var n=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&n&&this._isItemSelectable(i)&&!this._itemsGetter(i)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return d_()}_optionChanged(i){switch(i.name){case"showSubmenuMode":break;case"selectedItem":var n=this._dataAdapter.getNodeByItem(i.value),o=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==o){if(n.selectable===!1)break;o&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(o),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(i)}}_toggleItemSelection(i,n){var o=this._getElementByItem(i.internalFields.item);o&&h(o).toggleClass(jT),this._dataAdapter.toggleSelection(i.internalFields.key,n)}_getElementByItem(i){var n;return x(this._itemElements(),(o,r)=>h(r).data(this._itemDataKey())!==i?!0:(n=r,!1)),n}_updateSelectedItems(i,n){(i||n)&&this._fireSelectionChangeEvent(n,i)}_fireSelectionChangeEvent(i,n){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[i],removedItems:[n]})}selectItem(i){var n=i.nodeType?this._getItemData(i):i,o=this._dataAdapter.getSelectedNodesKeys()[0],r=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(n);a.internalFields.key!==o&&(o&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(o),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(r,n),this._setOptionWithoutOptionChange("selectedItem",n))}unselectItem(i){var n=i.nodeType?this._getItemData(i):i,o=this._dataAdapter.getNodeByItem(n),r=this.option("selectedItem");o.internalFields.selected&&(this._toggleItemSelection(o,!1),this._updateSelectedItems(r,null),this._setOptionWithoutOptionChange("selectedItem",null))}}return t.ItemClass=To,t})(),Ly=Sxe;var g$="dx-menu",af=g$+"-item",Kc=af+"-expanded",bxe="dx-menu-phone-overlay",Vy=g$+"-items-container",u$=af+"-wrapper",Hn="dx-submenu",Dxe="dx-context-menu",wxe="dx-has-context-menu",Exe="dx-state-disabled",Oxe="dx-state-focused",c$="dx-state-hover",Ixe="dx-overlay-content",f$="up",m$="down",Fxe="left",Txe="right",v$="first",_$="last",h$=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Mxe=[f$,m$,v$,_$],p$="dxcontextmenu",Axe=G(),Hy=class extends Ly{getShowEvent(e){var i=null;return L(e)?e.name!==null&&(i=e.name||p$):i=e,i}getShowDelay(e){return L(e)&&e.delay}_getDefaultOptions(){return v(super._getDefaultOptions(),{showEvent:p$,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!W(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),v(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},x(h$,(e,i)=>{this._actions[i]=this._createActionByOption(i)||D})}_setOptionsByReference(){super._setOptionsByReference(),v(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():h()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return v(super._supportedKeys(),{space:()=>{var e=h(this.option("focusedElement"));this.hide(),!(!e.length||!this._isSelectionEnabled())&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(){var e=this._getAvailableItems(),i=e.filter(".".concat(Oxe)),n=e.filter(".".concat(c$)),o=n.closest(".".concat(Vy));return o.find(".".concat(af)).index(i)>=0?i:n.length?n:super._getActiveItem()}_moveFocus(e){var i=this._getItemsByLocation(e),n=this._getActiveItem(!0),o=this.itemsContainer().find(".".concat(c$)),r=h(this.option("focusedElement")),a=!!(r.length||o.length),s;switch(e){case f$:s=a?this._prevItem(i):n,this._setFocusedElement(s),n.is(i.first())&&this._actions.onLeftFirstItem(n);break;case m$:s=a?this._nextItem(i):n,this._setFocusedElement(s),n.is(i.last())&&this._actions.onLeftLastItem(n);break;case Txe:s=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,e),this._setFocusedElement(s);break;case Fxe:s=this.option("rtlEnabled")?this._expandSubmenuHandler(i,e):this._hideSubmenuHandler(),this._setFocusedElement(s);break;case v$:s=i.first(),this._setFocusedElement(s);break;case _$:s=i.last(),this._setFocusedElement(s);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&this.option("focusedElement",V(e))}_getItemsByLocation(e){var i=this._getActiveItem(!0),n;return Mxe.includes(e)&&(n=i.closest(".".concat(Vy)).children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(f(this._overlay)){var e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){var e=this._getActiveItem(!0),i=e.parents(".".concat(Kc)).first();return i.length?(this._hideSubmenusOnSameLevel(i),this._hideSubmenu(e.closest(".".concat(Hn))),i):(this._actions.onCloseRootSubmenu(e),e)}_expandSubmenuHandler(e,i){var n=this._getActiveItem(!0),o=this._getItemData(n),r=this._dataAdapter.getNodeByItem(o),a=this._hasSubmenu(r),s=n.children(".".concat(Hn));if(a&&!n.hasClass(Exe))return(!s.length||s.css("visibility")==="hidden")&&this._showSubmenu(n),this._nextItem(this._getItemsByLocation(i));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(wxe),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent(h("<div>").appendTo(this._$element),yn,e);var i=this._overlay.$content();i.addClass(Dxe),this._addCustomCssClass(i),this._addPlatformDependentClass(i),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var e=this._itemContainer(),i=F(e0,this.NAME);_.off(e,i,".".concat(Hn)),_.on(e,i,".".concat(Hn),(n=>{n.stopPropagation(),n.preventDefault(),_.off(e,i,".".concat(Hn))}).bind(this))}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){R.current().phone&&e.addClass(bxe)}_detachShowContextMenuEvents(e){var i=this.getShowEvent(this.option("showEvent"));if(i){var n=F(i,this.NAME);this._showContextMenuEventHandler?_.off(I.getDocument(),n,e,this._showContextMenuEventHandler):_.off(h(e),n)}}_attachShowContextMenuEvents(){var e=this._getTarget(),i=this.getShowEvent(this.option("showEvent"));if(i){var n=F(i,this.NAME),o=this._createAction(a=>{var s=this.getShowDelay(this.option("showEvent"));s?setTimeout(()=>this._show(a.event),s):this._show(a.event)},{validatingTargetName:"target"}),r=a=>o({event:a,target:h(a.currentTarget)});o=this._createAction(o),ii(e)||e.nodeType||Je(e)?(this._showContextMenuEventHandler=void 0,_.on(e,n,r)):(this._showContextMenuEventHandler=r,_.on(I.getDocument(),n,e,this._showContextMenuEventHandler))}}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,i){var n=i||this._itemContainer();e=h("<div>"),e.appendTo(n).addClass(Hn).css("visibility",i?"hidden":"visible"),e.parent().hasClass(Ixe)||this._addCustomCssClass(e);var o=super._renderContainer(e);return i?o:this.option("width")?o.css("minWidth",this.option("width")):this.option("height")?o.css("minHeight",this.option("height")):o}_renderSubmenuItems(e,i){this._renderItems(this._getChildNodes(e),i),this._actions.onSubmenuCreated({itemElement:V(i),itemData:e.internalFields.item,submenuElement:V(i.children(".".concat(Hn)))})}_getOverlayOptions(){var e=this.option("position"),i={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:n=>this._hideOnOutsideClickHandler(n),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:Axe};return i}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){var{closeOnOutsideClick:i,hideOnOutsideClick:n}=this.option();return T(n)?n(e):T(i)?i(e):n||i}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(I.isDocument(e.target))return!0;var i=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),o=this._searchActiveItem(e.target),r=this.$element().parents(".".concat(af)),a=o[0]===r[0]&&o.length&&r.length,s=this._isIncludeOverlay(i,n)&&o.length;return s||a?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(o),!1):!0}_getActiveItemsContainer(e){return h(e).closest(".".concat(Vy))}_getItemsContainers(){return this._overlay.$content().find(".".concat(Vy))}_searchActiveItem(e){return h(e).closest(".".concat(af)).eq(0)}_isIncludeOverlay(e,i){var n=!1;return x(i,(o,r)=>{e.is(r)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){var i=e.find(".".concat(Hn)),n=v([],this._shownSubmenus);i.length>0&&x(n,(o,r)=>{var a=this._searchActiveItem(r.context).parent();a.parent().is(e.parent().parent())&&!a.is(e.parent())&&this._hideSubmenu(r)})}_showSubmenu(e){var i=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!!this._hasSubmenu(i)){var n=e.children(".".concat(Hn)),o=n.length;super._showSubmenu(e),o||this._renderSubmenuItems(i,e),this._isSubmenuVisible(n)||this._drawSubmenu(e)}}_hideSubmenusOnSameLevel(e){var i=e.parent(".".concat(u$)).siblings().find(".".concat(Kc));i.length&&(i.removeClass(Kc),this._hideSubmenu(i.find(".".concat(Hn))))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){var i=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(Hn)),o=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(f(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),i&&et.stop(n),Ei.setup(n,o),i&&(q(i.to)&&(i.to.position=o),this._animate(n,i)),n.css("visibility","visible"))}_animate(e,i){et.animate(e,i)}_getSubmenuPosition(e){var i=this.option("submenuDirection").toLowerCase(),n=e.parent(".".concat(u$)),o={collision:"flip",of:n,offset:{h:0,v:-1}};switch(i){case"left":o.at="left top",o.my="right top";break;case"right":o.at="right top",o.my="left top";break;default:this.option("rtlEnabled")?(o.at="left top",o.my="right top"):(o.at="right top",o.my="left top")}return o}_updateSubmenuVisibilityOnClick(e){if(e.args.length){var i=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(i);if(n){var o=h(e.args[0].itemElement),r=o.find(".".concat(Hn)),a=this._hasSubmenu(n)&&!r.length;if(a&&(this._renderSubmenuItems(n,o),r=o.find(".".concat(Hn))),!(o.context===r.context&&r.css("visibility")==="visible")){this._updateSelectedItemOnClick(e);var s=i&&i.closeMenuOnClick===!1;if(!(!i||i.disabled||s))if(r.length===0){var l=h(o.parents(".".concat(Hn))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(r)&&this._hideSubmenu(r),this._showSubmenu(o)}}}}_hideSubmenu(e){var i=v([],this._shownSubmenus);x(i,(n,o)=>{(e.is(o)||Rn(e[0],o[0]))&&(o.parent().removeClass(Kc),this._hideSubmenuCore(o))})}_hideSubmenuCore(e){var i=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}_stopAnimate(e){et.stop(e,!0)}_hideAllShownSubmenus(){var e=v([],this._shownSubmenus),i=this._overlay.$content().find(".".concat(Kc));i.removeClass(Kc),x(e,(n,o)=>{this._hideSubmenu(o)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(h$.includes(e.name)){this._initActions();return}switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){var i={jQEvent:e},n=new S().reject().promise();if(this._actions.onShowing(i),i.cancel)return n;var o=this._positionContextMenu(e);if(o){var r;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",o),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(e==null||(r=e.originalEvent)===null||r===void 0?void 0:r.type)===mn.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_setAriaAttributes(){this._overlayContentId="dx-".concat(new Ee),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||h(I.getDocument())}_getContextMenuPosition(){return v({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){var i=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),o=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(i.of=e);var r={position:i,event:e};return o(r),r.cancel?i=null:r.event&&(r.event.cancel=!0,e.preventDefault()),i}_refresh(){if(!W())super._refresh();else if(this._overlay){var e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||new S().reject().promise()}toggle(e){var i=this.option("visible");return e=e===void 0?!i:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}};K("dxContextMenu",Hy);var y$=Hy;var Wy=y$;var KT="dx-state-focused",Rxe="dx-cell-focus-disabled",Bxe=".dx-row-focused",b$=".dx-datagrid-rowsview .dx-row",x$="".concat(b$," > td"),D$=".dx-treelist-rowsview .dx-row",C$="".concat(D$," > td"),S$={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(Bxe),"".concat(b$,"[tabindex]"),"".concat(x$,"[tabindex]"),"".concat(x$),"".concat(D$,"[tabindex]"),"".concat(C$,"[tabindex]"),"".concat(C$)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},$T=!1,Gy=!1,qc=null;function kxe(t,e,i,n,o,r){var a=Nxe(e,i.originalEvent,r);if(!a){var s=Ae(i);s==="enter"||s==="space"?(qT(i.target,e),n&&n({event:i})):s==="tab"?o.addClass(KT):sf(t,e,i)}}function qT(t,e){var i=h(t),n=i.attr("aria-label"),o=w$(n,e.element()),r=o.index(i);qc=v({},{ariaLabel:n,index:r},{viewInstance:e})}function w$(t,e){var i=h(e),n;return t?n=i.find('[aria-label="'.concat(t,'"][tabindex]')):n=i.find("[tabindex]"),n}function Pxe(t,e){var i=e?.getRootNode()||I.getDocument();for(var n in t){var o=t[n],r=h(i).find(o).first();if(r.length)return r}}function Nxe(t,e,i){var n={event:e,handled:!1};return i?i(n):t._createActionByOption("onKeyDown")(n),n.handled}function E$(){Gy=I.getDocument().visibilityState==="visible"}function O$(){_.on(I.getDocument(),"visibilitychange",E$)}function YT(){_.off(I.getDocument(),"visibilitychange",E$)}function I$(t,e){Gy=!0,t.focus({preventScroll:e}),Gy=!1}function zy(t,e,i,n,o,r){if(e.option("useLegacyKeyboardNavigation"))return D;var a=()=>h(e.element()),s=u=>kxe(t,e,u,o,a(),r),l=()=>{$T=!0,a().removeClass(KT)},d=()=>{var u=!$T&&!Gy;u&&a().addClass(KT),$T=!1};return _.on(i,"keydown",n,s),_.on(i,"mousedown",n,l),_.on(i,"focusin",n,d),()=>{_.off(i,"keydown",n,s),_.off(i,"mousedown",n,l),_.off(i,"focusin",n,d)}}function Yc(t){if(!t.option("useLegacyKeyboardNavigation")&&qc){var e=qc.viewInstance;if(e){var i=w$(qc.ariaLabel,e.element()),n=i.eq(qc.index);qc=null,_.trigger(n,"focus")}}}function sf(t,e,i){var n=Ae(i);if(i.ctrlKey&&(n==="upArrow"||n==="downArrow"))for(var o=Object.keys(S$),r=o.indexOf(t);r>=0&&r<o.length;){r=n==="upArrow"?--r:++r;var a=o[r],s=S$[a],l=Pxe(s,i.target);if(l&&l.length){l.attr("tabindex",e.option("tabindex")||0),_.trigger(l,"focus"),l.removeClass(Rxe);break}}}function F$(t,e){t.option("useLegacyKeyboardnavigation")||e.attr("tabindex",t.option("tabindex")||0)}var dl=function(t,e,i,n,o){var r=e.getController("keyboardNavigation");e.option("useLegacyKeyboardNavigation")||r&&!r.isKeyboardEnabled()||(e.createAction("onKeyDown"),zy(t,e,i,n,o,a=>{e.executeAction("onKeyDown",a)}))};var Od="dxdblclick",Lxe="dxDblClick",T$=F(se,Lxe),M$=300,Vxe=le.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-M$},add:function(){this._handlerCount<=0&&_.on(I.getDocument(),T$,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(t){var e=t.timeStamp||Date.now(),i=e-this._lastClickTimeStamp,n=i<0,o=!n&&i<M$;o?(Zi({type:Od,target:DH(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=e)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),_.off(I.getDocument(),T$))}});Oi(Od,new Vxe);var A$="dx-column-indicators",Hxe="dx-group-panel-item",R$=t=>class extends t{_applyColumnState(e){var i,n=this.option("rtlEnabled"),o=this._getColumnAlignment(e.column.alignment,n),r=v(!0,{columnAlignment:o},e),a=r.rootElement.hasClass(Hxe),s=this._createIndicatorContainer(r,a),l=h("<span>").addClass(this._getIndicatorClassName(e.name)),d=(i=this.component)===null||i===void 0?void 0:i.getController("columns"),u=d?.getHeaderContentAlignment(o)||o;return r.container=s,r.indicator=l,this._renderIndicator(r),s[(a||!e.showColumnLines)&&u==="left"?"appendTo":"prependTo"](e.rootElement),l}_getIndicatorClassName(e){}_getColumnAlignment(e,i){return i=i||this.option("rtlEnabled"),e&&e!=="center"?e:Xi(i)}_createIndicatorContainer(e,i){var n=this._getIndicatorContainer(e.rootElement),o=e.columnAlignment==="left"?"right":"left";return n.length||(n=h("<div>").addClass(A$)),this.setAria("role","presentation",n),n.css("float",e.showColumnLines&&!i?o:null)}_getIndicatorContainer(e){return e&&e.find(".".concat(A$))}_getIndicatorElements(e){var i=this._getIndicatorContainer(e);return i&&i.children()}_renderIndicator(e){var i=e.container,n=e.indicator;i&&n&&i.append(n)}_updateIndicators(e){var i=this.getColumns(),n=this.getColumnElements(),o;if(!(!n||i.length!==n.length))for(var r=0;r<i.length;r++){o=n.eq(r),this._updateIndicator(o,i[r],e);var a=o.parent().data("options");a&&a.cells&&(a.cells[o.index()].column=i[r])}}_updateIndicator(e,i,n){if(!i.command)return this._applyColumnState({name:n,rootElement:e,column:i,showColumnLines:this.option("showColumnLines")})}};var Wxe="dxDataGrid",Uy=class{constructor(e){var i=this;i._updateLockCount=0,i.component=e,i._actions={},i._actionConfigs={},x(this.callbackNames()||[],function(n,o){var r=i.callbackFlags(o)||{};r.unique=!0,r.syncStrategy=!0,i[this]=de(r)})}_endUpdateCore(){}init(){}callbackNames(){}callbackFlags(e){}publicMethods(){return[]}beginUpdate(){this._updateLockCount++}endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())}option(e){var{component:i}=this,n=i._optionCache;return arguments.length===1&&n?(e in n||(n[e]=i.option(e)),n[e]):i.option.apply(i,arguments)}_silentOption(e,i){var{component:n}=this,o=n._optionCache;return o&&(o[e]=i),n._setOptionWithoutOptionChange(e,i)}localize(e){var i=this.component._optionCache;return i?(e in i||(i[e]=w.format(e)),i[e]):w.format(e)}on(e,i){return this.component.on.apply(this.component,arguments)}off(){return this.component.off.apply(this.component,arguments)}optionChanged(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)}getAction(e){return this._actions[e]}setAria(e,i,n){var o=n.get(0),r=e!=="role"&&e!=="id"?"aria-":"";o.setAttribute?o.setAttribute(r+e,i):n.attr(r+e,i)}_createComponent(e,i,n){return this.component._createComponent(e,i,n)}getController(e){return this.component._controllers[e]}createAction(e,i){if(T(e)){var n=this.component._createAction(e.bind(this),i);return function(o){n({event:o})}}this._actions[e]=this.component._createActionByOption(e,i),this._actionConfigs[e]=i}executeAction(e,i){var n=this._actions[e];return n&&n(i)}dispose(){var e=this;x(e.callbackNames()||[],function(){e[this].empty()})}addWidgetPrefix(e){var i=this.component.NAME;return"dx-".concat(i.slice(2).toLowerCase()).concat(e?"-".concat(e):"")}getWidgetContainerClass(){var e=this.component.NAME===Wxe?null:"container";return this.addWidgetPrefix(e)}elementIsInsideGrid(e){var i=e.closest(".".concat(this.getWidgetContainerClass())).parent();return i.is(this.component.$element())}},lf=class extends Uy{},JT=class extends lf{getView(e){return this.component._views[e]}getViews(){return this.component._views}},jy=class extends Uy{constructor(e){super(e),this.renderCompleted=de(),this.resizeCompleted=de()}_isReady(){return this.component.isReady()}_endUpdateCore(){super._endUpdateCore(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))}_invalidate(e,i){this._requireRender=!0,this.component._requireResize=W()&&(this.component._requireResize||e),this._requireReady=this._requireReady||i}_renderCore(e){}_resizeCore(){}_parentElement(){return this._$parent}element(){return this._$element}getElementHeight(){var e=this.element();if(!e)return 0;var i=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0,{offsetHeight:o}=e.get(0);return o+i+n}isVisible(){return!0}getTemplate(e){return this.component._getTemplate(e)}getView(e){return this.component._views[e]}render(e,i){var n=this._$element,o=this.isVisible();if(!(!n&&!e)&&(this._requireReady=!1,n||(n=this._$element=h("<div>").appendTo(e),this._$parent=e),n.toggleClass("dx-hidden",!o),o)){this.component._optionCache={};var r=this._renderCore(i);this.component._optionCache=void 0,r?r.done(()=>{this.renderCompleted.fire(i)}):this.renderCompleted.fire(i)}}resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1}focus(e){this.element().get(0).focus({preventScroll:e})}},B$=1e6;function k$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={};return Object.entries(e).forEach(n=>{var[o,r]=n,a=t[o];if(a)if(T(r))i[o]=r(a);else{var s=a;i[o]=s.inherit(r)}}),i}function Gxe(t,e,i){var n=i.publicMethods();n&&x(n,(o,r)=>{if(i[r])if(!t[r])t[r]=function(){return i[r](...arguments)};else throw X.Error("E1005",r);else throw X.Error("E1006",e,r)})}function zxe(t,e){var{modules:i}=e,{modulesOrder:n}=e;function o(u){var c={};return x(u,(p,g)=>{var m=new g(t);m.name=p,Gxe(t,p,m),c[p]=m}),c}n&&i.sort((u,c)=>{var p=n.indexOf(u.name),g=n.indexOf(c.name);return p<0&&(p=B$),g<0&&(g=B$),p-g});var r={},a={};i.forEach(u=>{var{name:c,controllers:p={},views:g={}}=u;Object.entries(p).forEach(m=>{var[y,C]=m;if(r[y])throw X.Error("E1001",c,y);if(!(C?.prototype instanceof lf))throw X.Error("E1002",c,y);r[y]=C}),Object.entries(g).forEach(m=>{var[y,C]=m;if(a[y])throw X.Error("E1003",c,y);if(!(C?.prototype instanceof jy))throw X.Error("E1004",c,y);a[y]=C})});var s=i.filter(u=>{var{extenders:c}=u;return!!c}),l=s.reduce((u,c)=>{var{extenders:p}=c;return E(E({},u),k$(u,p?.controllers))},r),d=s.reduce((u,c)=>{var{extenders:p}=c;return E(E({},u),k$(u,p?.views))},a);t._controllers=o(l),t._views=o(d)}var Uxe=function(t,e,i){i=i||[],t._controllers&&x(t._controllers,function(){this[e]&&this[e].apply(this,i)}),t._views&&x(t._views,function(){this[e]&&this[e].apply(this,i)})},ye={modules:[],View:jy,ViewController:JT,Controller:lf,registerModule(t,e){for(var{modules:i}=this,n=0;n<i.length;n++)if(i[n].name===t)return;e.name=t,i.push(e)},registerModulesOrder(t){this.modulesOrder=t},unregisterModule(t){this.modules=Yt(this.modules,e=>e.name!==t)},processModules:zxe,callModuleItemsMethod:Uxe};var jxe=["year","month","day"],$xe=["year","month","day","hour","minute"],ZT=function(t){return t==="date"||t==="datetime"},XT=function(t){var e,i=[],n=["year","month","day","hour","minute","second"],o=t.headerFilter&&t.headerFilter.groupInterval,r=o==="quarter"?"month":o;if(ZT(t.dataType)&&o!==null)return i=t.dataType==="datetime"?$xe:jxe,e=n.indexOf(r),e>=0&&(i=n.slice(0,e),i.push(o)),i;if(f(o))return Array.isArray(o)?o:[o]},Bo=function(){var t=function(o,r){var a=o.dataField||o.selector;return r==="search"&&(a=o.displayField||o.calculateDisplayValue||a),a},e=function(o,r){var a,s,l,d=t(this,r);if(Array.isArray(o)&&f(o[0])&&f(o[1]))return s=[d,">=",o[0]],l=[d,"<=",o[1]],ZT(this.dataType)&&(u=o[1],u.getHours()+u.getMinutes()+u.getSeconds()+u.getMilliseconds()<1)&&(a=new Date(o[1].getTime()),this.dataType==="date"&&a.setDate(o[1].getDate()+1),l=[d,"<",a]),[s,"and",l];var u},i=function(o,r,a){var s,l,d,u=function(p){return $t(p)?[p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()]:Ke((""+p).split("/"),function(g,m){return m===1?Number(g)-1:Number(g)})}(o),c=t(this,a);switch(a==="headerFilter"?d=XT(this)[u.length-1]:this.dataType==="datetime"&&(d="minute"),d){case"year":s=new Date(u[0],0,1),l=new Date(u[0]+1,0,1);break;case"month":s=new Date(u[0],u[1],1),l=new Date(u[0],u[1]+1,1);break;case"quarter":s=new Date(u[0],3*u[1],1),l=new Date(u[0],3*u[1]+3,1);break;case"hour":s=new Date(u[0],u[1],u[2],u[3]),l=new Date(u[0],u[1],u[2],u[3]+1);break;case"minute":s=new Date(u[0],u[1],u[2],u[3],u[4]),l=new Date(u[0],u[1],u[2],u[3],u[4]+1);break;case"second":s=new Date(u[0],u[1],u[2],u[3],u[4],u[5]),l=new Date(u[0],u[1],u[2],u[3],u[4],u[5]+1);break;default:s=new Date(u[0],u[1],u[2]),l=new Date(u[0],u[1],u[2]+1)}switch(r){case"<":return[c,"<",s];case"<=":return[c,"<",l];case">":return[c,">=",l];case">=":return[c,">=",s];case"<>":return[[c,"<",s],"or",[c,">=",l]];default:return[[c,">=",s],"and",[c,"<",l]]}},n=function(o,r,a){var s=t(this,a),l=XT(this);if(a==="headerFilter"&&l&&f(o)){var d=(""+o).split("/"),u=Number(d[d.length-1]),c=l[d.length-1],p=[s,">=",u],g=[s,"<",u+c],m=[p,"and",g];return m}return[s,r||"=",o]};return{defaultCalculateFilterExpression:function(o,r,a){var s=this,l=t(s,a),d=s.calculateDisplayValue&&a==="search",u=d&&s.lookup&&s.lookup.dataType||s.dataType,c=null;if((a==="headerFilter"||a==="filterBuilder")&&o===null)c=[l,r||"=",null],u==="string"&&(c=[c,r==="="?"or":"and",[l,r||"=",""]]);else if(u==="string"&&(!s.lookup||d))c=[l,r||"contains",o];else{if(r==="between")return e.apply(s,[o,a]);if(ZT(u)&&f(o))return i.apply(s,arguments);if(u==="number")return n.apply(s,arguments);c=[l,r||"=",o]}return c},getGroupInterval:XT}}();var Kxe="dx-selection-disabled",qxe="dx-datagrid-group-opened",Yxe="dx-datagrid-group-closed",Qxe="dx-datagrid-expand",Jxe="nodata",Xxe="infinite",P$="virtual",Zxe="scrolling.legacyMode",N$="scrolling.mode",eCe="scrolling.rowRenderingMode",tCe={year:t=>t&&t.getFullYear(),month:t=>t&&t.getMonth()+1,day:t=>t&&t.getDate(),quarter:t=>t&&Math.floor(t.getMonth()/3)+1,hour:t=>t&&t.getHours(),minute:t=>t&&t.getMinutes(),second:t=>t&&t.getSeconds()},iCe=function(){var t=arguments[1],e=this.calculateCellValue(t);if(!f(e))return null;if(W$(this.dataType)){var i=arguments[0];return tCe[i](e)}if(this.dataType==="number"){var n=arguments[0];return Math.floor(Number(e)/n)*n}},nCe=function(t,e){return T(t)&&T(e)&&t.originalCallback&&e.originalCallback?t.originalCallback===e.originalCallback&&t.columnIndex===e.columnIndex:t===e};function W$(t){return t==="date"||t==="datetime"}var L$=function(t){t.get(0).textContent="\xA0"},eM=function(t){t=t||[];for(var e=fn(t),i=0;i<t.length;i++)t&&t[i]&&t[i].isExpanded!==void 0&&(e[i].isExpanded=t[i].isExpanded),t&&t[i]&&t[i].groupInterval!==void 0&&(e[i].groupInterval=t[i].groupInterval);return e},G$=function(t,e){var i=My.format(t,e.format)||t&&t.toString()||"",n={value:t,valueText:e.getDisplayFormat?e.getDisplayFormat(i):i,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},V$=function(t,e){var i=t.displayFormat||t.columnCaption&&e["".concat(t.summaryType,"OtherColumn")]||e[t.summaryType];return G$(t.value,{format:t.valueFormat,getDisplayFormat:n=>i?Ri(i,n,t.columnCaption):n,customizeText:t.customizeText})},H$=function(t){var e=t.data&&t.data(),i=e&&e.dxComponents,n=i&&i[0];return n&&e[n]},oCe=function t(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],i[n]))return!1;return!0}return T(e)&&e.columnIndex>=0&&T(i)&&i.columnIndex>=0?e.columnIndex===i.columnIndex&&Wt(e.filterValue)===Wt(i.filterValue)&&Wt(e.selectedFilterOperation)===Wt(i.selectedFilterOperation):Wt(e)==Wt(i)};function rCe(t){return Array.isArray(t)||(t=[t]),t.map((e,i)=>N(e)?{selector:e,isExpanded:i<t.length-1}:e)}var M={renderNoDataText(t){if(t=t||this.element(),!!t){var e=this.addWidgetPrefix(Jxe),i=t.find(".".concat(e)).last(),n=this._dataController.isEmpty(),o=this._dataController.isLoading();i.length||(i=h("<span>").addClass(e)),i.parent().is(t)||i.appendTo(t),n&&!o?i.removeClass("dx-hidden").text(this._getNoDataText()):i.addClass("dx-hidden")}},renderLoadPanel(t,e,i){var n;this._loadPanel&&this._loadPanel.$element().remove(),n=this.option("loadPanel"),n&&(n.enabled==="auto"?!i:n.enabled)?(n=v({shading:!1,message:n.text,container:e},n),this._loadPanel=this._createComponent(h("<div>").appendTo(e),_y,n)):this._loadPanel=null},calculateLoadPanelPosition(t){var e=h(G());return Y(t)>Y(e)?{of:e,boundary:t,collision:"fit"}:{of:t}},getIndexByKey(t,e,i){var n=-1;if(t!==void 0&&Array.isArray(e)){i=arguments.length<=2?"key":i;for(var o=0;o<e.length;o++){var r=f(i)?e[o][i]:e[o];if(_e(t,r)){n=o;break}}}return n},combineFilters(t,e){var i,n=[];e=e||"and";for(var o=0;o<t.length;o++)if(t[o]){if(((i=t[o])===null||i===void 0?void 0:i.length)===1&&t[o][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}n.length&&n.push(e),n.push(t[o])}if(n.length===1&&(n=n[0]),n.length)return n},checkChanges(t,e){for(var i=0,n=0;n<e.length;n++)t[e[n]]&&i++;return t.length&&t.length===i},equalFilterParameters:oCe,proxyMethod(t,e,i){t[e]||(t[e]=function(){var n=this._dataSource;return n?n[e].apply(n,arguments):i})},formatValue:G$,getFormatOptionsByColumn:(t,e)=>({format:t.format,getDisplayFormat:t.getDisplayFormat,customizeText:t.customizeText,target:e,trueText:t.trueText,falseText:t.falseText}),getDisplayValue(t,e,i,n){return t.displayValueMap&&t.displayValueMap[e]!==void 0?t.displayValueMap[e]:t.calculateDisplayValue&&i&&n!=="group"?t.calculateDisplayValue(i):t.lookup&&!(n==="group"&&(t.calculateGroupValue||t.calculateDisplayValue))?t.lookup.calculateCellValue(e):e},getGroupRowSummaryText(t,e){for(var i="(",n=0;n<t.length;n++){var o=t[n];i+=(n>0?", ":"")+V$(o,e)}return i+")"},getSummaryText:V$,normalizeSortingInfo:eM,getFormatByDataType(t){switch(t){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(t,e){var i=[],n=t.dataField||t.name,o=Bo.getGroupInterval(t);return o?(x(o,(r,a)=>{i.push(e?{selector:n,groupInterval:a,isExpanded:r<o.length-1}:iCe.bind(t,a))}),i):(e?i=[{selector:n,isExpanded:!1}]:(i=function(r){var a=t.calculateCellValue(r);return(a===void 0||a==="")&&(a=null),a},t.sortingMethod&&(i=[{selector:i,compare:t.sortingMethod.bind(t)}])),i)},equalSortParameters(t,e,i){if(t=eM(t),e=eM(e),Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!nCe(t[n].selector,e[n].selector)||t[n].desc!==e[n].desc||t[n].groupInterval!==e[n].groupInterval||!i&&!!t[n].isExpanded!=!!e[n].isExpanded)return!1;return!0}return(!t||!t.length)==(!e||!e.length)},getPointsByColumns(t,e,i,n){for(var o=t.length,r=!1,a,s,l=n||0,d=[],u,c=0;c<=o;c++){c<o&&(a=t.eq(c),s=a.offset(),u=a.css("direction")==="rtl");var p={index:l,x:s?s.left+(!i&&u^c===o?Ze(a[0]).width:0):0,y:s?s.top+(i&&c===o?Ze(a[0]).height:0):0,columnIndex:l};if(!i&&c>0){var g=t.eq(c-1).offset();g.top<p.y&&(p.y=g.top)}e&&(r=e(p)),r||d.push(p),l++}return d},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(t,e){var i=h(t);if(f(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){var n=e.component.getView("rowsView");i.addClass(Qxe).addClass(Kxe),h("<div>").addClass(e.value?qxe:Yxe).appendTo(i),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),i)}else L$(i)}}),setEmptyText:L$,isDateType:W$,getSelectionRange(t){try{if(t)return{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}}catch{}return{}},setSelectionRange(t,e){try{t&&t.setSelectionRange&&t.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement(t,e){var i=e.is(":focus");_.trigger(e,"focus");var n=t.option("editing.selectTextOnEditStart"),o=e.get(0);if(!i&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var r=H$(e.closest(".dx-texteditor"));A(r&&r._loadItemDeferred).done(()=>{o.select()})}},getWidgetInstance:H$,getLastResizableColumnIndex(t,e){var i=t.some(s=>s&&!s.command&&!s.fixed&&s.allowResizing!==!1),n;for(n=t.length-1;t[n];n--){var o=t[n],r=e&&e[n],a=!i||o.allowResizing!==!1;if(!o.command&&!o.fixed&&r!=="adaptiveHidden"&&a)break}return n},isElementInCurrentGrid(t,e){if(e&&e.length){var i=e.closest(".".concat(t.getWidgetContainerClass())).parent();return i.is(t.component.$element())}return!1},isVirtualRowRendering(t){var e=t.option(eCe),i=t.option(N$)===P$,n=t.option(N$)===Xxe;return t.option(Zxe)===!1&&(i||n)?!0:e===P$},getPixelRatio:t=>t.devicePixelRatio||1,getContentHeightLimit(t){return t.mozilla?8e6:15e6/this.getPixelRatio(G())},normalizeLookupDataSource(t){var e;return t.items?e=t.items:(e=t.dataSource,T(e)&&!qt.isWrapped(e)&&(e=e({}))),kn(e)},getWrappedLookupDataSource(t,e,i){if(!e)return[];var n=this.normalizeLookupDataSource(t.lookup);if(t.calculateCellValue!==t.defaultCalculateCellValue)return n;var o=e.remoteOperations().groupPaging,r=t.displayField&&N(t.displayField),a,s,l,d=(c,p)=>{var g,m=(g=p.skip)!==null&&g!==void 0?g:0,y=p.take?m+p.take:c.length;return c.slice(m,y)},u=E(E({},n),{__dataGridSourceFilter:i,load:c=>{var p=new S;return(g=>{var m=rCe(r?[t.dataField,t.displayField]:t.dataField),y=new S,C=a&&(!o||g.skip===l&&g.take===s);return C?y.resolve(d(a,g)):(l=g.skip,s=g.take,e.load({filter:i,group:m,take:o?g.take:void 0,skip:o?g.skip:void 0}).done(b=>{a=b,y.resolve(o?b:d(b,g))}).fail(y.fail)),y})(c).done(g=>{if(g.length===0){p.resolve([]);return}var m=this.combineFilters(g.flatMap(C=>C.key).map(C=>[t.lookup.valueExpr,C]),"or"),y=new mi(E(E(E({},n),c),{filter:this.combineFilters([m,c.filter],"and"),paginate:!1}));y.load().done(p.resolve).fail(p.fail)}).fail(p.fail),p},key:t.lookup.valueExpr,byKey(c){var p=S();return this.load({filter:[t.lookup.valueExpr,"=",c]}).done(g=>{p.resolve(g[0])}),p.promise()}});return u},logHeaderFilterDeprecatedWarningIfNeed(t){var e=t._logDeprecatedOptionWarning.bind(t);f(t.option("headerFilter.allowSearch"))&&e("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),f(t.option("headerFilter.searchTimeout"))&&e("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var i=t.NAME==="dxPivotGrid"?"dataSource.fields":"columns",n=t.option(i);if(Array.isArray(n)){var o=r=>{r.forEach(a=>{var s,l=a.headerFilter||{};f(l.allowSearch)&&e("".concat(i,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(i,"[].headerFilter.search.enabled")}),f(l.searchMode)&&e("".concat(i,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(i,"[].headerFilter.search.mode")}),!((s=a.columns)===null||s===void 0)&&s.length&&o(a.columns)})};o(n)}}};var z$="scroll-container",aCe="scrollable-simulated",sCe="group-space",lCe="content",dCe="table",uCe="table-fixed",cCe="content-fixed",df="dx-row",tM="dx-group-row",hCe="dx-group-cell",iM="dx-master-detail-row",pCe="filter-row",gCe="dx-error-row",fCe="cell-updated-animation",j$="0.0001px",nM="dxCellHintVisible",mCe="dx-field-item-content",vCe={render(t){t.container.append(t.content)}},_Ce=function(t,e){var i,n,o;function r(a){return setTimeout(()=>{i=n=null},a)}_.on(e,"touchstart touchend",".dx-row",a=>{clearTimeout(o),a.type==="touchstart"?(i=a.target,n=a.currentTarget,o=r(1e3)):o=r()}),_.on(e,[se,Od,ae.down].join(" "),".dx-row",t.createAction(a=>{var{event:s}=a;i&&(s.target=i,s.currentTarget=n),h(s.target).closest("a").length||(a.rowIndex=t.getRowIndex(s.currentTarget),a.rowIndex>=0&&(a.rowElement=V(h(s.currentTarget)),a.columns=t.getColumns(),s.type===ae.down?t._rowPointerDown(a):s.type===se?t._rowClick(a):t._rowDblClick(a)))}))},$y=function(t){return t==="auto"?"":ve(t)?"".concat(t,"px"):t},U$=function(t,e,i){t.style.width=t.style.maxWidth=e.width==="auto"?"":i},yCe=function(t,e){if(!(!t||!e)){var i=t.attributes,n=e.attributes,o;for(o=0;o<i.length;o++){var r=i[o].nodeName;e.hasAttribute(r)||t.removeAttribute(r)}for(o=0;o<n.length;o++)t.setAttribute(n[o].nodeName,n[o].nodeValue)}},xCe=function(t){t.resolve()},oM=t=>typeof t=="number"?"".concat(t.toFixed(3),"px"):t==="adaptiveHidden"?j$:t,ko=class extends R$(ye.View){init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._columnChooserController=this.getController("columnChooser"),this._editorFactoryController=this.getController("editorFactory"),this._selectionController=this.getController("selection"),this._columnChooserView=this.getView("columnChooserView"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:e=>{this._afterRowPrepared(e)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}dispose(){var e,i;if(W()){var n=G();(e=this._templateTimeouts)===null||e===void 0||e.forEach(o=>n.clearTimeout(o)),(i=this._templateTimeouts)===null||i===void 0||i.clear()}}optionChanged(e){switch(super.optionChanged(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0;break;case"keyboardNavigation":e.fullName==="keyboardNavigation.enabled"&&this._invalidate(!0,!0),e.handled=!0}}setTableRole(e){}_createScrollableOptions(){var e=this.option("scrolling"),i=this.option("scrolling.useNative"),n=v({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return i===void 0&&(i=!0),i==="auto"?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!i,n.useSimulatedScrollbar=!i),n}_updateCell(e,i){i.rowType&&this._cellPrepared(e,i)}_needToSetCellWidths(){return this.option("columnAutoWidth")}_createCell(e){var{column:i}=e,n=i.alignment||Xi(this.option("rtlEnabled")),o=this._needToSetCellWidths(),r=I.createElement("td");r.style.textAlign=n;var a=h(r);return e.rowType==="data"&&i.headerId&&!i.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",i.headerId,a),i.cssClass&&a.addClass(i.cssClass),Array.isArray(i.elementAttr)&&i.elementAttr.forEach(s=>{var{name:l,value:d}=s;a.attr(l,d)}),i.command==="expand"&&(a.addClass(i.cssClass),a.addClass(this.addWidgetPrefix(sCe))),i.colspan>1?a.attr("colSpan",i.colspan):!i.isBand&&i.visibleWidth!=="auto"&&o&&((i.width||i.minWidth)&&(r.style.minWidth=$y(i.minWidth||i.width)),i.width&&U$(r,i,$y(i.width))),a}_createRow(e,i){i=i||"tr";var n=h("<".concat(i,">")).addClass(df);return this.setAria("role","row",n),n}_isAltRow(e){return e&&e.dataIndex%2===1}_createTable(e,i){var n=h("<table>").addClass(this.addWidgetPrefix(dCe)).addClass(this.addWidgetPrefix(uCe));if(e&&!i?(n.append(this._createColGroup(e)),be.safari&&n.append(h("<thead>").append("<tr>")),this.setTableRole(n)):this.setAria("hidden",!0,n),this.setAria("role","presentation",h("<tbody>").appendTo(n)),i)return n;be.mozilla&&_.on(n,"mousedown","td",r=>{r.ctrlKey&&r.preventDefault()}),this.option("cellHintEnabled")&&_.on(n,"mousemove",".dx-row > td",this.createAction(r=>{var a=r.event,s=h(a.target),l=h(a.currentTarget),d=l.parent(),u=this._columnsController.getVisibleColumns(),c=d.data("options"),p=l.index(),g=c&&c.cells&&c.cells[p],m=g?g.column:u[p],y=d.hasClass("dx-header-row"),C=d.hasClass("dx-data-row"),b=d.hasClass(iM),O=d.hasClass(tM),k=d.hasClass(this.addWidgetPrefix(pCe)),J=C&&(!m||m.cellTemplate),U=C&&g&&(c.isEditing||g.isEditing||m?.showEditorAlways),z=y&&(!m||m.headerCellTemplate),ce=O&&(!m||m.groupIndex&&m.groupCellTemplate),fe=!b&&!k&&!U&&!J&&!z&&!ce;if(fe){s.data(nM)&&(s.removeAttr("title"),s.data(nM,!1));var he=s[0].scrollWidth-s[0].clientWidth;he>0&&!f(s.attr("title"))&&(s.attr("title",s.text()),s.data(nM,!0))}}));var o=r=>{var a=h(r.currentTarget),s=h(r.target).closest(".".concat(mCe)),l=a.parent(),d=l.data("options"),u=d&&d.cells&&d.cells[a.index()];if(a.closest("table").is(r.delegateTarget)){var c=v({},u,{cellElement:V(a),event:r,eventType:r.type});if(c.rowIndex=this.getRowIndex(l),s.length){var p=s.data("dx-form-item");p.column&&(c.column=p.column,c.columnIndex=this._columnsController.getVisibleIndex(c.column.index))}return c}};return _.on(n,"mouseover",".dx-row > td",r=>{var a=o(r);a&&this.executeAction("onCellHoverChanged",a)}),_.on(n,"mouseout",".dx-row > td",r=>{var a=o(r);a&&this.executeAction("onCellHoverChanged",a)}),_.on(n,se,".dx-row > td",r=>{var a=o(r);a&&this.executeAction("onCellClick",a)}),_.on(n,Od,".dx-row > td",r=>{var a=o(r);a&&this.executeAction("onCellDblClick",a)}),_Ce(this,n),n}_rowPointerDown(e){}_rowClick(){}_rowDblClick(){}_createColGroup(e){for(var i=h("<colgroup>"),n=0;n<e.length;n++)for(var o=e[n].colspan||1,r=0;r<o;r++)i.append(this._createCol(e[n]));return i}_createCol(e){var i=e.visibleWidth||e.width;i==="adaptiveHidden"&&(i=j$);var n=h("<col>");return Rp(n,i),n}renderDelayedTemplates(e){var i=this._delayedTemplates,n=i.filter(r=>!r.async),o=i.filter(r=>r.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(o)}_renderDelayedTemplatesCoreAsync(e){if(e.length){var i=G().setTimeout(()=>{this._templateTimeouts.delete(i),this._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(i)}}_renderDelayedTemplatesCore(e,i,n){for(var o=new Date;e.length;){var r=e.shift(),{options:a}=r,s=I.getRootNode(h(a.container).get(0)),l=this.needWaitAsyncTemplates();if((!i||h(a.container).closest(s).length||l)&&(n&&(a.change=n),r.template.render(a)),i&&new Date-o>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(e,i){var n;if(e&&e.render&&!ii(e))n={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render(r){e.render(r.container,r.model,r.change),r.deferred&&r.deferred.resolve()}};else if(T(e))n={render(r){var a=e(V(r.container),r.model,r.change);a&&(a.nodeType||ii(a))&&r.container.append(a),r.deferred&&r.deferred.resolve()}};else{var o=N(e)?e:h(e).attr("id");o?(this._templatesCache[o]||(this._templatesCache[o]=this.getTemplate(e)),n=this._templatesCache[o]):n=this.getTemplate(e)}return n}renderTemplate(e,i,n,o,r){var a,s=this._processTemplate(i,n),{column:l}=n,d=n.rowType==="data",u=new S,c={container:e,model:n,deferred:u,onRendered:()=>{this.isDisposed()?u.reject():u.resolve()}};if(s){n.component=this.component;var p=l&&(l.renderAsync&&d||this.option("renderAsync")&&(l.renderAsync!==!1&&(l.command||l.showEditorAlways)&&d||n.rowType==="filter")),g=(a=n.renderAsync)!==null&&a!==void 0?a:p;(s.allowRenderToDetachedContainer||o)&&!g?s.render(c):this._delayedTemplates.push({template:s,options:c,async:g}),this._templateDeferreds.add(u),_.on(e,Gt,xCe.bind(null,u))}else u.reject();return u.promise().always(()=>{this._templateDeferreds.delete(u)})}_getBodies(e){return h(e).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(e){var i,n=!!this.option().rowTemplate;return n&&!!(!((i=this._getBodies(e))===null||i===void 0)&&i.filter(".".concat(df)).length)}_wrapRowIfNeed(e,i,n){var o=n?e||this._tableElement:this._tableElement||e,r=this._needWrapRow(o);if(r){var a=h("<tbody>").addClass(i.attr("class"));return this.setAria("role","presentation",a),a.append(i)}return i}_appendRow(e,i,n){n=n||vCe,n.render({content:i,container:e})}_resizeCore(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}_renderCore(e){var i=this.element().parent();(!i||i.parent().length)&&this.renderDelayedTemplates(e)}_renderTable(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var i=e.change&&e.change.changeType,n=this._createTable(e.columns,i==="append"||i==="prepend"||i==="update");return this._renderRows(n,e),n}_renderRows(e,i){for(var n=this._getRows(i.change),o=i.change&&i.change.columnIndices||[],r=i.change&&i.change.changeTypes||[],a=0;a<n.length;a++)this._renderRow(e,v({row:n[a],columnIndices:o[a],changeType:r[a]},i))}_renderRow(e,i){i.columnIndices||(i.row.cells=[]);var n=this._createRow(i.row),o=this._wrapRowIfNeed(e,n);i.changeType!=="remove"&&this._renderCells(n,i),this._appendRow(e,o);var r=v({columns:i.columns},i.row);this._addWatchMethod(r,i.row),this._rowPrepared(o,r,i.row)}_needRenderCell(e,i){return!i||i.indexOf(e)>=0}_renderCells(e,i){for(var n=0,{row:o}=i,{columns:r}=i,a=0;a<r.length;a++)this._needRenderCell(a,i.columnIndices)&&this._renderCell(e,v({column:r[a],columnIndex:n,value:o.values&&o.values[n],oldValue:o.oldValues&&o.oldValues[n]},i)),r[a].colspan>1?n+=r[a].colspan:n++}_updateCells(e,i,n){var o=e.children(),r=i.children(),a=this.option("highlightChanges"),s=this.addWidgetPrefix(fCe);n.forEach((l,d)=>{var u=o.eq(l),c=r.eq(d);u.replaceWith(c),a&&!c.hasClass("dx-command-expand")&&c.addClass(s)}),yCe(e.get(0),i.get(0))}_setCellAriaAttributes(e,i){if(i.rowType!=="freeSpace"){this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),o=i.columnIndex+n+1;this.setAria("colindex",o,e)}}_renderCell(e,i){var n=this._getCellOptions(i);if(i.columnIndices){if(i.row.cells){var o=i.row.cells.findIndex(a=>a.columnIndex===n.columnIndex);i.row.cells[o]=n}}else i.row.cells.push(n);var r=this._createCell(n);return this._setCellAriaAttributes(r,n),this._renderCellContent(r,n,i),e.get(0).appendChild(r.get(0)),r}_renderCellContent(e,i,n){var o=this._getCellTemplate(i);A(!o||this.renderTemplate(e,o,i,void 0,n.change)).done(()=>{this._updateCell(e,i)})}_getCellTemplate(e){}_getRows(e){return[]}_getCellOptions(e){var i={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(i),i}_addWatchMethod(e,i){if(this.option("repaintChangesOnly")){var n=[];return i=i||e,i.watch=i.watch||function(o,r,a){var s=o(i.data),l=function(d){d&&a&&a(d);var u=o(i.data);JSON.stringify(s)!==JSON.stringify(u)&&(d&&r(u),s=u)};return n.push(l),function(){var d=n.indexOf(l);d>=0&&n.splice(d,1)}},i.update=i.update||function(o,r){o&&(this.data=e.data=o.data,this.rowIndex=e.rowIndex=o.rowIndex,this.dataIndex=e.dataIndex=o.dataIndex,this.isExpanded=e.isExpanded=o.isExpanded,e.row&&!r&&(e.row=o)),n.forEach(a=>{a(o)})},i!==e&&(e.watch=i.watch.bind(i)),e}}_cellPrepared(e,i){i.cellElement=V(h(e)),this.executeAction("onCellPrepared",i)}_rowPrepared(e,i,n){Ve(e.get(0),"options",i),i.rowElement=V(e),this.executeAction("onRowPrepared",i)}_columnOptionChanged(e){var{optionNames:i}=e;if(M.checkChanges(i,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),o=n.map(r=>r.visibleWidth||r.width);this.setColumnWidths({widths:o,optionNames:i});return}this._requireReady||this.render()}getCellIndex(e,i){var n=e.length?e[0].cellIndex:-1;return n}getTableElements(){return this._tableElement||h()}getTableElement(e){return this._tableElement}setTableElement(e,i){this._tableElement=e}_afterRowPrepared(e){}_handleDataChanged(e){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}scrollTo(e){var i=this.element(),n=i&&i.children(".".concat(this.addWidgetPrefix(z$))).not(".".concat(this.addWidgetPrefix(cCe)));f(e)&&f(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))}_getContent(e){var i;return(i=this._tableElement)===null||i===void 0?void 0:i.parent()}_removeContent(e){var i=this._getContent(e);i?.length&&i.remove()}_wrapTableInScrollContainer(e,i){var n=h("<div>"),o=this.option("scrolling.useNative");return(o===!1||o==="auto"&&!So)&&n.addClass(this.addWidgetPrefix(aCe)),_.on(n,"scroll",()=>{var r=n.scrollLeft();r!==this._scrollLeft&&this.scrollChanged.fire({left:r},this.name)}),n.addClass(this.addWidgetPrefix(lCe)).addClass(this.addWidgetPrefix(z$)).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&this.option("renderAsync")===!1}waitAsyncTemplates(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new S,n=e||this.needWaitAsyncTemplates();if(!n)return i.resolve();var o=()=>A.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?i.reject():this._templateDeferreds.size>0?o():i.resolve()}).fail(i.reject);return o(),i.promise()}_updateContent(e,i,n){return this.waitAsyncTemplates().done(()=>{this._removeContent(n),this.setTableElement(e,n),this._wrapTableInScrollContainer(e,n)})}_findContentElement(e){}_getWidths(e){if(!e)return[];var i=[],n=e.toArray();return n.forEach(o=>{var r=o.offsetWidth;if(o.getBoundingClientRect){var a=Ze(o);a.width>o.offsetWidth-1&&(r=a.width)}i.push(r)}),i}getColumnWidths(e){if((this.option("forceApplyBindings")||D)(),e=e??this.getTableElement(),e)for(var i=e.children("tbody:not(.dx-header)").children(),n=0;n<i.length;n++){var o=i.eq(n),r=o.hasClass(tM),a=o.hasClass(iM),s=o.hasClass(gCe),l=o.get(0).style.display!=="none"&&!o.hasClass("dx-state-invisible"),d=!r&&!a&&!s;if(l&&d){var u=o.children("td"),c=this._getWidths(u);return c}}return[]}getVisibleColumnIndex(e,i){return e}setColumnWidths(e){var{widths:i,optionNames:n}=e,o=this.getTableElement();if(!(!o?.length||!i)){var r=this.getColumns(),a=this._needToSetCellWidths(),s=o.children("colgroup").children("col");s.toArray().forEach(l=>l.removeAttribute("style")),r.forEach((l,d)=>{if(a&&l.width&&!l.command)for(var u=$y(l.visibleWidth||l.width),c=$y(l.minWidth||u),p=o.children().children(".dx-row").not(".".concat(iM)),g=0;g<p.length;g++){var m=this.getVisibleColumnIndex(d,g);if(m>=0){var y=p.eq(g),C=y.hasClass(tM)?y.find("td[aria-colindex='".concat(m+1,"']:not(.").concat(hCe,")")):y.find("td").eq(m);if(C.length){var b=C.get(0);U$(b,l,u),b.style.minWidth=c}}}var O=oM(i[d]);f(O)&&Rp(s.eq(d),O)})}}getCellElements(e){return this._getCellElementsCore(e)}_getCellElementsCore(e){if(!(e<0)){var i=this._getRowElements().eq(e);return i.children()}}_getCellElement(e,i){var n=this.getCellElements(e),o=this._getVisibleColumnIndex(n,e,i);if(!(!n?.length||o<0)){var r=n.eq(o);return r.length>0?r:void 0}}_getRowElement(e){var i=this,n=h(),o=i.getTableElements();if(x(o,(r,a)=>{n=n.add(i._getRowElements(h(a)).eq(e))}),n.length)return n}getCellElement(e,i){var n=this._getCellElement(e,i);if(n)return V(n)}getRowElement(e){var i=this._getRowElement(e),n=[];if(i&&!V(i).get)for(var o=0;o<i.length;o++)n.push(i[o]);else n=i;return n}_getVisibleColumnIndex(e,i,n){if(N(n)){var o=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(o)}return n}getColumnElements(){}getColumns(e,i){return this._columnsController.getVisibleColumns(e)}getCell(e,i,n){var o=i||this._getRowElements(),r;if(o.length>0&&e.rowIndex>=0&&(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<o.length?e.rowIndex:o.length-1),r=n||this.getCellElements(e.rowIndex),r?.length>0))return r.eq(r.length>e.columnIndex?e.columnIndex:r.length-1)}getRowsCount(){var e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0}_getRowElementsCore(e){if(e=e||this.getTableElement(),e){var i=this.option().rowTemplate||this.option("dataRowTemplate"),n=i&&e.find("> tbody.".concat(df));return n&&n.length?n:e.find("> tbody > "+".".concat(df,", > .").concat(df))}return h()}_getRowElements(e){return this._getRowElementsCore(e)}getRowIndex(e){return this._getRowElements().index(e)}getBoundingRect(){}getName(){}setScrollerSpacing(e){var i=this.element(),n=this.option("rtlEnabled");i&&i.css({paddingLeft:n?e:"",paddingRight:n?"":e})}isScrollbarVisible(e){var i=this.element(),n=this._tableElement;return i&&n?e?ee(n)-H(i)>0:oe(n)-Y(i)>0:!1}isDisposed(){var e;return(e=this.component)===null||e===void 0?void 0:e._disposed}};var lM="text-content",CCe="headers",SCe="nowrap",bCe=".dx-row",$$="dx-header-row",DCe="dx-column-lines",wCe="context-menu-sort-asc",ECe="context-menu-sort-desc",OCe="context-menu-sort-none",ICe="dx-cell-focus-disabled",rM="dx-visibility-hidden",K$="dx-text-content-alignment-",FCe="dx-sort-indicator",TCe="dx-sort-index-indicator",MCe=".dx-header-filter",ACe="dx-header-filter-indicator",RCe="dx-header-multi-row",BCe="dx-link",aM=function(t,e,i){var n=h("<div>").addClass(t.addWidgetPrefix(lM));t.setAria("role","presentation",n),q$(t,e,i.column,n);var o=t.option("showColumnLines"),r=t.getController("columns").getHeaderContentAlignment(i.column.alignment);return n[o||r==="right"?"appendTo":"prependTo"](e)};function q$(t,e,i,n){var o=t._getIndicatorElements(e,!0),r=t._getIndicatorElements(e),a=o&&o.length,s=t._getColumnAlignment(i.alignment),l=".".concat(t._getIndicatorClassName("sort")),d=".".concat(t._getIndicatorClassName("sortIndex")),u=r.filter(l),c=r.children().filter(d);n=n||e.children(".".concat(t.addWidgetPrefix(lM))),n.toggleClass(K$+s,a>0).toggleClass(K$+(s==="left"?"right":"left"),a>0&&i.alignment==="center").toggleClass(FCe,!!u.length).toggleClass(TCe,!!c.length).toggleClass(ACe,!!r.filter(".".concat(t._getIndicatorClassName("headerFilter"))).length)}var sM=class extends ko{init(){super.init(),this._headerPanelView=this.getView("headerPanel"),this._headerFilterController=this.getController("headerFilter"),this._dataController=this.getController("data")}_createTable(){var e=super._createTable.apply(this,arguments);return _.on(e,"mousedown selectstart",this.createAction(i=>{var{event:n}=i;n.shiftKey&&n.preventDefault()})),e}_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDefaultTemplate(e){var i=this;return function(n,o){var{caption:r}=e,a=!e.command||r&&e.command!=="expand";if(e.command==="empty")i._renderEmptyMessage(n,o);else if(a){var s=aM(i,n,o);s.text(r)}else e.command&&n.html("&nbsp;")}}_renderEmptyMessage(e,i){var n=this._getEmptyHeaderText();if(!n){e.html("&nbsp;");return}var o=aM(this,e,i),r=n.includes("{0}");if(r){var[a,s]=n.split("{0}"),l=w.format("dxDataGrid-emptyHeaderColumnChooserText"),d=this._columnChooserView,u=h("<a>").text(l).addClass(BCe);_.on(u,"click",this.createAction(()=>d.showColumnChooser())),o.append(I.createTextNode(a)).append(u).append(I.createTextNode(s))}else o.text(n)}_getEmptyHeaderText(){var e=!!this._columnChooserView.hasHiddenColumns(),i=!!this._headerPanelView.hasGroupedColumns();switch(!0){case(e&&i):return w.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case i:return w.format("dxDataGrid-emptyHeaderWithGroupPanelText");case e:return w.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}}_getHeaderTemplate(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}}_processTemplate(e,i){var n=this,o,{column:r}=i,a=super._processTemplate(e);return i.rowType==="header"&&a&&r.headerCellTemplate&&!r.command?o={render(s){var l=aM(n,s.container,s.model);a.render(v({},s,{container:l}))}}:o=a,o}_handleDataChanged(e){e.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())}_renderCell(e,i){var n=super._renderCell(e,i);return i.row.rowType==="header"&&(n.addClass(ICe),this._isLegacyKeyboardNavigation()||i.column&&!i.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n}_setCellAriaAttributes(e,i){super._setCellAriaAttributes(e,i),i.rowType==="header"&&(i.column.type||this.setAria("role","columnheader",e),i.column&&!i.column.command&&!i.column.isBand&&(e.attr("id",i.column.headerId),this.setAria("label","".concat(w.format("dxDataGrid-ariaColumn")," ").concat(i.column.caption),e)))}_createRow(e){var i=super._createRow.apply(this,arguments);return i.toggleClass(DCe,this.option("showColumnLines")),e.rowType==="header"&&(i.addClass($$),this._isLegacyKeyboardNavigation()||dl("columnHeaders",this,i,"td",this._handleActionKeyDown.bind(this))),i}_processHeaderAction(e,i){}_handleActionKeyDown(e){var{event:i}=e,n=h(i.target);if(this._lastActionElement=i.target,n.is(MCe)){var o=this._headerFilterController,r=n.closest("td"),a=this.getColumnIndexByElement(r);a>=0&&o.showHeaderFilterMenu(a,!1)}else{var s=n.closest(bCe);this._processHeaderAction(i,s)}i.preventDefault()}_renderCore(){var e=this.element(),i={};if(!(this._tableElement&&!this._dataController.isLoaded()&&!this._hasRowElements)){e.addClass(this.addWidgetPrefix(CCe)).toggleClass(this.addWidgetPrefix(SCe),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",e);var n=this._updateContent(this._renderTable({change:i}),i);return this.getRowCount()>1&&e.addClass(RCe),super._renderCore.apply(this,arguments),n}}_renderRows(){(this._dataController.isLoaded()||this._hasRowElements)&&(super._renderRows.apply(this,arguments),this._hasRowElements=!0)}_renderRow(e,i){var n=this.getRowCount()===1?null:i.row.rowIndex;i.columns=this.getColumns(n),super._renderRow(e,i)}_createCell(e){var{column:i}=e,n=super._createCell.apply(this,arguments);return i.rowspan>1&&e.rowType==="header"&&n.attr("rowSpan",i.rowspan),n}_getRows(){var e=[],i=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<i;n++)e.push({rowType:"header",rowIndex:n});return e}_getCellTemplate(e){if(e.rowType==="header")return this._getHeaderTemplate(e.column)}_columnOptionChanged(e){var{changeTypes:i}=e,{optionNames:n}=e;if(i.grouping||i.groupExpanding){i.grouping&&(this._isGroupingChanged=!0);return}super._columnOptionChanged(e),(n.width||n.visible)&&this.resizeCompleted.fire()}_isElementVisible(e){return e&&e.visible}_alignCaptionByCenter(e){var i=this._getIndicatorContainer(e,!0);i&&i.length&&(i.filter(".".concat(rM)).remove(),i=this._getIndicatorContainer(e),i.clone().addClass(rM).css("float","").insertBefore(e.children(".".concat(this.addWidgetPrefix(lM)))))}_updateCell(e,i){i.rowType==="header"&&i.column.alignment==="center"&&this._alignCaptionByCenter(e),super._updateCell.apply(this,arguments)}_updateIndicator(e,i,n){var o=super._updateIndicator.apply(this,arguments);return i.alignment==="center"&&this._alignCaptionByCenter(e),q$(this,e,i),o}_getIndicatorContainer(e,i){var n=super._getIndicatorContainer(e);return i?n:n.filter(":not(.".concat(rM,")"))}_isSortableElement(e){return!0}getHeadersRowHeight(){var e=this.getTableElement(),i=e&&e.find(".".concat($$));return i&&i.toArray().reduce((n,o)=>n+Y(o),0)||0}getHeaderElement(e){var i=this.getColumnElements();return i&&i.eq(e)}getColumnElements(e,i){var n=this,o,r=n._columnsController,a=n.getRowCount();if(n.option("showColumnHeaders")){if(a>1&&(!f(e)||f(i))){var s=[],l=f(i)?r.getChildrenByBandColumn(i,!0):r.getVisibleColumns();return x(l,(d,u)=>{var c=f(e)?e:r.getRowIndex(u.index);o=n._getCellElement(c,r.getVisibleIndex(u.index,c)),o&&s.push(o.get(0))}),h(s)}if(!e||e<a)return n.getCellElements(e||0)}}getColumnIndexByElement(e){var i=this.getCellIndex(e),n=e.closest(".dx-row"),{rowIndex:o}=n[0],r=this.getColumns(o)[i];return r?r.index:-1}getVisibleColumnIndex(e,i){var n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,i):-1}getColumnWidths(){var e=this.getColumnElements();return e&&e.length?this._getWidths(e):super.getColumnWidths.apply(this,arguments)}allowDragging(e){var i,n=e&&this._columnsController.getRowIndex(e.index),o=this.getColumns(n),r=(i=this.option("allowColumnReordering"))!==null&&i!==void 0?i:this._columnsController.isColumnOptionUsed("allowReordering");return r&&e.allowReordering&&o.length>1}getBoundingRect(){var e=this.getColumnElements();if(e&&e.length){var i=this.getTableElement().offset();return{top:i.top}}return null}getName(){return"headers"}getColumnCount(){var e=this.getColumnElements();return e?e.length:0}isVisible(){return this.option("showColumnHeaders")}optionChanged(e){switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:super.optionChanged(e)}}getHeight(){return this.getElementHeight()}getContextMenuItems(e){var i=this,{column:n}=e;if(e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){var o=i.option("sorting");if(o&&o.mode!=="none"&&n&&n.allowSorting){var r=function(a){setTimeout(()=>{i._columnsController.changeSortOrder(n.index,a.itemData.value)})};return[{text:o.ascendingText,value:"asc",disabled:n.sortOrder==="asc",icon:wCe,onItemClick:r},{text:o.descendingText,value:"desc",disabled:n.sortOrder==="desc",icon:ECe,onItemClick:r},{text:o.clearText,value:"none",disabled:!n.sortOrder,icon:OCe,onItemClick:r}]}}}getRowCount(){return this._columnsController&&this._columnsController.getRowCount()}setRowsOpacity(e,i,n){var o,r,a=this.getRowCount(),s=this._columnsController.getColumns(),l=s&&s[e],d=l&&l.isBand&&l.index,u=(p,g)=>{p.ownerBand===d&&(r.eq(g).css({opacity:i}),p.isBand&&this.setRowsOpacity(p.index,i,o+1))};if(f(d)){for(n=n||0,o=n;o<a;o++)if(r=this.getCellElements(o),r){var c=this.getColumns(o);c.forEach(u)}}}},dM={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:sM}};var P=E(E(E({},ye),M),{modules:[]});var Zvt=dM.views.columnHeadersView;P.registerModule("columnHeaders",dM);var uM=["filterValues","filterType","fixed","fixedPosition"],Qc=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(uM),Y$={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},Q$="dx-command-expand",cM=Number.MAX_SAFE_INTEGER||9007199254740991,Zr="groupExpand",J$="detailExpand",Ky=/columns\[(\d+)\]\.?/gi,X$={visible:!0,showInColumnChooser:!0},Z$={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},e5={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},ul="group",cl="columnChooser";var hM=function(t){t.filterOperations=t.defaultFilterOperations},kCe=1,cf=function(t,e,i,n){var o={};if(e){N(e)&&(e={dataField:e}),t.setName(e);var r={};if(e.command)r=Yi(o,e);else{o=t.getCommonSettings(e),i&&i.name&&i.dataField&&(e=v({},e,{dataField:i.dataField}));var a=t._createCalculatedColumnOptions(e,n);e.type||(r={headerId:"dx-col-".concat(kCe++)}),r=Yi(r,X$),Yi(r,o),Yi(r,a),Yi(r,e),Yi(r,{selector:null})}return e.filterOperations===e.defaultFilterOperations&&hM(r),r}},Id=function t(e,i,n,o){var r=[];return i&&x(i,(a,s)=>{var l=(o??0)+r.length,d=e._columnsUserState&&vM(s,e._columnsUserState[l])&&e._columnsUserState[l],u=cf(e,s,d,n);u&&(n&&(u.ownerBand=n),r.push(u),u.columns&&(r=r.concat(t(e,u.columns,u,r.length)),delete u.columns,u.hasColumns=!0))}),r},hl=function(t,e){for(var i=[],n=e[t];n;)i.unshift(n),t=n.index,n=e[t];return i},t5=function t(e,i,n){var o=[],r=i[e];if(r)for(var a=0;a<r.length;a++){var s=r[a];(!f(s.groupIndex)||s.showWhenGrouped)&&(o.push(s),n&&s.isBand&&(o=o.concat(t(s.index,i,n))))}return o},i5=function(t,e){var i,n,o=t.getBandColumnsCache(),r=function(s){var l=i?i.index:void 0;return s.ownerBand===l};if(o.isPlain)i=t._columns[e[0]];else{n=t._columns.filter(r);for(var a=0;a<e.length;a++)i=n[e[a]],i&&(n=t._columns.filter(r))}return i},PCe=function(t,e){var i=[],n,o=t.getBandColumnsCache(),r=function(s){return s.ownerBand===e.ownerBand};if(o.isPlain){var a=t._columns.indexOf(e);a>=0&&(i=["columns[".concat(a,"]")])}else for(n=t._columns.filter(r);n.length&&n.indexOf(e)!==-1;)i.unshift("columns[".concat(n.indexOf(e),"]")),e=o.columnParentByIndex[e.index],n=e?t._columns.filter(r):[];return i.join(".")},NCe=function t(e,i){var n=0,o=e.getChildrenByBandColumn(i,!0);return x(o,(r,a)=>{a.isBand?(a.colspan=a.colspan||t(e,a.index),n+=a.colspan||1):n+=1}),n},n5=function(t,e,i){for(var n,o=0;o<e.length;o++){var r=e[o];(r.visible||r.command)&&(r.isBand&&(r.colspan=r.colspan||NCe(t,r.index)),(!r.isBand||!r.colspan)&&(n=t.getRowCount(),!r.command&&(!f(r.groupIndex)||r.showWhenGrouped)&&(n-=hl(r.index,i.columnParentByIndex).length),n>1&&(r.rowspan=n)))}},qy=function(t){var e=gi(t);return e!=="string"&&e!=="boolean"&&e!=="number"&&e!=="date"&&e!=="object"&&(e=void 0),e},pM=function(t,e){switch(t){case"date":case"datetime":return Ct.getDateSerializationFormat(e);case"number":if(N(e))return"string";if(ve(e))return null}},gM=function(t,e){t.deserializeValue||(M.isDateType(e)&&(t.deserializeValue=function(i){return Ct.deserializeDate(i)},t.serializeValue=function(i){return N(i)?i:Ct.serializeDate(i,this.serializationFormat)}),e==="number"&&(t.deserializeValue=function(i){var n=parseFloat(i);return isNaN(n)?i:n},t.serializeValue=function(i,n){return n==="filter"?i:f(i)&&this.serializationFormat==="string"?i.toString():i}))},o5=function(t,e){switch(t){case"number":return"right";case"boolean":return"center";default:return Xi(e)}},LCe=function(t){return t.value===!0?this.trueText||"true":t.value===!1?this.falseText||"false":t.valueText||""},fM=function(t){if(t==="boolean")return LCe},r5=function(t,e){for(var i=t._getFirstItems(e),n,o={},r=[],a=0;a<i.length;a++)if(i[a])for(n in i[a])(!T(i[a][n])||qt.isWrapped(i[a][n]))&&(o[n]=!0);for(n in o)if(n.indexOf("__")!==0){var s=cf(t,n);r.push(s)}return r},a5=function(t){x(t._columns,(e,i)=>{i.index=e}),x(t._columns,(e,i)=>{L(i.ownerBand)&&(i.ownerBand=i.ownerBand.index)}),x(t._commandColumns,(e,i)=>{i.index=-(e+1)})},mM=function(t,e){nd(t._columns,"groupIndex",e,i=>{var{grouped:n}=i;return delete i.grouped,n})},VCe=function(t,e){x(t._columns,(i,n)=>{f(n.sortIndex)&&!uf(n.sortOrder)&&delete n.sortIndex}),nd(t._columns,"sortIndex",e,i=>!f(i.groupIndex)&&uf(i.sortOrder))},HCe=function(t,e){for(var i,n=[],o=t.getBandColumnsCache(),r=[],a=t._columns.filter(d=>!d.command),s=0;s<a.length;s++){i=a[s];var l=hl(s,o.columnParentByIndex);l.length?r.push(i):n.push(i)}nd(r,"visibleIndex",e),nd(n,"visibleIndex",e)},Yy=function(t,e,i){var n=L(e)?e.rowIndex:null,o=i===ul?t.getGroupColumns():i===cl?t.getChooserColumns():t.getVisibleColumns(n),r;return e=L(e)?e.columnIndex:e,r=o[e],r&&r.type===Zr&&(r=t._columns.filter(a=>r.type===a.type)[0]||r),r&&f(r.index)?r.index:-1},s5=function(t,e,i){var n=t.getGroupColumns(),o;if(i>=0)for(o=0;o<n.length;o++)n[o].groupIndex>=i&&n[o].groupIndex++;else for(i=0,o=0;o<n.length;o++)i=Math.max(i,n[o].groupIndex+1);return i};function vM(t,e){return t&&e&&e.name===(t.name||t.dataField)&&(e.dataField===t.dataField||t.name)}var _M=function(t){var e=t._columnsUserState,i=t._ignoreColumnOptionNames||[],n=t._columns,o={},r=[],a=!0,s=[],l,d,u;function c(y,C){if(C)for(var b=0;b<Qc.length;b++){var O=Qc[b];i.includes(O)||(O==="dataType"?y[O]=y[O]||C[O]:uM.includes(O)?O in C&&(y[O]=C[O]):(O==="selectedFilterOperation"&&C[O]&&(y.defaultSelectedFilterOperation=y[O]||null),y[O]=C[O]))}}function p(y,C){for(var b=C.name||C.dataField,O=o[b]||0,k=0;k<y.length;k++)if(vM(C,y[k]))if(O)O--;else return o[b]=o[b]||0,o[b]++,k;return-1}if(e){for(u=0;u<n.length;u++)d=p(e,n[u]),a=a&&d>=0,s.push(d);for(u=0;u<n.length;u++)l=n[u],d=s[u],(t._hasUserState||a)&&c(l,e[d]),d>=0&&f(e[d].initialIndex)?r[d]=l:r.push(l);var g=!1;for(u=0;u<e.length;u++){var m=e[u];m.added&&p(n,m)<0&&(l=cf(t,m.added),c(l,m),r.push(l),m.added.columns&&(g=!0))}g&&(a5(t),r=Id(t,r)),Fd(t,r)}},pl=function(t,e){a5(t),mM(t,e),VCe(t,e),DM(t),HCe(t,e)},hf=function(t){t.resetColumnsCache()};function Fd(t,e){t._previousColumns=t._columns,t._columns=e,hf(t),t.updateColumnDataTypes()}var ur=function(t,e,i,n){var o,r=t._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:n};i=i||"all",i=i.split(".")[0];var{changeTypes:a}=r;e&&!a[e]&&(a[e]=!0,a.length++);var{optionNames:s}=r;i&&!s[i]&&(s[i]=!0,s.length++),(n===void 0||n!==r.columnIndex)&&(f(n)&&((o=r.columnIndices)!==null&&o!==void 0||(r.columnIndices=[]),f(r.columnIndex)&&r.columnIndices.push(r.columnIndex),r.columnIndices.push(n)),delete r.columnIndex),t._columnChanges=r,hf(t)},Jc=function(t){var e=t.option("onColumnsChanging"),i=t._columnChanges,n=["dataField","lookup","dataType","columns"];t.isInitialized()&&!t._updateLockCount&&i&&(e&&(t._updateLockCount++,e(v({component:t.component},i)),t._updateLockCount--),t._columnChanges=void 0,o=i.optionNames,o&&n.some(r=>o[r])?(t._reinitAfterLookupChanges=i?.optionNames.lookup,t.reinit(),t._reinitAfterLookupChanges=void 0):t.columnsChanged.fire(i));var o},WCe=function(t,e,i,n){var o=n>=0;if(i>=0)o||(e.lastSortOrder=e.sortOrder);else{var r=t.option("sorting.mode"),a=e.lastSortOrder;if(r==="single"){var s=t._columns.some(l=>l!==e&&f(l.sortIndex));s&&(a=void 0)}e.sortOrder=a}},GCe=function(t,e){var{value:i}=e,{optionName:n}=e,{prevValue:o}=e,{fullOptionName:r}=e,a="".concat(r,".").concat(n);!Y$[n]&&t._skipProcessingColumnsChange!==a&&(t._skipProcessingColumnsChange=a,t.component._notifyOptionChanged(a,i,o),t._skipProcessingColumnsChange=!1)},Qy=function(t,e,i,n,o){var r=pe(i),a=e.index,s,l,d;if(arguments.length===3)return r(e,{functionsAsIs:!0});var u=r(e,{functionsAsIs:!0});if(!_e(u,n,{maxDepth:5})){i==="groupIndex"||i==="calculateGroupValue"?(l="grouping",WCe(t,e,n,u)):i==="sortIndex"||i==="sortOrder"||i==="calculateSortValue"?l="sorting":l="columns";var c=Hu(i);c(e,n,{functionsAsIs:!0});var p=PCe(t,e);e5[i]&&(pl(t,e),n=r(e)),(i==="name"||i==="allowEditing")&&t._checkColumns(),!f(u)&&!f(n)&&i.indexOf("buffer")!==0&&(o=!0),o?hf(t):(!Qc.includes(i)&&i!=="visibleWidth"&&(s=t.option("columns"),d=t.getColumnByPath(p,s),N(d)&&(d=s[a]={dataField:d}),d&&vM(d,e)&&c(d,n,{functionsAsIs:!0})),ur(t,l,i,a)),p&&GCe(t,{fullOptionName:p,optionName:i,value:n,prevValue:u})}};function uf(t){return t==="asc"||t==="desc"}var l5=function(t){var e=t._getExpandColumnOptions();t.addCommandColumn(e)},d5=function(t,e){if(this.dataField){var i=this.dataField.split("."),n=i.length-1;this.serializeValue&&(e=this.serializeValue(e));for(var o=0;o<n;o++){var r=i[o];t=t[r]=t[r]||{}}t[i[n]]=e}},u5=function t(e,i,n){var o=[];return i=i||0,e[i]&&x(e[i],(r,a)=>{(a.ownerBand===n||a.type===Zr)&&(!a.isBand||!a.colspan?(!a.command||i<1)&&o.push(a):o.push.apply(o,t(e,i+1,a.index)))}),o},c5=function(t){var e=1,i=t.getBandColumnsCache(),{columnParentByIndex:n}=i;return t._columns.forEach(o=>{var r=hl(o.index,n),a=r.filter(s=>!s.visible);o.visible&&!a.length&&(e=Math.max(e,r.length+1))}),e},Jy=(t,e)=>{var i=t._columns.filter(n=>n.type===e.type);return!!i.length},yM=function(t,e){var i=t.option("rtlEnabled");return e.command&&!Jy(t,e)||!e.fixedPosition?i?"right":"left":e.fixedPosition},xM=function(t,e,i,n){var o,r=this.getRowCount(),a=t[n]&&t[n].rowspan,s=e.filter(l=>l.type===i);return t.forEach((l,d)=>{l.type===i&&(o=d,a=t[d+1]?t[d+1].rowspan:r)}),a>1&&(s=Ke(s,l=>v({},l,{rowspan:a}))),s.unshift.apply(s,f(o)?[o,1]:[n,0]),t.splice.apply(t,s),a||1},h5=function(t){var e;for(e=0;t>1;e++)t/=10;return e},CM=function(t,e){for(var i=t?t.toString():"0";i.length<e;)i="0".concat(i);return i},SM=(t,e,i,n)=>{for(var o,r,a=e.slice().map(g=>v({},g)),s=t._isColumnFixing(),l=i.slice().map(g=>v({fixed:s},g)),d=g=>i.reduce((m,y,C)=>{var b=n&&g.type===Zr?"expand":g.type;return y.type===b||y.command===g.command?C:m},-1),u=g=>g.command!==i[r].command,c=0;c<e.length;c++)if(o=e[c],r=o&&(o.type||o.command)?d(o):-1,r>=0)if(n)a[c]=v({fixed:s},i[r],o),o.type!==Zr&&(l=l.filter(u));else{var p={visibleIndex:o.visibleIndex,index:o.index,headerId:o.headerId,allowFixing:o.groupIndex===0,allowReordering:o.groupIndex===0,groupIndex:o.groupIndex};a[c]=v({},o,i[r],o.type===Zr&&p)}return e.length&&n&&l.length&&(a=a.concat(l)),a},bM=(t,e)=>f(e.fixed)||!e.type?e.fixed:t._isColumnFixing(),p5=t=>{t.forEach(e=>{f(e.ownerBand)&&(e.ownerBand=t[e.ownerBand])})},DM=t=>{t._bandColumnsCache=void 0},wM=(t,e)=>{var i=N(e)&&e.substr(0,e.indexOf(":")),n;if(e!==void 0)return i&&(e=e.substr(i.length+1)),i?n=t.filter(o=>"".concat(o[i])===e)[0]:["index","name","dataField","caption"].some(o=>(n=t.filter(r=>r[o]===e)[0],!!n)),n},g5=(t,e)=>{if(e!=="asc"&&e!=="desc")return t;var i=e==="asc"?1:-1;return t.sort((n,o)=>{var r=n.caption||"",a=o.caption||"";return i*r.localeCompare(a)}),t},f5=function(t,e){var i=$e.parse(t);if(ve(i)){var n=$e.format(i,e),o=$e.format(i,"decimal");if(n===t||o===t)return i}};var EM=class extends ye.Controller{init(e){this._dataController=this.getController("data"),this._focusController=this.getController("focus"),this._stateStoringController=this.getController("stateStoring");var i=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!i,this._isColumnsFromOptions?(Fd(this,i?Id(this,i):[]),_M(this)):Fd(this,this._columnsUserState?Id(this,this._columnsUserState):this._columns),l5(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):pl(this),this._checkColumns()}_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:Q$,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(e){var i,n=[];return e&&e.items().length>0&&(i=M.normalizeSortingInfo(e.group()).length,n=function o(r,a){if(!r||!a)return r;for(var s=0;s<r.length;s++){var l=o(r[s].items||r[s].collapsedItems,a-1);if(l&&l.length)return l}}(e.items(),i)||[]),n}_endUpdateCore(){!this._skipProcessingColumnsChange&&Jc(this)}callbackNames(){return["columnsChanged"]}getColumnByPath(e,i){var n,o=[];return e.replace(Ky,(r,a)=>(o.push(parseInt(a)),"")),o.length&&(i?n=o.reduce((r,a)=>r&&r.columns&&r.columns[a],{columns:i}):n=i5(this,o)),n}optionChanged(e){var i;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value!==e.previousValue&&!this.option("columns")&&(!Array.isArray(e.value)||!Array.isArray(e.previousValue))&&(this._columns=[]);break;case"columns":i=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),i=!0)),i&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":e.handled=!0;var n=e.fullName==="columnWidth"&&["width"];this.reinit(n);break;case"rtlEnabled":this.reinit();break;default:super.optionChanged(e)}}_columnOptionChanged(e){var i={},n=this.getColumnByPath(e.fullName),o=e.fullName.replace(Ky,"");n&&(o?i[o]=e.value:i=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,i),this._skipProcessingColumnsChange=!1)}_updateRequireResize(e){var{component:i}=this;e.fullName.replace(Ky,"")==="width"&&i._updateLockCount&&(i._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(e,i,n){var o=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||this._dataSourceColumnsCount===0||i||this.option("regenerateColumnsByVisibleItems")){if(o){if(!this._isColumnsFromOptions){var r=r5(this,e);r.length&&(Fd(this,r),this._dataSourceColumnsCount=this._columns.length,_M(this))}return this.updateColumns(e,i,n)}this._dataSourceApplied=!1,pl(this)}else if(o&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return ur(this,"columns"),Jc(this),new S().reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,DM(this)}reinit(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(e){var i,n,o=(!e||!e.type)&&this.option("commonColumnSettings")||{},r=(i=this.option("grouping"))!==null&&i!==void 0?i:{},a=(n=this.option("groupPanel"))!==null&&n!==void 0?n:{};return v({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:r.autoExpandAll,allowCollapsing:r.allowCollapsing,allowGrouping:a.allowColumnDragging&&a.visible||r.contextMenuEnabled},o)}isColumnOptionUsed(e){for(var i=0;i<this._columns.length;i++)if(this._columns[i][e])return!0}isAllDataTypesDefined(e){var i=this._columns;if(!i.length)return!1;for(var n=0;n<i.length;n++)if(!(!i[n].dataField&&i[n].calculateCellValue===i[n].defaultCalculateCellValue)&&(!i[n].dataType||e&&i[n].deserializeValue&&i[n].serializationFormat===void 0))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(e=>e.isBand)}getGroupColumns(){var e=[];return x(this._columns,function(){f(this.groupIndex)&&(e[this.groupIndex]=this)}),e}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=f(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]}getVisibleColumns(e,i){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=f(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]}getFilteringColumns(){return this.getColumns().filter(e=>(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)).map(e=>{var i=v(!0,{},e);return f(i.dataField)||(i.dataField=i.name),i.filterOperations=e.filterOperations!==e.defaultFilterOperations?i.filterOperations:null,i})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){var e=[],i=this.getRowCount(),n=this._isColumnFixing(),o={command:"transparent"},r=0,a,s,l;if(n)for(var d=0;d<=i;d++){a=0,l=null,s=null;for(var u=this.getVisibleColumns(d,!0),c=0;c<u.length;c++){var p=u[c-1],g=u[c];g.fixed?p&&p.fixed&&yM(this,p)!==yM(this,g)?f(s)||(s=c):l=g.fixedPosition:(d===0&&(g.isBand&&g.colspan?r+=g.colspan:r++),a++,f(s)||(s=c))}if(d===0&&(a===0||a>=u.length))return[];f(s)||(s=l==="right"?0:u.length),e[d]=u.slice(0),o.colspan||(o.colspan=r),e[d].splice(s,a,o)}return e.map(m=>m.map(y=>{var C=E({},y);return C.headerId&&(C.headerId+="-fixed"),C}))}_isColumnFixing(){var e=this.option("columnFixing.enabled");return!e&&x(this._columns,(i,n)=>{if(n.fixed)return e=!0,!1}),e}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){var e=this._getExpandColumnsCore(),i,n=e.filter(s=>s.groupIndex===0)[0],o=n&&n.fixed,r=this._isColumnFixing(),a=this.option("rtlEnabled");return e.length&&(i=this.columnOption("command:expand")),e=Ke(e,s=>v({},s,{visibleWidth:null,minWidth:null,cellTemplate:f(s.groupIndex)?null:s.cellTemplate,headerCellTemplate:null,fixed:!f(s.groupIndex)||!o?r:!0,fixedPosition:a?"right":"left"},i,{index:s.index,type:s.type||Zr})),e}getBandColumnsCache(){if(!this._bandColumnsCache){var e=this._columns,i={},n={},o=!0;e.forEach(r=>{var{ownerBand:a}=r,s=L(a)?a.index:a,l=e[s];r.hasColumns&&(o=!1),r.colspan&&(r.colspan=void 0),r.rowspan&&(r.rowspan=void 0),l?n[r.index]=l:s=-1,i[s]=i[s]||[],i[s].push(r)}),this._bandColumnsCache={isPlain:o,columnChildrenByIndex:i,columnParentByIndex:n}}return this._bandColumnsCache}_isColumnVisible(e){return e.visible&&this.isParentColumnVisible(e.index)}_isColumnInGroupPanel(e){return f(e.groupIndex)&&!e.showWhenGrouped}hasVisibleDataColumns(){var e=this._columns;return e.some(i=>{var n=this._isColumnVisible(i),o=this._isColumnInGroupPanel(i),r=!!i.command;return n&&!o&&!r})}_compileVisibleColumnsCore(){var e=this.getBandColumnsCache(),i=SM(this,this._columns,this._commandColumns,!0);n5(this,i,e);var n=this._getIndexedColumns(i),o=this._getVisibleColumnsFromIndexed(n),r=!this.hasVisibleDataColumns();return r&&this._columns.length&&o[o.length-1].push({command:"empty"}),o}_getIndexedColumns(e){for(var i=this.option("rtlEnabled"),n=this.getRowCount(),o=h5(e.length),r=this.getBandColumnsCache(),a=[],s=[],l=0;l<n;l+=1)s[l]=[{}],a[l]=[{},{},{}];return e.forEach(d=>{var u,c,p,g,{visibleIndex:m}=d,y,C=hl(d.index,r.columnParentByIndex),b=this._isColumnVisible(d),O=this._isColumnInGroupPanel(d);if(b&&!O){var k=C.length;if(m<0)m=-m,y=s[k];else if(d.fixed=(c=(u=C[0])===null||u===void 0?void 0:u.fixed)!==null&&c!==void 0?c:d.fixed,d.fixedPosition=(g=(p=C[0])===null||p===void 0?void 0:p.fixedPosition)!==null&&g!==void 0?g:d.fixedPosition,d.fixed){var J=!!d.command&&!Jy(this,d),U=d.fixedPosition==="right";i&&!J&&(U=!U),y=U?a[k][2]:a[k][0]}else y=a[k][1];if(C.length){m=CM(m,o);for(var z=C.length-1;z>=0;z-=1)m=CM(C[z].visibleIndex,o)+m}y[m]=y[m]||[],y[m].push(d)}}),{positiveIndexedColumns:a,negativeIndexedColumns:s}}_getVisibleColumnsFromIndexed(e){for(var i=this,{positiveIndexedColumns:n,negativeIndexedColumns:o}=e,r=[],a=this.getRowCount(),s=SM(this,this.getExpandColumns(),this._columns),l=0,d=0,u=function(p){r.push([]),wp(o[p],(y,C)=>{r[p].unshift.apply(r[p],C)});var g=r[p].length,m=n[p];m.forEach(y=>{wp(y,(C,b)=>{r[p].push.apply(r[p],b)})}),d<=p&&(d+=xM.call(i,r[p],s,J$,g)),l<=p&&(l+=xM.call(i,r[p],s,Zr,g))},c=0;c<a;c+=1)u(c);return r.push(u5(r)),r}getInvisibleColumns(e,i){var n=this,o=[],r;return e=e||n._columns,x(e,(a,s)=>{if(s.ownerBand===i){if(s.isBand){s.visible?r=n.getInvisibleColumns(n.getChildrenByBandColumn(s.index),s.index):r=n.getChildrenByBandColumn(s.index),r.length&&(o.push(s),o=o.concat(r));return}s.visible||o.push(s)}}),o}getChooserColumns(e){var i=e?this.getColumns():this.getInvisibleColumns(),n=i.filter(r=>r.showInColumnChooser),o=this.option("columnChooser.sortOrder");return g5(n,o)}allowMoveColumn(e,i,n,o){var r=Yy(this,e,n),a=this._columns[r];return a&&(a.allowReordering||a.allowGrouping||a.allowHiding)?n===o?n===cl?!1:(e=L(e)?e.columnIndex:e,i=L(i)?i.columnIndex:i,e!==i&&e+1!==i):n===ul&&o!==cl||o===ul?a&&a.allowGrouping:n===cl||o===cl?a&&a.allowHiding:!0:!1}moveColumn(e,i,n,o){var r={},a,s=Yy(this,e,n),l=Yy(this,i,o),d;if(s>=0){var u=this._columns[s];if(i=L(i)?i.columnIndex:i,d=l>=0?this._columns[l].groupIndex:-1,f(u.groupIndex)&&n===ul&&(d>u.groupIndex&&d--,o!==ul?r.groupIndex=void 0:(a=u.groupIndex,delete u.groupIndex,mM(this))),o===ul)r.groupIndex=s5(this,u,d),u.groupIndex=a;else if(i>=0){var c=this._columns[l];!c||u.ownerBand!==c.ownerBand?r.visibleIndex=cM:bM(this,u)^bM(this,c)?r.visibleIndex=cM:r.visibleIndex=c.visibleIndex}var p=o!==cl;u.visible!==p&&(r.visible=p),this.columnOption(u.index,r)}}changeSortOrder(e,i){var n={},o=this.option("sorting"),r=o&&o.mode,a=r==="single"||!i,s=r==="single"||r==="multiple",l=this._columns[e];s&&l&&l.allowSorting&&(a&&!f(l.groupIndex)&&x(this._columns,function(d){d!==e&&this.sortOrder&&(f(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),uf(i)?l.sortOrder!==i&&(n.sortOrder=i):i==="none"?l.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(d){if(i==="ctrl"){if(!("sortOrder"in d&&"sortIndex"in d))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else f(d.groupIndex)||f(d.sortIndex)?n.sortOrder=d.sortOrder==="desc"?"asc":"desc":n.sortOrder="asc";return!0}(l)),this.columnOption(l.index,n)}getSortDataSourceParameters(e){var i=[],n=[];return x(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&f(this.sortIndex)&&!f(this.groupIndex)&&(i[this.sortIndex]=this)}),x(i,function(){var o=this&&this.sortOrder;if(uf(o)){var r={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(r.compare=this.sortingMethod.bind(this)),n.push(r)}}),n.length>0?n:null}getGroupDataSourceParameters(e){var i=[];return x(this.getGroupColumns(),function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var o={selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(o.compare=this.sortingMethod.bind(this)),i.push(o)}}),i.length>0?i:null}refresh(e){var i=[];return x(this._columns,function(){var{lookup:n}=this;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&i.push(n.update())}}),A.apply(h,i).done(hf.bind(null,this))}_updateColumnOptions(e,i){var n,o,r,a,s=this._reinitAfterLookupChanges&&((n=this._previousColumns)===null||n===void 0?void 0:n[i]);e.selector=(o=e.selector)!==null&&o!==void 0?o:u=>e.calculateCellValue(u),e.selector.columnIndex=i,e.selector.originalCallback=s&&(a=(r=this._previousColumns[i].selector)===null||r===void 0?void 0:r.originalCallback)!==null&&a!==void 0?a:e.selector,x(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(u,c)=>{var p=e[c];if(T(p))if(p.originalCallback)e[c].context.column=e;else{var g={column:e};e[c]=function(m){return p.call(g.column,m)},e[c].originalCallback=p,e[c].columnIndex=i,e[c].context=g}}),N(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=pe(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),gM(e,e.dataType);var{lookup:l}=e;l&&gM(l,l.dataType);var d=l?l.dataType:e.dataType;d&&(e.alignment=e.alignment||o5(d,this.option("rtlEnabled")),e.format=e.format||M.getFormatByDataType(d),e.customizeText=e.customizeText||fM(d),e.defaultFilterOperations=e.defaultFilterOperations||!l&&Z$[d]||[],f(e.filterOperations)||hM(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=f(e.showEditorAlways)?e.showEditorAlways:d==="boolean"&&!e.cellTemplate&&!e.lookup)}updateColumnDataTypes(e){var i=this,n=i.option("dateSerializationFormat"),o=i._getFirstItems(e),r=!1;return x(i._columns,(a,s)=>{var l,d,u,c,p,{lookup:g}=s;if(M.isDateType(s.dataType)&&s.serializationFormat===void 0&&(s.serializationFormat=n),g&&M.isDateType(g.dataType)&&s.serializationFormat===void 0&&(g.serializationFormat=n),s.calculateCellValue&&o.length){if(!s.dataType||g&&!g.dataType){for(l=0;l<o.length;l++)d=s.calculateCellValue(o[l]),s.dataType||(p=qy(d),u=u||p,u&&p&&u!==p&&(u="string")),g&&!g.dataType&&(p=qy(M.getDisplayValue(s,d,o[l])),c=c||p,c&&p&&c!==p&&(c="string"));(u||c)&&(u&&(s.dataType=u),g&&c&&(g.dataType=c),r=!0)}if(s.serializationFormat===void 0||g&&g.serializationFormat===void 0)for(l=0;l<o.length;l++)d=s.calculateCellValue(o[l],!0),s.serializationFormat===void 0&&(s.serializationFormat=pM(s.dataType,d)),g&&g.serializationFormat===void 0&&(g.serializationFormat=pM(g.dataType,g.calculateCellValue(d,!0)))}i._updateColumnOptions(s,a)}),r}_customizeColumns(e){var i=this.option("customizeColumns");if(i){var n=e.some(o=>L(o.ownerBand));n&&pl(this),i(e),Fd(this,Id(this,e))}}updateColumns(e,i,n){if(i||this.updateSortingGrouping(e),!e||e.isLoaded()){var o=e?e.sort()||[]:this.getSortDataSourceParameters(),r=e?e.group()||[]:this.getGroupDataSourceParameters(),a=e?.lastLoadOptions().filter;n||this._customizeColumns(this._columns),pl(this);var s=this._columns;return A(this.refresh(!0)).always(()=>{this._columns===s&&(this._updateChanges(e,{sorting:o,grouping:r,filtering:a}),Jc(this))})}}_updateChanges(e,i){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),M.equalSortParameters(i.sorting,this.getSortDataSourceParameters())||ur(this,"sorting"),M.equalSortParameters(i.grouping,this.getGroupDataSourceParameters())||ur(this,"grouping"),this._dataController&&!M.equalFilterParameters(i.filtering,this._dataController.getCombinedFilter())&&ur(this,"filtering"),ur(this,"columns")}updateSortingGrouping(e,i){var n=this,o,r,a=function(p,g,m){x(p,(y,C)=>{if(delete C[m],g)for(var b=0;b<g.length;b++){var{selector:O}=g[b],{isExpanded:k}=g[b];if(O===C.dataField||O===C.name||O===C.displayField||O===C.selector||O===C.calculateCellValue||O===C.calculateGroupValue||O===C.calculateDisplayValue){i?C.sortOrder="sortOrder"in C?C.sortOrder:g[b].desc?"desc":"asc":C.sortOrder=C.sortOrder||(g[b].desc?"desc":"asc"),k!==void 0&&(C.autoExpandGroup=k),C[m]=b;break}}})};if(e){o=M.normalizeSortingInfo(e.sort());var s=M.normalizeSortingInfo(e.group()),l=n.getGroupDataSourceParameters(),d=n.getSortDataSourceParameters(),u=!M.equalSortParameters(s,l,!0),c=!u&&!M.equalSortParameters(s,l);n._columns.length||(x(s,(p,g)=>{n._columns.push(g.selector)}),x(o,(p,g)=>{T(g.selector)||n._columns.push(g.selector)}),Fd(n,Id(n,n._columns))),(i||!l&&!n._hasUserState)&&(u||c)&&(a(n._columns,s,"groupIndex"),i&&(u&&ur(n,"grouping"),c&&ur(n,"groupExpanding"),r=!0)),(i||!d&&!n._hasUserState)&&!M.equalSortParameters(o,d)&&(a(n._columns,o,"sortIndex"),i&&(ur(n,"sorting"),r=!0)),r&&Jc(n)}}updateFilter(e,i,n,o){if(!Array.isArray(e))return e;if(e=v([],e),n=e.columnIndex!==void 0?e.columnIndex:n,o=e.filterValue!==void 0?e.filterValue:o,N(e[0])&&e[0]!=="!"){var r=this.columnOption(e[0]);i?Fe().forceIsoDateParsing&&r&&r.serializeValue&&e.length>1&&(e[e.length-1]=r.serializeValue(e[e.length-1],"filter")):r&&r.selector&&(e[0]=r.selector,e[0].columnIndex=r.index)}else T(e[0])&&(e[0].columnIndex=n,e[0].filterValue=o,e[0].selectedFilterOperation=e.selectedFilterOperation);for(var a=0;a<e.length;a++)e[a]=this.updateFilter(e[a],i,n,o);return e}columnCount(){return this._columns?this._columns.length:0}columnOption(e,i,n,o){var r=this,a=r._columns.concat(r._commandColumns),s=wM(a,e);if(s){if(arguments.length===1)return v({},s);if(N(i)){if(arguments.length===2)return Qy(r,s,i);Qy(r,s,i,n,o)}else L(i)&&x(i,(l,d)=>{Qy(r,s,l,d,o)});Jc(r)}}clearSorting(){var e=this.columnCount();this.beginUpdate();for(var i=0;i<e;i++)this.columnOption(i,"sortOrder",void 0),delete wM(this._columns,i).sortOrder;this.endUpdate()}clearGrouping(){var e=this.columnCount();this.beginUpdate();for(var i=0;i<e;i++)this.columnOption(i,"groupIndex",void 0);this.endUpdate()}getVisibleIndex(e,i){for(var n=this.getVisibleColumns(i),o=n.length-1;o>=0;o--)if(n[o].index===e)return o;return-1}getVisibleIndexByColumn(e,i){var n=this.getVisibleColumns(i),o=n.filter(r=>r.index===e.index&&r.command===e.command)[0];return n.indexOf(o)}getVisibleColumnIndex(e,i){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,i)}addColumn(e){var i=cf(this,e),n=this._columns.length;this._columns.push(i),i.isBand&&(this._columns=Id(this,this._columns),i=this._columns[n]),i.added=e,pl(this,i),this.updateColumns(this._dataSource),this._checkColumns()}deleteColumn(e){var i=this.columnOption(e);if(i&&i.index>=0){if(p5(this._columns),this._columns.splice(i.index,1),i.isBand){var n=this.getChildrenByBandColumn(i.index).map(o=>o.index);this._columns=this._columns.filter(o=>n.indexOf(o.index)<0)}pl(this),this.updateColumns(this._dataSource)}}addCommandColumn(e){var i=this._commandColumns.filter(n=>n.command===e.command)[0];i||(i=e,this._commandColumns.push(i))}getUserState(){var e=this._columns,i=[],n;function o(r,a){e[n][a]!==void 0&&(i[n][a]=e[n][a])}for(n=0;n<e.length;n++)i[n]={},x(Qc,o);return i}setName(e){e.name=e.name||e.dataField||e.type}setUserState(e){var i=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(e?.forEach(this.setName),!n){n=[];var o=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),this.option("sorting.mode")==="none"&&n.push("sortIndex","sortOrder"),o.allowGrouping||n.push("groupIndex"),o.allowFixing||n.push("fixed","fixedPosition"),o.allowResizing||n.push("width","visibleWidth");var r=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&r&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&r&&n.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=n,this._hasUserState=!!e,ur(this,"filtering"),this.init(!0),i&&(i.sort(this.getSortDataSourceParameters()),i.group(this.getGroupDataSourceParameters()))}_checkColumns(){var e={},i=!1,n=[];this._columns.forEach(o=>{var r,{name:a}=o,s=(r=o.columns)===null||r===void 0?void 0:r.length,l=o.allowEditing&&(o.dataField||o.setCellValue)&&!s;a?(e[a]&&n.push('"'.concat(a,'"')),e[a]=!0):l&&(i=!0)}),n.length&&X.log("E1059",n.join(", ")),i&&X.log("E1060")}_createCalculatedColumnOptions(e,i){var n={},{dataField:o}=e;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,o=null),o){if(N(o)){var r=pe(o);n={caption:po(o),calculateCellValue(a,s){var l=r(a);return this.deserializeValue&&!s?this.deserializeValue(l):l},setCellValue:d5,parseValue(a){var s,l;return this.dataType==="number"?N(a)&&this.format?s=f5(a.trim(),this.format):f(a)&&ve(a)&&(s=Number(a)):this.dataType==="boolean"?a===this.trueText?s=!0:a===this.falseText&&(s=!1):M.isDateType(this.dataType)?(l=ue.parse(a,this.format),l&&(s=l)):s=a,s}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return Bo.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(a,s){var l;return this.calculateFilterExpression&&(l=this.calculateFilterExpression.apply(this,arguments)),T(l)&&(l=[l,"=",!0]),l&&(l.columnIndex=this.index,l.filterValue=a,l.selectedFilterOperation=s),l},(!o||!N(o))&&v(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),i&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue(a,s){return this.valueExpr&&(a=this.valueMap&&this.valueMap[a]),this.deserializeValue&&!s?this.deserializeValue(a):a},updateValueMap(){if(this.valueMap={},this.items)for(var a=pe(this.valueExpr),s=pe(this.displayExpr),l=0;l<this.items.length;l++){var d=this.items[l],u=s(d);this.valueMap[a(d)]=u,this.dataType=this.dataType||qy(u)}},update(){var a=this,{dataSource:s}=a;if(s)if(T(s)&&!qt.isWrapped(s)&&(s=s({})),q(s)||s instanceof Fa||Array.isArray(s)){if(a.valueExpr){var l=kn(s);return l.paginate=!1,s=new mi(l),s.load().done(d=>{a.items=d,a.updateValueMap&&a.updateValueMap()})}}else X.log("E1016");else a.updateValueMap&&a.updateValueMap()}}),n.resizedCallbacks=de(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),x(n,a=>{if(T(n[a])&&a.indexOf("default")!==0){var s="default".concat(a.charAt(0).toUpperCase()).concat(a.substr(1));n[s]=n[a]}}),n}getRowCount(){return this._rowCount=this._rowCount||c5(this),this._rowCount}getRowIndex(e,i){var n=this._columns[e],o=this.getBandColumnsCache();return n&&(i||n.visible&&!(n.command||f(n.groupIndex)))?hl(e,o.columnParentByIndex).length:0}getChildrenByBandColumn(e,i){var n=this.getBandColumnsCache(),o=t5(e,n.columnChildrenByIndex,!i);return i?o.filter(r=>r.visible&&!r.command).sort((r,a)=>r.visibleIndex-a.visibleIndex):o}isParentBandColumn(e,i){var n=!1,o=this._columns[e],r=this.getBandColumnsCache(),a=o&&hl(e,r.columnParentByIndex);return a&&x(a,(s,l)=>{if(l.index===i)return n=!0,!1}),n}isParentColumnVisible(e){var i=!0,n=this.getBandColumnsCache(),o=e>=0&&hl(e,n.columnParentByIndex);return o&&x(o,(r,a)=>(i=i&&a.visible,i)),i}getColumnId(e){return e.command&&e.type===Zr?Jy(this,e)?"type:".concat(e.type):"command:".concat(e.command):e.index}getCustomizeTextByDataType(e){return fM(e)}getHeaderContentAlignment(e){var i=this.option("rtlEnabled");return i?e==="left"?"right":"left":e}},OM={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:w.format("dxDataGrid-trueText"),falseText:w.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:EM}};P.registerModule("columns",{defaultOptions:()=>v(!0,{},OM.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:OM.controllers});var m5="_dataSourceOptions",v5="_dataSourceChangedHandler",_5="_dataSourceLoadErrorHandler",y5="_dataSourceLoadingChangedHandler",x5="_dataSourceFromUrlLoadMode",C5="_getSpecificDataSourceOption",S5="_normalizeDataSource",b5=t=>class extends t{postCtor(){this.on("disposing",()=>{this._disposeDataSource()})}_refreshDataSource(){this._initDataSource(),this._loadDataSource()}_initDataSource(){var e=C5 in this?this[C5]():this.option("dataSource"),i,n;this._disposeDataSource(),e&&(e instanceof mi?(this._isSharedDataSource=!0,this._dataSource=e):(i=m5 in this?this[m5]():{},n=this._dataSourceType?this._dataSourceType():mi,e=kn(e,{fromUrlLoadMode:x5 in this&&this[x5]()}),this._dataSource=new n(v(!0,{},i,e))),S5 in this&&(this._dataSource=this[S5](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())}_initDataController(){var e,i=(e=this.option)===null||e===void 0?void 0:e.call(this,"_dataController"),n=this._dataSource;i?this._dataController=i:this._dataController=new Z_(n)}_addDataSourceHandlers(){v5 in this&&this._addDataSourceChangeHandler(),_5 in this&&this._addDataSourceLoadErrorHandler(),y5 in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()}_addReadyWatcher(){this.readyWatcher=function(e){this._ready&&this._ready(!e)}.bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)}_addDataSourceChangeHandler(){var e=this._dataSource;this._proxiedDataSourceChangedHandler=function(i){this[v5](e.items(),i)}.bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)}_addDataSourceLoadErrorHandler(){this._proxiedDataSourceLoadErrorHandler=this[_5].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)}_addDataSourceLoadingChangedHandler(){this._proxiedDataSourceLoadingChangedHandler=this[y5].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)}_loadDataSource(){var e=this._dataSource;e&&(e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load())}_loadSingle(e,i){return e=e==="this"?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,i)}_isLastPage(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize}_isDataSourceLoading(){return this._dataSource&&this._dataSource.isLoading()}_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)}getDataSource(){return this._dataSource||null}};var D5=function(t,e,i){var n=t._dataSource;if(n){if(i!==void 0){var o=t._getPagingOptionValue(e);if(o!==i){e==="pageSize"&&n.pageIndex(0),n[e](i),t._skipProcessingPagingChange=!0,t.option("paging.".concat(e),i),t._skipProcessingPagingChange=!1;var r=n.pageIndex();return t._isPaging=e==="pageIndex",n[e==="pageIndex"?"load":"reload"]().done(()=>{t._isPaging=!1,t.pageChanged.fire(r)})}return S().resolve().promise()}return n[e]()}return 0},pf=class extends b5(ye.Controller){init(){this._items=[],this._cachedProcessedItems=null,this._columnsController=this.getController("columns"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._editingController=this.getController("editing"),this._editorFactoryController=this.getController("editorFactory"),this._errorHandlingController=this.getController("errorHandling"),this._filterSyncController=this.getController("filterSync"),this._applyFilterController=this.getController("applyFilter"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._focusController=this.getController("focus"),this._headerFilterController=this.getController("headerFilter"),this._selectionController=this.getController("selection"),this._stateStoringController=this.getController("stateStoring"),this._validatingController=this.getController("validating"),this._adaptiveExpandedKey=void 0,this._isPaging=!1,this._currentOperationTypes=null,this._dataChangedHandler=e=>{this._currentOperationTypes=this._dataSource.operationTypes(),this._handleDataChanged(e),this._currentOperationTypes=null},this._columnsChangedHandler=this._handleColumnsChanged.bind(this),this._loadingChangedHandler=this._handleLoadingChanged.bind(this),this._loadErrorHandler=this._handleLoadError.bind(this),this._customizeStoreLoadOptionsHandler=this._handleCustomizeStoreLoadOptions.bind(this),this._changingHandler=this._handleChanging.bind(this),this._dataPushedHandler=this._handleDataPushed.bind(this),this._columnsController.columnsChanged.add(this._columnsChangedHandler),this._isLoading=!1,this._isCustomLoading=!1,this._repaintChangesOnly=void 0,this._changes=[],this.createAction("onDataErrorOccurred"),this.dataErrorOccurred.add(e=>this.executeAction("onDataErrorOccurred",{error:e})),this._refreshDataSource()}_getPagingOptionValue(e){return this._dataSource[e]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(e){if(e==="dataErrorOccurred")return{stopOnFalse:!0}}publicMethods(){return["_disposeDataSource","beginCustomLoading","byKey","clearFilter","endCustomLoading","filter","getCombinedFilter","getDataByKeys","getDataSource","getKeyByRowIndex","getRowIndexByKey","getVisibleRows","keyOf","pageCount","pageIndex","pageSize","refresh","repaintRows","totalCount"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){var i=e.value!==e.previousValue;if(i){var n=this.store();n&&(n._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(e){return!0}optionChanged(e){var i=this,n,o;function r(){e.handled=!0}if(e.name==="dataSource"&&e.name===e.fullName&&this._handleDataSourceChange(e)){r();return}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":r();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":r(),i.reset();break;case"paging":if(n=i.dataSource(),n&&(o=i._setPagingOptions(n),o)){var a=n.pageIndex();this._isPaging=o.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,i.pageChanged.fire(a)})}r();break;case"rtlEnabled":i.reset();break;case"columns":n=i.dataSource(),n&&n.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:super.optionChanged(e)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(e){return this.combinedFilter(void 0,e)}combinedFilter(e,i){if(!this._dataSource)return e;var n=e??this._dataSource.filter(),o=this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined();if(o){var r=this._calculateAdditionalFilter();n=r?M.combineFilters([r,n]):n}var a=this._dataSource.remoteOperations().filtering||i;return n=this._columnsController.updateFilter(n,a),n}waitReady(){return this._updateLockCount?(this._readyDeferred=new S,this._readyDeferred):A()}_endUpdateCore(){var e=this._changes;if(e.length){this._changes=[];var i=e.every(n=>n.repaintChangesOnly);this.updateItems(e.length===1?e[0]:{repaintChangesOnly:i})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(e){var i,n=this._columnsController,o=this._dataSource,{storeLoadOptions:r}=e;e.isCustomLoading&&!r.isLoadingAll||(r.filter=this.combinedFilter(r.filter),((i=r.filter)===null||i===void 0?void 0:i.length)===1&&r.filter[0]==="!"&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(o),this._columnsUpdating=!0,n.updateSortingGrouping(o,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,r.sort=n.getSortDataSourceParameters(),r.group=n.getGroupDataSourceParameters(),o.sort(r.sort),o.group(r.group),r.sort=n.getSortDataSourceParameters(!o.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!o.remoteOperations().grouping))}_handleColumnsChanged(e){var i=this,{changeTypes:n}=e,{optionNames:o}=e,r,a,s;if(n.sorting||n.grouping)i._dataSource&&!i._columnsUpdating&&(i._dataSource.group(i._columnsController.getGroupDataSourceParameters()),i._dataSource.sort(i._columnsController.getSortDataSourceParameters()),i.reload());else if(n.columns&&(a=i._columnsController.columnOption(e.columnIndex,"filterValues"),(o.filterValues||o.filterType&&Array.isArray(a)||o.filterValue||o.selectedFilterOperation||o.allowFiltering)&&(r=i._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(a)||e.columnIndex===void 0||f(r)||!o.selectedFilterOperation||o.filterValue)&&(i._applyFilter(),s=!0)),!i._needApplyFilter&&!M.checkChanges(o,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&i._columnsController.columnsChanged.add(function d(u){var c;i._columnsController.columnsChanged.remove(d),i.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:(c=u?.changeTypes)===null||c===void 0?void 0:c.virtualColumnsScrolling})}),f(o.visible))){var l=i._columnsController.columnOption(e.columnIndex);l&&(f(l.filterValue)||f(l.filterValues))&&(i._applyFilter(),s=!0)}!s&&n.filtering&&!this._needApplyFilter&&i.reload()}_handleDataChanged(e){var i=this,n=i._dataSource,o=i._columnsController,r=!1;this._useSortingGroupingFromColumns=!1,n&&!i._isDataSourceApplying&&(i._isDataSourceApplying=!0,A(i._columnsController.applyDataSource(n)).done(()=>{i._isLoading&&i._handleLoadingChanged(!1),r&&e&&e.isDelayed&&(e.isDelayed=!1),i._isDataSourceApplying=!1;var a=i._needApplyFilter;i._needApplyFilter=!1,a&&!i._isAllDataTypesDefined&&(s=i._calculateAdditionalFilter(),s&&s.length)?(X.log("W1005",i.component.NAME),i._applyFilter()):i.updateItems(e,!0);var s}).fail(()=>{i._isDataSourceApplying=!1}),i._isDataSourceApplying&&(r=!0,i._handleLoadingChanged(!0)),i._needApplyFilter=!i._columnsController.isDataSourceApplied(),i._isAllDataTypesDefined=o.isAllDataTypesDefined())}_handleLoadingChanged(e){this._isLoading=e,this._fireLoadingChanged()}_handleLoadError(e){this.dataErrorOccurred.fire(e)}_handleDataPushed(e){this.pushed.fire(e)}fireError(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.dataErrorOccurred.fire(X.Error.apply(X,i))}_setPagingOptions(e){var i=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),o=this.option("paging.enabled"),r=this.option("scrolling.mode"),a=r==="infinite",s=r==="virtual",l=o||s||a,d=!1,u=!1,c=!1;return e.requireTotalCount(!a),o!==void 0&&e.paginate()!==l&&(e.paginate(l),d=!0),n!==void 0&&e.pageSize()!==n&&(e.pageSize(n),u=!0),i!==void 0&&e.pageIndex()!==i&&(e.pageIndex(i),c=!0),d||u||c?{isPaginateChanged:d,isPageSizeChanged:u,isPageIndexChanged:c}:!1}_getSpecificDataSourceOption(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e}_initDataSource(){var e=this._dataSource;super._initDataSource();var i=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,i){var n=this._setPagingOptions(i);this._isPaging=n?.isPageIndexChanged,this.setDataSource(i)}else e&&this.updateItems()}_loadDataSource(){var e=this,i=e._dataSource,n=new S;return A(this._columnsController.refresh(!0)).always(()=>{i?i.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()}_beforeProcessItems(e){return e.slice(0)}getRowIndexDelta(){return 0}getDataIndex(e){var i=this._items,n=e.changeType==="append"&&i.length>0?i[i.length-1]:null;return f(n?.dataIndex)?n.dataIndex+1:0}_processItems(e,i){var n=this,o=n.getRowIndexDelta(),{changeType:r}=i,a=n._columnsController.getVisibleColumns(null,r==="loadingAll"),s=this.getDataIndex(i),l={visibleColumns:a,dataIndex:s},d=[];return x(e,(u,c)=>{f(c)&&(l.rowIndex=u-o,c=n._processItem(c,l),d.push(c))}),d}_processItem(e,i){return e=this._generateDataItem(e,i),e=this._processDataItem(e,i),e.dataIndex=i.dataIndex++,e}_generateDataItem(e,i){return{rowType:"data",data:e,key:this.keyOf(e)}}_processDataItem(e,i){return e.values=this.generateDataValues(e.data,i.visibleColumns),e}generateDataValues(e,i,n){for(var o=[],r,a=0;a<i.length;a++){var s=i[a];r=n?void 0:null,s.command||(s.calculateCellValue?r=s.calculateCellValue(e):s.dataField&&(r=e[s.dataField])),o.push(r)}return o}_applyChange(e){e.changeType==="update"?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&e.changeType==="refresh"?this._applyChangesOnly(e):e.changeType==="refresh"&&this._applyChangeFull(e)}_applyChangeFull(e){this._items=e.items.slice(0)}_getRowIndices(e){var i=e.rowIndices.slice(0),n=this.getRowIndexDelta();i.sort((a,s)=>a-s);for(var o=0;o<i.length;o++){var r=i[o];e.allowInvisibleRowIndices&&(r+=n),r<0&&(i.splice(o,1),o--)}return i}_applyChangeUpdate(e){var i=this,{items:n}=e,o=i._getRowIndices(e),r=i.getRowIndexDelta(),a=i.option("repaintChangesOnly"),s=-1,l=0,d;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var u=function(c,p,g){var m=c&&p&&_e(c.key,p.key);return m&&g&&(m=c.rowType===p.rowType&&(p.rowType!=="detail"||c.isEditing===p.isEditing)),m};x(o,(c,p)=>{var g;if(p+=l+r,s!==p){s=p;var m=i._items[p],y=i._items[p+1],C=n[p],b=n[p+1],O=u(m,y)||u(C,b);if(C&&(C.rowIndex=p,e.items.push(C)),m&&C&&u(m,C,O))d="update",i._items[p]=C,m.visible!==C.visible?e.items.splice(-1,1,{visible:C.visible}):a&&!e.isFullUpdate&&(g=i._partialUpdateRow(m,C,p-r));else if(C&&!m||b&&u(m,b,O))d="insert",i._items.splice(p,0,C),l++;else if(m&&!C||y&&u(C,y,O))d="remove",i._items.splice(p,1),l--,s=-1;else if(C)d="update",i._items[p]=C;else return;e.rowIndices.push(p-r),e.changeTypes.push(d),e.columnIndices.push(g)}})}_isCellChanged(e,i,n,o,r){if(JSON.stringify(e.values[o])!==JSON.stringify(i.values[o]))return!0;function a(s,l){return s.modifiedValues?s.modifiedValues[l]!==void 0:!1}return a(e,o)!==a(i,o)}_getChangedColumnIndices(e,i,n,o){var r;if(e.rowType===i.rowType){if(i.rowType!=="group"&&i.rowType!=="groupFooter"&&(r=[],i.rowType!=="detail"))for(var a=0;a<e.values.length;a++)this._isCellChanged(e,i,n,a,o)&&r.push(a);if(i.rowType==="group"&&e.cells){var s=i.isExpanded===e.isExpanded&&i.data.isContinuation===e.data.isContinuation&&i.data.isContinuationOnNextPage===e.data.isContinuationOnNextPage;s&&(r=e.cells.map((l,d)=>{var u;return((u=l.column)===null||u===void 0?void 0:u.type)!=="groupExpand"?d:-1}).filter(l=>l>=0))}}return r}_partialUpdateRow(e,i,n,o){var r=this._getChangedColumnIndices(e,i,n,o);return r?.length&&this.option("dataRowTemplate")&&(r=void 0),r&&(e.cells&&e.cells.forEach((a,s)=>{var l=r.indexOf(s)>=0;!l&&a&&a.update&&a.update(i)}),i.update=e.update,i.watch=e.watch,i.cells=e.cells,o&&(i.oldValues=e.values),e.update&&e.update(i)),r}_isItemEquals(e,i){var n,o,r,a;if(JSON.stringify(e.values)!==JSON.stringify(i.values)||["modified","isNewRow","removed","isEditing"].some(u=>e[u]!==i[u]))return!1;if(e.rowType==="group"||e.rowType==="groupFooter"){var s=e.isExpanded===i.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(i.summaryCells),d=((n=e.data)===null||n===void 0?void 0:n.isContinuation)===((o=i.data)===null||o===void 0?void 0:o.isContinuation)&&((r=e.data)===null||r===void 0?void 0:r.isContinuationOnNextPage)===((a=i.data)===null||a===void 0?void 0:a.isContinuationOnNextPage);if(!s||!l||!d)return!1}return!0}_applyChangesOnly(e){var i,n=[],o=[],r=[],a=[],s={},l=(i=e?.isLiveUpdate)!==null&&i!==void 0?i:!0;function d(g){if(g)return"".concat(g.rowType,",").concat(JSON.stringify(g.key))}var u=this._items,c=u.slice();e.items.forEach((g,m)=>{var y=d(g);s[y]=m,g.rowIndex=m});var p=o0(c,e.items,d,(g,m)=>this._isItemEquals(g,m)?(g.cells&&(g.update&&g.update(m),g.cells.forEach(y=>{y&&y.update&&y.update(m,!0)})),!0):!1);if(!p){this._applyChangeFull(e);return}p.forEach(g=>{switch(g.type){case"update":var{index:m}=g,y=g.data,{oldItem:C}=g,b=this._partialUpdateRow(C,y,m,l);n.push(m),r.push("update"),a.push(y),u[m]=y,o.push(b);break;case"insert":n.push(g.index),r.push("insert"),a.push(g.data),o.push(void 0),u.splice(g.index,0,g.data);break;case"remove":n.push(g.index),r.push("remove"),u.splice(g.index,1),a.push(g.oldItem),o.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=n,e.columnIndices=o,e.changeTypes=r,e.items=a,c.length&&(e.isLiveUpdate=!0),this._correctRowIndices(g=>{var m=this._rowIndexOffset||0,y=this.getRowIndexOffset(),C=c[g-m],b=d(C),O=s[b];return O>=0?O+y-g:0})}_correctRowIndices(e){}_afterProcessItems(e,i){return e}_updateItemsCore(e){var i,n=this._dataSource,o=e.changeType||"refresh";if(e.changeType=o,n){var r=this._cachedProcessedItems;e.useProcessedItemsCache&&r?i=r:(i=e.items||n.items(),i=this._beforeProcessItems(i),i=this._processItems(i,e),this._cachedProcessedItems=i),i=this._afterProcessItems(i,e),e.items=i;var a=this._items.length===i.length&&this._items;this._applyChange(e);var s=this.getRowIndexDelta();x(this._items,(l,d)=>{var u;d.rowIndex=l-s,a&&(d.cells=(u=a[l].cells)!==null&&u!==void 0?u:[]);var c=i[l];c&&(d.loadIndex=c.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(e){var i=this.getVisibleRows(),n=this.dataSource();n&&e.changes.forEach(o=>{if(o.type==="insert"&&o.index>=0){for(var r=0,a=0;a<o.index;a++){var s=i[a];s&&(s.rowType==="data"||s.rowType==="group")&&r++}o.index=r}})}updateItems(e,i){var n;if(e=e||{},this._repaintChangesOnly!==void 0)e.repaintChangesOnly=(n=e.repaintChangesOnly)!==null&&n!==void 0?n:this._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||this._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(i){var o=this.dataSource().operationTypes();e.repaintChangesOnly=o&&!o.grouping&&!o.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,o&&(o.reload||o.paging||o.groupExpanding)&&(e.needUpdateDimensions=!0)}if(this._updateLockCount&&!e.cancel){this._changes.push(e);return}this._updateItemsCore(e),!e.cancel&&this._fireChanged(e)}loadingOperationTypes(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}}_fireChanged(e){this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),Et(()=>{this.changed.fire(e)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){var e=this._dataSource;return e?(e.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})):new S().resolve()}resetFilterApplying(){this._isFilterApplying=!1}filter(e){var i=this._dataSource,n=i&&i.filter();if(arguments.length===0)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,!M.equalFilterParameters(n,e)&&(i&&i.filter(e),this._applyFilter())}clearFilter(e){var i=this._columnsController,n=function(o){for(var r=i.columnCount(),a=0;a<r;a++)i.columnOption(a,o,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":n("filterValues");break;case"row":n("filterValue")}else this.filter(null),this.searchByText(""),n("filterValue"),n("bufferedFilterValue"),n("filterValues");this.component.endUpdate()}_fireDataSourceChanged(){var e=this;e.changed.add(function i(){e.changed.remove(i),e.dataSourceChanged.fire()})}_getDataSourceAdapter(){}_createDataSourceAdapterCore(e,i){var n=this._getDataSourceAdapter(),o=n.create(this.component);return o.init(e,i),o}isLocalStore(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.store();return e instanceof Fo}isCustomStore(e){return e=e||this.store(),e instanceof ad}_createDataSourceAdapter(e){var i=this.option("remoteOperations"),n=e.store(),o={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return L(i)&&i.groupPaging&&(i=v({},o,i)),i==="auto"&&(i=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),i===!0&&(i=o),this._createDataSourceAdapterCore(e,i)}setDataSource(e){var i=this._dataSource;!e&&i&&(i.cancelAll(),i.changed.remove(this._dataChangedHandler),i.loadingChanged.remove(this._loadingChangedHandler),i.loadError.remove(this._loadErrorHandler),i.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),i.changing.remove(this._changingHandler),i.pushed.remove(this._dataPushedHandler),i.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler),e.pushed.add(this._dataPushedHandler))}items(e){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){var e=this._dataSource;return e&&e.store()}loadAll(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,o=new S,r=n._dataSource;if(r)if(e){var a={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:i?null:n.getCombinedFilter(),group:r.group(),sort:r.sort()}};r._handleDataLoaded(a),A(a.data).done(l=>{var d;l=n._beforeProcessItems(l),o.resolve(n._processItems(l,{changeType:"loadingAll"}),(d=a.extra)===null||d===void 0?void 0:d.summary)}).fail(o.reject)}else if(r.isLoading())o.reject();else{var s=v({},r.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});r.load(s).done((l,d)=>{l=n._beforeProcessItems(l),l=n._processItems(l,{changeType:"loadingAll"}),o.resolve(l,d&&d.summary)}).fail(o.reject)}else o.resolve([]);return o}getKeyByRowIndex(e,i){var n=this.items(i)[e];if(n)return n.key}getRowIndexByKey(e,i){return M.getIndexByKey(e,this.items(i))}keyOf(e){var i=this.store();if(i)return i.keyOf(e)}byKey(e){var i=this.store(),n=this.getRowIndexByKey(e),o;if(i)return n>=0&&(o=new S().resolve(this.items()[n].data)),o||i.byKey(e)}key(){var e=this.store();if(e)return e.key()}getRowIndexOffset(e){return 0}getDataByKeys(e){var i=this,n=new S,o=[],r=[];return x(e,(a,s)=>{o.push(i.byKey(s).done(l=>{r[a]=l}))}),A.apply(h,o).always(()=>{n.resolve(r)}),n}pageIndex(e){return D5(this,"pageIndex",e)}pageSize(e){return D5(this,"pageSize",e)}beginCustomLoading(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(e){e===!0?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var i=this,n=i.getDataSource(),{changesOnly:o}=e,r=new S,a=function(){i._repaintChangesOnly=!!o};return A(!e.lookup||i._columnsController.refresh()).always(()=>{e.load||e.reload?(n&&n.on("customizeLoadResult",a),A(i.reload(e.reload,o)).always(()=>{n&&n.off("customizeLoadResult",a),i._repaintChangesOnly=void 0}).done(r.resolve).fail(r.reject)):(i.updateItems({repaintChangesOnly:e.changesOnly}),r.resolve())}),r.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(e,i){e=Array.isArray(e)?e:[e],(e.length>1||f(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!i})}skipProcessingPagingChange(e){return this._skipProcessingPagingChange&&(e==="paging.pageIndex"||e==="paging.pageSize")}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){var e=this.pageIndex(),i=this.pageCount();return e===i-1}load(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.load()}reload(e,i){var n;return(n=this._dataSource)===null||n===void 0?void 0:n.reload(e,i)}push(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.push(...arguments)}itemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.itemsCount():0}totalItemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalItemsCount():0}hasKnownLastPage(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.hasKnownLastPage():!0}isLoaded(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.isLoaded():!0}totalCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalCount():0}hasLoadOperation(){var e,i,n=(i=(e=this._dataSource)===null||e===void 0?void 0:e.operationTypes())!==null&&i!==void 0?i:{};return Object.keys(n).some(o=>n[o])}},w5={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:pf}};var Xy=function t(e,i){if(e&&(e=e.slice(0),i))for(var n=0;n<e.length;n++)e[n]=v({key:e[n].key},e[n]),e[n].items=t(e[n].items,i-1);return e},IM=function(t,e,i){var n={reload:!0,fullReload:!0};return e&&(n={sorting:!M.equalSortParameters(t.sort,e.sort),grouping:!M.equalSortParameters(t.group,e.group,!0),groupExpanding:!M.equalSortParameters(t.group,e.group)||e.groupExpand,filtering:!M.equalFilterParameters(t.filter,e.filter),pageIndex:t.pageIndex!==e.pageIndex,skip:t.skip!==e.skip,take:t.take!==e.take,pageSize:t.pageSize!==e.pageSize,fullReload:i,reload:!1,paging:!1},n.reload=i||n.sorting||n.grouping||n.filtering,n.paging=n.pageIndex||n.pageSize||n.take),n},E5=function(t,e){f(e)?Gu(t,e):t()},Xc=function(){return{items:{}}},FM=function(t,e){var i=M.normalizeSortingInfo(t.group||t.storeLoadOptions.group||t.loadOptions.group).length,n=[];if(O5(n,t,i))return n;e&&jCe(n,t,i)},O5=function(t,e,i,n){var o,r,a,s,l,{storeLoadOptions:d}=e,u=(r=(o=e.take)!==null&&o!==void 0?o:d.take)!==null&&r!==void 0?r:0,c=(a=e.cachedData)===null||a===void 0?void 0:a.items;if(u&&c){for(var p=(l=(s=e.skip)!==null&&s!==void 0?s:d.skip)!==null&&l!==void 0?l:0,g=0;g<u;g+=1){var m=n?u-1-g:g,y=m+p,C=c[y];if(C===void 0&&y in c)return!0;var b=zCe(e,C,i,m,u);if(b)t.push(b);else return!1}return!0}return!1},zCe=function(t,e,i,n,o){if(i&&e){var r=n===0&&t.skips||[],a=n===o-1&&t.takes||[];return UCe(e,i,r,a)}return e},UCe=function t(e,i,n,o){if(i&&e){var r=E({},e),a=n[0]||0,s=o[0],{items:l}=e;if(l){if(s===void 0&&!l[a])return;r.items=[],n.length&&(r.isContinuation=!0),s&&(r.isContinuationOnNextPage=e.count>s);for(var d=0;s===void 0?l[d+a]:d<s;d+=1){var u=l[d+a],c=d+1===s,p=t(u,i-1,d===0?n.slice(1):[],c?o.slice(1):[]);if(p!==void 0)r.items.push(p);else return}}return r}return e},jCe=function(t,e,i){var n,o,r=t.length,{storeLoadOptions:a}=e;if(a.skip!==void 0&&a.take&&!i){var s=[];O5(s,e,i,!0);var l=s.length;(r||l)&&(e.skip=(n=e.skip)!==null&&n!==void 0?n:a.skip,e.take=(o=e.take)!==null&&o!==void 0?o:a.take),r&&(a.skip+=r,a.take-=r,e.cachedDataPartBegin=t),l&&(a.take-=l,e.cachedDataPartEnd=s.reverse())}},I5=function(t,e,i){for(var n,o,r,a,{storeLoadOptions:s}=t,l=(o=(n=t.skip)!==null&&n!==void 0?n:s.skip)!==null&&o!==void 0?o:0,d=(a=(r=t.take)!==null&&r!==void 0?r:s.take)!==null&&a!==void 0?a:0,u=0;u<d;u+=1){var c=u+l,p=t.cachedData.items,g=u===0&&t.skips||[];p[c]=$Ce(p[c],e[u],i,g)}},$Ce=function t(e,i,n,o){if(n&&i){var r=E({},i);delete r.isContinuation,delete r.isContinuationOnNextPage;var a=o[0]||0;return i.items&&(r.items=e?.items||{},i.items.forEach((s,l)=>{var d=l+a,u=l===0?o.slice(1):[];r.items[d]=t(r.items[d],s,n-1,u)})),r}return i};var Zy=class extends ye.Controller{init(e,i){var n=this;n._dataSource=e,n._remoteOperations=i||{},n._isLastPage=!e.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedData=Xc(),n._lastOperationTypes={},n._eventsStrategy=e._eventsStrategy,n._totalCountCorrection=0,n._isLoadingAll=!1,n.changed=de(),n.loadingChanged=de(),n.loadError=de(),n.customizeStoreLoadOptions=de(),n.changing=de(),n.pushed=de(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),e.on("changed",n._dataChangedHandler),e.on("customizeStoreLoadOptions",n._customizeStoreLoadOptionsHandler),e.on("customizeLoadResult",n._dataLoadedHandler),e.on("loadingChanged",n._loadingChangedHandler),e.on("loadError",n._loadErrorHandler),e.on("changing",n._changingHandler),e.store().on("beforePush",n._pushHandler),x(e,(o,r)=>{!n[o]&&T(r)&&(n[o]=function(){return this._dataSource[o].apply(this._dataSource,arguments)})})}dispose(e){var i=this._dataSource,n=i.store();i.off("changed",this._dataChangedHandler),i.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),i.off("customizeLoadResult",this._dataLoadedHandler),i.off("loadingChanged",this._loadingChangedHandler),i.off("loadError",this._loadErrorHandler),i.off("changing",this._changingHandler),n&&n.off("beforePush",this._pushHandler),e||i.dispose()}remoteOperations(){return this._remoteOperations}refresh(e,i){var n=this._dataSource;i.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!n.paginate(),this._hasLastPage=this._isLastPage)}resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0}resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0}resetPagesCache(e){this._cachedData=Xc()}_needClearStoreDataCache(){var e=this.remoteOperations(),i=IM(this._lastLoadOptions||{},{}),n=Object.keys(e).every(o=>!i[o]||!e[o]);return!n}push(e,i){var n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&Io({keyInfo:n,data:this._cachedStoreData,changes:e}),i||this._applyBatch(e),this.pushed.fire(e)}getDataIndexGetter(){if(!this._dataIndexGetter){var e,i,n=this.store();this._dataIndexGetter=o=>{var r=i&&i!==this._cachedStoreData;if(!e||r){i=this._cachedStoreData||[],e={};for(var a=0;a<i.length;a++)e[Qi(n.keyOf(i[a]))]=a}return e[Qi(n.keyOf(o))]}}return this._dataIndexGetter}_getKeyInfo(){return this.store()}_needToCopyDataObject(){return!0}_applyBatch(e,i){var n=this._getKeyInfo(),o=this._dataSource,r=M.normalizeSortingInfo(this.group()).length,a=this.option("editing.refreshMode")==="reshape",s=this.option("scrolling.mode")==="virtual";e=e.filter(c=>!o.paginate()||c.type!=="insert"||c.index!==void 0);var l=()=>r?this.itemsCount():this.items().length,d=l();Io({keyInfo:n,data:this._items,changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),Io({keyInfo:n,data:o.items(),changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()});var u=this._currentTotalCount>0||(i||!a)&&s;u&&(this._totalCountCorrection+=l()-d),e.splice(0,e.length)}_handlePush(e){var{changes:i}=e;this.push(i,!0)}_handleChanging(e){this.changing.fire(e),this._applyBatch(e.changes,!0)}_needCleanCacheByOperation(e,i){var n=["filtering","sorting","paging"],o=n.indexOf(e),r=o>=0?n.slice(o):[e];return r.some(a=>i[a])}_customizeRemoteOperations(e,i){var n=this._cachedStoreData,o=this._cachedPagingData,r=this._cachedData;(e.storeLoadOptions.filter&&!e.remoteOperations.filtering||e.storeLoadOptions.sort&&!e.remoteOperations.sorting)&&(e.remoteOperations={filtering:e.remoteOperations.filtering,summary:e.remoteOperations.summary}),i.fullReload?(n=void 0,o=void 0,r=Xc()):(i.reload?(o=void 0,r=Xc()):i.groupExpanding&&(r=Xc()),x(i,(a,s)=>{s&&this._needCleanCacheByOperation(a,e.remoteOperations)&&(n=void 0,o=void 0)})),o&&(e.remoteOperations.paging=!1),e.cachedStoreData=n,e.cachedPagingData=o,e.cachedData=r,e.isCustomLoading||(this._cachedStoreData=n,this._cachedPagingData=o,this._cachedData=r)}_handleCustomizeStoreLoadOptions(e){var i;this._handleDataLoading(e),((i=e.data)===null||i===void 0?void 0:i.length)!==0&&(e.data=FM(e,!0)||e.cachedStoreData)}_handleDataLoading(e){var i=this._dataSource,n=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(e),e.delay=this.option("loadingTimeout"),e.originalStoreLoadOptions=e.storeLoadOptions,e.remoteOperations=v({},this.remoteOperations());var o=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(e.delay=void 0);var r=v({pageIndex:this.pageIndex(),pageSize:this.pageSize()},e.storeLoadOptions),a=IM(r,n,o);if(this._customizeRemoteOperations(e,a),!e.isCustomLoading){var s=this._isRefreshing;e.pageIndex=i.pageIndex(),e.lastLoadOptions=r,e.operationTypes=a,this._loadingOperationTypes=a,this._isRefreshing=!0,A(s||this._isRefreshed||this.refresh(e,a)).done(()=>{this._lastOperationId===e.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{i.cancel(e.operationId)}).always(()=>{this._isRefreshing=!1}),i.cancel(this._lastOperationId),this._lastOperationId=e.operationId,this._isRefreshing&&i.cancel(this._lastOperationId)}this._handleDataLoadingCore(e)}_handleDataLoadingCore(e){var{remoteOperations:i}=e;e.loadOptions={};var n=e.cachedData.extra,o={filter:!i.filtering,sort:!i.sorting,group:!i.grouping,summary:!i.summary,skip:!i.paging,take:!i.paging,requireTotalCount:n&&"totalCount"in n||!i.paging,langParams:!i.filtering||!i.sorting};x(e.storeLoadOptions,(r,a)=>{o[r]&&(e.loadOptions[r]=a,delete e.storeLoadOptions[r])}),n&&(e.extra=n)}_handleDataLoaded(e){var i,n,{loadOptions:o}=e,r=e.remoteOperations&&!e.remoteOperations.paging,{cachedData:a}=e,{storeLoadOptions:s}=e,l=this.option("cacheEnabled")!==!1&&s,d=l&&!e.isCustomLoading&&a&&(!r||s.group),u=l&&r,c=u&&!e.isCustomLoading;if(!o){this._dataSource.cancel(e.operationId);return}r&&(e.skip=o.skip,e.take=o.take,delete o.skip,delete o.take),o.group&&(o.group=e.group||o.group);var p=M.normalizeSortingInfo(e.group||s.group||o.group).length;e.cachedDataPartBegin&&(e.data=e.cachedDataPartBegin.concat(e.data)),e.cachedDataPartEnd&&(e.data=e.data.concat(e.cachedDataPartEnd)),(!d||!FM(e))&&(u&&e.cachedPagingData?e.data=Xy(e.cachedPagingData,p):(c&&(this._cachedStoreData?e.mergeStoreLoadData&&(e.data=this._cachedStoreData=this._cachedStoreData.concat(e.data)):this._cachedStoreData=Xy(e.data,M.normalizeSortingInfo(s.group).length)),new Fo(e.data).load(o).done(g=>{e.data=g,c&&(this._cachedPagingData=Xy(e.data,p))}).fail(g=>{e.data=new S().reject(g)})),o.requireTotalCount&&r&&(e.extra=q(e.extra)?e.extra:{},e.extra.totalCount=e.data.length),e.extra&&e.extra.totalCount>=0&&(s.requireTotalCount===!1||o.requireTotalCount===!1)&&(e.extra.totalCount=-1),!o.data&&(s.requireTotalCount||((n=(i=e.extra)===null||i===void 0?void 0:i.totalCount)!==null&&n!==void 0?n:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(e),d&&(a.extra=a.extra||v({},e.extra),A(e.data).done(g=>{I5(e,g,p)}))),A(e.data).done(()=>{e.lastLoadOptions&&(this._lastLoadOptions=e.lastLoadOptions,Object.keys(e.operationTypes).forEach(g=>{this._lastOperationTypes[g]=this._lastOperationTypes[g]||e.operationTypes[g]}))}),e.storeLoadOptions=e.originalStoreLoadOptions}_handleDataLoadedCore(e){e.remoteOperations&&!e.remoteOperations.paging&&Array.isArray(e.data)&&(e.skip!==void 0&&(e.data=e.data.slice(e.skip)),e.take!==void 0&&(e.data=e.data.slice(0,e.take)))}_handleLoadingChanged(e){this.loadingChanged.fire(e)}_handleLoadError(e){this.loadError.fire(e),this.changed.fire({changeType:"loadError",error:e})}_loadPageSize(){return this.pageSize()}_handleDataChanged(e){var i,n=this._dataSource,o=!1,r=!e||f(e.changeType),a=this.itemsCount();r&&(this._isLastPage=!a||!this._loadPageSize()||a<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),n.totalCount()>=0?n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.pageIndex(n.pageIndex()),this.resetPagesCache(),n.load(),o=!0):r&&(i=n.pageIndex()*this.pageSize()+a,i>this._currentTotalCount&&(this._currentTotalCount=i,(n.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),a===0&&n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(n.load(),o=!0))),o||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(e),this.component._optionCache=void 0)}_scheduleCustomLoadCallbacks(e){var i=this;i._isCustomLoading=!0,e.always(()=>{i._isCustomLoading=!1})}loadingOperationTypes(){return this._loadingOperationTypes}operationTypes(){return this._operationTypes}lastLoadOptions(){return this._lastLoadOptions||{}}isLastPage(){return this._isLastPage}_dataSourceTotalCount(){return this._dataSource.totalCount()}_changeRowExpandCore(e){}changeRowExpand(e){}totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)}totalCountCorrection(){return this._totalCountCorrection}items(){}itemsCount(){return this._dataSource.items().length}totalItemsCount(){return this.totalCount()}pageSize(){var e=this._dataSource;return!arguments.length&&!e.paginate()?0:e.pageSize.apply(e,arguments)}pageCount(){var e=this.totalItemsCount()-this._totalCountCorrection,i=this.pageSize();return i&&e>0?Math.max(1,Math.ceil(e/i)):1}hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0}loadFromStore(e,i){var n=this._dataSource,o=new S;if(n)return i=i||n.store(),i.load(e).done((r,a)=>{r&&!Array.isArray(r)&&Array.isArray(r.data)&&(a=r,r=r.data),o.resolve(r,a)}).fail(o.reject),o}isCustomLoading(){return!!this._isCustomLoading}load(e){var i=this,n=i._dataSource,o=new S;if(e){var r=n.store(),a=n.loadOptions(),s={storeLoadOptions:v({},e,{langParams:a?.langParams}),isCustomLoading:!0};return x(r._customLoadOptions()||[],(l,d)=>{d in s.storeLoadOptions||(s.storeLoadOptions[d]=a[d])}),this._isLoadingAll=e.isLoadingAll,i._scheduleCustomLoadCallbacks(o),n._scheduleLoadCallbacks(o),i._handleCustomizeStoreLoadOptions(s),E5(()=>{if(!n.store())return o.reject("canceled");A(s.data||i.loadFromStore(s.storeLoadOptions)).done((l,d)=>{s.data=l,s.extra=d||{},i._handleDataLoaded(s),e.requireTotalCount&&s.extra.totalCount===void 0&&(s.extra.totalCount=r.totalCount(s.storeLoadOptions)),A(s.data,s.extra.totalCount).done((u,c)=>{s.extra.totalCount=c,o.resolve(u,s.extra)}).fail(o.reject)}).fail(o.reject)},i.option("loadingTimeout")),o.fail(function(){i._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return n.load()}reload(e){return e?this._dataSource.reload():this._dataSource.load()}getCachedStoreData(){return this._cachedStoreData}isLoaded(){}pageIndex(e){}};var TM=Zy,gl={extend(t){TM=t(TM)},create:t=>new TM(t)};var MM=class extends pf{_getDataSourceAdapter(){return gl}_getSpecificDataSourceOption(){var e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&X.log("W1011"),super._getSpecificDataSourceOption()}};P.registerModule("data",{defaultOptions:w5.defaultOptions,controllers:{data:MM}});var F5="dx-sort",T5="dx-sort-none",KCe="dx-sort-up",qCe="dx-sort-down",YCe="dx-sort-index",M5="dx-sort-index-icon",QCe="action",JCe=t=>class extends t{_applyColumnState(e){var i,n,o=this.option("sorting.mode"),{rootElement:r}=e,{column:a}=e,s=this._getIndicatorContainer(r);if(e.name==="sort"){r.find(".".concat(F5)).remove(),!s.children().length&&s.remove();var l=o!=="none"&&a.allowSorting;if(!f(a.groupIndex)&&(l||f(a.sortOrder))){i=a.sortOrder==="asc"?"ascending":"descending",n=super._applyColumnState(e).toggleClass(KCe,a.sortOrder==="asc").toggleClass(qCe,a.sortOrder==="desc");var d=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");d&&this.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(h("<span>").addClass(M5).text(a.sortIndex+1).appendTo(n),n.addClass(YCe)),l&&e.rootElement.addClass(this.addWidgetPrefix(QCe))}return f(a.sortOrder)?this.setAria("sort",i,r):this.setAria("sort","none",r),n}return super._applyColumnState(e)}_setAriaSortAttribute(e,i,n,o){if(n.removeAttr("aria-roledescription"),e.isGrouped){var r=this.localize("dxDataGrid-ariaNotSortedColumn");f(e.sortOrder)&&(r=e.sortOrder==="asc"?this.localize("dxDataGrid-ariaSortedAscendingColumn"):this.localize("dxDataGrid-ariaSortedDescendingColumn")),this.setAria("roledescription",r,n)}else if(!f(e.sortOrder))this.setAria("sort","none",n);else if(this.setAria("sort",i,n),o&&e.sortIndex>=0){var a=w.format("dxDataGrid-ariaColumnHeader"),s=w.format("dxDataGrid-ariaSortIndex",e.sortIndex+1),l="".concat(a,", ").concat(s);this.setAria("roledescription",l,n)}}_getIndicatorClassName(e){return e==="sort"?F5:e==="sortIndex"?M5:super._getIndicatorClassName(e)}_renderIndicator(e){var{column:i}=e,n=e.container,o=e.indicator;if(e.name==="sort"){var r=this.option("rtlEnabled");if(f(i.sortOrder)||o&&o.addClass(T5),n.children().length&&(!r&&e.columnAlignment==="left"||r&&e.columnAlignment==="right")){n.prepend(o);return}}super._renderIndicator(e)}_updateIndicator(e,i,n){if(!(n==="sort"&&f(i.groupIndex)))return super._updateIndicator.apply(this,arguments)}_getIndicatorElements(e,i){var n=super._getIndicatorElements(e);return i?n:n&&n.not(".".concat(T5))}},AM=JCe;var XCe="dxDataGridColumnHeadersView",ZCe=t=>class extends AM(t){optionChanged(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_createRow(e){var i=super._createRow(e);return e.rowType==="header"&&_.on(i,F(se,XCe),"td",this.createAction(n=>{this._processHeaderAction(n.event,i)})),i}_processHeaderAction(e,i){if(h(e.currentTarget).parent().get(0)===i.get(0)){var n=this,o=null,r=h(e.currentTarget),a=r.parent().index(),s=-1;[].slice.call(n.getCellElements(a)).some((g,m)=>{if(g===r.get(0))return s=m,!0});var l=n._columnsController.getVisibleColumns(a),d=l[s],u=n.getController("editing"),c=n.option("editing.mode"),p=u&&u.isEditing()&&(c==="batch"||c==="cell");p||!n._isSortableElement(h(e.target))||d&&!f(d.groupIndex)&&!d.command&&(e.shiftKey?o="shift":ut(e)&&(o="ctrl"),setTimeout(()=>{n._columnsController.changeSortOrder(d.index,o)}))}}_renderCellContent(e,i){var{column:n}=i;!n.command&&i.rowType==="header"&&this._applyColumnState({name:"sort",rootElement:e,column:n,showColumnLines:this.option("showColumnLines")}),super._renderCellContent.apply(this,arguments)}_columnOptionChanged(e){var{changeTypes:i}=e;if(i.length===1&&i.sorting){this._updateIndicators("sort");return}super._columnOptionChanged(e)}},eSe=t=>class extends AM(t){optionChanged(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_createGroupPanelItem(e,i){var n=this,o=super._createGroupPanelItem(...arguments);return _.on(o,F(se,"dxDataGridHeaderPanel"),n.createAction(()=>{n._processGroupItemAction(i.index)})),n._applyColumnState({name:"sort",rootElement:o,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:i.allowSorting,sortOrder:i.sortOrder==="desc"?"desc":"asc"},showColumnLines:!0}),o}_processGroupItemAction(e){setTimeout(()=>this.getController("columns").changeSortOrder(e))}},A5={defaultOptions:()=>({sorting:{mode:"single",ascendingText:w.format("dxDataGrid-sortingAscendingText"),descendingText:w.format("dxDataGrid-sortingDescendingText"),clearText:w.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:ZCe,headerPanel:eSe}}};P.registerModule("sorting",A5);var R5="rowsview",tSe="content",iSe="nowrap",RM="dx-group-row",B5="dx-group-cell",nSe="dx-data-row",ex="dx-freespace-row",oSe="dx-row-lines",k5="dx-column-lines",P5="dx-row-alt",N5="dx-last-row-border",rSe="dx-empty",aSe="row-inserted-animation",sSe=200;function L5(t){return t?Math.round(t.scrollWidth()-t.clientWidth()):0}function V5(t){var{rowType:e,column:i}=t;return e==="group"&&f(i.groupIndex)&&!i.showWhenGrouped&&!i.command}function H5(t){var{element:e,watch:i,getter:n,callBack:o}=t;if(i){var r=i(n,o);_.on(e,Gt,r)}}var lSe=function(t,e){var i=Nu(e.text)&&e.rowType==="data",{text:n}=e,o=t.get(0);i?M.setEmptyText(t):e.column.encodeHtml?o.textContent=n:o.innerHTML=n},dSe=function(t){var e=t.getScrollable();return e?Math.ceil(parseFloat(h(e.content()).css("paddingBottom"))):0},BM=class extends ko{init(){super.init(),this._editingController=this.getController("editing"),this._resizingController=this.getController("resizing"),this._columnsResizerController=this.getController("columnsResizer"),this._focusController=this.getController("focus"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._validatingController=this.getController("validating"),this._errorHandlingController=this.getController("errorHandling"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowHeight=0,this._scrollTop=0,this._scrollLeft=-1,this._scrollRight=0,this._hasHeight=void 0,this._contentChanges=[],this._dataController.loadingChanged.add((e,i)=>{this.setLoading(e,i)}),this._dataController.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_getDefaultTemplate(e){switch(e.command){case"empty":return function(i){i.html("&nbsp;")};default:return lSe}}_getDefaultGroupTemplate(e){var i=this.option("summary.texts");return function(n,o){var{data:r}=o,a="".concat(o.column.caption,": ").concat(o.text),s=n.get(0);o.summaryItems&&o.summaryItems.length&&(a+=" ".concat(M.getGroupRowSummaryText(o.summaryItems,i))),r&&(o.groupContinuedMessage&&o.groupContinuesMessage?a+=" (".concat(o.groupContinuedMessage,". ").concat(o.groupContinuesMessage,")"):o.groupContinuesMessage?a+=" (".concat(o.groupContinuesMessage,")"):o.groupContinuedMessage&&(a+=" (".concat(o.groupContinuedMessage,")"))),e.encodeHtml?s.textContent=a:s.innerHTML=a}}_update(e){}_updateCell(e,i){V5(i)&&e.addClass(B5),super._updateCell.apply(this,arguments)}_getCellTemplate(e){var{column:i}=e,n;return V5(e)?n=i.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(i)}:(e.rowType==="data"||i.command)&&i.cellTemplate?n=i.cellTemplate:n={allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)},n}_createRow(e,i){var n=super._createRow.apply(this,arguments);if(e){var o=e.rowType==="group",r=e.rowType==="data";if(r&&n.addClass(nSe),r&&this.option("showRowLines")&&n.addClass(oSe),this.option("showColumnLines")&&n.addClass(k5),e.visible===!1&&n.hide(),o){n.addClass(RM);var a=e.isExpanded;this.setAria("role","row",n),this.setAria("expanded",f(a)&&a.toString(),n)}}return n}_rowPrepared(e,i,n){i.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass(P5),H5({element:e.get(0),watch:i.watch,getter:()=>this._isAltRow(n),callBack:o=>{e.toggleClass(P5,o)}})),this._setAriaRowIndex(i,e),H5({element:e.get(0),watch:i.watch,getter:()=>i.rowIndex,callBack:()=>this._setAriaRowIndex(i,e)})),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(e,i){var{component:n}=this,o=n.option("scrolling.mode")==="standard"&&!M.isVirtualRowRendering(n),r=e.rowIndex+1;o?r=n.pageIndex()*n.pageSize()+r:r+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",r,i)}_afterRowPrepared(e){var i=e.args[0],n=this._dataController,o=n.getVisibleRows()[i.rowIndex],r=this.option("integrationOptions.watchMethod");if(!(!i.data||i.rowType!=="data"||i.isNewRow||!this.option("twoWayBindingEnabled")||!r||!o)){var a=r(()=>n.generateDataValues(i.data,i.columns),()=>{n.repaintRows([o.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});_.on(i.rowElement,Gt,a)}}_renderScrollable(e){var i=this.element();if(i.children().length||i.append("<div>"),(e||!this._loadPanel)&&this._renderLoadPanel(i,i.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),o=!0,r=0;r<n.length;r++)if(!n[r].width&&!n[r].minWidth){o=!1;break}(this.option("columnAutoWidth")||this._hasHeight||o||this._columnsController._isColumnFixing())&&this._renderScrollableCore(i)}}_handleScroll(e){var i=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;var o=e.scrollOffset.left;i&&(this._scrollRight=L5(e.component)-this._scrollLeft,n&&(o=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(E(E({},e.scrollOffset),{left:o}),this.name)}_renderScrollableCore(e){var i=this._createScrollableOptions(),n=this._handleScroll.bind(this);i.onScroll=n,this._scrollable=this._createComponent(e,ki,i),this._scrollableContainer=this._scrollable&&h(this._scrollable.container())}_renderLoadPanel(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return M.renderLoadPanel.apply(this,arguments)}_renderContent(e,i,n){return e.empty().append(i),this._findContentElement()}_updateContent(e,i,n){return this._contentChanges.push({newTableElement:e,change:i,isFixedTableRendering:n}),this.waitAsyncTemplates().done(()=>{var o=this._contentChanges;this._contentChanges=[],o.forEach(r=>{var{newTableElement:a,change:s,isFixedTableRendering:l}=r,d=this.getTableElement(l),u=this._findContentElement(l),c=s?.changeType,p=[],g=this.option("highlightChanges"),m=this.addWidgetPrefix(aSe);switch(c){case"update":x(s.rowIndices,(y,C)=>{var b,O=this._getRowElements(a).eq(y),k=(b=s.changeTypes)===null||b===void 0?void 0:b[y],J=s.items&&s.items[y];p.push(()=>{var U,z=this._getRowElements(d),ce=z.eq(C);switch(k){case"update":if(J){var fe=(U=s.columnIndices)===null||U===void 0?void 0:U[y];f(J.visible)&&J.visible!==ce.is(":visible")?ce.toggle(J.visible):fe?this._updateCells(ce,O,fe):ce.replaceWith(O)}break;case"insert":if(z.length)ce.length?O.insertBefore(ce):O.insertAfter(z.last());else if(d){var he=O.is("tbody")?d:d.children("tbody");O.prependTo(he)}g&&s.isLiveUpdate&&O.addClass(m);break;case"remove":ce.remove()}})}),x(p,function(){this()}),a.remove();break;default:this.setTableElement(a,l),u.addClass(this.addWidgetPrefix(tSe)),this._renderContent(u,a,l)}})}).fail(()=>{this._contentChanges=[]})}_createEmptyRow(e,i,n){var o,r=this._createRow(),a=i?this.getFixedColumns():this.getColumns();r.addClass(e).toggleClass(k5,this.option("showColumnLines"));for(var s=0;s<a.length;s++)o=this._createCell({column:a[s],rowType:"freeSpace",columnIndex:s,columns:a}),ve(n)&&o.css("height",n),r.append(o);return this.setAria("role","presentation",r),r}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(e,i,n){var o=this._getBodies(e),r=!o.length||i.is("tbody"),a=r?e:o;if(n==="top"){if(a.first().prepend(i),r){var s=a.children("colgroup");a.prepend(s)}}else a.last().append(i)}_renderFreeSpaceRow(e,i){var n=this._createEmptyRow(ex);n=this._wrapRowIfNeed(e,n,i?.changeType==="refresh"),this._appendEmptyRow(e,n)}_checkRowKeys(e){var i=this,n=i._getRows(e),o=i._dataController.store()&&i._dataController.store().key();o&&n.some(r=>{if(r.rowType==="data"&&r.key===void 0)return i._dataController.fireError("E1046",o),!0})}_needUpdateRowHeight(e){return e>0&&!this._rowHeight}_getRowsHeight(e){e=e||this._tableElement;var i=e.children("tbody").children().not(".dx-virtual-row").not(".".concat(ex));return i.toArray().reduce((n,o)=>n+Ze(o).height,0)}_updateRowHeight(){var e=this.getTableElement(),i=this._dataController.items().length;if(e&&this._needUpdateRowHeight(i)){var n=this._getRowsHeight(e);this._rowHeight=n/i}}_findContentElement(e){var i=this.element(),n=this.getScrollable();if(i)return n&&(i=h(n.content())),i.children().first()}_getRowElements(e){var i=super._getRowElements(e);return i&&i.not(".".concat(ex))}_getFreeSpaceRowElements(e){var i=e||this.getTableElements();return i&&i.children("tbody").children(".".concat(ex))}_getNoDataText(){return this.option("noDataText")}_rowClick(e){var i=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",v({evaluate(n){var o=pe(n);return o(i.data)}},e,i))}_rowDblClick(e){var i=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",v({},e,i))}_getColumnsCountBeforeGroups(e){for(var i=0;i<e.length;i++)if(e[i].type==="groupExpand")return i;return 0}_getGroupCellOptions(e){var i=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+i;return{columnIndex:n,colspan:e.columns.length-n-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(e,i){i.row.rowType==="group"?this._renderGroupedCells(e,i):i.row.values&&super._renderCells(e,i)}_renderGroupedCells(e,i){for(var{row:n}=i,o,{columns:r}=i,{rowIndex:a}=n,s,l=this._getGroupCellOptions(i),d=0;d<=l.columnIndex;d++)d===l.columnIndex&&r[d].allowCollapsing&&i.scrollingMode!=="infinite"?(s=!!n.isExpanded,o=r[d]):(s=null,o={command:"expand",cssClass:r[d].cssClass}),this._needRenderCell(d,i.columnIndices)&&this._renderCell(e,{value:s,row:n,rowIndex:a,column:o,columnIndex:d,columnIndices:i.columnIndices,change:i.change});var u=Xi(this.option("rtlEnabled")),c=v({},r[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:u});l.colspan>1&&(c.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,i.columnIndices)&&this._renderCell(e,{value:n.values[n.groupIndex],row:n,rowIndex:a,column:c,columnIndex:l.columnIndex+1,columnIndices:i.columnIndices,change:i.change})}_renderRows(e,i){var n=this.option("scrolling.mode");super._renderRows(e,v({scrollingMode:n},i)),this._checkRowKeys(i.change),this._renderFreeSpaceRow(e,i.change),this._hasHeight||this.updateFreeSpaceRowHeight(e)}_renderDataRowByTemplate(e,i,n){var{row:o}=i,r=v({columns:i.columns},o),a=this._createRow(o,"tbody");a.appendTo(e),this.renderTemplate(a,n,r,!0,i.change),this._rowPrepared(a,r,i.row)}_renderRow(e,i){var{row:n}=i,{rowTemplate:o}=this.option(),r=this.option("dataRowTemplate");n.rowType==="data"&&r?this._renderDataRowByTemplate(e,i,r):(n.rowType==="data"||n.rowType==="group")&&!f(n.groupIndex)&&o?this.renderTemplate(e,o,v({columns:i.columns},n),!0):super._renderRow(e,i)}_renderTable(e){var i=this,n=super._renderTable(e);return f(i.getTableElement())?i._renderScrollable():(i.setTableElement(n),i._renderScrollable(!0),i.resizeCompleted.add(function o(){var r=i.getScrollable();r&&i.element().closest(G().document).length&&(i.resizeCompleted.remove(o),r._visibilityChanged(!0))})),n}_createTable(){var e=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&e.appendTo(this.component.$element()),e}_renderCore(e){var i=this.element();i.addClass(this.addWidgetPrefix(R5)).toggleClass(this.addWidgetPrefix(iSe),!this.option("wordWrapEnabled")),i.toggleClass(rSe,this._dataController.isEmpty()),this.setAria("role","presentation",i);var n=this._renderTable({change:e}),o=this._updateContent(n,e);return super._renderCore(e),this._lastColumnWidths=null,o}_getRows(e){return e&&e.items||this._dataController.items()}_getCellOptions(e){var{column:i}=e,{row:n}=e,{data:o}=n,r=n&&n.summaryCells,{value:a}=e,s=M.getDisplayValue(i,a,o,n.rowType),l=super._getCellOptions(e);if(l.value=a,l.oldValue=e.oldValue,l.displayValue=s,l.row=n,l.key=n.key,l.data=o,l.rowType=n.rowType,l.values=n.values,l.text=i.command?"":M.formatValue(s,i),l.rowIndex=n.rowIndex,l.summaryItems=r&&r[e.columnIndex],l.resized=i.resizedCallbacks,f(i.groupIndex)&&!i.command){var d=this.option("grouping.texts"),u=this.option("scrolling.mode");u!=="virtual"&&u!=="infinite"&&(l.groupContinuesMessage=o&&o.isContinuationOnNextPage&&d&&d.groupContinuesMessage,l.groupContinuedMessage=o&&o.isContinuation&&d&&d.groupContinuedMessage)}return l}_setRowsOpacityCore(e,i,n,o){var r=this._columnsController,a=r.getColumns(),s=a&&a[n],l=s&&s.isBand&&s.index;x(e,(d,u)=>{if(!h(u).hasClass(RM))for(var c=0;c<i.length&&!((ve(l)&&r.isParentBandColumn(i[c].index,l)||i[c].index===n)&&(e.eq(d).children().eq(c).css({opacity:o}),!ve(l)));c++);})}_getDevicePixelRatio(){return G().devicePixelRatio}renderNoDataText(){return M.renderNoDataText.apply(this,arguments)}getCellOptions(e,i){var n=this._dataController.items()[e],o,r;return n&&(N(i)?r=this._columnsController.columnOption(i):r=this._columnsController.getVisibleColumns()[i],r&&(o=this._getCellOptions({value:r.calculateCellValue(n.data),rowIndex:n.rowIndex,row:n,column:r}))),o}getRow(e){if(e>=0){var i=this._getRowElements();if(i.length>e)return h(i[e])}}updateFreeSpaceRowHeight(e){var i=this._dataController,n=i.items(!0).length,o=this._findContentElement(),r=this._getFreeSpaceRowElements(e);if(r&&o&&i.totalCount()>=0){var a=!1;if(n>0)if(this._hasHeight)r.hide(),si(()=>{var d=this.getScrollbarWidth(!0),u=Y(this.element())-d,c=oe(o),p=u-c>0,g=this._getRowsHeight(o.children().first()),m=e||this.getTableElements(),y=Math.ceil(parseFloat(m.css("borderTopWidth"))),C=this._getHeightCorrection(),b=u-g-y-C;p&&Et(()=>{r.css("height",b),a=!0,r.show()}),Et(()=>this._updateLastRowBorder(a))});else{var s=i.pageSize()-n,l=this.option("scrolling.mode");s>0&&i.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(f_(r,s*this._rowHeight),a=!0),!a&&e?f_(r,0):r.toggle(a),this._updateLastRowBorder(a)}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){var e=be.webkit&&this._getDevicePixelRatio()>=2,i=be.chrome&&be.version>=91,n=be.mozilla&&be.version>=70&&!this.option("showRowLines");return e||n||i?1:0}_columnOptionChanged(e){var{optionNames:i}=e;e.changeTypes.grouping||(i.width||i.visibleWidth)&&(super._columnOptionChanged(e),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}_handleDataChanged(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return H(this.element())-this.getScrollbarWidth()}getScrollbarWidth(e){var i=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return i&&(e?(n=i.clientHeight?i.offsetHeight-i.clientHeight:0,n+=dSe(this)):n=i.clientWidth?i.offsetWidth-i.clientWidth:0),n>0?n:0}_fireColumnResizedCallbacks(){for(var e=this._lastColumnWidths||[],i=[],n=this.getColumns(),o=0;o<n.length;o++)i[o]=n[o].visibleWidth,n[o].resizedCallbacks&&!f(n[o].groupIndex)&&e[o]!==i[o]&&n[o].resizedCallbacks.fire(i[o]);this._lastColumnWidths=i}_updateLastRowBorder(e){this.option("showBorders")&&!e?this.element().addClass(N5):this.element().removeClass(N5)}_updateScrollable(){var e=ki.getInstance(this.element());e&&(e.update(),(e.option("useNative")||!e?.isRenovated())&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){var e=this.getScrollable(),i=e&&e.scrollOffset().left,n=this.option("rtlEnabled");if(n){var o=L5(e),r=o-i;r!==this._scrollRight&&(this._scrollLeft=o-this._scrollRight)}this._scrollLeft>=0&&i!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})}_resizeCore(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),Et(()=>{e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),si(()=>{e._updateScrollable()})})}scrollTo(e){var i=this.element(),n=i&&ki.getInstance(i);n&&n.scrollTo(e)}height(e){var i=this.element();if(arguments.length===0)return i?oe(i,!0):0;f(e)&&i&&(this.hasHeight(e!=="auto"),f_(i,e))}hasHeight(e){if(arguments.length===0)return!!this._hasHeight;this._hasHeight=e}setLoading(e,i){var n=this._loadPanel,o=this._dataController,r=this.option("loadPanel")||{},a=o.isLoaded()?r.animation:null,s=this.element();if(W()&&(!n&&i!==void 0&&o.isLocalStore()&&r.enabled==="auto"&&s&&(this._renderLoadPanel(s,s.parent()),n=this._loadPanel),n)){var l={message:i||r.text,animation:a,visible:e};e&&(l.position=M.calculateLoadPanelPosition(s)),clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout(()=>{n.option(l)},sSe):n.option(l)}}setRowsOpacity(e,i){var n=this._getRowElements().not(".".concat(RM))||[];this._setRowsOpacityCore(n,this.getColumns(),e,i)}_getCellElementsCore(e){var i=super._getCellElementsCore.apply(this,arguments);if(i){var n=i.filter(".".concat(B5)).index();if(n>=0&&i.length>n+1)return i.slice(0,n+1)}return i}_getBoundaryVisibleItemIndex(e,i){var n=0,o=0,r=0,a=this._scrollTop,s=this._findContentElement(),l=s&&s.offset().top,d=this._dataController.items(),u=this.getTableElement();if(d.length&&u){var c=this._getRowElements(u).filter(":visible");if(!e){var p=oe(this._hasHeight?this.element():G());a+=p}for(n=0;n<d.length;n++){o=r;var g=h(c).eq(n);if(g.length&&(r=g.offset(),r=(e?r.top:r.top+oe(g))-l,r>a)){n&&(i||2*a<Math.round(r+o))&&n--;break}}n&&n===d.length&&n--}return n}getTopVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!0,e)}getBottomVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!1,e)}getTopVisibleRowData(){var e=this.getTopVisibleItemIndex(),i=this._dataController.items();if(i[e])return i[e].data}_scrollToElement(e,i){var n=this.getScrollable();n&&n.scrollToElement(e,i)}optionChanged(e){switch(super.optionChanged(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),e.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,e.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,e.fullName!=="loadPanel.enabled"),e.handled=!0;break;case"noDataText":this.renderNoDataText(),e.handled=!0}}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(e,i){}_restoreErrorRow(e){}isElementInside(e){var i=e.closest(".".concat(this.addWidgetPrefix(R5)));return i.is(this.element())}},kM={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:w.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:w.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:BM}};var yyt=kM.views.rowsView;P.registerModule("rows",kM);var uSe="dx-context-menu",cSe={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},hSe=["columnHeadersView","rowsView","footerView","headerPanel"],PM=class extends ye.ViewController{init(){this.createAction("onContextMenuPreparing")}getContextMenuItems(e){if(!e)return!1;var i=this,n=h(e.target),o,r,a,s;return x(hSe,function(){var l,d,u=i.getView(this);if(o=u&&u.element(),o&&(o.is(n)||o.find(n).length)){a=n.closest(".dx-row > td, .dx-row > tr"),r=a.parent();var c=u.getRowIndex(r),p=a[0]&&a[0].cellIndex,g=r.data("options"),m={event:e,targetElement:V(n),target:cSe[this],rowIndex:c,row:u._getRows()[c],columnIndex:p,column:(d=(l=g?.cells)===null||l===void 0?void 0:l[p])===null||d===void 0?void 0:d.column};if(m.items=u.getContextMenuItems&&u.getContextMenuItems(m),i.executeAction("onContextMenuPreparing",m),i._contextMenuPrepared(m),s=m.items,s)return!1}}),s}_contextMenuPrepared(e){}},NM=class extends ye.View{init(){super.init(),this._contextMenuController=this.getController("contextMenu")}_renderCore(){var e=this.element().addClass(uSe);this.setAria("role","presentation",e),this._createComponent(e,Wy,{onPositioning:i=>{var{event:n}=i,o=i.component,r=this._contextMenuController.getContextMenuItems(n);r?(o.option("items",r),n.stopPropagation()):i.cancel=!0},onItemClick(i){var n,o;(o=(n=i.itemData)===null||n===void 0?void 0:n.onItemClick)===null||o===void 0||o.call(n,i)},cssClass:this.getWidgetContainerClass(),target:this.component.$element()})}},W5={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:PM},views:{contextMenuView:NM}};P.registerModule("contextMenu",W5);var gf="dx-error-row",G5="dx-error-message",pSe="dx-closebutton",gSe="action",LM=class extends ye.ViewController{init(){this._resizingController=this.getController("resizing"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")}_createErrorRow(e,i){var n,o,r=this._renderErrorMessage(e);return i?(n=h("<tr>").addClass(gf),o=h("<div>").addClass(pSe).addClass(this.addWidgetPrefix(gSe)),_.on(o,se,this.createAction(a=>{var s,l,d=a.event,u,c=h(d.currentTarget).closest(".".concat(gf)).index();d.stopPropagation(),x(i,(p,g)=>{u=h(g).children("tbody").children("tr").eq(c),this.removeErrorRow(u)}),(l=(s=this._resizingController)===null||s===void 0?void 0:s.fireContentReadyAction)===null||l===void 0||l.call(s)})),h("<td>").attr({colSpan:this.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(o).append(r).appendTo(n),n):r}_renderErrorMessage(e){var i=e.url?e.message.replace(e.url,""):e.message||e,n=h("<div>").addClass(G5).text(i);return e.url&&h("<a>").attr("href",e.url).text(e.url).appendTo(n),n}renderErrorRow(e,i,n){var o,r,a=this,s,l;if(n)return n.find(".".concat(G5)).remove(),s=a._createErrorRow(e),n.prepend(s),s;var d=i>=0||!a._columnHeadersView.isVisible()?a._rowsView:a._columnHeadersView,u=d.getTableElements();return x(u,(c,p)=>{if(s=a._createErrorRow(e,u),l=l||s,i>=0){var g=d._getRowElements(h(p)).eq(i);a.removeErrorRow(g.next()),s.insertAfter(g)}else{var m=h(p).children("tbody"),y=m.children("tr");a._columnHeadersView.isVisible()?(a.removeErrorRow(y.last()),h(p).append(s)):(a.removeErrorRow(y.first()),m.first().prepend(s))}}),(r=(o=this._resizingController)===null||o===void 0?void 0:o.fireContentReadyAction)===null||r===void 0||r.call(o),l}removeErrorRow(e){if(!e){var i=this._columnHeadersView&&this._columnHeadersView.element();if(e=i&&i.find(".".concat(gf)),!e||!e.length){var n=this._rowsView.element();e=n&&n.find(".".concat(gf))}}e&&e.hasClass(gf)&&e.remove()}optionChanged(e){switch(e.name){case"errorRowEnabled":e.handled=!0;break;default:super.optionChanged(e)}}},fSe=t=>class extends t{init(){super.init(),this.dataErrorOccurred.add((e,i)=>{this.option("errorRowEnabled")&&this._errorHandlingController.renderErrorRow(e,void 0,i)}),this.changed.add(e=>{var i,n;e&&e.changeType==="loadError"||this._editingController&&!this._editingController.hasChanges()&&((n=(i=this._errorHandlingController)===null||i===void 0?void 0:i.removeErrorRow)===null||n===void 0||n.call(i))})}},z5={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:LM},extenders:{controllers:{data:fSe}}};P.registerModule("errorHandling",z5);var U5="borders",mSe="table-fixed",vSe="important-margin",j5="dx-gridbase-container",_Se="tr.dx-group-row",tx="adaptiveHidden",GM=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],ff=function(t){return N(t)&&t.endsWith("%")},ySe=function(t){return N(t)&&t.endsWith("px")},$5=function(t,e){var i=t._rowsView.contentWidth(),n=t._getTotalWidth(e,i);return i-n},xSe=function(t,e,i,n){return $5(t,n.map((o,r)=>r===e?i:o))},CSe=function(t,e){I$(t,!0),M.setSelectionRange(t,e)},VM=class extends ye.ViewController{init(){this._prevContentMinHeight=null,this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._editorFactoryController=this.getController("editorFactory"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}_initPostRenderHandlers(){this._refreshSizesHandler||(this._refreshSizesHandler=e=>{var i=new S().resolve(null),n=e?.changeType,o=e?.isDelayed,r=n&&n!=="updateSelection"&&n!=="updateFocusedRow"&&n!=="pageIndex"&&!o;this._dataController.changed.remove(this._refreshSizesHandler),this._checkSize()&&(i=this._refreshSizes(e)),r&&A(i).done(()=>{this._setAriaLabel(),this.fireContentReadyAction()})},this._dataController.changed.add(()=>{this._dataController.changed.add(this._refreshSizesHandler)}))}_refreshSizes(e){var i,n=new S().resolve(null),o=e?.changeType,r=e?.isDelayed,a=this._dataController.items();if(!e||o==="refresh"||o==="prepend"||o==="append")r||(n=this.resize());else if(o==="update"){if(((i=e.changeTypes)===null||i===void 0?void 0:i.length)===0)return n;(a.length>1||e.changeTypes[0]!=="insert")&&!(a.length===0&&e.changeTypes[0]==="remove")&&!e.needUpdateDimensions?(n=new S,this._waitAsyncTemplates().done(()=>{si(()=>Et(()=>si(()=>{this._setScrollerSpacing(),this._rowsView.resize(),n.resolve()})))}).fail(n.reject)):n=this.resize()}return n}fireContentReadyAction(){this.component._fireContentReadyAction()}_getWidgetAriaLabel(){return"dxDataGrid-ariaDataGrid"}_setAriaLabel(){var e=Math.max(0,this._dataController.totalItemsCount());this.component.setAria("label",w.format(this._getWidgetAriaLabel(),e,this.component.columnCount()),this.component.$element().children(".".concat(j5)))}_getBestFitWidths(){var e,i=this._rowsView,n=this._columnHeadersView,o=i.getColumnWidths();if(!o?.length){var r=n.getTableElement();n.setTableElement((e=i.getTableElement())===null||e===void 0?void 0:e.children(".dx-header")),o=n.getColumnWidths(),n.setTableElement(r)}return o}_setVisibleWidths(e,i){var n=this._columnsController;n.beginUpdate(),x(e,(o,r)=>{var a=n.getColumnId(r);n.columnOption(a,"visibleWidth",i[o])}),n.endUpdate()}_toggleBestFitModeForView(e,i,n){if(!(!e||!e.isVisible())){var o=this._rowsView.getTableElements(),r=e.getTableElements();x(o,(a,s)=>{var l,d=h(s),u=r.eq(a);u&&u.length&&(n?l=u.children("tbody").appendTo(d):l=d.children(".".concat(i)).appendTo(u),l.toggleClass(i,n),l.toggleClass(this.addWidgetPrefix("best-fit"),n))})}}_toggleBestFitMode(e){var i=this._rowsView.getTableElement(),n=this._rowsView.getTableElements().eq(1);i&&(i.css("tableLayout",e?"auto":"fixed"),i.children("colgroup").css("display",e?"none":""),x(n.find(_Se),(o,r)=>{h(r).css("display",e?"none":"")}),n.toggleClass(this.addWidgetPrefix(mSe),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(i.get(0).style.width=e?"auto":""))}_toggleContentMinHeight(e){var i=this._rowsView.getScrollable(),n=this._rowsView._findContentElement();i?.option("useNative")===!1&&(e===!0&&(this._prevContentMinHeight=n.get(0).style.minHeight),f(this._prevContentMinHeight)&&n.css({minHeight:e?M.getContentHeightLimit(be):this._prevContentMinHeight}))}_synchronizeColumns(){var e=this._columnsController,i=e.getVisibleColumns(),n=this.option("columnAutoWidth"),o=this.option("wordWrapEnabled"),r=i.some(m=>!f(m.width)),a=this._needBestFit(),s=!1,l,d=!1,u=[],c,p;!a&&x(i,(m,y)=>{if(y.width==="auto")return a=!0,!1}),x(i,(m,y)=>{if(y.minWidth)return s=!0,!1}),this._setVisibleWidths(i,[]);var g=this.component.$element();a&&(c=I.getActiveElement(g.get(0)),p=M.getSelectionRange(c),this._toggleBestFitMode(!0),l=!0),this._toggleContentMinHeight(o),g&&g.get(0)&&this._maxWidth&&(delete this._maxWidth,g[0].style.maxWidth=""),si(()=>{if(a?(u=this._getBestFitWidths(),x(i,(y,C)=>{var b=e.getColumnId(C);e.columnOption(b,"bestFitWidth",u[y],!0)})):s&&(u=this._getBestFitWidths()),x(i,function(y){var{width:C}=this;C!=="auto"&&(f(C)?u[y]=ve(C)||ySe(C)?parseFloat(C):C:n||(u[y]=void 0))}),l&&(this._toggleBestFitMode(!1),l=!1,c&&c!==I.getActiveElement())){var m=Ze(c).bottom<0;m||CSe(c,p)}d=this._correctColumnWidths(u,i),n&&(function(){var y;x(i,(C,b)=>{b.type==="groupExpand"&&(y=u[C])}),x(i,(C,b)=>{b.type==="groupExpand"&&y&&(u[C]=y)})}(),this._needStretch()&&this._processStretch(u,i)),Et(()=>{(a||d||r)&&this._setVisibleWidths(i,u),o&&this._toggleContentMinHeight(!1)})})}_needBestFit(){return this.option("columnAutoWidth")}_needStretch(){return this._columnsController.getVisibleColumns().some(e=>e.width==="auto"&&!e.command)}_getAverageColumnsWidth(e){var i=$5(this,e),n=e.filter(o=>o===void 0).length;return i/n}_correctColumnWidths(e,i){var n=this,o,r=!1,a=!1,s=!1,l=n.component.$element(),d=n._hasWidth,u=function(){var b=o,O=i[b],k=e[b]===tx,J=e[b],{minWidth:U}=O;if(U){if(J===void 0){var z=n._getAverageColumnsWidth(e);J=z}else if(ff(J)){var ce=xSe(n,b,U,e);ce<0&&(J=-1)}}var fe=n._getRealColumnWidth(b,e.map((he,it)=>b===it?J:he));U&&!k&&fe<U&&(e[b]=U,s=!0,o=-1),f(O.width)||(a=!0),ff(O.width)&&(r=!0)};for(o=0;o<i.length;o++)u();if(!a&&e.length){var c=n._rowsView.element(),p=n._rowsView.contentWidth(),g=n._rowsView.getScrollbarWidth(),m=n._getTotalWidth(e,p);if(m<p){var y=M.getLastResizableColumnIndex(i,e);if(y>=0&&(e[y]="auto",s=!0,d===!1&&!r)){var C=n.option("showBorders")?Math.ceil(ee(c)-kp(c)):0;n._maxWidth=m+g+C,l.css("maxWidth",n._maxWidth)}}}return s}_processStretch(e,i){var n=this._rowsView.contentWidth(),o=this._getTotalWidth(e,n),r={length:0};if(e.length){x(i,function(u){(this.width||e[u]===tx)&&(r[u]=!0,r.length++)});var a=n-o,s=Math.floor(a/(e.length-r.length)),l=a-s*(e.length-r.length);if(a>=0)for(var d=0;d<e.length;d++)r[d]||(e[d]+=s,l>0&&(l<1?(e[d]+=l,l=0):(e[d]++,l--)))}}_getRealColumnWidth(e,i,n){var o=1,r=i[e];if(!ff(r))return parseFloat(r);var a=i.reduce((u,c,p)=>ff(c)?u+parseFloat(c):u,0),s=i.reduce((u,c)=>!c||c===tx||ff(c)?u:u+parseFloat(c),0);n=n||this._rowsView.contentWidth();var l=n-s,d=a*n/100;return s>0&&d+s>=n&&(o=d>l?l/d:1),parseFloat(r)*n*o/100}_getTotalWidth(e,i){for(var n=0,o=0;o<e.length;o++){var r=e[o];r&&r!==tx&&(n+=this._getRealColumnWidth(o,e,i))}return Math.ceil(n)}_getGroupElement(){return this.component.$element().children().get(0)}updateSize(e){var i=h(e),n=this.addWidgetPrefix(vSe);if(this._hasHeight===void 0&&i&&i.is(":visible")&&H(i)){var o=i.children(".".concat(this.getWidgetContainerClass()));o.length&&o.detach(),this._hasHeight=!!Y(i);var r=H(i);i.addClass(n),this._hasWidth=H(i)===r,i.removeClass(n),o.length&&o.appendTo(i)}}publicMethods(){return["resize","updateDimensions"]}_waitAsyncTemplates(){var e,i,n;return A((e=this._columnHeadersView)===null||e===void 0?void 0:e.waitAsyncTemplates(!0),(i=this._rowsView)===null||i===void 0?void 0:i.waitAsyncTemplates(!0),(n=this._footerView)===null||n===void 0?void 0:n.waitAsyncTemplates(!0))}resize(){if(this.component._requireResize)return new S().resolve();var e=new S;return this._waitAsyncTemplates().done(()=>{A(this.updateDimensions()).done(e.resolve).fail(e.reject)}).fail(e.reject),e.promise()}updateDimensions(e){var i=this;if(i._initPostRenderHandlers(),!!i._checkSize(e)){var n=i._resizeDeferred,o=i._resizeDeferred=new S;return A(n).always(()=>{Et(()=>{i._dataController.isLoaded()&&i._synchronizeColumns(),i._resetGroupElementHeight(),si(()=>{Et(()=>{si(()=>{i._updateDimensionsCore()})})})}).done(o.resolve).fail(o.reject)}),o.promise()}}_resetGroupElementHeight(){var e=this._getGroupElement(),i=this._rowsView.getScrollable();e&&e.style.height&&(!i||!i.scrollTop())&&(e.style.height="")}_checkSize(e){var i=this.component.$element(),n=i.is(":visible"),o=this._lastWidth!==H(i)||this._lastHeight!==Y(i)||this._devicePixelRatio!==G().devicePixelRatio;return n&&(!e||o)}_setScrollerSpacingCore(){var e=this,i=e._rowsView.getScrollbarWidth(),n=e._rowsView.getScrollbarWidth(!0);Et(()=>{e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(i),e._footerView&&e._footerView.setScrollerSpacing(i),e._rowsView.setScrollerSpacing(i,n)})}_setScrollerSpacing(){var e=this._rowsView.getScrollable(),i=this.option("scrolling.useNative")===!0;!e||i?Et(()=>{si(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()}_updateDimensionsCore(){var e,i=this,n=i._dataController,o=i._rowsView,r=i.component.$element(),a=this._getGroupElement(),s=Y(r),l=(e=i.option("height"))!==null&&e!==void 0?e:r.get(0).style.height,d=!!l&&l!=="auto",u=parseInt(r.css("maxHeight")),c=u&&s>=u,p=a&&a.scrollHeight===a.offsetHeight;i.updateSize(r),Et(()=>{var g=i._hasHeight||!!u||d;if(o.hasHeight(g),c&&!p&&h(a).css("height",u),!n.isLoaded()){o.setLoading(n.isLoading());return}si(()=>{i._updateLastSizes(r),i._setScrollerSpacing(),x(GM,(m,y)=>{var C=i.getView(y);C&&C.resize()}),this._editorFactoryController&&this._editorFactoryController.resize()})})}_updateLastSizes(e){this._lastWidth=H(e),this._lastHeight=Y(e),this._devicePixelRatio=G().devicePixelRatio}optionChanged(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":e.handled=!0;return;default:super.optionChanged(e)}}},HM=class extends ye.ViewController{_scrollChangedHandler(e,i,n){for(var o=0;o<e.length;o++)e[o]&&e[o].name!==n&&e[o].scrollTo({left:i.left,top:i.top})}init(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],i=0;i<e.length;i++){var n=e[i];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}},WM=class extends ye.View{_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())}init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")}getView(e){return this.component._views[e]}element(){return this._groupElement}optionChanged(e){f(this._groupElement)&&e.name==="showBorders"?(this._groupElement.toggleClass(this.addWidgetPrefix(U5),!!e.value),e.handled=!0):super.optionChanged(e)}_renderViews(e){var i=this;x(GM,(n,o)=>{var r=i.getView(o);r&&r.render(e)})}_getTableRoleName(){return"group"}render(e){var i=!this._groupElement,n=this._groupElement||h("<div>").addClass(this.getWidgetContainerClass());n.addClass(j5),n.toggleClass(this.addWidgetPrefix(U5),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria("role",this._getTableRoleName(),n),this._rootElement=e||this._rootElement,i&&(this._groupElement=n,W()&&this._resizingController.updateSize(e),n.appendTo(e)),this._renderViews(n)}update(){var e=this._rootElement,i=this._groupElement;e&&i&&(this._resizingController.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}},K5={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:VM,synchronizeScrolling:HM},views:{gridView:WM},VIEW_NAMES:GM};P.registerModule("gridView",K5);var SSe="dx-buttongroup",bSe=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],DSe=function(t){var e=t.data&&t.data(),i=e&&e.dxComponents,n=i&&i[0];return n&&e[n]};function Zc(t,e){var i;if(t){var n=t._findItemElementByItem(e);if(n.length){var o=t._getItemData(n),r=!!((i=o.options)!==null&&i!==void 0&&i.disabled||o.disabled||t.option("disabled")),{widget:a}=o;if(a&&bSe.indexOf(a)!==-1){var s=n.find(a.toLowerCase().replace("dx",".dx-"));if(s.length){var l,d,u=DSe(s);if(!u)return;var c=(l=u._focusTarget)===null||l===void 0?void 0:l.call(u);if(a==="dxDropDownButton")c=c&&c.find(".".concat(SSe));else{var p;c=(p=c)!==null&&p!==void 0?p:h(u.element())}var g=(d=o.options)===null||d===void 0?void 0:d.tabIndex;r?c.attr("tabIndex",-1):c.attr("tabIndex",g??0)}}}}}var wSe="dx-toolbar-label",ix=class{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var e;return(e=this._toolbar.option("items"))!==null&&e!==void 0?e:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth(this._toolbar.itemElements(),!0)}_arrangeItems(){var e=this._toolbar._$toolbarItemsContainer.find(".".concat(wSe)).eq(0);if(e.length){var i=H(this._toolbar.$element()),n=ee(e)-H(e);e.css("maxWidth",i-n)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}};var zM="dx-toolbar-menu-action",ESe="dx-toolbar-hidden-button",q5="dx-toolbar-hidden-button-group",Y5="dx-toolbar-menu-section",OSe="dx-toolbar-menu-custom",Q5="dx-toolbar-menu-last-section",ISe="dx-scrollview-content",nx=class extends Hg{_init(){super._init(),this._activeStateUnit=".".concat(zM,":not(.").concat(q5,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var e=this._itemContainer();x(["before","center","after","menu"],(i,n)=>{var o="_$".concat(n,"Section");this[o]||(this[o]=h("<div>").addClass(Y5)),this[o].appendTo(e)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){var e=this.$element().find(".".concat(ISe));e.attr("role","menu")}_updateSections(){var e=this.$element().find(".".concat(Y5));e.removeClass(Q5),e.not(":empty").eq(-1).addClass(Q5)}_renderItem(e,i,n,o){var r,a=(r=i.location)!==null&&r!==void 0?r:"menu",s=this["_$".concat(a,"Section")],l=super._renderItem(e,i,s,o);return this._getItemTemplateName({itemData:i})&&l.addClass(OSe),(a==="menu"||i.widget==="dxButton"||i.widget==="dxButtonGroup"||i.isAction)&&l.addClass(zM),i.widget==="dxButton"&&l.addClass(ESe),i.widget==="dxButtonGroup"&&l.addClass(q5),l.addClass(i.cssClass),l}_getItemTemplateName(e){var i=super._getItemTemplateName(e),n=e.itemData,o=n&&n.menuItemTemplate;return o||i}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,i,n){h(e.target).closest(".".concat(zM)).length&&super._itemClickHandler(e,i,n)}_clean(){this._getSections().empty(),super._clean()}};var UM=(()=>{class t extends Fi{_getDefaultOptions(){return v(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}return t.defaultOptions=function(e){Fi.defaultOptions(e)},t})();K("dxPopup",UM);var J5=UM;var FSe="dx-dropdownmenu",TSe="dx-dropdownmenu-popup",MSe="dx-dropdownmenu-popup-wrapper",ASe="dx-dropdownmenu-list",RSe="dx-dropdownmenu-button",BSe=10,X5=3,ox=class extends ct{_supportedKeys(){var e={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(e=this._button._supportedKeys()),v(super._supportedKeys(),e,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return v(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return He()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass(FSe),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new qs("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var e=this.$element().addClass(RSe);this._button=this._createComponent(e,xt,{icon:"overflow",template:"content",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:i=>{this.option("opened",!this.option("opened")),this._buttonClickAction(i)}})}_toggleActiveState(e,i,n){this._button._toggleActiveState(e,i,n)}_toggleMenuVisibility(e){var i=e??!this._popup.option("visible");e&&this._renderPopup(),this._popup.toggle(i),this.setAria("expanded",i)}_renderPopup(){if(!this._$popup){this._$popup=h("<div>").appendTo(this.$element());var{rtlEnabled:e,container:i,animation:n}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(o){var{component:r}=o;r.$wrapper().addClass(MSe).addClass(TSe)},deferRendering:!1,contentTemplate:o=>this._renderList(o),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(e?"left":"right"),at:"bottom ".concat(e?"left":"right"),collision:"fit flip",offset:{v:X5},of:this.$element()},animation:n,onOptionChanged:o=>{var{name:r,value:a}=o;r==="visible"&&this.option("opened",a)},container:i,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:o=>this._closeOutsideDropDownHandler(o),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var e=this.$element(),i=e.offset().top,n=oe(G()),o=Math.max(i,n-i-oe(e));return Math.min(n,o-X5-BSe)}_closeOutsideDropDownHandler(e){var i=!h(e.target).closest(this.$element()).length;return i}_renderList(e){var i=h(e);i.addClass(ASe),this._list=this._createComponent(i,nx,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:n=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(n)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(e,i,n){var o;(o=this._list)===null||o===void 0||o._itemOptionChanged(e,i,n),Zc(this._list,e)}_getListDataSource(){var e;return(e=this.option("dataSource"))!==null&&e!==void 0?e:this.option("items")}_setListDataSource(){var e;(e=this._list)===null||e===void 0||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){super._toggleVisibility(e),this._button.option("visible",e)}_optionChanged(e){var i,n,o,{name:r,value:a}=e;switch(r){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":(i=this._list)===null||i===void 0||i.option(r,this._getTemplate(a));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":(n=this._list)===null||n===void 0||n.option(r,a),super._optionChanged(e);break;case"onItemRendered":(o=this._list)===null||o===void 0||o.option(r,a);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(a),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(r,a);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>Zc(this._list,e))}};var Z5="dx-state-invisible",kSe="dx-toolbar-menu-container",PSe="dx-toolbar-button",rx="dx-toolbar-item-auto-hide",jM="dx-toolbar-item-invisible",ax=class{constructor(e){this._toolbar=e}_initMarkup(){Et(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=h("<div>").appendTo(this._overflowMenuContainer()),i=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(e,ox,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>n,onItemClick:o=>{i(o)},container:this._toolbar.option("menuContainer"),onOptionChanged:o=>{var{name:r,value:a}=o;r==="opened"&&this._toolbar.option("overflowMenuVisible",a),r==="items"&&this._updateMenuVisibility(a)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=h("<div>").appendTo(this._toolbar._$afterSection).addClass(PSe).addClass(kSe)}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){var i=e??this._getMenuItems(),n=i.length&&this._hasVisibleMenuItems(i);this._toggleMenuVisibility(n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(Z5,!e)}_renderMenuItems(){Et(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var e;return Yt((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],i=>!this._toolbar._isMenuItem(i))}_getHiddenItems(){return this._toolbar._itemContainer().children(".".concat(rx,".").concat(jM)).not(".".concat(Z5))}_getMenuItems(){var e,i,n=Yt((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],a=>this._toolbar._isMenuItem(a)),o=this._getHiddenItems();this._restoreItems=(i=this._restoreItems)!==null&&i!==void 0?i:[];var r=[].slice.call(o).map(a=>{var s=this._toolbar._getItemData(a),l=h(a),d=l.children();return v({menuItemTemplate:()=>{this._restoreItems.push({container:l,item:d});var u=h("<div>").addClass(rx);return u.append(d)}},s)});return[...r,...n]}_hasVisibleMenuItems(e){var i=e??this._toolbar.option("items"),n=!1,o=pe("visible"),r=pe("locateInMenu");return x(i,function(a,s){var l=o(s,{functionsAsIs:!0}),d=r(s,{functionsAsIs:!0});(l!==!1&&(d==="auto"||d==="always")||s.location==="menu")&&(n=!0)}),n}_arrangeItems(){var e;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),x((e=this._restoreItems)!==null&&e!==void 0?e:[],function(n,o){h(o.container).append(o.item)}),this._restoreItems=[];var i=H(this._toolbar.$element());return this._hideOverflowItems(i),i}_hideOverflowItems(e){var i,n=this._toolbar.$element().find(".".concat(rx));if(n.length){e=(i=e)!==null&&i!==void 0?i:H(this._toolbar.$element()),h(n).removeClass(jM);for(var o=this._getItemsWidth();n.length&&e<o;){var r=n.eq(-1);r.addClass(jM),o=this._getItemsWidth(),n.splice(-1,1)}}}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,i,n){if((i==="disabled"||i==="options.disabled")&&this._toolbar._isMenuItem(e)){var o;(o=this._menu)===null||o===void 0||o._itemOptionChanged(e,i,n);return}this.renderMenuItems()}_renderItem(e,i){e.locateInMenu==="auto"&&i.addClass(rx)}_optionChanged(e,i){var n,o,r,a,s;switch(e){case"disabled":(n=this._menu)===null||n===void 0||n.option(e,i);break;case"overflowMenuVisible":(o=this._menu)===null||o===void 0||o.option("opened",i);break;case"onItemClick":(r=this._menu)===null||r===void 0||r.option(e,i);break;case"menuContainer":(a=this._menu)===null||a===void 0||a.option("container",i);break;case"menuItemTemplate":(s=this._menu)===null||s===void 0||s.option("itemTemplate",i)}}};var NSe="dx-toolbar-multiline",LSe="dx-toolbar-text-auto-hide",sx=class extends R4{_getDefaultOptions(){return v(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(e){e!=="height"&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass(NSe,this._isMultiline()),this._layoutStrategy=this._isMultiline()?new ix(this):new ax(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,i,n,o){var r=super._renderItem(e,i,n,o);this._layoutStrategy._renderItem(i,r);var{widget:a,showText:s}=i;return a==="dxButton"&&s==="inMenu"&&r.toggleClass(LSe),r}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}}_itemOptionChanged(e,i,n){this._isMenuItem(e)||super._itemOptionChanged(e,i,n),this._layoutStrategy._itemOptionChanged(e,i,n),(i==="disabled"||i==="options.disabled")&&Zc(this,e),i==="location"&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>Zc(this,e))}_isMenuItem(e){return e.location==="menu"||e.locateInMenu==="always"}_isToolbarItem(e){return e.location===void 0||e.locateInMenu==="never"}_optionChanged(e){var{name:i,value:n}=e;switch(this._layoutStrategy._optionChanged(i,n),i){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}};K("dxToolbar",sx);var e8=sx;var t8=e8;var VSe="header-panel",i8="toolbar-button",HSe="-ariaToolbar",n8=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],$M=class extends ko{init(){super.init(),this._editingController=this.getController("editing"),this._headerFilterController=this.getController("headerFilter"),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})}_getToolbarItems(){return[]}_getButtonContainer(){return h("<div>").addClass(this.addWidgetPrefix(i8))}_getToolbarButtonClass(e){var i=e?" ".concat(e):"";return this.addWidgetPrefix(i8)+i}_getToolbarOptions(){var e=this.option("toolbar"),i={toolbarOptions:{items:this._getToolbarItems(),visible:e?.visible,disabled:e?.disabled,onItemRendered(r){var a=r.itemData.onItemRendered;a&&a(r)}}},n=e?.items;if(i.toolbarOptions.items=this._normalizeToolbarItems(i.toolbarOptions.items,n),this.executeAction("onToolbarPreparing",i),i.toolbarOptions&&!f(i.toolbarOptions.visible)){var o=i.toolbarOptions.items;i.toolbarOptions.visible=!!o?.length}return i.toolbarOptions}_normalizeToolbarItems(e,i){e.forEach(s=>{if(!n8.includes(s.name))throw new Error("Default toolbar item '".concat(s.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var n={location:"after"},o=Array.isArray(i);if(!f(i))return e;o||(i=[i]);var r={};e.forEach(s=>{r[s.name]=s});var a=i.map(s=>(N(s)&&(s={name:s}),f(s.name)&&(f(r[s.name])?s=v(!0,{},r[s.name],s):n8.includes(s.name)&&(s=E(E({},s),{visible:!1}))),v(!0,{},n,s)));return o?a:a[0]}_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix(VSe));var i=w.format(this.component.NAME+HSe),n=h("<div>").attr("aria-label",i).appendTo(e);this._toolbar=this._createComponent(n,t8,this._toolbarOptions)}}_columnOptionChanged(){}_handleDataChanged(){this._requireReady&&this.render()}_isDisabledDefinedByUser(e){var i,n=(i=this.option("toolbar"))===null||i===void 0?void 0:i.items,o=n?.find(r=>r?.name===e);return f(o?.disabled)}render(){this._toolbarOptions=this._getToolbarOptions(),super.render.apply(this,arguments)}setToolbarItemDisabled(e,i){var n,o=this._toolbar,r=this._isDisabledDefinedByUser(e);if(!(!o||r)){var a=(n=o.option("items"))!==null&&n!==void 0?n:[],s=a.findIndex(d=>d.name===e);if(!(s<0)){var l=o.option("items[".concat(s,"]"));o.option("items[".concat(s,"].disabled"),i),l.options&&o.option("items[".concat(s,"].options.disabled"),i)}}}updateToolbarDimensions(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()}getHeaderPanel(){return this.element()}getHeight(){return this.getElementHeight()}optionChanged(e){var i,n,o;if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"){var r=co(e.fullName),a=e.fullName.replace(/^toolbar\./,"");if(r.length===1)this._invalidate();else if(r[1]==="items")if(r.length===2){var s=this._getToolbarOptions();(i=this._toolbar)===null||i===void 0||i.option("items",s.items)}else if(r.length===3){var l=this._normalizeToolbarItems(this._getToolbarItems(),e.value);(n=this._toolbar)===null||n===void 0||n.option(a,l)}else r.length>=4&&((o=this._toolbar)===null||o===void 0||o.option(a,e.value));else this._invalidate();e.handled=!0}super.optionChanged(e)}isVisible(){return!!(this._toolbarOptions&&this._toolbarOptions.visible)}allowDragging(){}hasGroupedColumns(){}},WSe=t=>class extends t{_updateDimensionsCore(){super._updateDimensionsCore.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}},KM={defaultOptions:()=>({}),views:{headerPanel:$M},extenders:{controllers:{resizing:WSe}}};var nCt=KM.views.headerPanel;P.registerModule("headerPanel",KM);var GSe=".dx-row",zSe="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";P.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var qM=ct.inherit({_activeStateUnit:GSe,_getDefaultOptions(){var t=this.callBase();return x(P.modules,function(){T(this.defaultOptions)&&v(!0,t,this.defaultOptions())}),t},_setDeprecatedOptions(){this.callBase(),v(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>He(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>be.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:t=>t.deviceType!=="desktop",options:{grouping:{expandMode:"rowClick"}}}])},_init(){this.callBase(),M.logHeaderFilterDeprecatedWarningIfNeed(this),P.processModules(this,P),P.callModuleItemsMethod(this,"init")},_clean:D,_optionChanged(t){P.callModuleItemsMethod(this,"optionChanged",[t]),t.handled||this.callBase(t)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(t){t&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var t=this;Et(()=>{t._renderContentImpl()})},_getTemplate(t){var e=t;return N(e)&&e.startsWith("#")&&(e=h(t),Bs.warn(zSe)),this.callBase(e)},_dispose(){this.callBase(),P.callModuleItemsMethod(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),P.callModuleItemsMethod(this,"beginUpdate")},endUpdate(){P.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController(t){return this._controllers[t]},getView(t){return this._views[t]},focus(t){this.getController("keyboardNavigation").focus(t)}});qM.registerModule=P.registerModule.bind(P);K("dxDataGrid",qM);var o8=qM;var USe=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,jSe=function t(e){e&&x(e,(i,n)=>{if(q(n)||Array.isArray(n))t(n);else if(typeof n=="string"){var o=USe.exec(n);o&&(e[i]=new Date(Date.UTC(+o[1],+o[2]-1,+o[3],+o[4],+o[5],+o[6])))}})},r8=function(t){var e=t.type==="sessionStorage"?w_():G().localStorage;if(!e)throw new Error("E1007");return e},a8=function(t){return f(t.storageKey)?t.storageKey:"storage"},lx=class extends ye.ViewController{getDataController(){return this.getController("data")}getExportController(){return this.getController("export")}getColumnsController(){return this.getController("columns")}init(){return this._state={},this._isLoaded=!1,this._isLoading=!1,this._windowUnloadHandler=()=>{this._savingTimeoutID!==void 0&&this._saveState(this.state())},_.on(G(),"unload",this._windowUnloadHandler),this}optionChanged(e){switch(e.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),e.handled=!0;break;default:super.optionChanged(e)}}dispose(){clearTimeout(this._savingTimeoutID),_.off(G(),"unload",this._windowUnloadHandler)}_loadState(){var e=this.option("stateStoring");if(e.type==="custom")return e.customLoad&&e.customLoad();try{return JSON.parse(r8(e).getItem(a8(e)))}catch(i){X.log("W1022","State storing",i.message)}}_saveState(e){var i=this.option("stateStoring");if(i.type==="custom"){i.customSave&&i.customSave(e);return}try{r8(i).setItem(a8(i),JSON.stringify(e))}catch(n){X.log(n.message)}}publicMethods(){return["state"]}isEnabled(){return this.option("stateStoring.enabled")}isLoaded(){return this._isLoaded}isLoading(){return this._isLoading}load(){this._isLoading=!0;var e=It(this._loadState());return e.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(i=>{i!==null&&!Rt(i)&&this.state(i)}),e}state(e){if(!arguments.length)return v(!0,{},this._state);this._state=v({},e),jSe(this._state)}save(){var e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout(()=>{e._saveState(e.state()),e._savingTimeoutID=void 0},e.option("stateStoring.savingTimeout"))}};var $Se=t=>{var e=t.getView("pagerView"),i=t.getController("data"),n={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:t.option("filterPanel.filterEnabled")},filterValue:t.option("filterValue"),focusedRowKey:t.option("focusedRowEnabled")?t.option("focusedRowKey"):void 0};return v(n,i.getUserState())},KSe=t=>{var e=t.getController("columns"),i=t.getController("selection"),n=t.getController("export"),o=t.getController("data");e&&e.columnsChanged.add(()=>{t.updateState({columns:e.getUserState()})}),i&&i.selectionChanged.add(r=>{t.updateState({selectedRowKeys:r.selectedRowKeys,selectionFilter:r.selectionFilter})}),o&&(t._initialPageSize=t.option("paging.pageSize"),t._initialFilterValue=t.option("filterValue"),o.changed.add(()=>{var r=$Se(t);t.updateState(r)})),n&&n.selectionOnlyChanged.add(()=>{t.updateState({exportSelectionOnly:n.selectionOnly()})})},qSe=null,YSe=(t,e)=>{var i=t.getController("filterSync"),n=t.getController("columns"),o=e.columns||e.filterValue!==void 0;return i?o?e.filterValue||i.getFilterValueFromColumns(e.columns):t._initialFilterValue||i.getFilterValueFromColumns(n.getColumns()):qSe},QSe=t=>class extends t{init(){super.init(),this._dataController.stateLoaded.add(()=>{if(this._dataController.isLoaded()&&!this._dataController.getDataSource()){this.setLoading(!1),this.renderNoDataText();var e=this.component.getView("columnHeadersView");e&&e.render(),this.component._fireContentReadyAction()}})}},JSe=t=>class extends t{init(){return super.init.apply(this,arguments),KSe(this),this}isLoading(){return super.isLoading()||this.getDataController().isStateLoading()}state(e){var i=super.state.apply(this,arguments);return e!==void 0&&this.applyState(v(!0,{},e)),i}updateState(e){if(this.isEnabled()){var i=this.state(),n=v({},i,e),o=Qi(i),r=Qi(n);_e(o,r)||(e=v(!0,{},e),v(this._state,e),this.save())}else v(this._state,e)}applyState(e){var i,{allowedPageSizes:n}=e,{searchText:o}=e,{selectedRowKeys:r}=e,{selectionFilter:a}=e,s=this.option("scrolling.mode"),l=s==="virtual"||s==="infinite",d=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector"),u=(i=this.getView("rowsView"))===null||i===void 0?void 0:i.hasHeight();this.component.beginUpdate(),this.getColumnsController()&&this.getColumnsController().setUserState(e.columns),this.getExportController()&&this.getExportController().selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",a),n&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=n),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",o||""),this.option("filterValue",YSe(this,e)),this.option("filterPanel.filterEnabled",e.filterPanel?e.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",(!l||u)&&e.pageIndex||0),this.option("paging.pageSize",(!l||d)&&f(e.pageSize)?e.pageSize:this._initialPageSize),this.getDataController()&&this.getDataController().reset()}},XSe=t=>class extends t{_shouldReturnVisibleColumns(){var e=super._shouldReturnVisibleColumns.apply(this,arguments);return e&&(!this._stateStoringController.isEnabled()||this._stateStoringController.isLoaded())}},ZSe=t=>class extends t{dispose(){clearTimeout(this._restoreStateTimeoutID),super.dispose()}callbackNames(){return super.callbackNames().concat(["stateLoaded"])}_refreshDataSource(){if(this._stateStoringController.isEnabled()&&!this._stateStoringController.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var e=new S;return this._restoreStateTimeoutID=setTimeout(()=>{this._stateStoringController.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{super._refreshDataSource(),this.stateLoaded.fire(),e.resolve()}).fail(i=>{this.stateLoaded.fire(),this._handleLoadError(i||"Unknown error"),e.reject()})}),e.promise()}this.isStateLoading()||super._refreshDataSource()}isLoading(){return super.isLoading()||this._stateStoringController.isLoading()}isStateLoading(){return f(this._restoreStateTimeoutID)}isLoaded(){return super.isLoaded()&&!this.isStateLoading()}},ebe=t=>class extends t{_fireSelectionChanged(e){var i=this.option("selection.deferred");this._stateStoringController.isLoading()&&i||super._fireSelectionChanged.apply(this,arguments)}},s8={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:lx},extenders:{views:{rowsView:QSe},controllers:{stateStoring:JSe,columns:XSe,data:ZSe,selection:ebe}}};P.registerModule("stateStoring",s8);var d8="dx-editor-cell",tbe="dx-row",l8="dx-selection",Td="dx-select-checkbox",ibe="dx-select-checkboxes-hidden",u8="dx-command-select",nbe="dx-selection-disabled",c8="dx-data-row",ea="selection.showCheckBoxesMode",mf="selection.mode",h8=function(t,e){var i=t.getView("rowsView"),n=t.getController("selection"),o=h(e.target).closest(".".concat(c8)),r=i.getRowIndex(o);r<0||(t.option(ea)==="onLongTap"?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():(t.option(ea)==="onClick"&&n.startSelectionWithCheckboxes(),t.option(ea)!=="always"&&n.changeItemSelection(r,{control:!0})))},obe=function(t,e){var i=0,n=t._dataController.store(),o=n&&n.key(),r=Array.isArray(o);if(!e.length)return!1;if(r&&Array.isArray(e[0])&&e[1]==="and"){for(var a=0;a<e.length;a++)if(Array.isArray(e[a])){if(e[a][0]!==o[i]||e[a][1]!=="=")return!0;i++}return!1}return o!==e[0]},rbe=(t,e)=>{var{component:i}=e,n=i.getView("rowsView");i.option("renderAsync")&&!i.option("selection.deferred")&&(e.value=i.isRowSelected(e.row.key)),n.renderSelectCheckBoxContainer(h(t),e)},abe=(t,e)=>{var{column:i}=e,n=h(t),o=e.component.getView("columnHeadersView");n.addClass(d8),o._renderSelectAllCheckBox(n,i),o._attachSelectAllCheckBoxClickEvent(n)},YM=class extends ye.Controller{init(){var e,{deferred:i,selectAllMode:n,mode:o}=(e=this.option("selection"))!==null&&e!==void 0?e:{};this.option("scrolling.mode")==="infinite"&&!i&&o==="multiple"&&n==="allPages"&&X.log("W1018"),this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._stateStoringController=this.getController("stateStoring"),this._selectionMode=o,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)}_deselectRemovedOnPush(e){var i=this.option("selection.deferred"),n=e.filter(r=>r.type==="remove").map(r=>r.key);if(i){var o=this._dataController.items().filter(r=>r.isSelected).map(r=>r.key);n=n.filter(r=>o.find(a=>_e(a,r)))}n.length&&this.deselectRows(n)}_updateSelectedOnPush(e){var i=this.option("selection.deferred");if(!i){var n=e.filter(r=>r.type==="update"),o=this.getSelectedRowsData();Io({keyInfo:this._selection.options,data:o,changes:n})}}_getSelectionConfig(){var e,i=this._dataController,n=this._columnsController,o=(e=this.option("selection"))!==null&&e!==void 0?e:{},{deferred:r}=o,a=this.option("scrolling.mode"),s=a==="virtual"||a==="infinite",l=this.option("selection.allowSelectAll"),d=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:r,alwaysSelectByShift:o.alwaysSelectByShift,maxFilterLengthInRequest:o.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,isVirtualPaging:s,allowLoadByRange(){var u=n.getGroupColumns().length>0;return s&&!d&&!u&&l&&!r},key:()=>i?.key(),keyOf:u=>i?.keyOf(u),dataFields(){var u;return(u=i.dataSource())===null||u===void 0?void 0:u.select()},load(u){var c;return((c=i.dataSource())===null||c===void 0?void 0:c.load(u))||new S().resolve([])},plainItems:u=>i.items(!0),isItemSelected:u=>u.selected,isSelectableItem:u=>u?.rowType==="data"&&!u.isNewRow,getItemData:u=>f(u?.rowType)?u?.oldData||u?.data:u,filter:()=>i.getCombinedFilter(r),totalCount:()=>i.totalCount(),getLoadOptions(u,c,p){var g,m,{sort:y,filter:C}=(m=(g=i.dataSource())===null||g===void 0?void 0:g.lastLoadOptions())!==null&&m!==void 0?m:{},b=Math.min(u,c),O=Math.max(u,c);f(p)&&(b=Math.min(p,b),O=Math.max(p,O));var k=O-b+1;return{skip:b,take:k,filter:C,sort:y}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){var e=this._columnsController,i=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:i,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:u8,width:"auto",cellTemplate:rbe,headerCellTemplate:abe}),e.columnOption("command:select","visible",i)}_createSelection(){var e=this._getSelectionConfig();return new cc(e)}_fireSelectionChanged(e){var i=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(i),e&&this.executeAction("onSelectionChanged",e)}_updateCheckboxesState(e){var{isDeferredMode:i}=e,{selectionFilter:n}=e,{selectedItemKeys:o}=e,{removedItemKeys:r}=e;this.option(ea)==="onClick"&&((i?n&&obe(this,n):o.length>1)?this.startSelectionWithCheckboxes():(i?n&&!n.length:o.length===0&&r.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(e){var i,n=this.option("selection.deferred"),o=this._selection.selectionFilter(),r=this._dataController,a=r.items(!0),s=r.items();if(a){var l=this.isSelectionWithCheckboxes(),d=this.getChangedItemIndexes(a),u=this.getChangedItemIndexes(s);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:o,isDeferredMode:n}),(d.length||l!==this.isSelectionWithCheckboxes())&&r.updateItems({changeType:"updateSelection",itemIndexes:u}),n?(this.option("selectionFilter",o),i={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,i={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(i)}}getChangedItemIndexes(e){for(var i=[],n=this.option("selection.deferred"),o=0,{length:r}=e;o<r;o++){var a=e[o],s=this.isRowSelected(n?a.data:a.key);this._selection.isDataItem(a)&&a.isSelected!==s&&i.push(o)}return i}callbackNames(){return["selectionChanged"]}optionChanged(e){switch(super.optionChanged(e),e.name){case"selection":var i=this._selectionMode;if(this.init(),e.fullName!=="selection.showCheckBoxesMode"){var n=this._selectionMode,o=this.option("selectedRowKeys");i!==n&&(n==="single"?o.length>1&&(o=[o[0]]):n!=="multiple"&&(o=[])),this.selectRows(o).always(()=>{this._fireSelectionChanged()})}this._columnsController.updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var r=e.value||[];Array.isArray(r)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!r.length)&&this.selectRows(r),e.handled=!0}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(e){return this._selection.isItemSelected(e)}isSelectColumnVisible(){return this.option(mf)==="multiple"&&(this.option(ea)==="always"||this.option(ea)==="onClick"||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return this.option("selection.selectAllMode")==="page"}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return this.option(ea)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){var e,i=(e=this.option("selectedRowKeys"))!==null&&e!==void 0?e:[];return!this.option("selection.deferred")&&i.length?this.selectedItemKeys(i):new S().resolve().promise()}selectedItemKeys(e,i,n,o){return this._selection.selectedItemKeys(e,i,n,o)}getSelectedRowKeys(e){return this._selection.getSelectedItemKeys()}selectRows(e,i){return this.selectedItemKeys(e,i)}deselectRows(e){return this.selectedItemKeys(e,!0,!0)}selectRowsByIndexes(e){var i=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),x(e,function(){var o=i[this];o&&o.rowType==="data"&&n.push(o.key)}),this.selectRows(n)}getSelectedRowsData(e){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(e,i,n){i=i||{},this.isSelectionWithCheckboxes()&&(i.control=!0);var o=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(o,i,n)}focusedItemIndex(e){if(f(e))this._selection._focusedItemIndex=e;else return this._selection._focusedItemIndex}isSelectionWithCheckboxes(){return this.option(mf)==="multiple"&&(this.option(ea)==="always"||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){return this.option(mf)==="multiple"&&!this.isSelectionWithCheckboxes()?(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0):!1}stopSelectionWithCheckboxes(){return this._isSelectionWithCheckboxes?(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0):!1}},sbe=t=>class extends t{init(){var e=this.option("selection.deferred");super.init.apply(this,arguments),e&&this._selectionController._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})}_loadDataSource(){var e=this;return super._loadDataSource().always(()=>{e._selectionController.refresh()})}_processDataItem(e,i){var n=this._selectionController.isSelectColumnVisible(),o=i.isDeferredSelection=i.isDeferredSelection===void 0?this.option("selection.deferred"):i.isDeferredSelection,r=super._processDataItem.apply(this,arguments);if(r.isSelected=this._selectionController.isRowSelected(o?r.data:r.key),n&&r.values){for(var a=0;a<i.visibleColumns.length;a++)if(i.visibleColumns[a].command==="select"){r.values[a]=r.isSelected;break}}return r}refresh(e){var i=this,n=new S;return super.refresh.apply(this,arguments).done(()=>{!e||e.selection?i._selectionController.refresh().done(n.resolve).fail(n.reject):n.resolve()}).fail(n.reject),n.promise()}_handleDataChanged(e){var i=this.hasLoadOperation();super._handleDataChanged.apply(this,arguments),i&&!this._repaintChangesOnly&&this._selectionController.focusedItemIndex(-1)}_applyChange(e){if(e&&e.changeType==="updateSelection"){e.items.forEach((i,n)=>{var o=this._items[n];o&&(o.isSelected=i.isSelected,o.values=i.values)});return}return super._applyChange.apply(this,arguments)}_endUpdateCore(){var e=this._changes,i=e.length>1&&e.every(o=>o.changeType==="updateSelection");if(i){var n=e.map(o=>o.itemIndexes||[]).reduce((o,r)=>o.concat(r));this._changes=[{changeType:"updateSelection",itemIndexes:n}]}super._endUpdateCore.apply(this,arguments)}},lbe=t=>class extends t{_contextMenuPrepared(e){var i=e.event;i.originalEvent&&i.originalEvent.type!=="dxhold"||e.items&&e.items.length>0||h8(this,i)}},dbe=t=>class extends t{init(){super.init(),this._selectionController.selectionChanged.add(this._updateSelectAllValue.bind(this))}_updateSelectAllValue(){var e=this.element(),i=e&&e.find(".".concat(Td));if(e&&i.length&&this.option("selection.mode")==="multiple"){var n=this._selectionController.isSelectAll(),o=n!==!1,r=this.option("selection.allowSelectAll")?!this._dataController.isEmpty():o;i.dxCheckBox("instance").option({visible:r,value:n})}}_handleDataChanged(e){super._handleDataChanged(e),(!e||e.changeType==="refresh"||e.repaintChangesOnly&&e.changeType==="update")&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})}_renderSelectAllCheckBox(e,i){var n=this,o=n._dataController.isEmpty(),r=h("<div>").appendTo(e).addClass(Td);return n.setAria("label",w.format("dxDataGrid-ariaSelectAll"),r),n._editorFactoryController.createEditor(r,v({},i,{parentType:"headerRow",dataType:"boolean",value:this._selectionController.isSelectAll(),editorOptions:{visible:!o&&(n.option("selection.allowSelectAll")||this._selectionController.isSelectAll()!==!1)},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:(a,s)=>{var l=n.option("selection.allowSelectAll");s.component.option("visible",l||s.component.option("value")!==!1),!(!s.event||this._selectionController.isSelectAll()===a)&&(s.value&&!l?s.component.option("value",!1):s.value?this._selectionController.selectAll():this._selectionController.deselectAll(),s.event.preventDefault())}})),r}_attachSelectAllCheckBoxClickEvent(e){_.on(e,se,this.createAction(i=>{var{event:n}=i;h(n.target).closest(".".concat(Td)).length||_.trigger(h(n.currentTarget).children(".".concat(Td)),se),n.preventDefault()}))}},ube=t=>class extends t{renderSelectCheckBoxContainer(e,i){i.rowType==="data"&&!i.row.isNewRow?(e.addClass(d8),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,i)):M.setEmptyText(e)}_renderSelectCheckBox(e,i){var n=h("<div>").addClass(Td).appendTo(e);return this.setAria("label",w.format("dxDataGrid-ariaSelectRow"),n),this._editorFactoryController.createEditor(n,v({},i.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:i.value,setValue(o,r){var a;((a=r?.event)===null||a===void 0?void 0:a.type)==="keydown"&&_.trigger(r.element,se,r)},row:i.row})),n}_attachCheckBoxClickEvent(e){_.on(e,se,this.createAction(function(i){var{event:n}=i,o=this.getRowIndex(h(n.currentTarget).closest(".".concat(tbe)));o>=0&&(this._selectionController.startSelectionWithCheckboxes(),this._selectionController.changeItemSelection(o,{shift:n.shiftKey}),h(n.target).closest(".".concat(Td)).length&&this._dataController.updateItems({changeType:"updateSelection",itemIndexes:[o]}))}))}_update(e){var i=this,n=i.getTableElements();e.changeType==="updateSelection"?n.length>0&&(x(n,(o,r)=>{x(e.itemIndexes||[],(a,s)=>{var l;if(e.items[s]&&(l=i._getRowElements(h(r)).eq(s),l.length)){var{isSelected:d}=e.items[s];l.toggleClass(l8,d===void 0?!1:d).find(".".concat(Td)).dxCheckBox("option","value",d),i.setAria("selected",d,l)}})}),i._updateCheckboxesClass()):super._update(e)}_createTable(){var e=this,i=e.option("selection.mode"),n=super._createTable.apply(e,arguments);return i!=="none"&&((e.option(ea)==="onLongTap"||!Co)&&_.on(n,F(mn.name,"dxDataGridRowsView"),".".concat(c8),e.createAction(o=>{h8(e.component,o.event),o.event.stopPropagation()})),_.on(n,"mousedown selectstart",e.createAction(o=>{var{event:r}=o;r.shiftKey&&r.preventDefault()}))),n}_createRow(e){var i=super._createRow.apply(this,arguments);if(e){var{isSelected:n}=e;n&&i.addClass(l8);var o=this.option(mf);o!=="none"&&this.setAria("selected",n,i)}return i}_rowClickForTreeList(e){super._rowClick(e)}_rowClick(e){var i=e.event,n=h(i.target).closest(".".concat(nbe)).length;this.isClickableElement(h(i.target))||(!n&&(this.option(mf)!=="multiple"||this.option(ea)!=="always")&&this._selectionController.changeItemSelection(e.rowIndex,{control:ut(i),shift:i.shiftKey})&&(i.preventDefault(),e.handled=!0),super._rowClick(e))}isClickableElement(e){var i=e.closest(".".concat(u8)).length;return!!i}_renderCore(e){var i=super._renderCore(e);return this._updateCheckboxesClass(),i}_updateCheckboxesClass(){var e=this.getTableElements(),i=this._selectionController.isSelectColumnVisible()&&!this._selectionController.isSelectionWithCheckboxes();x(e,(n,o)=>{h(o).toggleClass(ibe,i)})}},p8={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",deferred:!1,maxFilterLengthInRequest:1500,alwaysSelectByShift:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:YM},extenders:{controllers:{data:sbe,contextMenu:lbe},views:{columnHeadersView:dbe,rowsView:ube}}};P.registerModule("selection",p8);var cr="dx-treeview",xn="".concat(cr,"-node"),is="".concat(xn,"-container"),QM="".concat(xn,"-loadindicator"),fl="".concat(xn,"-container-opened"),vf="".concat(xn,"-is-leaf"),Ti="".concat(cr,"-item"),cbe="".concat(Ti,"-with-checkbox"),hbe="".concat(Ti,"-with-custom-expander-icon"),pbe="".concat(cr,"-custom-expander-icon-item-container"),gbe="".concat(Ti,"-without-checkbox"),fbe="".concat(Ti,"-data"),_f="".concat(cr,"-toggle-item-visibility"),JM="".concat(cr,"-custom-collapse-icon"),XM="".concat(cr,"-custom-expand-icon"),mbe="".concat(cr,"-loadindicator"),vbe="".concat(cr,"-loadindicator-wrapper"),g8="".concat(cr,"-toggle-item-visibility-opened"),dx="".concat(cr,"-select-all-item"),f8="dx-state-invisible",yf="dx-state-disabled",_be="dx-state-selected",ZM="dxTreeView_expand",ux="data-item-id",ybe="dx-item-url",xbe=Ny.inherit({_supportedKeys:function(t){var e=o=>{var r=h(this.option("focusedElement"));if(r.length){o.target=r,o.currentTarget=r,this._itemClickHandler(o,r.children("."+Ti));var a=this._getEventNameByOption(this.option("expandEvent")),s=a===F(se,ZM);s&&this._expandEventHandler(o)}},i=o=>{o.preventDefault();var r=h(this.option("focusedElement")),a=this._getCheckBoxInstance(r);if(!a.option("disabled")){var s=a.option("value");this._updateItemSelection(!s,r.find("."+Ti).get(0),!0)}},n=function(o,r){if(this.option("expandAllEnabled")){r.preventDefault();var a=h(this.option("focusedElement"));if(a.length){var s=this._getItemData(a.find(".".concat(Ti)));this._toggleExpandedNestedItems([s],o)}}};return v(this.callBase(),{enter:this._showCheckboxes()?i:e,space:this._showCheckboxes()?i:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})},_toggleExpandedNestedItems:function(t,e){if(t)for(var i=0,n=t.length;i<n;i++){var o=t[i],r=this._dataAdapter.getNodeByItem(o);this._toggleExpandedState(r,e),this._toggleExpandedNestedItems(o.items,e)}},_getNodeElement:function(t,e){var i=this._encodeString(t.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(".".concat(xn)).each(function(){var o=h(this),r=o.attr(ux);e.$nodeByKey[r]=o})),e.$nodeByKey[i]||h();var n=this.$element().get(0).querySelector("[".concat(ux,'="').concat(i,'"]'));return h(n)},_activeStateUnit:"."+Ti,_widgetClass:function(){return cr},_getDefaultOptions:function(){var t=v(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:w.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null,_supportItemUrl:!1});return v(!0,t,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!So},options:{useNativeScrolling:!1}}])},_initSelectedItems:D,_syncSelectionOptions:d_,_fireSelectionChanged:function(){var t=this._selectionChangePromise;A(t).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(t){this._selectAllValueChangedAction({value:t})},_checkBoxModeChange:function(t,e){var i=this.option("searchEnabled"),n=this._selectAllEnabled(e),o=this._itemContainer(i,n);if(this._detachClickEvent(o),this._detachExpandEvent(o),!(e==="none"||t==="none")){var r=this._$selectAllItem&&this._$selectAllItem.length;switch(t){case"selectAll":r||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":r&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var t=this;x(this._dataAdapter.getFullData(),function(e,i){t._hasChildren(i)&&t._dataAdapter.toggleSelection(i.internalFields.key,!1,!0)})},_optionChanged:function(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",i);break;case"showCheckBoxesMode":this._checkBoxModeChange(i,n),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",i);break;case"useNativeScrolling":this.getScrollable().option("useNative",i);break;case"items":delete this._$selectAllItem,this.callBase(t);break;case"dataSource":this.callBase(t),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":case"_supportItemUrl":break;case"selectionMode":this._initDataAdapter(),this.callBase(t);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",t.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(t)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(t){t&&t.length&&this.option("items",t)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var t=this._filter;t.custom||(t.custom=this._dataSource.filter()),t.internal||(t.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return T(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(t){var e=this.option("createChildren").call(this,t);return Array.isArray(e)?new S().resolve(e).promise():e&&T(e.then)?It(e):new S().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",t)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=h("<div>").addClass(mbe),this._createComponent(this._treeViewLoadIndicator,ci,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(t){var e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),t&&!this._dataSource.isLoaded()){this.option("items",[]);var i=h("<div>").addClass(vbe);this._createTreeViewLoadIndicator().appendTo(i),this.itemsContainer().append(i),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",t=>{this.option().items=this.option("items").concat(t),this._dataAdapter.addItem(t),this._dataAdapter.isFiltered(t)&&this._updateLevel(this._parentIdGetter(t))}).on("removed",t=>{var e=this._dataAdapter.getNodeByKey(t);f(e)&&(this.option("items")[this._dataAdapter.getIndexByKey(e.internalFields.key)]=0,this._markChildrenItemsToRemove(e),this._removeItems(),this._dataAdapter.removeItem(t),this._updateLevel(this._parentIdGetter(e)))})},_markChildrenItemsToRemove:function(t){var e=t.internalFields.childrenKeys;x(e,(i,n)=>{this.option("items")[this._dataAdapter.getIndexByKey(n)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(n))})},_removeItems:function(){var t=v(!0,[],this.option("items")),e=0;x(t,(i,n)=>{n||(this.option("items").splice(i-e,1),e++)})},_updateLevel:function(t){var e=this._getContainerByParentKey(t);this._renderItems(e,this._dataAdapter.getChildrenNodes(t))},_getOldContainer:function(t){if(t.length)return t.children(".".concat(is));var e=this.getScrollable();return e?h(e.content()).children():h()},_getContainerByParentKey:function(t){var e=this._dataAdapter.getNodeByKey(t),i=e?this._getNodeElement(e):[];this._getOldContainer(i).remove();var n=this._renderNodeContainer(i);if(this._isRootLevel(t)){var o=this.getScrollable();o||this._renderScrollableContainer(),h(o.content()).append(n)}return n},_isRootLevel:function(t){return t===this.option("rootValue")},_getAccessors:function(){var t=this.callBase();return t.push("hasItems"),t},_getDataAdapterOptions:function(){var t,e,i;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:(t=this._dataSource)===null||t===void 0||(e=t.loadOptions)===null||e===void 0||(i=e.call(t))===null||i===void 0?void 0:i.langParams}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var t=this._renderNodeContainer();h(this.getScrollable().content()).append(t),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(t,this._dataAdapter.getRootNodes()),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(t)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var t=this.getDataSource(),e=t&&!t.isLoaded()||this._skipContentReadyAndItemExpanded,i=this.getScrollable();i&&W()&&i.update(),e||this.callBase(),i&&W()&&i.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(h("<div>").appendTo(this.$element()),ki,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var e=h("<ul>").addClass(is);if(this.setAria("role","group",e),t&&t.length){var i=this._getItemData(t.children("."+Ti));this._expandedGetter(i)&&e.addClass(fl),e.appendTo(t)}return e},_createDOMElement:function(t,e){var i,n,o=h("<li>").addClass(xn).attr(ux,this._encodeString(e.internalFields.key)).prependTo(t),r={role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",level:this._getLevel(t)},a=!!(e!=null&&(i=e.internalFields)!==null&&i!==void 0&&(n=i.childrenKeys)!==null&&n!==void 0&&n.length);return a&&(r.expanded=e.internalFields.expanded||!1),this.setAria(r,o),o},_getLevel:function(t){var e=t.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_hasCustomExpanderIcons:function(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled:function(t){var e=t??this.option("showCheckBoxesMode");return e==="selectAll"&&!this._isSingleSelection()},_renderItems:function(t,e){for(var i=e.length-1,n=i;n>=0;n--)this._renderItem(n,e[n],t);this._renderedItemsCount+=e.length},_renderItem:function(t,e,i){var n=this._createDOMElement(i,e),o=e.internalFields,r=this._showCheckboxes();n.addClass(r?cbe:gbe),n.toggleClass(f8,o.item.visible===!1),this._hasCustomExpanderIcons()&&(n.addClass(hbe),i.addClass(pbe)),r&&this._renderCheckBox(n,e),this.setAria("selected",o.selected,n),this._toggleSelectedClass(n,o.selected),o.disabled&&this.setAria("disabled",o.disabled,n),this.callBase(this._renderedItemsCount+t,o.item,n),o.item.visible!==!1&&this._renderChildren(n,e)},_setAriaSelectionAttribute:D,_renderChildren:function(t,e){if(!this._hasChildren(e)){this._addLeafClass(t);return}this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(t,e):this._renderDefaultExpanderIcons(t,e),!(this.option("deferRendering")&&!e.internalFields.expanded)&&this._loadSublevel(e).done(i=>{this._renderSublevel(t,this._getActualNode(e),i)})},_getActualNode:function(t){return this._dataAdapter.getNodeByKey(t.internalFields.key)},_hasChildren:function(t){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(t.internalFields.item)!==!1:this.callBase(t)},_loadSublevel:function(t){var e=new S,i=this._getChildNodes(t);return i.length?e.resolve(i):this._loadNestedItems(t).done(n=>{e.resolve(this._dataAdapter.getNodesByItems(n))}),e.promise()},_getItemExtraPropNames:()=>["url","linkAttr"],_addContent:function(t,e){var{html:i,url:n}=e;if(this.option("_supportItemUrl")&&n){t.html(i);var o=this._getLinkContainer(this._getIconContainer(e),this._getTextContainer(e),e);t.append(o)}else this.callBase(t,e)},_renderSublevel:function(t,e,i){var n=this._renderNodeContainer(t,e),o=i.filter(a=>e.internalFields.childrenKeys.indexOf(a.internalFields.key)!==-1);if(this._renderItems(n,o),o.length&&!e.internalFields.selected){var r=o[0];this._updateParentsState(r,this._getNodeElement(r))}this._normalizeIconState(t,o.length),e.internalFields.expanded&&n.addClass(fl)},_executeItemRenderAction:function(t,e,i){var n=this._getNode(i);this._getItemRenderAction()({itemElement:i,itemIndex:t,itemData:e,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass:function(t){t.addClass(vf)},_expandEventHandler:function(t){var e=h(t.currentTarget.parentNode);e.hasClass(vf)||this._toggleExpandedState(t.currentTarget,void 0,t)},_attachExpandEvent:function(){var t=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer();this._detachExpandEvent(e),_.on(e,t,this._itemSelector(),this._expandEventHandler.bind(this))},_detachExpandEvent(t){_.off(t,".".concat(ZM),this._itemSelector())},_getEventNameByOption:function(t){var e=t==="click"?se:Od;return F(e,ZM)},_getNode:function(t){if(!f(t))return null;if(t.internalFields)return t;if(Rs(t))return this._dataAdapter.getNodeByKey(t);var e=h(t).get(0);return e?I.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement:function(t){var e=h(t).closest("."+xn),i=this._decodeString(e.attr(ux));return this._dataAdapter.getNodeByKey(i)},_toggleExpandedState:function(t,e,i){var n=this._getNode(t);if(!n)return new S().reject().promise();if(n.internalFields.disabled)return new S().reject().promise();var o=n.internalFields.expanded;if(o===e)return new S().resolve().promise();if(this._hasChildren(n)){var r=this._getNodeElement(n);if(r.find(".".concat(QM,":not(.").concat(f8,")")).length)return new S().reject().promise();!o&&!this._nodeHasRenderedChildren(r)&&this._createLoadIndicator(r)}return f(e)||(e=!o),this._dataAdapter.toggleExpansion(n.internalFields.key,e),this._updateExpandedItemsUI(n,e,i)},_nodeHasRenderedChildren(t){var e=t.children(".".concat(is));return e.not(":empty").length},_createLoadIndicator:function(t){this._createComponent(h("<div>").addClass(QM),ci,{}).$element().appendTo(t);var e=t.children(".".concat(_f,",.").concat(XM));e.hide()},_renderExpanderIcon:function(t,e,i,n){i.appendTo(t),i.addClass(n),e.internalFields.disabled&&i.addClass(yf),this._renderToggleItemVisibilityIconClick(i,e)},_renderDefaultExpanderIcons:function(t,e){var i=h("<div>").addClass(_f).appendTo(t);e.internalFields.expanded&&(i.addClass(g8),t.parent().addClass(fl)),e.internalFields.disabled&&i.addClass(yf),this._renderToggleItemVisibilityIconClick(i,e)},_renderCustomExpanderIcons:function(t,e){var{expandIcon:i,collapseIcon:n}=this.option(),o=en(i??n),r=en(n??i);this._renderExpanderIcon(t,e,o,XM),this._renderExpanderIcon(t,e,r,JM);var a=e.internalFields.expanded;a&&t.parent().addClass(fl),this._toggleCustomExpanderIcons(o,r,a)},_renderToggleItemVisibilityIconClick:function(t,e){var i=F(se,this.NAME);_.off(t,i),_.on(t,i,n=>{this._toggleExpandedState(e.internalFields.key,void 0,n)})},_toggleCustomExpanderIcons:function(t,e,i){e.toggle(i),t.toggle(!i)},_updateExpandedItemsUI:function(t,e,i){var n=this._getNodeElement(t),o=!n.length||e&&n.is(":hidden");if(this.option("expandNodesRecursive")&&o){var r=this._getNode(t.internalFields.parentKey);r&&this._updateExpandedItemsUI(r,e,i)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(n)){var s=n.children(".".concat(XM)),l=n.children(".".concat(JM));this._toggleCustomExpanderIcons(s,l,e)}}else{var a=n.children(".".concat(_f));a.toggleClass(g8,e)}var d=n.children(".".concat(is)),u=d.length>0,c=new S;return!e||u&&!d.is(":empty")?(this._animateNodeContainer(t,e,i,c),c.promise()):t.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(t,e,i,c),c.promise()):(this._renderSublevel(n,t,this._getChildNodes(t)),this._fireContentReadyAction(),this._animateNodeContainer(t,e,i,c),c.promise())},_loadNestedItemsWithUpdate:function(t,e,i,n){var o=this._getNodeElement(t);this._loadNestedItems(t).done(r=>{var a=this._getActualNode(t);if(this._renderSublevel(o,a,this._dataAdapter.getNodesByItems(r)),!r||!r.length){n.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(a,e,i,n)})},_loadNestedItems:function(t){if(this._useCustomChildrenLoader()){var e=this._dataAdapter.getPublicNode(t);return this._loadChildrenByCustomLoader(e).done(i=>{this._areNodesExists(i)||this._appendItems(i)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),t.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(i=>{this._areNodesExists(i)||this._appendItems(i)})):new S().resolve([]).promise()},_areNodesExists:function(t,e){var i=this.keyOf(t[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(i,n)},_appendItems:function(t){this.option().items=this.option("items").concat(t),this._initDataAdapter()},_animateNodeContainer:function(t,e,i,n){var o=this._getNodeElement(t),r=o.children(".".concat(is));t&&n&&r.length===0&&n.resolve(),r.addClass(fl);var a=Y(r);et.stop(r,!0),et.animate(r,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:a},to:{maxHeight:e?a:0},complete:function(){r.css("maxHeight","none"),r.toggleClass(fl,e),this.setAria("expanded",e,o),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(e,t,i),n&&n.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(t,e,i){if(!(!this._hasChildren(e)||this._skipContentReadyAndItemExpanded)){var n=t?"onItemExpanded":"onItemCollapsed";if(f(i))this._itemDXEventHandler(i,n,{node:this._dataAdapter.getPublicNode(e)});else{var o=this._getNodeElement(e);this._itemEventHandler(o,n,{event:i,node:this._dataAdapter.getPublicNode(e)})}}},_normalizeIconState:function(t,e){var i=t.find(".".concat(QM));if(i.length){var n;(n=ci.getInstance(i))===null||n===void 0||n.option("visible",!1)}var o=t.children(".".concat(JM,",.").concat(_f));if(e){o.show();return}o.removeClass(_f),t.addClass(vf)},_emptyMessageContainer:function(){var t=this.getScrollable();return t?h(t.content()):this.callBase()},_renderContent:function(){var t=this.option("items");t&&t.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(t){var{selectAllText:e,focusStateEnabled:i}=this.option();t=t||this.$element().find(".".concat(is)).first(),this._$selectAllItem=h("<div>").addClass(dx);var n=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,sl,{value:n,elementAttr:{"aria-label":"Select All"},text:e,focusStateEnabled:i,onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this),onInitialized:o=>{var{component:r}=o;r.registerKeyHandler("enter",()=>{r.option("value",!r.option("value"))})}}),this._toggleSelectedClass(this._$selectAllItem,n),t.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(t){this._toggleSelectAll(t),this._fireSelectAllValueChanged(t.value)},_toggleSelectAll:function(t){this._dataAdapter.toggleSelectAll(t.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(t,e){var i=h("<div>").appendTo(t);this._createComponent(i,sl,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(e)})},_toggleSelectedClass:function(t,e){t.toggleClass(_be,!!e)},_toggleNodeDisabledState:function(t,e){var i=this._getNodeElement(t),n=i.find("."+Ti).eq(0);if(this._dataAdapter.toggleNodeDisabledState(t.internalFields.key,e),n.toggleClass(yf,!!e),this._showCheckboxes()){var o=this._getCheckBoxInstance(i);o.option("disabled",!!e)}},_itemOptionChanged:function(t,e,i){var n=this._dataAdapter.getNodeByItem(t);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,i)},_changeCheckboxValue:function(t){var e=h(t.element).parent("."+xn),i=e.children("."+Ti),n=this._getItemData(i),o=this._getNodeByElement(i),r=t.value;o&&o.internalFields.selected===r||this._updateItemSelection(r,n,t.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(t,e,i){var n=e.indexOf(t.key);return n>=0&&e.splice(n,1),i&&x(t.children,function(o,r){this._isLastSelectedBranch(r,e,!0)}.bind(this)),t.parent&&this._isLastSelectedBranch(t.parent,e),e.length===0},_isLastRequired:function(t){var e=this.option("selectionRequired"),i=this._isSingleSelection(),n=this.getSelectedNodeKeys();if(e)return i?n.length===1:this._isLastSelectedBranch(t.internalFields.publicNode,n.slice(),!0)},_updateItemSelection:function(t,e,i){var n=this._getNode(e);if(!n||n.visible===!1)return!1;if(n.internalFields.selected===t)return!0;if(!t&&this._isLastRequired(n)){if(this._showCheckboxes()){var o=this._getNodeElement(n);this._getCheckBoxInstance(o).option("value",!0)}return!1}if(t&&this._isSingleSelection()){var r=this.getSelectedNodeKeys();x(r,(l,d)=>{this._dataAdapter.toggleSelection(d,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(d))})}this._dataAdapter.toggleSelection(n.internalFields.key,t);var a=this._dataAdapter.isAllSelected(),s=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==a;return this._updateItemsUI(),this._fireItemSelectionChanged(n,i),this._fireSelectionChanged(),s&&this._fireSelectAllValueChanged(a),!0},_fireItemSelectionChanged:function(t,e){var i=e||this._findItemElementByItem(t.internalFields.item),n=e?this._itemDXEventHandler:this._itemEventHandler;n.call(this,i,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(t),itemData:t.internalFields.item})},_getCheckBoxInstance:function(t){return t.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var t={};if(x(this._dataAdapter.getData(),(i,n)=>{var o=this._getNodeElement(n,t),r=n.internalFields.selected;o.length&&(this._toggleSelectedClass(o,r),this.setAria("selected",r,o),this._showCheckboxes()&&this._getCheckBoxInstance(o).option("value",r))}),this._selectAllEnabled()){var e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(t,e){if(e){var i=this._dataAdapter.getNodeByKey(t.internalFields.parentKey),n=h(e.parents("."+xn)[0]);if(this._showCheckboxes()){var o=i.internalFields.selected;this._getCheckBoxInstance(n).option("value",o),this._toggleSelectedClass(n,o)}i.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(i,n)}},_itemEventHandlerImpl:function(t,e,i){var n=h(t).closest("."+xn).children("."+Ti);return e(v(this._extendActionArgs(n),i))},_itemContextMenuHandler:function(t){this._createEventHandler("onItemContextMenu",t)},_itemHoldHandler:function(t){this._createEventHandler("onItemHold",t)},_createEventHandler:function(t,e){var i=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,t,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return Ti},_itemDataKey:function(){return fbe},_attachClickEvent:function(){var t=this._itemContainer();this._detachClickEvent(t);var{clickEventNamespace:e,itemSelector:i,pointerDownEventNamespace:n,nodeSelector:o}=this._getItemClickEventData();_.on(t,e,i,r=>{this._itemClickHandler(r,h(r.currentTarget))}),_.on(t,n,o,r=>{this._itemPointerDownHandler(r)})},_detachClickEvent:function(t){var{clickEventNamespace:e,itemSelector:i,pointerDownEventNamespace:n,nodeSelector:o}=this._getItemClickEventData();_.off(t,e,i),_.off(t,n,o)},_getItemClickEventData:function(){var t=".".concat(this._itemClass()),e=".".concat(xn,", .").concat(dx),i=F(se,this.NAME),n=F(ae.down,this.NAME);return{clickEventNamespace:i,itemSelector:t,pointerDownEventNamespace:n,nodeSelector:e}},_itemClick:function(t){var e=t.args[0],i=e.event.target[0]||e.event.target,n=i.getElementsByClassName(ybe)[0];e.itemData.url&&n&&n.click()},_itemClickHandler:function(t,e){var i=this._getItemData(e),n=this._getNodeByElement(e);this._itemDXEventHandler(t,"onItemClick",{node:this._dataAdapter.getPublicNode(n)},{beforeExecute:this._itemClick}),this.option("selectByClick")&&!t.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,i,t)},_updateSelectionToFirstItem:function(t,e){for(var i=e;i>=0;){var n=h(t[i]);this._updateItemSelection(!0,n.find("."+Ti).get(0)),i--}},_updateSelectionToLastItem:function(t,e){for(var i=t.length,n=e;n<i;){var o=h(t[n]);this._updateItemSelection(!0,o.find("."+Ti).get(0)),n++}},focus:function(){if(this._selectAllEnabled()){_.trigger(this._$selectAllItem,"focus");return}this.callBase()},_focusInHandler:function(t){this._updateFocusState(t,!0);var e=h(t.target).hasClass(dx);if(e||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{var n=e?V(this._$selectAllItem):h(this.option("focusedElement"));this._setFocusedItem(n)});return}var i=this._getActiveItem();this.option("focusedElement",V(i.closest("."+xn)))},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var e=h(t.target).closest("."+xn+", ."+dx);if(e.length){var i=e.hasClass(yf)?null:e;this.option("focusedElement",V(i))}}},_findNonDisabledNodes:function(t){return t.not(function(){return h(this).children("."+Ti).hasClass(yf)})},_moveFocus:function(t,e){var i="up",n="down",o="first",r="last",a=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(is)).each(function(){et.stop(this,!0)});var l=this._nodeElements();if(!(!l||!l.length))switch(t){case i:var d=this._prevItem(l);this.option("focusedElement",V(d));var u=this._getNodeItemElement(d);this.getScrollable().scrollToElement(u),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,u);break;case n:var c=this._nextItem(l);this.option("focusedElement",V(c));var p=this._getNodeItemElement(c);this.getScrollable().scrollToElement(p),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,p);break;case o:var g=l.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",V(g)),this.getScrollable().scrollToElement(this._getNodeItemElement(g));break;case r:var m=l.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",V(m)),this.getScrollable().scrollToElement(this._getNodeItemElement(m));break;case s:this._expandFocusedContainer();break;case a:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(t){return t.find("."+Ti).get(0)},_nodeElements:function(){return this.$element().find("."+xn).not(":hidden")},_expandFocusedContainer:function(){var t=h(this.option("focusedElement"));if(!(!t.length||t.hasClass(vf))){var e=t.find(".".concat(is)).eq(0);if(e.hasClass(fl)){var i=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",V(i)),this.getScrollable().scrollToElement(this._getNodeItemElement(i));return}var n=this._getNodeByElement(t.children("."+Ti));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(t){do t=t.parent().closest("."+xn);while(t.children(".dx-treeview-item.dx-state-disabled").length);return t},_collapseFocusedContainer:function(){var t=h(this.option("focusedElement"));if(t.length){var e=t.find(".".concat(is)).eq(0);if(!t.hasClass(vf)&&e.hasClass(fl)){var i=this._getNodeByElement(t.children("."+Ti));this._toggleExpandedState(i,!1)}else{var n=this._getClosestNonDisabledNode(t);n.length&&this.option("focusedElement",V(n)),this.getScrollable().scrollToElement(this._getNodeItemElement(n))}}},_encodeString:function(t){return N(t)?encodeURI(t):t},_decodeString:function(t){return N(t)?decodeURI(t):t},getScrollable:function(){return this._scrollable},updateDimensions:function(){var t=new S,e=this.getScrollable();return e?e.update().done(()=>{t.resolveWith(this)}):t.resolveWith(this),t.promise()},selectItem:function(t){return this._updateItemSelection(!0,t)},unselectItem:function(t){return this._updateItemSelection(!1,t)},expandItem:function(t){return this._toggleExpandedState(t,!0)},collapseItem:function(t){return this._toggleExpandedState(t,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(t=>{var e=this._dataAdapter.getNodeByKey(t);return this._dataAdapter.getPublicNode(e)})},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var t=this._dataAdapter.getData(),e=[];this._skipContentReadyAndItemExpanded=!0,t.forEach(i=>e.push(this._toggleExpandedState(i.internalFields.key,!0))),Promise.allSettled(e).then(()=>{var i;return(i=this._allItemsExpandedHandler)===null||i===void 0?void 0:i.call(this)})},collapseAll:function(){x(this._dataAdapter.getExpandedNodesKeys(),function(t,e){this._toggleExpandedState(e,!1)}.bind(this))},scrollToItem:function(t){var e=this._getNode(t);if(!e)return new S().reject().promise();for(var i=[],n=e.internalFields.publicNode.parent;n!=null;)n.expanded||i.push(n.key),n=n.parent;var o=new S;return this._expandNodes(i.reverse()).always(()=>{var r=this._getNodeElement(e);r&&r.length?(this.scrollToElementTopLeft(r.get(0)),o.resolve()):o.reject()}),o.promise()},scrollToElementTopLeft:function(t){var e=this.getScrollable(),{scrollDirection:i,rtlEnabled:n}=this.option(),o={top:0,left:0},r=py(my,t);if(i!==yd){var a=h(e.container()).get(0);o.left=n?r.left+t.offsetWidth-a.clientWidth:r.left}i!==gy&&(o.top=r.top),e.scrollTo(o)},_expandNodes:function(t){if(!t||t.length===0)return new S().resolve().promise();var e=new S,i=t.map(n=>this.expandItem(n));return A.apply(h,i).done(()=>e.resolve()).fail(()=>e.reject()),e.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}}),m8=xbe;dr.setEditorClass(nl);var v8="dx-treeview",Cbe="".concat(v8,"-node-container"),_8=m8.inherit(dr).inherit({_addWidgetPrefix:function(t){return"".concat(v8,"-").concat(t)},_optionChanged:function(t){switch(t.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(t)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return v(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(Cbe)).first()},_updateSearch:function(){if(this._searchEditor){var t=this._getSearchEditorOptions();this._searchEditor.option(t)}},_repaintContainer:function(){var t=this._getNodeContainer(),e;t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(t,e){var i;return(i=e)!==null&&i!==void 0||(e=this._selectAllEnabled()),e?this._getNodeContainer():this._scrollable&&t?h(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});K("dxTreeView",_8);var y8=_8;var ml=y8;var Sbe="column-chooser",S8="column-chooser-button",x8="notouch-action",bbe="column-chooser-list",Dbe="column-chooser-plain",wbe="column-chooser-mode-drag",Ebe="column-chooser-mode-select",b8="column-chooser",C8="dx-column-chooser-item",Obe=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],Ibe=function(t,e){var i=[],n=t.isSelectMode(),o=t.option("columnChooser.selection.recursive");return e.length&&x(e,(r,a)=>{var s={text:a.caption,cssClass:a.cssClass,allowHiding:a.allowHiding,expanded:!0,id:a.index,disabled:a.allowHiding===!1,parentId:f(a.ownerBand)?a.ownerBand:null},l=o&&a.hasColumns;n&&!l&&(s.selected=a.visible),i.push(s)}),i},e1=class extends ye.ViewController{init(){super.init(),this._rowsView=this.getView("rowsView")}renderShowColumnChooserButton(e){var i=this,n=i.addWidgetPrefix(S8),o=i.option("columnChooser.enabled"),r=e.find(".".concat(n)),a;o?r.length?r.show():(a=h("<div>").addClass(n).appendTo(e),i._createComponent(a,xt,{icon:b8,onClick(){i.getView("columnChooserView").showColumnChooser()},hint:i.option("columnChooser.title"),integrationOptions:{}})):r.hide()}getPosition(){var e=this.option("columnChooser.position");return f(e)?e:{my:"right bottom",at:"right bottom",of:this._rowsView&&this._rowsView.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},t1=class extends ko{optionChanged(e){switch(e.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:super.optionChanged(e)}}publicMethods(){return["showColumnChooser","hideColumnChooser"]}_resizeCore(){}_isWinDevice(){return!!R.real().win}_initializePopupContainer(){var e=this,i=e.addWidgetPrefix(Sbe),n=e.element().addClass(i),o=e.option("columnChooser"),r=this._columnChooserController.getPosition(),a=vi(),s=d0(a),l=He(a),d={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:i},toolbarItems:[{text:o.title,toolbar:"top",location:s||l?"before":"center"}],position:r,width:o.width,height:o.height,rtlEnabled:e.option("rtlEnabled"),onHidden(){e._isWinDevice()&&h("body").removeClass(e.addWidgetPrefix(x8))},container:o.container};s||l?v(d,{showCloseButton:!0}):d.toolbarItems[d.toolbarItems.length]={shortcut:"cancel"},f(this._popupContainer)?this._popupContainer.option(d):(e._popupContainer=e._createComponent(n,Fi,d),e._popupContainer.on("optionChanged",u=>{u.name==="visible"&&e.renderCompleted.fire()})),this.setPopupAttributes()}setPopupAttributes(){var e=this.isSelectMode(),i=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:w.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(wbe),!e).toggleClass(this.addWidgetPrefix(Ebe),e),this._popupContainer.$content().addClass(this.addWidgetPrefix(bbe)),e&&!i&&this._popupContainer.$content().addClass(this.addWidgetPrefix(Dbe))}_renderCore(e){if(this._popupContainer){var i=!this.isSelectMode();!this._columnChooserList||e==="full"?this._renderTreeView():i&&this._updateItems()}}_renderTreeView(){var e,i,n,o=this,r=this._popupContainer.$content(),a=this.option("columnChooser"),s=this.isSelectMode(),l=f(a.allowSearch)?a.allowSearch:(e=a.search)===null||e===void 0?void 0:e.enabled,d=f(a.searchTimeout)?a.searchTimeout:(i=a.search)===null||i===void 0?void 0:i.timeout,u={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:l,searchTimeout:d,searchEditorOptions:(n=a.search)===null||n===void 0?void 0:n.editorOptions};if(this._isWinDevice()&&(u.useNativeScrolling=!1),v(u,s?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)u.searchEnabled||(u.searchValue=""),this._columnChooserList.option(u),this._updateItems();else{this._columnChooserList=this._createComponent(r,ml,u),this._updateItems();var c=0;this._columnChooserList.on("optionChanged",p=>{var g=p.component.getScrollable();c=g.scrollTop()}),this._columnChooserList.on("contentReady",p=>{si(()=>{var g=p.component.getScrollable();g.scrollTo({y:c}),o.renderCompleted.fire()})})}}_prepareDragModeConfig(){var e=this.option("columnChooser");return{noDataText:e.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(i,n,o){h(o).text(i.text).parent().addClass(i.cssClass).addClass(C8)}}}_prepareSelectModeConfig(){var e,i=this,n=(e=this.option("columnChooser.selection"))!==null&&e!==void 0?e:{},o=!1;return{selectByClick:n.selectByClick,selectNodesRecursive:n.recursive,showCheckBoxesMode:n.allowSelectAll?"selectAll":"normal",onSelectionChanged:r=>{if(!o){var a=(s=>{var l=(d,u)=>d.reduce((c,p)=>(c.push(p),p.children.length&&l(p.children,c),c),u);return l(s,[])})(r.component.getNodes());r.component.beginUpdate(),o=!0,((s,l)=>{l.filter(d=>d.itemData.allowHiding===!1).forEach(d=>s.component.selectItem(d.key))})(r,a),r.component.endUpdate(),o=!1,i.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(s=>{s.forEach(l=>{var d=l.itemData.id,u=l.selected!==!1;i._columnsController.columnOption(d,"visible",u)})})(a),i.component.endUpdate(),this._isUpdatingColumnVisibility=!1}}}}_updateItems(){var e=this.isSelectMode(),i=this._columnsController.getChooserColumns(e),n=Ibe(this,i);this._columnChooserList.option("items",n)}_updateItemsSelection(e){var i=e?.map(n=>this._columnsController.columnOption(n));this._columnChooserList.beginUpdate(),i?.forEach(n=>{var{visible:o,index:r}=n;o?this._columnChooserList.selectItem(r):this._columnChooserList.unselectItem(r)}),this._columnChooserList.endUpdate()}_columnOptionChanged(e){super._columnOptionChanged(e);var i=this.isSelectMode();if(i&&this._columnChooserList&&!this._isUpdatingColumnVisibility){var{optionNames:n}=e,o=n.visible&&n.length===1,r=f(e.columnIndex)?[e.columnIndex]:e.columnIndices,a=Obe.some(s=>n[s])||e.changeTypes.columns&&n.all;a&&(this._updateItemsSelection(r),o||this._updateItems())}}getColumnElements(){var e=[],i=this.isSelectMode(),n=this._columnsController.getChooserColumns(i),o=this._popupContainer&&this._popupContainer.$content(),r=o&&o.find(".dx-treeview-node");return r&&n.forEach(a=>{var s=r.filter("[data-item-id = '".concat(a.index,"']")),l=s.length?s.children(".".concat(C8)).get(0):null;e.push(l)}),h(e)}getName(){return"columnChooser"}getColumns(){return this._columnsController.getChooserColumns()}allowDragging(e){var i=this._columnsController.isParentColumnVisible(e.index),n=!e.visible&&e.allowHiding;return this.isColumnChooserVisible()&&i&&n}allowColumnHeaderDragging(e){var i=!this.isSelectMode();return i&&this.isColumnChooserVisible()&&e.allowHiding}getBoundingRect(){var e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){var i=e.offset();return{left:i.left,top:i.top,right:i.left+ee(e),bottom:i.top+oe(e)}}return null}showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&h("body").addClass(this.addWidgetPrefix(x8))}hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()}isColumnChooserVisible(){var e=this._popupContainer;return e&&e.option("visible")}isSelectMode(){return this.option("columnChooser.mode")==="select"}hasHiddenColumns(){var e=this.option("columnChooser.enabled"),i=this.getColumns().filter(n=>!n.visible);return e&&i.length}},Fbe=t=>class extends t{_getToolbarItems(){var e=super._getToolbarItems();return this._appendColumnChooserItem(e)}_appendColumnChooserItem(e){var i=this,n=i.option("columnChooser.enabled");if(n){var o=i.option("columnChooser.title"),r={widget:"dxButton",options:{icon:b8,onClick:function(){i.component.getView("columnChooserView").showColumnChooser()},hint:o,text:o,onInitialized:function(a){h(a.element).addClass(i._getToolbarButtonClass(i.addWidgetPrefix(S8)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(r)}return e}optionChanged(e){switch(e.name){case"columnChooser":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}isVisible(){var e=this.option("columnChooser.enabled");return super.isVisible()||e}},Tbe=t=>class extends t{allowMoveColumn(e,i,n,o){var r=this.option("columnChooser.mode")==="select",a=r&&o==="columnChooser";return a?!1:super.allowMoveColumn(e,i,n,o)}},Mbe=t=>class extends t{allowDragging(e){var i=!this._columnChooserView.isSelectMode(),n=this._columnChooserView.isColumnChooserVisible();return i&&n&&e.allowHiding||super.allowDragging(e)}},cx={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:w.format("dxDataGrid-columnChooserTitle"),emptyPanelText:w.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:e1},views:{columnChooserView:t1},extenders:{views:{headerPanel:Fbe,columnHeadersView:Mbe},controllers:{columns:Tbe}}};var Cbt=cx.controllers.columnChooser,Sbt=cx.views.columnChooserView;P.registerModule("columnChooser",cx);function ta(t,e){for(var i=fn(e.group),n=[],o=0;o<t.length;o++)n.push([i[o].selector,"=",t[o]]);return e.filter&&n.push(e.filter),M.combineFilters(n)}function hx(t,e,i){for(var n=fn(e.group),o=[],r=i?t.length-1:0;r<t.length;r++){for(var a=[],s=0;s<=r;s++){var{selector:l}=n[s];if(r===s&&(t[s]===null||t[s]===!1||t[s]===!0))t[s]===!1?a.push([l,"=",n[s].desc?!0:null]):(t[s]?!n[s].desc:n[s].desc)?a.push([l,"<>",t[s]]):(a.push([l,"<>",null]),a.push([l,"=",null]));else{var d=[l,r===s?n[s].desc?">":"<":"=",t[s]];d[1]==="<"?a.push([d,"or",[l,"=",null]]):a.push(d)}}o.push(P.combineFilters(a))}return o=P.combineFilters(o,"or"),P.combineFilters([o,e.filter])}var D8=function(t,e){var{hash:i}=t;return i&&i[JSON.stringify(e)]},Abe=function(t,e){var i=0,n=t.length-1;if(!t.length)return 0;do{var o=n+i>>1;t[o].offset>e?n=o:i=o}while(n-i>1);var r;for(r=i;r<=n&&!(t[r].offset>e);r++);return r},Rbe=function t(e,i,n){for(var o=0;o<e.length;o++)i+1>=n?e[o].children=[]:t(e[o].children,i+1,n)},Bbe=function t(e,i,n){var o=0;if(i)if(!n)o=i.length;else for(var r=0;r<i.length;r++)e.isGroupItemCountable(i[r])&&o++,o+=t(e,i[r].items,n-1);return o},eh=class{constructor(e){this._dataSource=e,this.reset()}reset(){this._groupsInfo=[],this._totalCountCorrection=0}totalCountCorrection(){return this._totalCountCorrection}updateTotalItemsCount(e){this._totalCountCorrection=e||0}isGroupItemCountable(e){return!this._isVirtualPaging()||!e.isContinuation}_isVirtualPaging(){var e=this._dataSource.option("scrolling.mode");return e==="virtual"||e==="infinite"}itemsCount(){var e=this._dataSource,i=e._dataSource,n=P.normalizeSortingInfo(i.group()||[]).length,o=Bbe(this,i.items(),n);return o}foreachGroups(e,i,n,o,r){var a=this;return function s(l,d,u,c){var p=[];function g(O,k,J,U){var z=k&&O(k,J);return z&&U.push(z),z}for(var m=0;m<l.length;m++){if(c.push(l[m].data),!u&&g(d,l[m].data,c,p)===!1)return!1;if(!l[m].data||l[m].data.isExpanded||n){var{children:y}=l[m],C=y.length&&s(y,d,u,c);if(C&&p.push(C),C===!1)return!1}if(u&&g(d,l[m].data,c,p)===!1)return!1;(!l[m].data||l[m].data.offset!==l[m].offset)&&(o=!0),c.pop()}var b=r&&c.slice(0);return o&&A.apply(h,p).always(()=>{a._updateGroupInfoOffsets(l,b)})}(a._groupsInfo,e,i,[])}_updateGroupInfoOffsets(e,i){i=i||[];for(var n=0;n<e.length;n++){var o=e[n];if(o.data&&o.data.offset!==o.offset){o.offset=o.data.offset;for(var r=0;r<i.length;r++)i[r].offset=o.offset}}e.sort((a,s)=>a.offset-s.offset)}findGroupInfo(e){for(var i,n=this._groupsInfo,o=0;n&&o<e.length;o++)i=D8(n,e[o]),n=i&&i.children;return i&&i.data}addGroupInfo(e){for(var i,{path:n}=e,o=this._groupsInfo,r=0;r<n.length;r++){if(i=D8(o,n[r]),!i){i={key:n[r],offset:e.offset,data:{offset:e.offset,isExpanded:!0,path:n.slice(0,r+1)},children:[]};var a=Abe(o,e.offset);o.splice(a,0,i),o.hash=o.hash||{},o.hash[JSON.stringify(i.key)]=i}r===n.length-1&&(i.data=e,i.offset!==e.offset&&this._updateGroupInfoOffsets(o)),o=i.children}}allowCollapseAll(){return!0}refresh(e){var{storeLoadOptions:i}=e,n=fn(i.group||[]),o="_group"in this?fn(this._group||[]):n,r=Math.min(o.length,n.length);this._group=i.group;for(var a=0;a<r;a++)if(o[a].selector!==n[a].selector){r=a;break}r?Rbe(this._groupsInfo,0,r):this.reset()}handleDataLoading(){}handleDataLoaded(e,i){i(e)}handleDataLoadedCore(e,i){i(e)}};function o1(t,e,i,n){if(n=n||0,e>1&&i>0){var o=t-Math.floor(t/e)*e||e;return o+=i-n-2,o<0&&(o+=e),Math.floor(o/(e-n-1))}return 0}var xf=function(t,e,i){return t.foreachGroups((n,o)=>{if(n.isExpanded)return e(n,o)},!0,!1,i,i)},O8=function t(e,i,n,o,r,a,s){var l;if(o.items=o.items||[],o.paths=o.paths||[],o.count=o.count||0,o.lastCount=o.lastCount||0,!!n)for(var d=0;d<i.length;d++){var u=i[d];if(u.items!==void 0){if(r.push(u.key),a)l=!0;else{var c=e.findGroupInfo(r);l=c&&c.isExpanded}l?u.items?t(e,u.items,n-1,o,r,a,s):n===1&&u.count&&(!a||s)&&(o.items.push(u),o.paths.push(r.slice(0)),o.count+=o.lastCount,o.lastCount=u.count):(u.collapsedItems=u.items,u.items=null),r.pop()}}},kbe=function(t,e,i,n,o){var r=t.findGroupInfo(n),a;r?(i?r.count=e.count>0?e.count:e.items&&e.items.length||0:e.count=r.count||e.count,r.offset=o):(i&&(a=e.count>0?e.count:e.items.length),t.addGroupInfo({isExpanded:t._isGroupExpanded(n.length-1),path:n.slice(0),offset:o,count:a||0}))},I8=function t(e,i,n,o,r,a,s){var l=i.group?i.group.length:0,d=l===o,u=i.remoteOperations.paging,c=0,p=0,g;if(r=r||0,a=a||[],u&&!s&&(c=r===0?i.skip||0:i.skips[r-1]||0),r>=o)return n.length;for(var m=0;m<n.length;m++){var y=n[m];if(y){if(a.push(y.key),!y.count&&!y.items||y.items===void 0||(kbe(e,y,d,a,c+m),g=y.items?t(e,i,y.items,o,r+1,a,m):y.count||-1,g<0))return-1;p+=g,a.pop()}}return p},i1=function(t,e){return t&&t.length&&t[e]&&!!t[e].isExpanded},w8=function(t,e,i){for(var n,o=i,r=0;r<t.length;r++)n=t[r].offset+1,r>0&&(n+=t[r-1].childrenTotalCount,e&&(n+=o1(o,e,n,r-1)*r)),o+=n;return o};function F8(t,e,i,n){var o=e.items[n],r=t.skips&&t.skips[i],a=t.takes&&t.takes[i],s=n===e.items.length-1,l=n===0,d=l&&r||0,u=o.count>a+d;l&&r!==void 0&&(o.isContinuation=!0),s&&a!==void 0&&u&&(o.isContinuationOnNextPage=!0)}function Pbe(t,e,i){var n=i-1,o=t.group?t.group.length:0;e.skip=t.skips&&t.skips[n],t.takes&&t.takes[n]!==void 0&&(o===i?e.take=e.count?e.count-(e.skip||0):0:e.take=0,e.take+=t.takes[n])}function T8(t){return!Array.isArray(t)}function E8(t){T8(t.data)||(t.data=new S)}function M8(t,e,i,n,o,r){e.isCustomLoading||(n={},O8(t,r,i,n,[]),Pbe(e,n,i));var a=e.group?e.group.length:0;n.paths.length&&a-i>0?(E8(e),Nbe(t,e,n,i,o,r)):n.paths.length&&e.storeLoadOptions.group?(E8(e),Lbe(t,e,n,r)):T8(e.data)&&e.data.resolve(r)}function Nbe(t,e,i,n,o,r){var a=e.group||[],s=a[o+1],l=[];x(i.paths,d=>{var u,c={requireTotalCount:!1,requireGroupCount:!0,group:[s],groupSummary:e.storeLoadOptions.groupSummary,filter:ta(i.paths[d],{filter:e.storeLoadOptions.filter,group:a}),select:e.storeLoadOptions.select,langParams:(u=e.storeLoadOptions)===null||u===void 0?void 0:u.langParams};d===0&&(c.skip=i.skip||0),d===i.paths.length-1&&(c.take=i.take);var p=c.take===0?[]:t._dataSource.loadFromStore(c);A(p).done(g=>{var m=i.items[d];F8(e,i,o,d),m.items=g}),l.push(p)}),A.apply(null,l).done(()=>{I8(t,e,r,n+1),M8(t,e,n+1,i,o+1,r)})}function Lbe(t,e,i,n){var o=[],r=e.group||[];x(i.paths,(d,u)=>{o.push(ta(u,{group:e.isCustomLoading?e.storeLoadOptions.group:r}))});var{filter:a}=e.storeLoadOptions;e.storeLoadOptions.isLoadingAll||(a=P.combineFilters([a,P.combineFilters(o,"or")]));var s=v({},e.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:r.concat(P.normalizeSortingInfo(e.storeLoadOptions.sort||[])),filter:a}),l=t._dataSource.isLastLevelGroupItemsPagingLocal();l||(s.skip=i.skip,s.take=i.take),A(i.take===0?[]:t._dataSource.loadFromStore(s)).done(d=>{l&&(d=t._dataSource.sortLastLevelGroupItems(d,r,i.paths),d=i.skip?d.slice(i.skip):d,d=i.take?d.slice(0,i.take):d),x(i.items,(u,c)=>{var p=c.count-(u===0&&i.skip||0),g=d.splice(0,p);F8(e,i,r.length-1,u),c.items=g}),e.data.resolve(n)}).fail(e.data.reject)}var n1=function(t,e){var i=new S,n=!!(e.group&&e.group.length),o=v({skip:0,take:1,requireGroupCount:n,requireTotalCount:!n},e,{group:n?e.group:null});return t.load(o).done((r,a)=>{var s=a&&(n?a.groupCount:a.totalCount);if(!isFinite(s)){i.reject(yt.Error(n?"E4022":"E4021"));return}i.resolve(s)}).fail(i.reject.bind(i)),i},Cf=class extends eh{updateTotalItemsCount(e){var i=0,n=e.extra&&e.extra.totalCount||0,o=e.extra&&e.extra.groupCount||0,r=this._dataSource.pageSize(),a=this._isVirtualPaging();xf(this,s=>{s.childrenTotalCount=0}),xf(this,(s,l)=>{var d=w8(l,a?0:r,i),u=s.count+s.childrenTotalCount;a||(u+=o1(d,r,u,l.length-1)),l[l.length-2]?l[l.length-2].childrenTotalCount+=u:i+=u}),super.updateTotalItemsCount(i-n+o)}_isGroupExpanded(e){var i=this._dataSource.group();return i1(i,e)}_updatePagingOptions(e,i){var n=this._isVirtualPaging(),o=this._dataSource.pageSize(),r=[],a=[],s=0,l=0;e.take&&(xf(this,d=>{d.childrenTotalCount=0,d.skipChildrenTotalCount=0}),xf(this,(d,u)=>{var c,p=0,g=0,m=w8(u,n?0:o,l),y=0,C=0,b=d.count+d.childrenTotalCount,O=b;i&&i(d,m);var k=e.skip-m;m<=e.skip+e.take&&b&&(c=e.take,n||(y=o1(m,o,b,u.length-1),b+=y*u.length,O+=y,o&&k>=0&&(p=u.length,g=u.length-1,C=Math.floor(k/o))),k>=0?(m+b>e.skip&&r.unshift(k-C*p-d.skipChildrenTotalCount),m+b>=e.skip+c&&a.unshift(c-p-d.childrenTotalCount+d.skipChildrenTotalCount)):m+b>=e.skip+c&&a.unshift(c+k-d.childrenTotalCount)),m<=e.skip&&(u[u.length-2]?u[u.length-2].skipChildrenTotalCount+=Math.min(O,k+1-C*g):s+=Math.min(O,k+1)),m<=e.skip+c&&(b=Math.min(O,k+c-(C+1)*g),u[u.length-2]?u[u.length-2].childrenTotalCount+=b:l+=b)}),e.skip-=s,e.take-=l-s),e.skips=r,e.takes=a}changeRowExpand(e){var i=this.findGroupInfo(e),n=this._dataSource,o=n.remoteOperations().groupPaging,r=P.normalizeSortingInfo(n.group());return i?(i.isExpanded=!i.isExpanded,o&&i.isExpanded&&e.length<r.length?n1(n,{filter:ta(e,{filter:n.lastLoadOptions().filter,group:n.group()}),group:[r[e.length]],select:n.select()}).done(a=>{i.count=a}):new S().resolve()):new S().reject()}handleDataLoading(e){var{storeLoadOptions:i}=e,n=P.normalizeSortingInfo(i.group||e.loadOptions.group);if(!(e.isCustomLoading||!n.length)){if(e.remoteOperations.grouping){var o=this._dataSource.remoteOperations().paging;i.group=P.normalizeSortingInfo(i.group),i.group.forEach((r,a)=>{var s=a===i.group.length-1;r.isExpanded=!o||!s})}e.group=e.group||n,e.remoteOperations.paging?(e.skip=i.skip,e.take=i.take,i.requireGroupCount=!0,i.group=n.slice(0,1),this._updatePagingOptions(e),i.skip=e.skip,i.take=e.take):(e.skip=e.loadOptions.skip,e.take=e.loadOptions.take,this._updatePagingOptions(e))}}handleDataLoadedCore(e,i){var n=P.normalizeSortingInfo(e.storeLoadOptions.group||e.loadOptions.group).length,o=e.group?e.group.length:0,r,a={};if(e.isCustomLoading)i(e),O8(this,e.data,n,a,[],e.isCustomLoading,e.storeLoadOptions.isLoadingAll);else{if(e.remoteOperations.paging||this.foreachGroups(s=>{s.count=0}),r=I8(this,e,e.data,n),r<0){e.data=new S().reject(X.Error("E1037"));return}if(e.remoteOperations.paging||n&&e.extra&&e.loadOptions.requireTotalCount&&(e.extra.totalCount=r,e.extra.groupCount=e.data.length),o&&e.storeLoadOptions.requireGroupCount&&!isFinite(e.extra.groupCount)){e.data=new S().reject(yt.Error("E4022"));return}this.updateTotalItemsCount(e),e.remoteOperations.paging||(this._updatePagingOptions(e),e.lastLoadOptions.skips=e.skips,e.lastLoadOptions.takes=e.takes),i(e),e.remoteOperations.paging||this._processPaging(e,n)}M8(this,e,n,a,0,e.data)}_processSkips(e,i,n){if(n){var o=e[0],r=i[0],a=o&&o.items;r!==void 0&&(o.isContinuation=!0,a&&(o.items=a.slice(r),this._processSkips(o.items,i.slice(1),n-1)))}}_processTakes(e,i,n,o,r){if(!(!o||!e)){r=r||[];var a=e[e.length-1],s=a&&a.items,l=n[0],d=i[0];if(a){var u=a.count-(a.isContinuation&&d||0)||s.length;l!==void 0&&u>l&&(a.isContinuationOnNextPage=!0,r.forEach(c=>{c.isContinuationOnNextPage=!0}),s&&(s=s.slice(0,l),a.items=s)),r.push(a),this._processTakes(s,i.slice(1),n.slice(1),o-1,r)}}}_processPaging(e,i){this._processSkips(e.data,e.skips,i),this._processTakes(e.data,e.skips,e.takes,i)}isLastLevelGroupItemsPagingLocal(){return!1}sortLastLevelGroupItems(e){return e}refresh(e,i){var n=this,o=n._dataSource,{storeLoadOptions:r}=e,a=e.group||e.storeLoadOptions.group,s=P.normalizeSortingInfo(n._group),l,d;function u(c,p){p.length===d+1&&(c.isExpanded=l)}for(d=0;d<s.length;d++)l=i1(a,d),i1(n._group,d)!==l&&n.foreachGroups(u);if(super.refresh.apply(this,arguments),a&&e.remoteOperations.paging&&i.reload)return xf(n,c=>{var p=n1(o,{filter:ta(c.path,{filter:r.filter,group:a}),group:a.slice(c.path.length),select:r.select}),g=n1(o,{filter:hx(c.path,{filter:r.filter,group:a},!0),group:a.slice(c.path.length-1,c.path.length),select:r.select});return A(g,p).done((m,y)=>{m=parseInt(m.length?m[0]:m),y=parseInt(y.length?y[0]:y),c.offset=m,c.count!==y&&(c.count=y,n.updateTotalItemsCount(e))})},!0)}};var r1=function(t,e){var i=new S,n=v({skip:0,take:1,requireTotalCount:!0},e);return t.load(n).done((o,r)=>{i.resolve(r&&r.totalCount)}).fail(i.reject.bind(i)),i},px=function(t,e,i){return t.foreachGroups(n=>{if(!n.isExpanded)return e(n)},!1,!1,i,!0)},A8=function(t,e){var i=0,n=e||0;return e&&(px(t,o=>{if(o.offset-i>=e)return!1;i+=o.count-1}),n+=i),n},Vbe=function t(e,i,n,o,r,a){for(var s=0,l=!1,d=0;d<i.length;d++){var u=i[d];if(u.items!==void 0){n.push(u.key);var c=e.findGroupInfo(n);if(c&&!c.isExpanded)u.collapsedItems=u.items,u.items=null,o+=c.count,a--,a<0&&s++,r&&(l=!0);else if(u.items){var p=t(e,u.items,n,o,r,a);r&&(p.offset-o>1?u.isContinuation=!0:l=!0),o=p.offset,a=p.take,a<0&&(u.items.length?u.isContinuationOnNextPage=!0:s++)}n.pop()}else r&&(l=!0),o++,a--,a<0&&s++;r=!1}return l&&i.splice(0,1),s&&i.splice(-s,s),{offset:o,take:a}},Hbe=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!Oa(null,t[i],e[i]))return!1;return!0},R8=function t(e,i,n,o,r){if(i){for(var a=0;a<i.length;a++){var s=i[a];if("key"in s&&s.items!==void 0){n.push(s.key),r&&Hbe(r.path,n)&&!s.isContinuation&&(r.offset=o);var l=e.findGroupInfo(n);l&&!s.isContinuation&&(l.offset=o),l&&!l.isExpanded?o+=l.count:o=t(e,s.items,n,o,r),n.pop()}else o++}return o}},Wbe=function(t,e){if(e.group){var i=P.normalizeSortingInfo(e.group),n=P.normalizeSortingInfo(t.sort);t.sort=nn.arrangeSortingInfo(i,n),delete e.group}},Gbe=function(t,e,i){for(var n=P.normalizeSortingInfo(i||e.group),o=[],r=0;r<t.length;r++){for(var a=[],s=0;s<=r;s++)a.push([n[s].selector,r===s?"<>":"=",t[s]]);o.push(P.combineFilters(a))}return o=P.combineFilters(o,"or"),P.combineFilters([o,e.filter])},zbe=function t(e,i){var n=e.count||e.items.length;if(!e.count&&i>1){n=0;for(var o=0;o<e.items.length;o++)n+=t(e.items[o],i-1)}return n},Sf=class extends eh{handleDataLoading(e){var{storeLoadOptions:i}=e,n=[],o=0,r=!1,a,{group:s}=e.loadOptions,l=0;if(Wbe(i,e.loadOptions),e.group=e.group||s,!e.isCustomLoading){var d=v({},i);d.skip=A8(this,i.skip),d.skip&&d.take&&s&&(d.skip--,d.take++,r=!0),d.take&&s&&(a=d.take,d.take++),px(this,u=>{if(u.offset>=d.skip+d.take+l)return!1;u.offset>=d.skip+l&&u.count&&(l+=u.count-1,n.push(u),o+=u.count)}),x(n,function(){d.filter=Gbe(this.path,d,s)}),e.storeLoadOptions=d,e.collapsedGroups=n,e.collapsedItemsCount=o,e.skip=d.skip||0,e.skipFirstItem=r,e.take=a}}handleDataLoaded(e,i){var{collapsedGroups:n}=e,o=P.normalizeSortingInfo(e.group),r=o.length;function a(u,c,p,g,m){if(!(!u||!c.length||!p.length)){var y,C,b=Wt(c[0],!0);for(C=0;C<u.length&&(y=Wt(u[C].key,!0),!(m>=g.offset||b===y));C++)m+=zbe(u[C],p.length);(!u.length||b!==y)&&u.splice(C,0,{key:c[0],items:[],count:c.length===1?g.count:void 0}),a(u[C].items,c.slice(1),p.slice(1),g,m)}}if(e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra._totalCountWasIncreasedByCollapsedItems||(e.extra.totalCount+=e.collapsedItemsCount,e.extra._totalCountWasIncreasedByCollapsedItems=!0)),i(e),r){var{data:s}=e,l=Nt(s);if(nn.multiLevelGroup(l,o).enumerate().done(u=>{s=u}),n)for(var d=0;d<n.length;d++)a(s,n[d].path,o,n[d],e.skip);e.isCustomLoading||Vbe(this,s,[],e.skip,e.skipFirstItem,e.take),e.data=s}}isGroupItemCountable(e){return e.items===null}updateTotalItemsCount(){var e=0;px(this,i=>{i.count&&(e-=i.count-1)}),super.updateTotalItemsCount(e)}changeRowExpand(e){var i=this,n=i._dataSource,o=n.beginPageIndex?n.beginPageIndex():n.pageIndex(),r=n.items(),a=A8(i,o*n.pageSize()),s=i.findGroupInfo(e),l;return s&&!s.isExpanded?l=new S().resolve(s.count):l=r1(n,{filter:ta(e,{filter:n.filter(),group:n.group()})}),A(l).done(d=>{d=parseInt(d.length?d[0]:d),s?(R8(i,r,[],a),s.isExpanded=!s.isExpanded,s.count=d):(s={offset:-1,count:d,path:e,isExpanded:!1},R8(i,r,[],a,s),s.offset>=0&&i.addGroupInfo(s)),i.updateTotalItemsCount()}).fail(function(){n._eventsStrategy.fireEvent("loadError",arguments)})}allowCollapseAll(){return!1}refresh(e,i){var n=this,{storeLoadOptions:o}=e,r=n._dataSource;if(super.refresh.apply(this,arguments),i.reload)return px(n,a=>{var s=r1(r,{filter:ta(a.path,o)}),l=r1(r,{filter:hx(a.path,o)});return A(l,s).done((d,u)=>{d=parseInt(d.length?d[0]:d),u=parseInt(u.length?u[0]:u),a.offset=d,a.count!==u&&(a.count=u,n.updateTotalItemsCount())})},!0)}};var a1="dx-datagrid-group-panel",Ube="dx-group-panel-message",gx="dx-group-panel-item",B8="dx-toolbar-label",jbe="dx-toolbar-item",$be="dx-datagrid-expand",Kbe="dx-group-row",qbe=".dx-header-filter",Ybe=t=>class extends t{init(){super.init.apply(this,arguments),this._initGroupingHelper()}_initGroupingHelper(e){var i=this._grouping,n=this.option("grouping.autoExpandAll"),o=this.option("focusedRowEnabled"),r=e?e.remoteOperations:this.remoteOperations(),a=r.filtering&&r.sorting&&r.paging;a&&!r.grouping&&(n||!o)?(!i||i instanceof Cf)&&(this._grouping=new Sf(this)):(!i||i instanceof Sf)&&(this._grouping=new Cf(this))}totalItemsCount(){var e=super.totalItemsCount();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e}itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:super.itemsCount.apply(this,arguments)}allowCollapseAll(){return this._grouping.allowCollapseAll()}isGroupItemCountable(e){return this._grouping.isGroupItemCountable(e)}isRowExpanded(e){var i=this._grouping.findGroupInfo(e);return i?i.isExpanded:!this._grouping.allowCollapseAll()}collapseAll(e){return this._collapseExpandAll(e,!1)}expandAll(e){return this._collapseExpandAll(e,!0)}_collapseExpandAll(e,i){var n=this._dataSource,o=n.group(),r=P.normalizeSortingInfo(o||[]);if(r.length){for(var a=0;a<r.length;a++)e===void 0||e===a?r[a].isExpanded=i:o&&o[a]&&(r[a].isExpanded=o[a].isExpanded);n.group(r),this._grouping.foreachGroups((s,l)=>{(e===void 0||e===l.length-1)&&(s.isExpanded=i)},!1,!0),this.resetPagesCache()}return!0}refresh(){return super.refresh.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)}changeRowExpand(e){var i=this._dataSource;if(i.group())return i.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(e).always(()=>{i.endLoading()})}_changeRowExpandCore(e){return this._grouping.changeRowExpand(e)}_hasGroupLevelsExpandState(e,i){if(e&&Array.isArray(e)){for(var n=0;n<e.length;n++)if(e[n].isExpanded===i)return!0}}_customizeRemoteOperations(e,i){var{remoteOperations:n}=e;e.storeLoadOptions.group?(n.grouping&&!e.isCustomLoading&&(!n.groupPaging||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0))&&(n.paging=!1),!n.grouping&&(!n.sorting||!n.filtering||e.isCustomLoading||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1))&&(n.paging=!1)):!e.isCustomLoading&&n.paging&&i.grouping&&this.resetCache(),super._customizeRemoteOperations.apply(this,arguments)}_handleDataLoading(e){return super._handleDataLoading(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)}_handleDataLoaded(e){return this._grouping.handleDataLoaded(e,super._handleDataLoaded.bind(this))}_handleDataLoadedCore(e){return this._grouping.handleDataLoadedCore(e,super._handleDataLoadedCore.bind(this))}};gl.extend(Ybe);var Qbe=t=>class extends t{init(){super.init(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")}_beforeProcessItems(e){var i=this._columnsController.getGroupColumns();return e=super._beforeProcessItems(e),e.length&&i.length&&(e=this._processGroupItems(e,i.length)),e}_processItem(e,i){return f(e.groupIndex)&&N(e.rowType)&&e.rowType.indexOf("group")===0?(e=this._processGroupItem(e,i),i.dataIndex=0):e=super._processItem.apply(this,arguments),e}_processGroupItem(e,i){return e}_processGroupItems(e,i,n){var o=this._columnsController.getGroupColumns(),r=o[o.length-i];if(!n){var a=this.option("scrolling.mode");n={collectContinuationItems:a!=="virtual"&&a!=="infinite",resultItems:[],path:[],values:[]}}var{resultItems:s}=n;if(n.data&&(n.collectContinuationItems||!n.data.isContinuation)&&s.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)}),e)if(i===0)s.push.apply(s,e);else for(var l=0;l<e.length;l++){var d=e[l];d&&"items"in d?(n.data=d,n.path.push(d.key),n.values.push(r&&r.deserializeValue&&!r.calculateDisplayValue?r.deserializeValue(d.key):d.key),this._processGroupItems(d.items,i-1,n),n.data=void 0,n.path.pop(),n.values.pop()):s.push(d)}return s}publicMethods(){return super.publicMethods().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])}collapseAll(e){var i=this._dataSource;i&&i.collapseAll(e)&&(i.pageIndex(0),i.reload())}expandAll(e){var i=this._dataSource;i&&i.expandAll(e)&&(i.pageIndex(0),i.reload())}changeRowExpand(e){var i=this,n=i.isRowExpanded(e),o={key:e,expanded:n};return i.executeAction(n?"onRowCollapsing":"onRowExpanding",o),o.cancel?new S().resolve():A(i._changeRowExpandCore(e)).done(()=>{o.expanded=!n,i.executeAction(n?"onRowCollapsed":"onRowExpanded",o)})}_changeRowExpandCore(e){var i=this,n=this._dataSource,o=new S;return n?A(n.changeRowExpand(e)).done(()=>{i.load().done(o.resolve).fail(o.reject)}).fail(o.reject):o.resolve(),o}isRowExpanded(e){var i=this._dataSource;return i&&i.isRowExpanded(e)}expandRow(e){return this.isRowExpanded(e)?new S().resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new S().resolve()}optionChanged(e){e.name==="grouping"&&(e.name="dataSource"),super.optionChanged(e)}},s1=function(t,e){var i=this._columnsController;switch(e.itemData.value){case"group":var n=i._dataSource.group()||[];i.columnOption(t.dataField,"groupIndex",n.length);break;case"ungroup":i.columnOption(t.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},k8=t=>{var e=t?.visible;return e==="auto"?R.current().deviceType==="desktop":!!e},P8=(t,e)=>{var i=k8(t),n=t?.allowColumnDragging&&e.allowGrouping;return i&&!!n},Jbe=t=>class extends t{_getToolbarItems(){var e=super._getToolbarItems();return this._appendGroupingItem(e)}_appendGroupingItem(e){if(this._isGroupPanelVisible()){var i=!1,n={template:()=>{var o=h("<div>").addClass(a1);return this._updateGroupPanelContent(o),dl("groupPanel",this,o,void 0,this._handleActionKeyDown.bind(this)),o},name:"groupPanel",onItemRendered:()=>{i&&this.renderCompleted.fire(),i=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(n),this.updateToolbarDimensions()}return e}_handleActionKeyDown(e){var{event:i}=e,n=h(i.target),o=n.closest(".".concat(gx)).index(),r=this._columnsController.getGroupColumns()[o],a=r&&r.index;n.is(qbe)?this._headerFilterController.showHeaderFilterMenu(a,!0):this._processGroupItemAction(a),i.preventDefault()}_isGroupPanelVisible(){return k8(this.option("groupPanel"))}_renderGroupPanelItems(e,i){var n=this;e.empty(),x(i,(o,r)=>{n._createGroupPanelItem(e,r)}),Yc(this)}_createGroupPanelItem(e,i){var n=h("<div>").addClass(i.cssClass).addClass(gx).data("columnData",i).appendTo(e).text(i.caption);return F$(this,n),n}_columnOptionChanged(e){if(!this._requireReady&&!P.checkChanges(e.optionNames,["width","visibleWidth"])){var i=this.element(),n=i&&i.find(".".concat(a1));n&&n.length&&(this._updateGroupPanelContent(n),this.updateToolbarDimensions(),this.renderCompleted.fire())}super._columnOptionChanged()}_updateGroupPanelContent(e){var i=this.getColumns(),n=this.option("groupPanel");this._renderGroupPanelItems(e,i),n.allowColumnDragging&&!i.length&&(h("<div>").addClass(Ube).text(n.emptyPanelText).appendTo(e),e.closest(".".concat(jbe)).addClass(B8),e.closest(".".concat(B8)).css("maxWidth","none"))}allowDragging(e){var i=this.option("groupPanel");return P8(i,e)}getColumnElements(){var e=this.element();return e&&e.find(".".concat(gx))}getColumns(){return this._columnsController.getGroupColumns()}getBoundingRect(){var e=this.element();if(e&&e.find(".".concat(a1)).length){var i=e.offset();return{top:i.top,bottom:i.top+Y(e)}}return null}getName(){return"group"}getContextMenuItems(e){var i=this.option("grouping.contextMenuEnabled"),n=h(e.targetElement).closest(".".concat(gx)),o;if(n.length&&(e.column=n.data("columnData")),i&&e.column){var{column:r}=e,a=f(r.allowGrouping)?r.allowGrouping:!0;if(a){var s=f(r.groupIndex)&&r.groupIndex>-1,l=this.option("grouping.texts"),d=s1.bind(this,r);o=[{text:l.ungroup,value:"ungroup",disabled:!s,onItemClick:d},{text:l.ungroupAll,value:"ungroupAll",onItemClick:d}]}}return o}isVisible(){return super.isVisible()||this._isGroupPanelVisible()}hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length}optionChanged(e){e.name==="groupPanel"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}},Xbe=t=>class extends t{getContextMenuItems(e){var i=this.option("grouping.contextMenuEnabled"),n;if(i&&e.row&&e.row.rowType==="group"){var o=this._columnsController,r=o.columnOption("groupIndex:".concat(e.row.groupIndex));if(r&&r.allowGrouping){var a=this.option("grouping.texts"),s=s1.bind(this,r);n=[],n.push({text:a.ungroup,value:"ungroup",onItemClick:s},{text:a.ungroupAll,value:"ungroupAll",onItemClick:s})}}return n}_rowClick(e){var i=this.option("grouping.expandMode"),n=this.option("scrolling.mode"),o=n!=="infinite"&&i==="rowClick"&&h(e.event.target).closest(".".concat(Kbe)).length,r=h(e.event.target).closest(".".concat($be)).length;(o||r)&&this._changeGroupRowState(e),super._rowClick(e)}_changeGroupRowState(e){var i=this._dataController.items()[e.rowIndex],n=this._columnsController.columnOption("groupIndex:".concat(i.groupIndex),"allowCollapsing");(i.rowType==="data"||i.rowType==="group"&&n!==!1)&&(this._dataController.changeRowExpand(i.key,!0),e.event.preventDefault(),e.handled=!0)}},Zbe=t=>class extends t{getContextMenuItems(e){var i=this.option("grouping.contextMenuEnabled"),n=super.getContextMenuItems(e);if(i&&e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){var{column:o}=e;if(!o.command&&(!f(o.allowGrouping)||o.allowGrouping)){var r=this.option("grouping.texts"),a=f(o.groupIndex)&&o.groupIndex>-1,s=s1.bind(this,o);n=n||[],n.push({text:r.groupByThisColumn,value:"group",beginGroup:!0,disabled:a,onItemClick:s}),o.showWhenGrouped&&n.push({text:r.ungroup,value:"ungroup",disabled:!a,onItemClick:s}),n.push({text:r.ungroupAll,value:"ungroupAll",onItemClick:s})}}return n}allowDragging(e){var i=this.option("groupPanel");return P8(i,e)||super.allowDragging(e)}};P.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:w.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:w.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:w.format("dxDataGrid-groupHeaderText"),ungroup:w.format("dxDataGrid-ungroupHeaderText"),ungroupAll:w.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:w.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:Qbe,columns:t=>class extends t{_getExpandColumnOptions(){var e=super._getExpandColumnOptions.apply(this,arguments);return e.cellTemplate=P.getExpandCellTemplate(),e}},editing:t=>class extends t{_isProcessedItem(e){return f(e.groupIndex)&&N(e.rowType)&&e.rowType.indexOf("group")===0}}},views:{headerPanel:Jbe,rowsView:Xbe,columnHeadersView:Zbe}}});var eDe="dx-master-detail-cell",N8="dx-master-detail-row",tDe="dx-cell-focus-disabled",iDe="dx-row-lines",nDe=t=>class extends t{_getExpandColumnsCore(){var e=super._getExpandColumnsCore();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:M.getExpandCellTemplate()}),e}},l1=function(t){t._expandedItems=[],t._isExpandAll=t.option("masterDetail.autoExpandAll")},oDe=t=>class extends t{init(){l1(this),super.init()}expandAll(e){e<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):super.expandAll.apply(this,arguments)}collapseAll(e){e<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):super.collapseAll.apply(this,arguments)}isRowExpandedHack(){return super.isRowExpanded.apply(this,arguments)}isRowExpanded(e){var i=M.getIndexByKey(e,this._expandedItems);return Array.isArray(e)?super.isRowExpanded.apply(this,arguments):!!(this._isExpandAll^(i>=0&&this._expandedItems[i].visible))}_getRowIndicesForExpand(e){var i=this.getRowIndexByKey(e);return[i,i+1]}_changeRowExpandCore(e){var i;if(Array.isArray(e))i=super._changeRowExpandCore.apply(this,arguments);else{var n=M.getIndexByKey(e,this._expandedItems);if(n>=0){var{visible:o}=this._expandedItems[n];this._expandedItems[n].visible=!o}else this._expandedItems.push({key:e,visible:!0});this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(e)}),i=new S().resolve()}return i}_processDataItemHack(){return super._processDataItem.apply(this,arguments)}_processDataItem(e,i){var n=super._processDataItem.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),i.detailColumnIndex===void 0&&(i.detailColumnIndex=-1,x(i.visibleColumns,(o,r)=>{if(r.command==="expand"&&!f(r.groupIndex))return i.detailColumnIndex=o,!1})),i.detailColumnIndex>=0&&(n.values[i.detailColumnIndex]=n.isExpanded),n}_processItemsHack(){return super._processItems.apply(this,arguments)}_processItems(e,i){var n=this,{changeType:o}=i,r=[];return e=super._processItems.apply(n,arguments),o==="loadingAll"?e:(o==="refresh"&&(n._expandedItems=Yt(n._expandedItems,a=>a.visible)),x(e,(a,s)=>{r.push(s);var l=M.getIndexByKey(s.key,n._expandedItems);s.rowType==="data"&&(s.isExpanded||l>=0)&&!s.isNewRow&&r.push({visible:s.isExpanded,rowType:"detail",key:s.key,data:s.data,values:[]})}),r)}optionChanged(e){var i,n;if(e.name==="masterDetail"){switch(e.name="dataSource",e.fullName){case"masterDetail":var o=e.value||{},r=e.previousValue||{};i=o.enabled!==r.enabled,n=o.autoExpandAll!==r.autoExpandAll;break;case"masterDetail.template":l1(this);break;case"masterDetail.enabled":i=!0;break;case"masterDetail.autoExpandAll":n=!0}(i||n)&&l1(this)}super.optionChanged(e)}},rDe=t=>class extends t{fireContentReadyAction(){super.fireContentReadyAction.apply(this,arguments),this._updateParentDataGrids(this.component.$element())}_updateParentDataGrids(e){var i=e.closest(".".concat(N8));i.length&&A(this._updateMasterDataGrid(i,e)).done(()=>{this._updateParentDataGrids(i.parent())})}_updateMasterDataGrid(e,i){var n=h(e).data("options"),o=h(e).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(n&&o)return this._updateMasterDataGridCore(o,n)}_updateMasterDataGridCore(e,i){var n=S();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,i.rowIndex,h(i.rowElement)).done(n.resolve);else{if(e.option("scrolling.useNative")===!0){e.updateDimensions().done(()=>n.resolve(!0));return}var o=e.getScrollable();o?o?.update().done(()=>n.resolve()):n.resolve()}return n.promise()}_updateFixedMasterDetailGrids(e,i,n){var o=S(),r=h(e.getRowElement(i)),a=h(e.getView("rowsView").getTableElements()),s=r?.length===2&&Y(r.eq(0))!==Y(r.eq(1)),l=a?.length===2&&Y(a.eq(0))!==Y(a.eq(1));if(s||l){var d=H(n);return e.updateDimensions().done(()=>{var u=this.option("columnAutoWidth")&&e.option("scrolling.useNative")===!0,c=u&&d!==H(n);u&&c?this.updateDimensions().done(()=>o.resolve(!0)):o.resolve(!0)}),o.promise()}return S().resolve()}_toggleBestFitMode(e){if(super._toggleBestFitMode.apply(this,arguments),this.option("masterDetail.template")){var i=this._rowsView.getTableElement();i&&i.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}},aDe=t=>class extends t{_getCellTemplate(e){var{column:i}=e,n=this._editingController,o=n&&n.isEditRow(e.rowIndex),r;return i.command==="detail"&&!o?r=this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(i)}:r=super._getCellTemplate.apply(this,arguments),r}_isDetailRow(e){return e&&e.rowType&&e.rowType.indexOf("detail")===0}_createRow(e){var i=super._createRow.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&i.addClass(iDe),i.addClass(N8),f(e.visible)&&i.toggle(e.visible)),i}_renderCells(e,i){var{row:n}=i,o,r=this._columnsController.getVisibleColumns();n.rowType&&this._isDetailRow(n)?this._needRenderCell(0,i.columnIndices)&&(o=this._renderCell(e,{value:null,row:n,rowIndex:n.rowIndex,column:{command:"detail"},columnIndex:0,change:i.change}),o.addClass(tDe).addClass(eDe).attr("colSpan",r.length)):super._renderCells.apply(this,arguments)}},L8={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:nDe,data:oDe,resizing:rDe},views:{rowsView:aDe}}};P.registerModule("masterDetail",L8);var sDe="dx-radiobutton",V8="dx-radiobutton-icon",lDe="dx-radiobutton-icon-dot",dDe="dx-radiobutton-checked",uDe="dx-radiobutton-icon-checked",H8=Ui.inherit({_supportedKeys:function(){return v(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return v(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(sDe)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=h("<div>").addClass(V8),h("<div>").addClass(lDe).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(t){this.$element().toggleClass(dDe,t).find("."+V8).toggleClass(uDe,t),this.setAria("checked",t)},_renderClick:function(){var t=F(se,this.NAME);this._clickAction=this._createAction(function(e){this._clickHandler(e.event)}.bind(this)),_.off(this.$element(),t),_.on(this.$element(),t,function(e){this._clickAction({event:e})}.bind(this))},_clickHandler:function(t){this._saveValueChangeEvent(t),this.option("value",!0)},_optionChanged:function(t){switch(t.name){case"value":this._renderCheckedState(t.value),this.callBase(t);break;default:this.callBase(t)}}});K("dxRadioButton",H8);var W8=H8;var d1="dxListEditDecorator",cDe=F(Mc,d1),hDe=F(Ac,d1),pDe=F(ol,d1),gDe=le.inherit({ctor:function(t){this._list=t,this._init()},_init:D,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var e={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=H(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};_.on(t.$itemElement,cDe,e,this._itemSwipeStartHandler.bind(this)),_.on(t.$itemElement,hDe,this._itemSwipeUpdateHandler.bind(this)),_.on(t.$itemElement,pDe,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var e=h(t.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,t)},_itemSwipeUpdateHandler:function(t){var e=h(t.currentTarget);this._swipeUpdateHandler(e,t)},_itemSwipeEndHandler:function(t){var e=h(t.currentTarget);this._swipeEndHandler(e,t),this._clearSwipeCache=!0},beforeBag:D,afterBag:D,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(t){this._shouldHandleSwipe&&(this._attachSwipeEvent(t),this._clearSwipeCache=!0)},afterRender:D,handleClick:D,handleKeyboardEvents:D,handleEnterPressing:D,handleContextMenu:D,_swipeStartHandler:D,_swipeUpdateHandler:D,_swipeEndHandler:D,visibilityChange:D,getExcludedSelectors:D,dispose:D}),G8=gDe;var z8="dx-list-select-decorator-enabled",fDe="dx-list-select-all",mDe="dx-list-select-all-checkbox",vDe="dx-list-select-all-label",_De="dx-list-select-checkbox-container",yDe="dx-list-select-checkbox",xDe="dx-list-select-radiobutton-container",CDe="dx-list-select-radiobutton",SDe="dx-state-focused",U8=F(se,"dxListEditDecorator");yU("selection","default",G8.inherit({_init:function(){this.callBase.apply(this,arguments);var t=this._list.option("selectionMode");this._singleStrategy=t==="single",this._containerClass=this._singleStrategy?xDe:_De,this._controlClass=this._singleStrategy?CDe:yDe,this._controlWidget=this._singleStrategy?W8:sl,this._list.$element().addClass(z8)},beforeBag:function(t){var e=t.$itemElement,i=t.$container.addClass(this._containerClass),n=h("<div>").addClass(this._controlClass).appendTo(i);new this._controlWidget(n,v(this._commonOptions(),{value:this._isSelected(e),elementAttr:{"aria-label":"Check State"},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(o){o.event&&this._list._saveSelectionChangeEvent(o.event),this._processCheckedState(e,o.value),o.event&&o.event.stopPropagation()}.bind(this)}))},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement,i=this._controlWidget.getInstance(e.find("."+this._controlClass));_.on(e,"stateChanged",function(n,o){i.option("value",o)}.bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(t,e){var i=!e,n=this._list,o=this._$selectAll,r=n._getLastItemIndex(),a=e&&t===0||i&&t===r,s=!!o;return s&&a?(n.option("focusedElement",o),n.scrollToItem(n.option("focusedElement")),!0):!1},handleEnterPressing:function(t){if(this._$selectAll&&this._$selectAll.hasClass(SDe))return t.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=h("<div>").addClass(fDe),e=this._list,i=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent(h("<div>").addClass(mDe).appendTo(t),sl,{elementAttr:{"aria-label":"Select All"},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),h("<div>").addClass(vDe).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),_.off(this._$selectAll,U8),_.on(this._$selectAll,U8,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(t){t.event&&t.event.stopPropagation();var e=this._selectAllCheckBox.option("value");t.event&&this._list._saveSelectionChangeEvent(t.event),e===!0?this._selectAllItems():e===!1&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:e})},_checkSelectAllCapability:function(){var t=this._list,e=t._dataController;return t.option("selectAllMode")==="allPages"&&t.option("grouped")&&!e.group()?(X.log("W1010"),!1):!0},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(t){this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(t){return this._list.isItemSelected(t)},_processCheckedState:function(t,e){e?this._list.selectItem(t):this._list.unselectItem(t)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(z8),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var bDe=".dx-state-disabled",DDe="dx-selectbox",wDe="dx-selectbox-popup",EDe="dx-selectbox-container",j8="dx-selectbox-popup-wrapper",$8=n3.inherit({_supportedKeys(){var t=this,e=this.callBase(),i=function(o){var r=this._isEditable();r?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(o.preventDefault(),this.reset()),this._savedTextRemoveEvent=o,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return v({},e,{tab(){this.option("opened")&&this.option("applyValueMode")==="instantly"&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow(o){if(e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},downArrow(o){if(e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},leftArrow(){var o;n(),(o=e.leftArrow)===null||o===void 0||o.apply(this,arguments)},rightArrow(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home(){n(),e.home&&e.home.apply(this,arguments)},end(){n(),e.end&&e.end.apply(this,arguments)},escape(){var o=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),o??!0},enter(o){var r=this.option("opened"),a=this._input().val().trim(),s=a&&this._list&&!this._list.option("focusedElement");if(!a&&f(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(o),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return o.preventDefault(),s&&(r&&this._toggleOpenState(),this._valueChangeEventHandler(o)),r;if(e.enter&&e.enter.apply(this,arguments))return r}},space(o){var r=this.option("opened"),a=this.option("searchEnabled"),s=this.option("acceptCustomValue");if(!(!r||a||s))return o.preventDefault(),this._valueChangeEventHandler(o),!0},backspace:i,del:i})},_getDefaultOptions(){return v(this.callBase(),{placeholder:w.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating(t){f(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup(){this.$element().addClass(DDe),this._renderTooltip(),this.callBase(),this._$container.addClass(EDe)},_createPopup(){this.callBase(),this._popup.$element().addClass(wDe),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass(){return"".concat(this.callBase()," ").concat(j8)},_setDeprecatedOptions(){this.callBase(),v(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement(){var t,e=this._searchValue();if(!e){this._focusListElement(null);return}var{items:i,selectedItem:n}=this.option(),o=this._list._itemElements(),r=(t=i?.indexOf(n))!==null&&t!==void 0?t:-1,a=r!==-1&&!this._isCustomItemSelected()?o.eq(r):null;this._focusListElement(a)},_renderFocusedElement(){if(this._list){var t=this._searchValue();if(!t||this.option("acceptCustomValue")){this._focusListElement(null);return}var e=this._list._itemElements(),i=e.not(bDe).eq(0);this._focusListElement(i)}},_focusListElement(t){this._preventInputValueRender=!0,this._list.option("focusedElement",V(t)),delete this._preventInputValueRender},_scrollToSelectedItem(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler(){this.callBase();var t=this._dataController.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue(){return this._renderInputValue(),this._setSubmitValue(),new S().resolve()},_renderInputValue(){return this.callBase().always(()=>{this._renderInputValueAsync()})},_renderInputValueAsync(){this._renderTooltip(),this._renderInputValueImpl().always(()=>{this._refreshSelected()})},_renderInputValueImpl(){return this._renderField(),new S().resolve()},_setNextItem(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue(t){var e=this._dataController.isLoaded()?new S().resolve():this._dataController.load();e.done(()=>{var i=this._getSelectedIndex(),n=this._dataController.pageSize(),o=this._dataController.isLastPage(),r=i===this._items().length-1;this._saveValueChangeEvent(t);var a=Ae(t)==="downArrow"?1:-1;n&&!o&&r&&a>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,a))):this._setNextItem(a)})},_setSelectedItem(t){var e=!this._isCustomValueAllowed()&&t===void 0;this.callBase(e?null:t),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed(){return this.option("acceptCustomValue")||this.callBase()},_displayValue(t){return t=!f(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig(){var t=v(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&v(t,{showSelectionControls:!0,selectByClick:!0}),t},_listFocusedItemChangeHandler(t){if(!this._preventInputValueRender){var e=t.component,i=h(e.option("focusedElement")),n=e._getItemData(i);this._updateField(n)}},_updateField(t){var e=this._getTemplateByOption("fieldTemplate");if(!(e&&this.option("fieldTemplate"))){var i=this._displayGetter(t);this.option("text",i),this._renderDisplayText(i);return}this._renderField()},_getSelectionChangeHandler(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):D},_selectionChangeHandler(t){x(t.addedItems||[],(e,i)=>{this._setValue(this._valueGetter(i))})},_getActualSearchValue(){return this._dataController.searchValue()},_toggleOpenState(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),!t&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataController.getDataSource()){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText(){var t=this.option("selectedItem");if(t===null)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(()=>{var{acceptCustomValue:e,text:i,selectedItem:n}=this.option();if(e){!t&&!this._isValueChanging&&(this._updateField(n??this._createCustomItem(i)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always(o=>{var r=Re(o,n);this._setSelectedItem(r),this._updateField(r),this._clearFilter()})})},_valueChangeEventIncludesBlur(){var t=this.option(this._getValueChangeEventOptionName());return t.includes("blur")},_isPreventedFocusOutEvent(t){return this._preventNestedFocusEvent(t)||this._valueChangeEventIncludesBlur()},_focusOutHandler(t){if(!this._isPreventedFocusOutEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed(t){var e,{searchEnabled:i}=this.option(),n=this._isOverlayNestedTarget(t?.relatedTarget),o=this._wasSearch()&&i&&!n;if(o){var r=(e=this._popup)===null||e===void 0?void 0:e._hideAnimationProcessing;this._clearSearchTimer(),r?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:t=>!!h(t).closest(".".concat(j8)).length,_clearTextValue(){var t=this.option("selectedItem"),e=this._displayGetter(t),i=t&&e!=="";i&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused(){var t=I.getActiveElement(this.element());return this.callBase()&&h(t).closest(this._input()).length>0},_getValueChangeEventOptionName:()=>"customItemCreateEvent",_renderValueChangeEvent(){this._isEditable()&&this.callBase()},_fieldRenderData(){var t=this._list&&this.option("opened")&&h(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler(t){var e=this._getCurrentValue();this._focusListElement(h(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter(){return this._wasSearch()},_completeSelection(t){this._setValue(t)},_loadItem(t,e){var i=this,n=new S;return this.callBase(t,e).done(o=>{n.resolve(o)}).fail(o=>{if(!o?.shouldSkipCallback){var r=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(r)?n.resolve(r):n.reject()}}),n.promise()},_loadInputValue(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t))},_initCustomItemCreatingAction(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem(t){var e={text:t},i=this._customItemCreatingAction(e),n=Re(i,e.customItem);return f(i)&&me.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),i===void 0)throw this._renderValue(),me.Error("E0121");Rr(i)?It(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)),this._isValueChanging=!1)},_clearValueHandler(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch(t){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=t},_searchHandler(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered(t){this.callBase(),t!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted(){var t=this._input().get(0),e=this._searchValue().length,i=t.selectionStart===0&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,o=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&o&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),i=e.val().length;if(i!==0){var n=e.get(0),o=this._displayGetter(t).toString();n.value=o,this._caret({start:i,end:o.length})}}},_dispose(){this._renderInputValueAsync=D,delete this._loadItemDeferred,this.callBase()},_optionChanged(t){switch(t.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});K("dxSelectBox",$8);var K8=$8;var th=K8;var q8=t=>t.getMonth()+1,Y8=(t,e)=>{var i=t.getDate(),n=bf("M",t),o=zt(parseInt(e),n.min,n.max);t.setMonth(o-1,1);var{min:r,max:a}=bf("dM",t),s=zt(i,r,a);t.setDate(s)},ODe={a:t=>t.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:q8,L:q8,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds",x:"getTimezoneOffset"},IDe=v({},V3(),{a:(t,e)=>{var i=t.getHours(),n=i>=12;n!==!!parseInt(e)&&t.setHours((i+12)%24)},d:(t,e)=>{var i=bf("dM",t).max;e>i&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:(t,e)=>{var i=t.getHours()>=12;t.setHours(+e%12+(i?12:0))},M:Y8,L:Y8,E:(t,e)=>{e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:(t,e)=>{var i=t.getFullYear(),n=String(e).length,o=String(bf("y",t).max).length,r=parseInt(String(i).substr(0,o-n)+e);t.setFullYear(r)},x:t=>t}),FDe=t=>ODe[t]||(()=>t),Q8=(t,e)=>{for(var i=e.regexp.exec(t),n=0,o=0,r=[],a=function(){n=o,o=n+i[s].length;var l=e.patterns[s-1].replace(/^'|'$/g,""),d=FDe(l[0]);r.push({index:s-1,isStub:l===i[s],caret:{start:n,end:o},pattern:l,text:i[s],limits:function(){for(var u=arguments.length,c=new Array(u),p=0;p<u;p++)c[p]=arguments[p];return bf(l[0],...c)},setter:IDe[l[0]]||D,getter:d})},s=1;s<i.length;s++)a();return r},bf=(t,e,i)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1},x:{min:0,max:0}};return n[i||t]||n.getAmPm},J8=(t,e)=>{for(var i=0;i<t.length;i++){var n=t[i].caret.end>=e;if(!t[i].isStub&&n)return i}return null};var u1=["year","day","month","day"],X8=["hours","minutes","seconds","milliseconds"],Z8=6e4,eK=60*Z8*24,TDe=365*eK,MDe=function(t){var e=typeof t;return e==="string"?"format":e==="object"&&t.type!==void 0?t.type:null},ia={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:Z8,ONE_DAY:eK,ONE_YEAR:TDe,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:u1},time:{getStandardPattern:function(){return"HH:mm"},components:X8},datetime:{getStandardPattern:function(){var t;return function(){var e=h("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),ia.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[...u1,...X8]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...u1,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var i=ia.FORMATS_INFO[e].getStandardPattern();return Ct.serializeDate(t,i)},fromStandardDateFormat:function(t){var e=Ct.dateParser(t);return $t(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,i){if(!e)return e||null;if(!t||isNaN(t.getTime())){var n=new Date(null);t=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var o=new Date(t.valueOf()),r=ia.FORMATS_INFO[i];return x(r.components,function(){var a=ia.DATE_COMPONENTS_INFO[this];o[a.setter](e[a.getter]())}),o},getLongestCaptionIndex:function(t){var e=0,i=0,n;for(n=0;n<t.length;++n)t[n].length>i&&(e=n,i=t[n].length);return e},formatUsesMonthName:function(t){return ue.formatUsesMonthName(t)},formatUsesDayName:function(t){return ue.formatUsesDayName(t)},getLongestDate:function(t,e,i){var n=MDe(t),o=9;(!n||ia.formatUsesMonthName(n))&&(o=ia.getLongestCaptionIndex(e));var r=new Date(1888,o,21,23,59,59,999);if(!n||ia.formatUsesDayName(n)){var a=r.getDate()-r.getDay()+ia.getLongestCaptionIndex(i);r.setDate(a)}return r},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};ia.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var i=new Date(e.getTime());return i.setFullYear(t),ue.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var i=new Date(e.getTime());return i.setDate(t),ue.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return ue.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return ue.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return ue.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return ue.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return ue.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var at=ia;var fx=le.abstract,ADe=le.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||h("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(t,e,i)},_getWidgetOptions:fx,_getWidgetName:fx,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:fx,supportedKeys:D,getKeyboardListener:D,customizeButtons:D,getParsedText:function(t,e){var i=ue.parse(t,e);return i||ue.parse(t)},renderInputMinMax:D,renderOpenedState:function(){this._updateValue()},popupConfig:fx,_dimensionChanged:function(){var t;(t=this._getPopup())===null||t===void 0||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();_.off(e,"mousedown"),_.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:D,getLastPopupElement:D,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:D,popupHiddenHandler:D,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:D,getDefaultDate:function(){return new Date},textChangedHandler:D,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),vl=ADe;var RDe=vl.inherit({NAME:"Calendar",getDefaultOptions:function(){return v(this.callBase(),{todayButtonText:w.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var t=function(e){return this.option("opened")?(e.preventDefault(),!0):!1};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(e){if(this.dateBox.option("opened"))if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var i=this._getContouredValue(),n=this._lastActionElement,o=this._closeDropDownByEnter();return o&&i&&n==="calendar"&&this.dateBoxValue(i,e),o&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!o}else return!0;else this.dateBox._valueChangeEventHandler(e)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return Dj},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return v(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:T(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(i){return v(i,{component:e.dateBox}),t(i)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},_getTodayButtonConfig(){var t=this.dateBox.option("buttonsLocation"),e=t==="default",i=e?["bottom","center"]:kr(t);return{widget:"dxButton",toolbar:i[0],location:i[1]==="after"?"before":i[1],options:{onInitialized:function(n){n.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:n=>{this._widget._toTodayView(n)},text:this.dateBox.option("todayButtonText"),type:"today"}}},_isCalendarVisible:function(){var{calendarOptions:t}=this.dateBox.option();return Rt(t)||t.visible!==!1},_getPopupToolbarItems(t){var e=this.dateBox.option("applyValueMode")==="useButtons",i=e&&this._isCalendarVisible();if(i){var n=this._getTodayButtonConfig();return[n,...t]}return t},popupConfig:function(t){return v(!0,t,{position:{collision:"flipfit flip"},width:"auto"})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=t.value,i=t.previousValue;Q.sameDate(e,i)&&Q.sameHoursAndMinutes(e,i)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;e.option("applyValueMode")==="instantly"&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}}),mx=RDe;var Df=class{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??yd}get isHorizontal(){return this.direction===gy||this.direction===fy}get isVertical(){return this.direction===yd||this.direction===fy}get isBoth(){return this.direction===fy}};function tK(t,e){if(q(t)){var i=Re(t.left,t.x),n=Re(t.top,t.y);return{left:f(i)?i:void 0,top:f(n)?n:void 0}}var{isHorizontal:o,isVertical:r}=new Df(e);return{left:o&&f(t)?t:void 0,top:r&&f(t)?t:void 0}}var BDe="dx-dateviewroller",kDe="dx-state-active",PDe="dx-dateviewroller-current",iK="dx-dateview-item",NDe="dx-dateview-item-selected",LDe="dx-dateview-item-selected-frame",VDe="dx-dateview-item-selected-border",vx=class extends vy{_getDefaultOptions(){return v(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(BDe),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){_.on(h(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var e=F(se,this.NAME),i=this._createActionByOption("onClick");_.off(h(this.container()),e),_.on(h(this.container()),e,function(n){i({event:n})})}}_renderItems(){var e=this.option("items")||[],i=h();h(this.content()).empty(),e.forEach(function(n){i=i.add(h("<div>").addClass(iK).append(n))}),h(this.content()).append(i),this._$items=i,this.update()}_renderSelectedItemFrame(){h("<div>").addClass(LDe).append(h("<div>").addClass(VDe)).appendTo(h(this.container()))}_renderSelectedValue(e){var i=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(i)}),this._renderActiveStateItem()}_fitIndex(e){var i=this.option("items")||[],n=i.length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){var e=this._getItemSelector(),i=F(se,this.NAME);_.off(this.$element(),i,e),_.on(this.$element(),i,e,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+iK}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var e=this.option("selectedIndex");x(this._$items,function(i){h(this).toggleClass(NDe,e===i)})}_shouldScrollToNeighborItem(){return R.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){var{top:i,left:n}=tK(e),o=this.scrollOffset(),r={x:o.left-n,y:o.top-i};if(this._isVisible()&&(r.x||r.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var a=this;et.stop(h(this.content())),et.animate(h(this.content()),{duration:200,type:"slide",to:{top:Math.floor(r.y)},complete(){Vr(h(a.content())),a.handleMove({delta:r})}}),delete this._animation}else this.handleMove({delta:r})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){var i=this.option("items").length;return Math.max(Math.min(e,i-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){var i=this.scrollOffset().top,n=e*this._itemHeight(),o=i-n;if(this._isInNullNeighborhood(o))return e;var r=o>0?1:-1,a=this._fitSelectedIndexInRange(e+r);return a}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;var i=this.scrollOffset().top/this._itemHeight();return Math.round(i)}_endActionHandler(){var e=this.option("selectedIndex"),i=this._getNewSelectedIndex(e);i===e?this._renderSelectedValue(i):this.option("selectedIndex",i),this._isWheelScrolled=!1}_itemHeight(){var e=this._$items.first();return Y(e)}_toggleActive(e){this.$element().toggleClass(kDe,e)}_isVisible(){return h(this.container()).is(":visible")}_fireSelectedIndexChanged(e,i){this._selectedIndexChanged({value:e,previousValue:i,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass(PDe,e)}_refreshSelectedIndex(){var e=this.option("selectedIndex"),i=this._fitIndex(e);i===e?this._renderActiveStateItem():this.option("selectedIndex",i)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}};K("dxDateViewRoller",vx);var nK=vx;var c1="dx-dateview",HDe="dx-dateview-compact",WDe="dx-dateview-wrapper",GDe="dx-dateview-rollers",zDe="dx-dateviewroller",oK={date:"date",datetime:"datetime",time:"time"},Wn={year:"year",month:"month",day:"day",hours:"hours"},rK=Ui.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===oK.date?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return v(this.callBase(),{minDate:at.MIN_DATEVIEW_DEFAULT_DATE,maxDate:at.MAX_DATEVIEW_DEFAULT_DATE,type:oK.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return t.deviceType!=="desktop"},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(c1),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass(c1+"-"+t),e&&this.$element().removeClass(c1+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(HDe,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=h("<div>").addClass(WDe),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=h("<div>").addClass(GDe)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;x(t._rollerConfigs,function(e){var i=h("<div>").appendTo(t._$rollersContainer).addClass(zDe+"-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(i,nK,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(n){var o=n.component;o._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],o.option("selectedIndex"))},onEnd:function(n){var o=n.component;o._toggleActive(!1)},onClick:function(n){var o=n.component;o._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],o.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],o.option("selectedIndex")),o._toggleActive(!1)},onSelectedIndexChanged:function(n){var o=n.component;t._setRollerState(t._rollerConfigs[e],o.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},ue.getFormatParts(at.FORMATS_MAP[t]).forEach(function(i){e._createRollerConfig(i)})},_createRollerConfig:function(t){for(var e=at.DATE_COMPONENTS_INFO[t],i=this._calculateRollerConfigValueRange(t),n=i.startValue,o=i.endValue,r=e.formatter,a=this._getCurrentDate(),s={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(d){return d[e.getter]()-n}},l=n;l<=o;l++)s.valueItems.push(l),s.displayItems.push(r(l,a));s.selectedIndex=s.getIndex(a),this._rollerConfigs[t]=s},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];x(this._rollers,function(){this.toggleActiveState(this===e)})},_updateRollersPosition:function(){var t=this;x(this._rollers,function(e){var i=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",i)})},_setRollerState:function(t,e){if(e!==t.selectedIndex){var i=t.valueItems[e],n=t.setValue,o=new Date(this._getCurrentDate()),r=o.getDate(),a=this.option("minDate"),s=this.option("maxDate");t.type===Wn.month?r=Math.min(r,at.getMaxMonthDay(o.getFullYear(),i)):t.type===Wn.year&&(r=Math.min(r,at.getMaxMonthDay(i,o.getMonth()))),o.setDate(r),o[n](i);var l=Q.normalizeDate(o,a,s);o=at.mergeDates(l,o,"time"),o=Q.normalizeDate(o,a,s),this.option("value",o),t.selectedIndex=e}t.type===Wn.year&&this._refreshRollers(),t.type===Wn.month&&(this._refreshRoller(Wn.day),this._refreshRoller(Wn.hours))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var i=this._rollerConfigs[t];(t===Wn.day||i.displayItems.toString()!==e.option("items").toString())&&e.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),i=this.option("maxDate");return Q.normalizeDate(t,e,i)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),i=this.option("minDate"),n=this.option("maxDate"),o=Q.sameYear(e,i),r=o&&e.getMonth()===i.getMonth(),a=Q.sameYear(e,n),s=a&&e.getMonth()===n.getMonth(),l=r&&e.getDate()===i.getDate(),d=s&&e.getDate()===n.getDate(),u=at.DATE_COMPONENTS_INFO[t],c=u.startValue,p=u.endValue;return t===Wn.year&&(c=i.getFullYear(),p=n.getFullYear()),t===Wn.month&&(o&&(c=i.getMonth()),a&&(p=n.getMonth())),t===Wn.day&&(p=at.getMaxMonthDay(e.getFullYear(),e.getMonth()),o&&r&&(c=i.getDate()),a&&s&&(p=n.getDate())),t===Wn.hours&&(c=l?i.getHours():c,p=d?n.getHours():p),{startValue:c,endValue:p}},_refreshRollers:function(){this._refreshRoller(Wn.month),this._refreshRoller(Wn.day),this._refreshRoller(Wn.hours)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});K("dxDateView",rK);var aK=rK;var UDe=G(),jDe=vl.inherit({NAME:"DateView",getDefaultOptions:function(){return v(this.callBase(),{openOnFieldClick:!0,applyButtonText:w.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||at.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var i=e.platform;return i==="generic"||i==="ios"},options:{width:"auto",height:"auto"}},{device:function(e){var i=e.platform,n=e.phone;return i==="generic"&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:UDe}}}]}},_renderWidget:function(){if(ed(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=h("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return aK},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*at.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}}),sK=jDe;var $De=vl.inherit({NAME:"Native",popupConfig:function(t){return v({},t,{width:"auto"})},getParsedText:function(t){return t?this.dateBox.option("type")==="datetime"?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):at.fromStandardDateFormat(t):null},renderPopupContent:D,_getWidgetName:D,_getWidgetOptions:D,_getDateBoxType:function(){var t=this.dateBox.option("type");return at.SUPPORTED_FORMATS.includes(t)?t==="datetime"&&!ed(t)&&(t="datetime-local"):t="date",t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");R.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||at.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:Ct.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Ct.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),lK=$De;var KDe="dx-timeview",qDe="dx-timeview-clock",YDe="dx-timeview-field",QDe="dx-timeview-hourarrow",JDe="dx-timeview-time-separator",XDe="dx-timeview-format12",h1=-1,p1=1,ZDe="dx-timeview-minutearrow",dK=function(t,e,i){ewe(t,e,i)},ewe=function(t,e,i){t.css("transform","rotate("+e+"deg) translate(0,"+i+"px)")},uK=Ui.inherit({_getDefaultOptions:function(){return v(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(KDe)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=h("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,bd,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,i){this._$hourArrow=h("<div>").addClass(QDe),this._$minuteArrow=h("<div>").addClass(ZDe);var n=h(i);n.addClass(qDe).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,i=t.getMinutes()/60*360;dK(this._$hourArrow,e,this.option("_arrowOffset")),dK(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:h("<div>").addClass(JDe).text(ue.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return t&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent(h("<div>").addClass(YDe),bd,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this._hourBox=this._createComponent(h("<div>"),of,v({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:i=>this._keyboardHandler(i)},this._getNumberBoxConfig()));e.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged:function(t){var{value:e,component:i}=t,n=this._getValue(),o=new Date(n),r=this._convertMaxHourToMin(e);i.option("value",r),this._isPM()&&(r+=12),o.setHours(r),at.normalizeTime(o),this.option("value",o)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this._minuteBox=this._createComponent(h("<div>"),of,v({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:i,component:n}=e,o=(60+i)%60;n.option("value",o);var r=new Date(this._getValue());r.setMinutes(o),at.normalizeTime(r),this.option("value",r)}},this._getNumberBoxConfig()));t.setAria("label","minutes")},_createFormat12Box:function(){var t=ue.getPeriodNames(),e=this._format12=this._createComponent(h("<div>").addClass(XDe),th,{items:[{value:h1,text:t[0]},{value:p1,text:t[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:i=>this._keyboardHandler(i),onValueChanged:i=>{var{value:n}=i,o=this._getValue().getHours(),r=new Date(this._getValue()),a=(o+12*n)%24;r.setHours(a),this.option("value",r)},value:this._getValue().getHours()>=12?p1:h1,stylingMode:this.option("stylingMode")});e.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue(),e=t.getHours(),i=e>=12,n=i?p1:h1;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});K("dxTimeView",uK);var cK=uK;var twe=G(),iwe=573,nwe="dx-datebox-adaptivity-mode",hK="dx-datebox-datetime-time-side",owe=mx.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return v(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return Q.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return ue.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(h("<div>"),cK,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass(nwe,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,e!==void 0):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();!e&&!t&&(e=new Date,at.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return H(twe)<=iwe},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent(h("<div>").appendTo(t),bd,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(e,i,n){var o=h("<div>");switch(e.name){case"calendar":o.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(hK),o.append(this._timeView.$element()));break;case"time":o.append(this._timeView.$element()),h(n).addClass(hK)}return o}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t);return v(e,{width:"auto"})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(e){e.shiftKey&&(e.preventDefault(),t.focus())})},_preventFocusOnPopup:function(t){h(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=(t=this._widget.option("value"))!==null&&t!==void 0?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),pK=owe;var rwe=G(),awe="date",swe={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},lwe=vl.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:t,applyValueMode:e}=this.option();t&&e==="instantly"&&this.close()},space:D,home:D,end:D}},getDefaultOptions:function(){return v(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(t===-1)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Yr},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);e===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return $t(t)&&$t(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=e-t,o=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>at.ONE_DAY&&(n=at.ONE_DAY),i-t<at.ONE_DAY?this._getRangeItems(t,new Date(t),n):(t=this._getBoundaryDate("min"),t.setMinutes(o),i&&Math.abs(i-e)<at.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-o))*at.ONE_MINUTE),this._getRangeItems(t,new Date(t),n)))},_getRangeItems:function(t,e,i){for(var n=[],o=this.dateBox.option("interval");e-t<=i;)n.push(new Date(e)),e.setMinutes(e.getMinutes()+o);return n},_getBoundaryDate:function(t){var e=swe[t],i=new Date(Re(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return ue.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if(this.dateBox.option("applyValueMode")!=="useButtons"){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),i=t.getHours(),n=t.getMinutes(),o=t.getSeconds(),r=t.getFullYear(),a=t.getMonth(),s=t.getDate();return e?(this.dateBox.option("dateSerializationFormat")?e=Ct.deserializeDate(e):e=new Date(e),e.setHours(i),e.setMinutes(n),e.setSeconds(o),e.setFullYear(r),e.setMonth(a),e.setDate(s)):e=new Date(r,a,s,i,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=Tc(this.dateBox.option("dropDownOptions.height"));if(t===void 0||t==="auto"){this.dateBox._setPopupOption("height","auto");var e=oe(this._widget.$element()),i=.45*Y(rwe);this.dateBox._setPopupOption("height",Math.min(e,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var i=this.callBase(t,e);return i&&(i=at.mergeDates(i,new Date(null),awe)),i}}),gK=lwe;var wf=G(),Ef="dx-datebox",dwe="dx-auto-width",uwe="dx-show-invalid-badge",cwe="dx-clear-button-area",_x="dx-datebox-wrapper",hwe="dx-dropdowneditor-overlay",Po={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},No={date:"date",datetime:"datetime",time:"time"},Of={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},pwe={Calendar:mx,DateView:sK,Native:lK,CalendarWithTime:pK,List:gK},gwe=ty.inherit({_supportedKeys:function(){return v(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return v(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:Po.calendar,invalidDateMessage:w.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:w.format("validation-range"),applyButtonText:w.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=R.real(),e=t.platform;return e==="ios"||e==="android"},options:{pickerType:Po.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=v({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t===Po.list&&(e===No.datetime||e===No.date)&&(t=Po.calendar),e===No.time&&t===Po.calendar&&(t=Po.list),this._pickerType=t,this._setShowDropDownButtonOption()},_setShowDropDownButtonOption(){var t=R.real().platform,e=t==="android"&&be.mozilla,i=this._isNativeType(),n=t!=="generic"||!i;i&&e&&(n=!1),this.option({showDropDownButton:n})},_init:function(){this._initStrategy(),this.option(v({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=pwe[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),i=/d|M|Y/g.test(t),n="";return i&&(n+=No.date),e&&(n+=No.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===Po.rollers?Of.dateView:e===Po.native?Of.native:t===No.date?Of.calendar:t===No.datetime?Of.calendarWithTime:Of.list},_initMarkup:function(){this.$element().addClass(Ef),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(dwe,!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){if(this._popup){var t,e;(t=(e=this._strategy)._updatePopupHeight)===null||t===void 0||t.call(e)}},_refreshFormatClass:function(){var t=this.$element();x(No,function(e,i){t.removeClass(Ef+"-"+i)}),t.addClass(Ef+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();x(Po,function(e,i){t.removeClass(Ef+"-"+i)}),t.addClass(Ef+"-"+this._pickerType)},_formatValidationIcon:function(){if(W()){var t=this._input().get(0),e=this.option("rtlEnabled"),i=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),o=parseFloat(wf.getComputedStyle(t).width)-i,r=n.width>o,a=t.style;this.$element().toggleClass(uwe,!r&&this.option("_showValidationIcon")),r?(this._storedPadding===void 0&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?a.paddingLeft=0:a.paddingRight=0):e?a.paddingLeft=this._storedPadding+"px":a.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&this._input().val()===""){var e=this.$element().find("."+cwe).get(0);t=parseFloat(wf.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=ue.format(at.getLongestDate(t,ue.getMonthNames(),ue.getDayNames()),t),i=this._input(),n=i.get(0),o=k_(i,e),r=this._storedPadding!==void 0,a=r?this._storedPadding:0;o.appendTo(this.$element());var s=parseFloat(wf.getComputedStyle(o.get(0)).width),l=parseFloat(wf.getComputedStyle(n).paddingRight),d=parseFloat(wf.getComputedStyle(n).paddingLeft),u=s+d+l+a;return o.remove(),{width:u,leftPadding:d,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(_x),this._renderPopupWrapper()},_getPopupToolbarItems(){var t,e,i,n=this.callBase();return(t=(e=(i=this._strategy)._getPopupToolbarItems)===null||e===void 0?void 0:e.call(i,n))!==null&&t!==void 0?t:n},_popupConfig:function(){var t=this.callBase();return v(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=v({},No,Po);x(e,function(i,n){t.removeClass(_x+"-"+n)}.bind(this)),this._popup.$wrapper().addClass(_x+"-"+this.option("type")).addClass(_x+"-"+this._pickerType).addClass(hwe)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===Po.rollers)return!0;var t=R.real().platform,e=this._isNativeType()&&(t==="ios"||t==="android");return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),i=at.SUBMIT_FORMATS_MAP[this.option("type")],n=e?Ct.serializeDate(t,e):at.toStandardDateFormat(t,i);this._getSubmitElement().val(n)},_getDisplayedText:function(t){var e=this.option("mode"),i;if(e==="text"){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));i=ue.format(t,n)}else{var o=this._getFormatByMode(e);o?i=ue.format(t,o):i=at.toStandardDateFormat(t,e)}return i},_getFormatByMode:function(t){return ed(t)?null:at.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var{text:e,type:i,validationError:n}=this.option(),o=this.dateOption("value");if(e===this._getDisplayedText(o)){this._recallInternalValidation(o,n);return}var r=this._getParsedDate(e),a=o??this._getDateByDefault(),s=at.mergeDates(a,r,i),l=r&&i==="time"?s:r;if(this._applyInternalValidation(l).isValid){var d=this._getDisplayedText(s);a&&s&&a.getTime()===s.getTime()&&d!==e?this._renderValue():this.dateValue(s,t)}},_recallInternalValidation(t,e){(!e||e.editorSpecific)&&(this._applyInternalValidation(t),this._applyCustomValidation(t))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(t,e);return i??void 0},_applyInternalValidation(t){var e=this.option("text"),i=!!e&&t!==null,n=!!t&&$t(t)&&!isNaN(t.getTime()),o=n&&Q.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),r=!i&&!t||o,a="";return n?o||(a=this.option("dateOutOfRangeMessage")):a=this.option("invalidDateMessage"),this._updateInternalValidationState(r,a),{isValid:r,isDate:n}},_updateInternalValidationState(t,e){this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:e}})},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value"),i=e&&e.getTime(),n=t&&t.getTime();return i!==n},_isTextChanged:function(t){var e=this.option("text"),i=t&&this._getDisplayedText(t)||"";return e!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===No.time?w.format("dxDateBox-simulatedDataPickerTitleTime"):e===No.date||e===No.datetime?w.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this.dateValue(e,t.event),this.callBase()},_dispose:function(){var t;this.callBase(),(t=this._strategy)===null||t===void 0||t.dispose()},_isNativeType:function(){return this._pickerType===Po.native},_updatePopupTitle:function(){var t;(t=this._popup)===null||t===void 0||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");if(this.option("dateSerializationFormat")&&Fe().forceIsoDateParsing)return this.option("dateSerializationFormat");if(ve(t))return"number";if(N(t))return Ct.getDateSerializationFormat(t)},_updateValue:function(t){this.callBase(),this._applyInternalValidation(t??this.dateOption("value"))},dateValue:function(t,e){var i=this._isValueChanged(t);return i&&e&&this._saveValueChangeEvent(e),i||(this._isTextChanged(t)?this._updateValue(t):this.option("text")===""&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(arguments.length===1)return Ct.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return Ct.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),t===null&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),t===null&&this._applyInternalValidation(null)}}),fK=gwe;var ih="dateBoxMask",_l=1,nh=-1,fwe=fK.inherit({_supportedKeys(t){var e=this.callBase(t),i=o=>{var r=e[Ae(o)];return r&&r.apply(this,[o])},n=(o,r)=>this._shouldUseOriginalHandler(o)?i.apply(this,[o]):r.apply(this,[o]);return v({},e,{del:o=>n(o,r=>{this._revertPart(_l),this._isAllSelected()||r.preventDefault()}),backspace:o=>n(o,r=>{this._revertPart(nh),this._isAllSelected()||r.preventDefault()}),home:o=>n(o,r=>{this._selectFirstPart(),r.preventDefault()}),end:o=>n(o,r=>{this._selectLastPart(),r.preventDefault()}),escape:o=>n(o,r=>{this._revertChanges(r)}),enter:o=>n(o,()=>{this._enterHandler()}),leftArrow:o=>n(o,r=>{this._selectNextPart(nh),r.preventDefault()}),rightArrow:o=>n(o,r=>{this._selectNextPart(_l),r.preventDefault()}),upArrow:o=>n(o,r=>{this._upDownArrowHandler(_l),r.preventDefault()}),downArrow:o=>n(o,r=>{this._upDownArrowHandler(nh),r.preventDefault()})})},_shouldUseOriginalHandler(t){var e=this.option("opened")&&t&&["backspace","del"].indexOf(Ae(t))===-1;return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),n=i-e;this._loadMaskValue(this._initialMaskValue),this._changePartValue(n+t,!0)},_changePartValue(t,e){var i=this._getActivePartProp("pattern"),n=/^a{1,5}$/.test(i);n?this._toggleAmPm():this._partIncrease(t,e)},_toggleAmPm(){var t=this._getActivePartProp("text"),e=Xa.getPeriodNames().indexOf(t),i=1^e;this._setActivePartValue(i)},_getDefaultOptions(){return v(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(t){var{originalEvent:e,alt:i}=t,n=e.data||e.key;return typeof n=="string"&&n.length===1&&!i&&!ut(e)},_isSingleDigitKey(t){var e,i=(e=t.originalEvent)===null||e===void 0?void 0:e.data;return i?.length===1&&parseInt(i,10)},_useBeforeInputEvent:function(){return R.real().android},_keyInputHandler(t,e){var i=this._input().val();this._processInputKey(e),t.preventDefault();var n=i!==this._input().val();n&&_.trigger(this._input(),"input")},_keyboardHandler(t){var e=t.originalEvent.key,i=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(be.chrome&&t.key==="Process"&&t.code.indexOf("Digit")===0?(e=t.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,e)),i},_maskBeforeInputHandler(t){this._maskInputHandler=null;var{inputType:e}=t.originalEvent;e==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i=e==="deleteContentBackward",n=e==="deleteContentForward";if(i||n){var o=i?nh:_l;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(o)}}if(!(!this._useMaskBehavior()||!this._isSingleCharKey(t))){var r=t.originalEvent.data;return this._keyInputHandler(t,r),!0}},_keyPressHandler(t){var{originalEvent:e}=t;e?.inputType==="insertCompositionText"&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=N(t)&&!ue._getPatternByFormat(t);return e?this._formatPattern=t:this._formatPattern=Iy(function(i){return ue.format(i,t)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var t=this.option("type")==="time"?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached(t){var e=String(t).length,i=this._getActivePartProp("pattern").length,n=i===1,o=n?e:Math.min(i,e),r=this._searchValue.length===o,a=parseInt(this._searchValue+"0")>t;return r||a},_searchNumber(t){var{max:e}=this._getActivePartLimits(),i=String(e).length;this._searchValue=(this._searchValue+t).substr(-i),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(_l)},_searchString(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+t.toLowerCase(),n=e.max-e.min,o=0;o<=n;o++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(o+1),this._getActivePartProp("text").toLowerCase().indexOf(i)===0){this._searchValue=i;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=vT(this._getFormatPattern(),ue);var t=this._regExpInfo.regexp,e=t.source,i=t.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),o=e.split(n).map(r=>n.test(r)?r:$e.convertDigits(r,!1)).join("");this._regExpInfo.regexp=new RegExp(o,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=Q8(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){_.off(this._input(),"."+ih)},_attachMaskEvents(){_.on(this._input(),F("dxclick",ih),this._maskClickHandler.bind(this)),_.on(this._input(),F("paste",ih),this._maskPasteHandler.bind(this)),_.on(this._input(),F("drop",ih),()=>{this._renderSelectedPart()}),_.on(this._input(),F("compositionend",ih),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&_.on(this._input(),F("beforeinput",ih),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(nh))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(_l))},_onMouseWheel(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?_l:nh,t)},_selectNextPart(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(!this.option("text")||this._disposed)){t&&(this._initialMaskValue=new Date(this._maskValue));var e=zt(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var i=e===0&&t<0||e===this._dateParts.length-1&&t>0;if(i)e=this._activePartIndex;else{this._selectNextPart(t>=0?t+1:t-1);return}}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(t){var e=this._getActivePartProp("limits");return e(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return T(e)?e(t):t[e]()},_addLeadingZeroes(t){var e=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),n=String(i.max).length;return((e&&e[0]||"")+String(t)).substr(-n)},_setActivePartValue(t,e){e=e||this._maskValue;var i=this._getActivePartProp("setter"),n=this._getActivePartLimits();t=Ln(t,n.min,n.max)?t:t%10,t=this._addLeadingZeroes(zt(t,n.min,n.max)),T(i)?i(e,t):e[i](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(t){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][t]},_loadMaskValue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue(){var t=this._maskValue&&new Date(this._maskValue);t&&this.option("type")==="date"&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease(t,e){this._setNewDateIfEmpty();var{max:i,min:n}=this._getActivePartLimits(e),o=t+this._getActivePartValue();o>i?o=this._applyLimits(o,{limitBase:n,limitClosest:i,max:i}):o<n&&(o=this._applyLimits(o,{limitBase:i,limitClosest:n,max:i})),this._setActivePartValue(o)},_applyLimits(t,e){var{limitBase:i,limitClosest:n,max:o}=e,r=(t-n)%o;return r?i+r-1*or(r):n},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=J8(this._dateParts,this._caret().start),this._isAllSelected()||(f(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(t){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),Kp(t)),i=ue.parse(e,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:t=>$t(t)&&!isNaN(t),_isValueDirty(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&_.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(_l)},_focusOutHandler(t){var e=this._useMaskBehavior()&&!t.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?this._maskValue===null&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}}),mK=fwe;K("dxDateBox",mK);var{isWrapped:mwe}=qt,vwe="checkbox-size",_we="dx-editor-inline-block",If=function(t,e){return v(t,{readOnly:e.readOnly,placeholder:e.placeholder,inputAttr:{id:e.id,"aria-labelledby":e["aria-labelledby"]},tabIndex:e.tabIndex},e.editorOptions)},xK=function(){return be.mozilla||R.real().ios},CK=function(t){var e={},i=xK(),n=t.sharedData||e;return If({placeholder:t.placeholder,width:t.width,value:t.value,onValueChanged:function(o){var r=t.parentType==="filterRow"||t.parentType==="searchPanel",a=o.event&&(o.event.type==="input"||o.event.type==="keyup"),s=function(l,d){t&&t.setValue(l.value,d)};clearTimeout(e.valueChangeTimeout),a&&r?n.valueChangeTimeout=e.valueChangeTimeout=setTimeout(function(){s(o,e.valueChangeTimeout!==n.valueChangeTimeout)},f(t.updateValueTimeout)?t.updateValueTimeout:0):s(o)},onKeyDown:function(o){i&&Ae(o.event)==="enter"&&_.trigger(h(o.component._input()),"change")},valueChangeEvent:"change"+(t.parentType==="filterRow"?" keyup input":"")},t)},vK=function(t){t.editorName="dxDateBox",t.editorOptions=If({value:t.value,onValueChanged:function(e){t.setValue(e.value)},onKeyDown:function(e){var{component:i,event:n}=e,o=i.option("useMaskBehavior");(xK()||o)&&Ae(n)==="enter"&&(i.blur(),i.focus())},displayFormat:t.format,type:t.dataType,dateSerializationFormat:null,width:t.parentType==="filterBuilder"?void 0:"auto"},t)},_K=function(t){var e=CK(t),i=t.parentType==="searchPanel";t.editorType&&t.editorType!=="dxTextBox"?e.value=t.value:e.value=(n=t.value,f(n)?n.toString():"");var n;e.valueChangeEvent+=i?" keyup input search":"",e.mode=e.mode||(i?"search":"text"),t.editorName="dxTextBox",t.editorOptions=e},yK=function(t){var e=CK(t);e.value=f(t.value)?t.value:null,t.editorName="dxNumberBox",t.editorOptions=e},ywe=function(t){t.parentType==="filterRow"||t.parentType==="filterBuilder"?SK(v(t,{lookup:{displayExpr:function(e){if(e===!0)return t.trueText||"true";if(e===!1)return t.falseText||"false"},dataSource:[!0,!1]}})):bK(t)};function xwe(t){if(t.row&&t.row.watch&&t.parentType==="dataRow"){var e=t.editorOptions||{};t.editorOptions=e;var i,n=e.onInitialized;e.onInitialized=function(a){n&&n.apply(this,arguments),i=a.component,i.on("disposing",r)};var o,r=t.row.watch(()=>(o=t.lookup.dataSource(t.row),o&&o.filter),()=>{i.option("dataSource",o)},a=>{t.row=a})}}function SK(t){var e=t.lookup,i,n,o,r=t.parentType==="filterRow";if(e){var a;i=pe(e.displayExpr),n=e.dataSource,T(n)&&!mwe(n)&&(n=n(t.row||{}),xwe(t)),(L(n)||Array.isArray(n))&&(n=kn(n),r&&(o=n.postProcess,n.postProcess=function(l){return this.pageIndex()===0&&(l=l.slice(0),l.unshift(null)),o?o.call(this,l):l}));var s=!!(e.allowClearing&&!r);t.editorName=(a=t.editorType)!==null&&a!==void 0?a:"dxSelectBox",t.editorOptions=If({searchEnabled:!0,value:t.value,valueExpr:t.lookup.valueExpr,searchExpr:t.lookup.searchExpr||t.lookup.displayExpr,allowClearing:s,showClearButton:s,displayExpr:function(l){return l===null?t.showAllText:i(l)},dataSource:n,onValueChanged:function(l){var d=[l.value];!r&&d.push(l.component.option("text")),t.setValue.apply(this,d)}},t)}}function bK(t){t.editorName="dxCheckBox",t.editorOptions=If({elementAttr:{id:t.id},value:f(t.value)?t.value:void 0,hoverStateEnabled:!t.readOnly,focusStateEnabled:!t.readOnly,activeStateEnabled:!1,onValueChanged:function(e){t.setValue&&t.setValue(e.value,e)}},t)}var Cwe=function(t,e){var i=h(e.editorElement);if(e.editorName&&e.editorOptions&&i[e.editorName]){if((e.editorName==="dxCheckBox"||e.editorName==="dxSwitch")&&(e.isOnForm||(i.addClass(t.addWidgetPrefix(vwe)),i.parent().addClass(_we))),t._createComponent(i,e.editorName,e.editorOptions),e.editorName==="dxDateBox"){var n=i.dxDateBox("instance"),o=n._supportedKeys().enter;n.registerKeyHandler("enter",r=>(n.option("opened")&&o(r),!0))}e.editorName==="dxTextArea"&&i.dxTextArea("instance").registerKeyHandler("enter",function(r){Ae(r)==="enter"&&!r.ctrlKey&&!r.shiftKey&&r.stopPropagation()})}},Swe=t=>{t.editorName=t.editorType,t.editorOptions=If({value:t.value,onValueChanged:function(e){t.setValue(e.value)}},t)},bwe=t=>{var e={dxDateBox:vK,dxCheckBox:bK,dxNumberBox:yK,dxTextBox:_K};if(t.lookup)SK(t);else if(t.editorType){var i;((i=e[t.editorType])!==null&&i!==void 0?i:Swe)(t)}else switch(t.dataType){case"date":case"datetime":vK(t);break;case"boolean":ywe(t);break;case"number":yK(t);break;default:_K(t)}},Dwe=t=>class extends t{createEditor(e,i){i.cancel=!1,i.editorElement=V(e),f(i.tabIndex)||(i.tabIndex=this.option("tabIndex")),bwe(i),this.executeAction("onEditorPreparing",i),!i.cancel&&(i.parentType==="dataRow"&&!i.isOnForm&&!f(i.editorOptions.showValidationMark)&&(i.editorOptions.showValidationMark=!1),Cwe(this,i),this.executeAction("onEditorPrepared",i))}},yx=Dwe;var wwe="dx-editor-inline-block",g1="dx-cell-focus-disabled",DK="focus-overlay",Ewe="content",f1="dx-focused",Owe="dx-row",EK="dxDataGridEditorFactory",wK=F([ae.down,"focusin",se].join(" "),EK),m1="dx-hidden",Iwe=yx(ye.ViewController),v1=class extends Iwe{init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._columnsResizerController=this.getController("columnsResizer"),this._editingController=this.getController("editing"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._columnsController=this.getController("columns"),this._validatingController=this.getController("validating"),this._rowsView=this.getView("rowsView"),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),_.on(this._subscribedContainerRoot,wK,this._updateFocusHandler),this._attachContainerEventHandlers()}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),_.off(this._subscribedContainerRoot,wK,this._updateFocusHandler)}_getFocusedElement(e){var i=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n=["td[tabindex]:focus","".concat(i),"input:focus","button:focus","textarea:focus","div[tabindex]:focus",".dx-lookup-field:focus",".dx-checkbox:focus",".dx-switch:focus",".dx-dropdownbutton .dx-buttongroup:focus",".dx-adaptive-item-text:focus"].join(","),o=e.find(n);return this.elementIsInsideGrid(o)&&o}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){var e=this.component&&this.component.$element();if(e){var i=this._getFocusedElement(e);if(i&&i.length){var n;if(!i.hasClass(g1)&&!i.hasClass(Owe)){var o=i.closest("".concat(this._getFocusCellSelector(),", .").concat(g1));o.get(0)!==i.get(0)&&(n=this._needHideBorder(o),i=o)}if(i.length&&!i.hasClass(g1)){this.focus(i,n);return}}}this.loseFocus()}_needHideBorder(e){var i=this._rowsView.element(),n=e.closest(i).length>0,o=this._editingController.isEditing();return e.hasClass(wwe)||n&&!o}_updateFocus(e){var i=this,n=e&&e.event&&h(e.event.target).hasClass(i.addWidgetPrefix(DK));i._isFocusOverlay=i._isFocusOverlay||n,clearTimeout(i._updateFocusTimeoutID),i._updateFocusTimeoutID=setTimeout(()=>{delete i._updateFocusTimeoutID,i._isFocusOverlay||i._updateFocusCore(),i._isFocusOverlay=!1})}_updateFocusOverlaySize(e,i){e.hide();var n=Ei.calculate(e,v({collision:"fit"},i));n.h.oversize>0&&jw(e,ee(e)-n.h.oversize),n.v.oversize>0&&$w(e,oe(e)-n.v.oversize),e.show()}callbackNames(){return["focused"]}focus(e,i){var n=this;if(e===void 0)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(f1),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(()=>{delete n._focusTimeoutID,n.renderFocusOverlay(e,i),e.addClass(f1),n.focused.fire(e)}))}refocus(){var e=this.focus();this.focus(e)}renderFocusOverlay(e,i){if(M.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=h("<div>").addClass(this.addWidgetPrefix(DK))),i)this._$focusOverlay.addClass(m1);else if(e.length){var n=be.mozilla?"right bottom":"left top",o=e.closest(".".concat(this.addWidgetPrefix(Ewe))),r=Ze(e.get(0));this._$focusOverlay.removeClass(m1).appendTo(o),$w(this._$focusOverlay,r.bottom-r.top+1),jw(this._$focusOverlay,r.right-r.left+1);var a={precise:!0,my:n,at:n,of:e,boundary:o.length&&o};this._updateFocusOverlaySize(this._$focusOverlay,a),Ei.setup(this._$focusOverlay,a),this._$focusOverlay.css("visibility","visible")}}}resize(){var e=this._$focusedElement;e&&this.focus(e)}loseFocus(e){this._$focusedElement&&this._$focusedElement.removeClass(f1),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(m1)}_getContainerRoot(){var e,i=(e=this.component)===null||e===void 0?void 0:e.$element(),n=I.getRootNode(i?.get(0));return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!n.host?I.getDocument():n}_attachContainerEventHandlers(){var e=this,i=e.component&&e.component.$element();i&&_.on(i,F("keydown",EK),n=>{Ae(n)==="tab"&&e._updateFocusHandler(n)})}},OK={defaultOptions:()=>({}),controllers:{editorFactory:v1}};P.registerModule("editorFactory",OK);var xx=G(),Fwe={text:"OK",onClick:function(){return!0}},Md="dx-dialog",Twe="".concat(Md,"-wrapper"),Mwe="".concat(Md,"-root"),Awe="".concat(Md,"-content"),Rwe="".concat(Md,"-message"),Bwe="".concat(Md,"-buttons"),kwe="".concat(Md,"-button"),IK="dx-button",Pwe=function(t){var e,i=new S;t=t||{};var n=h("<div>").addClass(Md).appendTo(Qn()),o="message"in t,r="messageHtml"in t;o&&X.log("W1013");var a=String(r?t.messageHtml:t.message),s=t.title?null:new Ee,l=h("<div>").addClass(Rwe).html(a).attr("id",s),d=[];x(t.buttons||[Fwe],function(){var p=new Zo(this.onClick,{context:u});d.push({toolbar:"bottom",location:R.current().android?"after":"center",widget:"dxButton",options:v({},this,{onClick:function(){var g=p.execute(...arguments);c(g)}})})});var u=new Fi(n,v({title:(e=t.title)!==null&&e!==void 0?e:"",showTitle:Re(t.showTitle,!0),dragEnabled:Re(t.dragEnabled,!0),height:"auto",width:t.width,showCloseButton:t.showCloseButton||!1,ignoreChildEvents:!1,container:n,visualContainer:xx,dragAndResizeArea:xx,onContentReady:function(p){p.component.$content().addClass(Awe).append(l),s&&p.component.$overlayContent().attr("aria-labelledby",s)},onShowing:function(p){p.component.bottomToolbar().addClass(Bwe).find(".".concat(IK)).addClass(kwe),Do()},onShown:function(p){var g=p.component.bottomToolbar().find(".".concat(IK)).first();_.trigger(g,"focus")},onHiding:function(){i.reject()},onHidden:function(p){var{element:g}=p;h(g).remove()},toolbarItems:d,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:Fe().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},t.popupOptions));u.$wrapper().addClass(Twe),t.position&&u.option("position",t.position),u.$wrapper().addClass(Mwe);function c(p){i.resolve(p),u.hide()}return{show:function(){if(R.real().deviceType==="phone"){var p=Y(xx)>H(xx),g=p?"90%":"60%";u.option({width:g})}return u.show(),i.promise()},hide:c}};var FK=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=q(t)?t:{title:e,messageHtml:t,showTitle:i,buttons:[{text:w.format("Yes"),onClick:function(){return!0}},{text:w.format("No"),onClick:function(){return!1}}],dragEnabled:i};return Pwe(n).show()};var yl="dx-editor-cell",hr="dx-row",TK="dx-cell-modified",_1="dx-selection",Ad="edit-form",Lo="insert",pr="remove",oh="editing.popup",Cx="editing.form",$i="editing.editRowKey",ns="editing.editColumnName",Sx="targetComponent",y1="input:not([type='hidden'])",rh="[tabindex]:not([disabled]), ".concat(y1,":not([disabled])"),xl="batch",gr="row",Rd="cell",Cl="form",bx="popup",x1="first",Ff="last",C1="pageBottom",Dx="pageTop",S1="viewportBottom",b1="viewportTop",MK=[xl,gr,Rd,Cl,bx],AK=[gr,Cl,bx],RK=[xl,gr,Rd],BK=[gr,Cl],kK="readonly",PK="dx-link",NK="dx-link-icon",LK="dx-selection",VK="dx-edit-button",D1="dx-command-edit",w1="".concat(D1,"-with-icons"),os="__DX_INSERT_INDEX__",HK="dx-row-inserted",WK="dx-row-modified",E1="dx-cell-modified",GK="dxDataGridEditing",zK="dx-cell-focus-disabled",ah="update",UK="click",jK={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},$K={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},KK={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},qK={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},YK=["edit","save","cancel","delete","undelete"],na="editing.changes",QK="focus-overlay",JK="addrow-button",XK="dx-dropdowneditor-overlay",ZK="dx-data-row",e6="dx-row-removed",Nwe=!!ki.IS_RENOVATED_WIDGET,O1="edit-form-item",t6="edit-popup",i6="edit-popup-form",n6=Nwe?"dx-scrollable":"dx-scrollable-container",o6="dx-button",r6="form-buttons-container",I1="dx-edit-row";var F1="_DX_KEY_",Lwe=36,sh=function(t){return function(e){var i=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");t.reject(i)}},T1=function(t,e){return e.isEditing||t&&e.column.allowEditing},M1=function(t,e){var i=!!e.column.command,n=T1(t,e),o=!i&&(n||e.column.showEditorAlways);return e.rowType==="data"&&o},a6=t=>{var e=t.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}},s6=()=>"".concat(F1).concat(new Ee),l6=t=>typeof t=="string"&&t.startsWith(F1)&&t.length===F1.length+Lwe,Bd=(t,e)=>{var i=-1;return t.some((n,o)=>{if(A1(n)===e)return i=o,!0}),i};function A1(t){return L(t)?t.name:t}function d6(t){return t&&(t.is("input")||t.is("textarea"))}var u6=t=>{var e,{column:i}=t;return t.isCustomEditorType?t.editorType:(e=i.formItem)===null||e===void 0?void 0:e.editorType},R1=(t,e)=>{t.forEach(i=>{i.items||i.tabs?R1(i.items||i.tabs,e):e(i)})};var B1=class extends ye.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._validatingController=this.getController("validating"),this._editorFactoryController=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._columnsResizerController=this.getController("columnsResizer"),this._errorHandlingController=this.getController("errorHandling"),this._rowsView=this.getView("rowsView"),this._headerPanelView=this.getView("headerPanel"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(e=>{e.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[$i]=!0,this.component._optionsByReference[na]=!0}getEditMode(){var e=this.option("editing.mode");return MK.includes(e)?e:gr}_getDefaultEditorTemplate(){return(e,i)=>{var n=h("<div>").appendTo(e),o=v({},i.column,{value:i.value,setValue:i.setValue,row:i.row,parentType:"dataRow",width:null,readOnly:!i.setValue,isOnForm:i.isOnForm,id:i.id}),r=RK.includes(this.getEditMode());r&&(o["aria-labelledby"]=i.column.headerId),this._editorFactoryController.createEditor(n,o)}}_getNewRowPosition(){var e=this.option("editing.newRowPosition"),i=this.option("scrolling.mode");if(i==="virtual")switch(e){case Dx:return b1;case C1:return S1;default:return e}return e}getChanges(){return this.option(na)}getInsertRowCount(){var e=this.option(na);return e.filter(i=>i.type==="insert").length}resetChanges(){var e=this.getChanges(),i=e?.length;i&&this._silentOption(na,[])}_getInternalData(e){return this._internalState.filter(i=>_e(i.key,e))[0]}_addInternalData(e){var i=this._getInternalData(e.key);return i?v(i,e):(this._internalState.push(e),e)}_getOldData(e){var i;return(i=this._getInternalData(e))===null||i===void 0?void 0:i.oldData}getUpdatedData(e){var i=this._dataController.keyOf(e),n=this.getChanges(),o=M.getIndexByKey(i,n);return n[o]?ir(e,n[o].data):e}getInsertedData(){return this.getChanges().filter(e=>e.data&&e.type===Lo).map(e=>e.data)}getRemovedData(){return this.getChanges().filter(e=>this._getOldData(e.key)&&e.type===pr).map(e=>this._getOldData(e.key))}_fireDataErrorOccurred(e){if(e!=="cancel"){var i=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,i)}}_needToCloseEditableCell(e){}_closeEditItem(e){}_handleDataChanged(e){}_isDefaultButtonVisible(e,i){var n=!0;switch(e.name){case"delete":n=this.allowDeleting(i);break;case"undelete":n=!1}return n}isPopupEditMode(){var e=this.option("editing.mode");return e===bx}_isButtonVisible(e,i){var{visible:n}=e;return f(n)?T(n)?n.call(e,{component:i.component,row:i.row,column:i.column}):n:this._isDefaultButtonVisible(e,i)}_isButtonDisabled(e,i){var{disabled:n}=e;return T(n)?n.call(e,{component:i.component,row:i.row,column:i.column}):!!n}_getButtonConfig(e,i){var n=L(e)?e:{},o=A1(e),r=a6(i),a=KK[o],s=this.option("editing"),l=qK[o],d=l?s[l]:!0;return v({name:o,text:r[o],cssClass:jK[o]},{onClick:a&&(u=>{var{event:c}=u;c.stopPropagation(),c.preventDefault(),setTimeout(()=>{i.row&&d&&this[a]&&this[a](i.row.rowIndex)})})},n)}_getEditingButtons(e){var i,n=!!e.column.buttons,o=(e.column.buttons||[]).slice();return n?(i=Bd(o,"edit"),i>=0&&(Bd(o,"save")<0&&o.splice(i+1,0,"save"),Bd(o,"cancel")<0&&o.splice(Bd(o,"save")+1,0,"cancel")),i=Bd(o,"delete"),i>=0&&Bd(o,"undelete")<0&&o.splice(i+1,0,"undelete")):o=YK.slice(),o.map(r=>this._getButtonConfig(r,e))}_renderEditingButtons(e,i,n,o){i.forEach(r=>{this._isButtonVisible(r,n)&&this._createButton(e,r,n,o)})}_getEditCommandCellTemplate(){return(e,i,n)=>{var o=h(e);if(i.rowType==="data"){var r=this._getEditingButtons(i);if(this._renderEditingButtons(o,r,i,n),i.watch){var a=i.watch(()=>r.map(s=>({visible:this._isButtonVisible(s,i),disabled:this._isButtonDisabled(s,i)})),()=>{o.empty(),this._renderEditingButtons(o,r,i)});_.on(o,Gt,a)}}else M.setEmptyText(o)}}isRowBasedEditMode(){var e=this.getEditMode();return AK.includes(e)}getFirstEditableColumnIndex(){var e,i=this._columnsController.getVisibleColumns();return x(i,(n,o)=>{if(o.allowEditing)return e=n,!1}),e}getFirstEditableCellInRow(e){var i,n=this.getFirstEditableColumnIndex();return(i=this._rowsView)===null||i===void 0?void 0:i._getCellElement(e||0,n)}getFocusedCellInRow(e){return this.getFirstEditableCellInRow(e)}getIndexByKey(e,i){return M.getIndexByKey(e,i)}hasChanges(e){for(var i=this.getChanges(),n=!1,o=0;o<i?.length;o++)if(i[o].type&&(!f(e)||this._dataController.getRowIndexByKey(i[o].key)===e)){n=!0;break}return n}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),_.off(I.getDocument(),ae.up,this._pointerUpEditorHandler),_.off(I.getDocument(),ae.down,this._pointerDownEditorHandler),_.off(I.getDocument(),se,this._saveEditorHandler)}_silentOption(e,i){e==="editing.changes"&&(this._changes=Yi([],i)),super._silentOption(e,i)}optionChanged(e){if(e.name==="editing"){var{fullName:i}=e;if(i===$i)this._handleEditRowKeyChange(e);else if(i===na){var n=_e(e.value,this._changes,{maxDepth:4});n||(this._changes=Yi([],e.value),this._handleChangesChange(e))}else e.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());e.handled=!0}else super.optionChanged(e)}_handleEditRowKeyChange(e){var i=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),o=this._dataController.getRowIndexByKey(e.previousValue)+n;f(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(i,o):this.cancelEditData()}_handleChangesChange(e){var i=this._dataController,n=e.value;!e.value.length&&!e.previousValue.length||(n.forEach(o=>{var r;if(o.type==="insert")this._addInsertInfo(o);else{var a=i.getCachedStoreData()||((r=i.items())===null||r===void 0?void 0:r.map(l=>l.data)),s=M.getIndexByKey(o.key,a,i.key());this._addInternalData({key:o.key,oldData:a[s]})}}),i.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){f(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(e){}isEditing(){var e=f(this.option($i));return e}isEditRow(e){return!1}_setEditRowKey(e,i){i?this._silentOption($i,e):this.option($i,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(e,i){var n=this._dataController.getKeyByRowIndex(e);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,i)}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(e){var i=this._dataController.getKeyByRowIndex(e),n=f(i)&&_e(this.option($i),i);return n&&this._getVisibleEditRowIndex()===e}isEditCell(e,i){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===i}getPopupContent(){}_isProcessedItem(e){return!1}_getInsertRowIndex(e,i,n){var o=-1,r=this._dataController,a=this._getInsertAfterOrBeforeKey(i);return!f(a)&&e.length===0?o=0:f(a)&&e.some((s,l)=>{var d=n||this._isProcessedItem(s);if(L(s)&&(d||f(s[os])?_e(s.key,a)&&(o=l):_e(r.keyOf(s),a)&&(o=l)),o>=0){var u=e[o+1];return u&&(u.rowType==="detail"||u.rowType==="detailAdaptive")&&f(i.insertAfterKey)?void 0:(f(i.insertAfterKey)&&(o+=1),!0)}}),o}_generateNewItem(e){var i,n={key:e},o=(i=this._getInternalData(e))===null||i===void 0?void 0:i.insertInfo;return o?.[os]&&(n[os]=o[os]),n}_getLoadedRowIndex(e,i,n){var o=this._getInsertRowIndex(e,i,n),r=this._dataController;if(o<0){var a=this._getNewRowPosition(),s=r.pageIndex(),l=this._getInsertAfterOrBeforeKey(i);a!==Ff&&s===0&&!f(l)?o=0:a===Ff&&r.isLastPageLoaded()&&(o=e.length)}return o}processItems(e,i){var{changeType:n}=i;this.update(n);var o=this.getChanges();return o.forEach(r=>{var a,s=r.type===Lo;if(s){var{key:l}=r,d=(a=this._getInternalData(l))===null||a===void 0?void 0:a.insertInfo;(!f(l)||!f(d))&&(d=this._addInsertInfo(r),l=d.key);var u=this._getLoadedRowIndex(e,r),c=this._generateNewItem(l);u>=0&&e.splice(u,0,c)}}),e}processDataItem(e,i,n){var o=i.visibleColumns,r=e.data[os]?e.data.key:e.key,a=this.getChanges(),s=M.getIndexByKey(r,a);e.isEditing=!1,s>=0&&this._processDataItemCore(e,a[s],r,o,n)}_processDataItemCore(e,i,n,o,r){var{data:a,type:s}=i;switch(s){case Lo:e.isNewRow=!0,e.key=n,e.data=a;break;case ah:e.modified=!0,e.oldData=e.data,e.data=ir(e.data,a),e.modifiedValues=r(a,o,!0);break;case pr:e.removed=!0}}_initNewRow(e){if(this.executeAction("onInitNewRow",e),e.promise){var i=new S;return A(It(e.promise)).done(i.resolve).fail(sh(i)).fail(n=>this._fireDataErrorOccurred(n)),i}}_createInsertInfo(){var e={};return e[os]=this._getInsertIndex(),e}_addInsertInfo(e,i){var n,o;e.key=this.getChangeKeyValue(e);var{key:r}=e;if(o=(n=this._getInternalData(r))===null||n===void 0?void 0:n.insertInfo,!f(o)){var a=this._getInsertAfterOrBeforeKey(e);o=this._createInsertInfo(),f(a)||this._setInsertAfterOrBeforeKey(e,i)}return this._addInternalData({insertInfo:o,key:r}),{insertInfo:o,key:r}}getChangeKeyValue(e){if(f(e.key))return e.key;var i=this._dataController.key(),n;return e.data&&i&&!Array.isArray(i)&&(n=e.data[i]),f(n)||(n=s6()),n}_setInsertAfterOrBeforeKey(e,i){var n=this.getView("rowsView"),o=this._dataController,r=o.items(!0),a=this._getNewRowPosition();switch(a){case x1:case Ff:break;case Dx:case C1:if(r.length){var s=a===Dx?0:r.length-1;e[s===0?"insertBeforeKey":"insertAfterKey"]=r[s].key}break;default:var l=a===S1,d=l?n?.getBottomVisibleItemIndex():n?.getTopVisibleItemIndex(),u=o.getVisibleRows()[d];u&&(!u.isEditing&&u.rowType==="detail"||u.rowType==="detailAdaptive")&&d++;var c=o.getKeyByRowIndex(d);f(c)&&(e.insertBeforeKey=c)}}_getInsertIndex(){var e=0;return this.getChanges().forEach(i=>{var n,o=(n=this._getInternalData(i.key))===null||n===void 0?void 0:n.insertInfo;f(o)&&i.type===Lo&&o[os]>e&&(e=o[os])}),e+1}_getInsertAfterOrBeforeKey(e){var i;return(i=e.insertAfterKey)!==null&&i!==void 0?i:e.insertBeforeKey}_getPageIndexToInsertRow(){var e=this._getNewRowPosition(),i=this._dataController,n=i.pageIndex(),o=i.pageCount()-1;return e===x1&&n!==0?0:e===Ff&&n!==o?o:-1}addRow(e){var i=this._dataController,n=i.store();return n?this._addRow(e):(i.fireError("E1052",this.component.NAME),new S().reject())}_addRow(e){var i=this._dataController,n=i.store(),o=n&&n.key(),r={data:{}},a=this._getVisibleEditRowIndex(),s=new S;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(o||(r.data.__KEY__=String(new Ee)),A(this._initNewRow(r,e)).done(()=>{this._allowRowAdding()?A(this._addRowCore(r.data,e,a)).done(s.resolve).fail(s.reject):s.reject("cancel")}).fail(s.reject),s.promise()):(A(this._navigateToNewRow(a)).done(s.resolve).fail(s.reject),s.promise())}_allowRowAdding(e){var i=this._getInsertIndex();return!(i>1)}_addRowCore(e,i,n){var o={data:e,type:Lo},r=this._getVisibleEditRowIndex(),a=this._addInsertInfo(o,i),{key:s}=a;return this._setEditRowKey(s,!0),this._addChange(o),this._navigateToNewRow(n,o,r)}_navigateToNewRow(e,i,n){var o=new S,r=this._dataController;if(n=n??-1,i=i??this.getChanges().filter(u=>u.type===Lo)[0],!i)return o.reject("cancel").promise();var a=this._getPageIndexToInsertRow(),s=this._getLoadedRowIndex(r.items(),i,!0),l=u=>{var c;A((c=this._focusController)===null||c===void 0?void 0:c.navigateToRow(u)).done(()=>{s=r.getRowIndexByKey(i.key),o.resolve()})},d=this._getInsertAfterOrBeforeKey(i);return a>=0?r.pageIndex(a).done(()=>{l(i.key)}).fail(o.reject):s<0&&f(d)?l(d):(r.updateItems({changeType:"update",rowIndices:[e,n,s]}),s=r.getRowIndexByKey(i.key),s<0?l(i.key):o.resolve()),o.done(()=>{var u;(u=this._rowsView)===null||u===void 0||u.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(s),this._afterInsertRow(i.key)})}),o.promise()}_showAddedRow(e){this._focusFirstEditableCellInRow(e)}_beforeFocusElementInRow(e){}_focusFirstEditableCellInRow(e){var i,n=this._dataController,o=n.getKeyByRowIndex(e),r=this.getFirstEditableCellInRow(e);(i=this._keyboardNavigationController)===null||i===void 0||i.focus(r),this.option("focusedRowKey",o),this._editCellInProgress=!0,this._delayedInputFocus(r,()=>{e=n.getRowIndexByKey(o),this._editCellInProgress=!1,this._beforeFocusElementInRow(e)})}_isEditingStart(e){return this.executeAction("onEditingStart",e),e.cancel}_beforeUpdateItems(e,i){}_getVisibleEditColumnIndex(){var e=this.option(ns);return f(e)?this._columnsController.getVisibleColumnIndex(e):-1}_setEditColumnNameByIndex(e,i){var n,o=this._columnsController.getVisibleColumns();this._setEditColumnName((n=o[e])===null||n===void 0?void 0:n.name,i)}_setEditColumnName(e,i){i?this._silentOption(ns,e):this.option(ns,e)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){var e=this.option(ns);return this._getColumnByName(e)}_getColumnByName(e){var i=this._columnsController.getVisibleColumns(),n;return f(e)&&i.some(o=>{if(o.name===e)return n=o,!0}),n}_getVisibleEditRowIndex(e){var i=this._dataController,n=this.option($i),o=i.getRowIndexByKey(n);return o===-1?o:o+this._getEditRowIndexCorrection(e)}_getEditRowIndexCorrection(e){var i=e?this._getColumnByName(e):this._getEditColumn(),n=i?.visibleWidth==="adaptiveHidden";return n?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(e){var i,n=this._dataController,o=n.items(),r=o[e],a={data:r&&r.data,cancel:!1},s=this._getVisibleEditRowIndex();if(r){if(e===s)return!0;if(r.key===void 0){this._dataController.fireError("E1043");return}r.isNewRow||(a.key=r.key),!this._isEditingStart(a)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:r.key,oldData:(i=r.oldData)!==null&&i!==void 0?i:r.data}),this._setEditRowKey(r.key))}}_editRowFromOptionChanged(e,i){var n=[i,e];this._beforeUpdateItems(n,e,i),this._editRowFromOptionChangedCore(n,e)}_editRowFromOptionChangedCore(e,i,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})}_focusEditorIfNeed(){}_showEditPopup(e,i){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return e=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(e){}_getSaveButtonConfig(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}}_getCancelButtonConfig(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}}_removeInternalData(e){var i=this._getInternalData(e),n=this._internalState.indexOf(i);n>-1&&this._internalState.splice(n,1)}_updateInsertAfterOrBeforeKeys(e,i){var n=e[i];e.forEach(o=>{var r=this._getInsertAfterOrBeforeKey(o);_e(r,n.key)&&(o[f(o.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})}_removeChange(e){if(e>=0){var i=[...this.getChanges()],{key:n}=i[e];this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(i,e),i.splice(e,1),this._silentOption(na,i),_e(this.option($i),n)&&this._resetEditIndices()}}executeOperation(e,i){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(()=>{e.state()!=="rejected"&&(i(),this._lastOperation=null)}).fail(()=>{e.reject(),this._lastOperation=null})}waitForDeferredOperations(){return A(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(e,i,n){!e||!e.showEditorAlways||i&&!i.showEditorAlways?(this._editCellInProgress=!0,this._needFocusEditor=!0,this._editorFactoryController.loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==i&&(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:[]}))}_delayedInputFocus(e,i,n){var o=()=>{if(i&&i(),e){var r=e.find(rh).first();M.focusAndSelectElement(this,r)}this._beforeFocusCallback=null};R.real().ios||R.real().android?o():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=i),this._inputFocusTimeoutID=setTimeout(o))}_focusEditingCell(e,i,n){var o=this._getVisibleEditColumnIndex();i=i||this._rowsView&&this._rowsView._getCellElement(this._getVisibleEditRowIndex(),o),i&&this._delayedInputFocus(i,e,n)}deleteRow(e){this._checkAndDeleteRow(e)}_checkAndDeleteRow(e){var i=this.option("editing"),n=i?.texts,o=i?.confirmDelete,r=n?.confirmDeleteMessage,a=this._dataController.items()[e],s=!this.isEditing()||a.isNewRow;if(a&&s)if(!o||!r)this._deleteRowCore(e);else{var l=n&&n.confirmDeleteTitle,d=f(l)&&l.length>0;FK(r,l,d).done(u=>{u&&this._deleteRowCore(e)})}}_deleteRowCore(e){var i=this._dataController,n=i.items()[e],o=n&&n.key,r=this._getVisibleEditRowIndex();this.refresh();var a=this.getChanges(),s=M.getIndexByKey(o,a);return s>=0?a[s].type===Lo?this._removeChange(s):this._addChange({key:o,type:pr}):this._addChange({key:o,oldData:n.data,type:pr}),this._afterDeleteRow(e,r)}_afterDeleteRow(e,i){return this.saveEditData()}undeleteRow(e){var i=this._dataController,n=i.items()[e],o=this._getVisibleEditRowIndex(),r=n&&n.key,a=this.getChanges();if(n){var s=M.getIndexByKey(r,a);if(s>=0){var{data:l}=a[s];Rt(l)?this._removeChange(s):this._addChange({key:r,type:ah}),i.updateItems({changeType:"update",rowIndices:[o,e]})}}}_fireOnSaving(){var e={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",e);var i=new S;return A(It(e.promise)).done(()=>{i.resolve(e)}).fail(n=>{sh(i),this._fireDataErrorOccurred(n),i.resolve({cancel:!0})}),i}_executeEditingAction(e,i,n){if(this.component._disposed)return null;var o=new S;return this.executeAction(e,i),A(It(i.cancel)).done(r=>{r?setTimeout(()=>{o.resolve("cancel")}):n(i).done(o.resolve).fail(sh(o))}).fail(sh(o)),o}_processChanges(e,i,n,o){var r=this._dataController.store();x(o,(a,s)=>{var l=this._getOldData(s.key),{data:d,type:u}=s,c=E({},s),p,g;if(!this._beforeSaveEditData(s,a)){switch(u){case pr:g={data:l,key:s.key,cancel:!1},p=this._executeEditingAction("onRowRemoving",g,()=>r.remove(s.key).done(y=>{n.push({type:"remove",key:y})}));break;case Lo:g={data:d,cancel:!1},p=this._executeEditingAction("onRowInserting",g,()=>r.insert(g.data).done((y,C)=>{f(C)&&(c.key=C),y&&L(y)&&y!==g.data&&(c.data=y),n.push({type:"insert",data:y,index:0})}));break;case ah:g={newData:d,oldData:l,key:s.key,cancel:!1},p=this._executeEditingAction("onRowUpdating",g,()=>r.update(s.key,g.newData).done((y,C)=>{y&&L(y)&&y!==g.newData&&(c.data=y),n.push({type:"update",key:C,data:y})}))}if(o[a]=c,p){var m=new S;p.always(y=>{i.push({key:s.key,result:y})}).always(m.resolve),e.push(m.promise())}}})}_processRemoveIfError(e,i){var n=e[i];return n?.type===pr&&i>=0&&e.splice(i,1),!0}_processRemove(e,i,n){var o=e[i];if(!n||!o||o.type===pr)return this._processRemoveCore(e,i,!n||!o)}_processRemoveCore(e,i,n){return i>=0&&e.splice(i,1),!0}_processSaveEditDataResult(e){for(var i=!1,n=[...this.getChanges()],o=n.length,r=0;r<e.length;r++){var a=e[r].result,s=a==="cancel",l=M.getIndexByKey(e[r].key,n),d=n[l],u=a&&a instanceof Error;if(u){if(d&&this._addInternalData({key:d.key,error:a}),this._fireDataErrorOccurred(a),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,s)&&(i=!s)}return n.length<o&&this._silentOption(na,n),i}_fireSaveEditDataEvents(e){x(e,(i,n)=>{var{data:o,key:r,type:a}=n,s=this._addInternalData({key:r}),l={key:r,data:o};switch(s.error&&(l.error=s.error),a){case pr:this.executeAction("onRowRemoved",v({},l,{data:s.oldData}));break;case Lo:this.executeAction("onRowInserted",l);break;case ah:this.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})}saveEditData(){var e=new S;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(e);return}A(this._beforeSaveEditData()).done(i=>{if(i){this._resolveAfterSave(e,{cancel:i});return}this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(e.resolve).fail(e.reject)}).fail(e.reject)}).fail(e.reject),e.promise()}_resolveAfterSave(e){var{cancel:i,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};A(this._afterSaveEditData(i)).done(()=>{e.resolve(n)}).fail(e.reject)}_saveEditDataInner(){var e=new S,i=[],n=[],o=[],r=this._dataController.dataSource();return A(this._fireOnSaving()).done(a=>{var{cancel:s,changes:l}=a;if(s)return e.resolve().promise();if(this._processChanges(n,i,o,l),n.length)return this._refocusEditCell=!0,r?.beginLoading(),A(...n).done(()=>{this._processSaveEditDataResult(i)?this._endSaving(o,l,e):(r?.endLoading(),e.resolve())}).fail(d=>{r?.endLoading(),e.resolve(d)}),e.always(()=>{this._refocusEditCell=!0}).promise();this._cancelSaving(e)}).fail(e.reject),e.promise()}_beforeEndSaving(e){this._resetEditIndices()}_endSaving(e,i,n){var o=this._dataController.dataSource();this._beforeEndSaving(i),o?.endLoading(),this._refreshDataAfterSave(e,i,n)}_cancelSaving(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)}_refreshDataAfterSave(e,i,n){var o=this._dataController,r=this.option("editing.refreshMode"),a=r!=="reshape"&&r!=="repaint";a||o.push(e),A(o.refresh({selection:a,reload:a,load:r==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(i)}).done(()=>{this._resolveAfterSave(n)}).fail(s=>{this._resolveAfterSave(n,{error:s})})}isSaving(){return this._saving}_updateEditColumn(){var e=this._isEditColumnVisible(),i=this.option("editing.useIcons"),n=D1+(i?" ".concat(w1):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})}_isEditColumnVisible(){var e=this.option("editing");return e.allowDeleting}_isEditButtonDisabled(){var e=this.hasChanges(),i=f(this.option("editing.editRowKey"));return!(i||e)}_updateEditButtons(){var e=this._isEditButtonDisabled();this._headerPanelView&&(this._headerPanelView.setToolbarItemDisabled("saveButton",e),this._headerPanelView.setToolbarItemDisabled("revertButton",e))}_applyModified(e,i){e&&e.addClass(E1)}_beforeCloseEditCellInBatchMode(e){}cancelEditData(){var e=this.getChanges(),i={cancel:!1,changes:e};this.executeAction("onEditCanceling",i),i.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))}_cancelEditDataCore(){var e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)}_afterCancelEditData(e){var i=this._dataController;i.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(e){var i=this._dataController;i&&this._pageIndex!==i.pageIndex()&&(e==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=i.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(e,i){return i?[]:[e.rowIndex]}addDeferred(e){this._deferreds.includes(e)||(this._deferreds.push(e),e.always(()=>{var i=this._deferreds.indexOf(e);i>=0&&this._deferreds.splice(i,1)}))}_prepareChange(e,i,n){var o,r={},a=(o=e.row)===null||o===void 0?void 0:o.data,s=e.key,l=new S;if(s!==void 0){e.value=i;var d=It(e.column.setCellValue(r,i,v(!0,{},a),n));d.done(()=>{l.resolve({data:r,key:s,oldData:a,type:ah})}).fail(sh(l)).fail(u=>this._fireDataErrorOccurred(u)),f(n)&&e.column.displayValueMap&&(e.column.displayValueMap[i]=n),this._updateRowValues(e),this.addDeferred(l)}return l}_updateRowValues(e){if(e.values){var i=this._dataController,n=i.getRowIndexByKey(e.key),o=i.getVisibleRows()[n];o&&(e.row.values=o.values,e.values=o.values),e.values[e.columnIndex]=e.value}}updateFieldValue(e,i,n,o){var r=e.key,a=new S;return r===void 0&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,i,n).done(s=>{A(this._applyChange(e,s,o)).always(()=>{a.resolve()})}):a.resolve(),a.promise()}_focusPreviousEditingCellIfNeed(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0}_needUpdateRow(e){var i=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,o=i.some(r=>r.calculateCellValue!==r.defaultCalculateCellValue);return n||o}_applyChange(e,i,n){var o=E(E({},e),{forceUpdateRow:n});return this._addChange(i,o),this._updateEditButtons(),this._applyChangeCore(e,o.forceUpdateRow)}_applyChangeCore(e,i){var n=e.column.setCellValue!==e.column.defaultSetCellValue,{row:o}=e;o&&(i||n?this._updateEditRow(o,i,n):o.update&&o.update())}_updateEditRowCore(e,i,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,i)})}_updateEditRow(e,i,n){i?this._updateRowImmediately(e,i,n):this._updateRowWithDelay(e,n)}_updateRowImmediately(e,i,n){this._updateEditRowCore(e,!i,n),this._validateEditFormAfterUpdate(e,n),i||this._focusEditingCell()}_updateRowWithDelay(e,i){var n=new S;this.addDeferred(n),setTimeout(()=>{var o,r=((o=this._editForm)===null||o===void 0?void 0:o.element())||this.component.$element().get(0),a=h(I.getActiveElement(r)),s=this._rowsView.getCellIndex(a,e.rowIndex),l=a.get(0),d=M.getSelectionRange(l);if(this._updateEditRowCore(e,!1,i),this._validateEditFormAfterUpdate(e,i),s>=0){var u=this._rowsView._getCellElement(e.rowIndex,s);this._delayedInputFocus(u,()=>{setTimeout(()=>{var c;l=I.getActiveElement((c=this.component.$element())===null||c===void 0?void 0:c.get(0)),d.selectionStart>=0&&M.setSelectionRange(l,d)})})}n.resolve()})}_validateEditFormAfterUpdate(){}_addChange(e,i){var n,o=i?.row,r=[...this.getChanges()],a=M.getIndexByKey(e.key,r);a<0&&(a=r.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,r.push(e));var s=E({},r[a]);return s&&(e.data&&(s.data=ir(s.data,e.data)),(!s.type||!e.data)&&e.type&&(s.type=e.type),o&&(o.oldData=this._getOldData(o.key),o.data=ir(o.data,e.data))),r[a]=s,this._silentOption(na,r),i&&s!==((n=this.getChanges())===null||n===void 0?void 0:n[a])&&(i.forceUpdateRow=!0),s}_getFormEditItemTemplate(e,i){return i.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(e){var{column:i}=e,n=e.row&&e.row.rowIndex,o,r=this.isRowBasedEditMode(),a=this.isEditRow(n),s=this.isEditCell(n,e.columnIndex),l;if((i.showEditorAlways||i.setCellValue&&(a&&i.allowEditing||s))&&(e.rowType==="data"||e.rowType==="detailAdaptive")&&!i.command){var d=this.allowUpdating(e);((d||a)&&i.allowEditing||s)&&(a||!r)&&(i.showEditorAlways&&!r&&(l={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:i},this._isEditingStart(l)),(!l||!l.cancel)&&(e.setValue=(u,c)=>{this.updateFieldValue(e,u,c)})),o=i.editCellTemplate||this._getDefaultEditorTemplate()}else i.command==="detail"&&e.rowType==="detail"&&a&&(o=this===null||this===void 0?void 0:this.getEditFormTemplate(e));return o}_createButton(e,i,n,o){var r=$K[i.name],a=this.option("editing.useIcons"),s=this.option("useLegacyColumnButtonTemplate"),l=h("<a>").attr("href","#").addClass(PK).addClass(i.cssClass);if(i.template&&s)this._rowsView.renderTemplate(e,i.template,n,!0);else{if(i.template)l=h("<span>").addClass(i.cssClass);else if(a&&r||i.icon){r=i.icon||r;var d=Ea(r);d==="image"||d==="svg"?l=en(r).addClass(i.cssClass):l.addClass("dx-icon".concat(d==="dxIcon"?"-":" ").concat(r)).attr("title",i.text),l.addClass(NK),e.addClass(w1);var u=this.getButtonLocalizationNames()[i.name];u&&l.attr("aria-label",w.format(u))}else l.text(i.text);f(i.hint)&&l.attr("title",i.hint),this._isButtonDisabled(i,n)?l.addClass("dx-state-disabled"):(!i.template||i.onClick)&&_.on(l,F("click",GK),this.createAction(c=>{var p;(p=i.onClick)===null||p===void 0||p.call(i,v({},c,{row:n.row,column:n.column})),c.event.preventDefault(),c.event.stopPropagation()})),e.append(l,"&nbsp;"),i.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(l,i.template,n,!0,o))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(e,i,n,o){var r,a=(r=this.option("editing.texts"))!==null&&r!==void 0?r:{},s={revert:a.cancelAllChanges,save:a.saveAllChanges,addRow:a.addRow},l={revert:"cancel",save:"save",addRow:"addrow"}[i],d=s[i],u=(l==="save"||l==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:c=>{h(c.element).addClass(e._getToolbarButtonClass("".concat(VK," ").concat(this.addWidgetPrefix(l),"-button")))},icon:"edit-button-".concat(l),disabled:u,onClick:()=>{setTimeout(()=>{this[n]()})},text:d,hint:d},showText:"inMenu",name:"".concat(i,"Button"),location:"after",locateInMenu:"auto",sortIndex:o}}prepareEditButtons(e){var i,n=(i=this.option("editing"))!==null&&i!==void 0?i:{},o=[];return n.allowAdding&&o.push(this.prepareButtonItem(e,"addRow","addRow",20)),o}highlightDataCell(e,i){this.shouldHighlightCell(i)&&e.addClass(E1)}_afterInsertRow(e){}_beforeSaveEditData(e){if(e&&!f(e.key)&&f(e.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(e,i){var n=this.option("editing.".concat(e));return T(n)&&(n=n({component:this.component,row:i.row})),n}allowUpdating(e,i){var n,o=(n=this.option("editing.startEditAction"))!==null&&n!==void 0?n:UK,r=arguments.length>1?o===i||i==="down":!0;return r&&this._allowEditAction("allowUpdating",e)}allowDeleting(e){return this._allowEditAction("allowDeleting",e)}isCellModified(e){var i,n,o,{columnIndex:r}=e,a=(n=(i=e?.row)===null||i===void 0?void 0:i.modifiedValues)===null||n===void 0?void 0:n[r];return!((o=e?.row)===null||o===void 0)&&o.isNewRow&&(a=e.value),a!==void 0}isNewRowInEditMode(){var e=this._getVisibleEditRowIndex(),i=this._dataController.items();return e>=0?i[e].isNewRow:!1}_isRowDeleteAllowed(){}shouldHighlightCell(e){var i=this.isCellModified(e);return i&&e.column.setCellValue&&(this.getEditMode()!==gr||!e.row.isEditing)}},k1=t=>class extends t{reload(e,i){return!i&&this._editingController.refresh(),super.reload.apply(this,arguments)}repaintRows(){if(!this._editingController.isSaving())return super.repaintRows.apply(this,arguments)}_updateEditRow(e){var i,n=this.option($i),o=M.getIndexByKey(n,e),r=e[o];r&&(r.isEditing=!0,(i=this._updateEditItem)===null||i===void 0||i.call(this,r))}_updateItemsCore(e){super._updateItemsCore(e),this._updateEditRow(this.items(!0))}_applyChangeUpdate(e){this._updateEditRow(e.items),super._applyChangeUpdate(e)}_applyChangesOnly(e){this._updateEditRow(e.items),super._applyChangesOnly(e)}_processItems(e,i){return e=this._editingController.processItems(e,i),super._processItems(e,i)}_processDataItem(e,i){return this._editingController.processDataItem(e,i,this.generateDataValues),super._processDataItem(e,i)}_processItem(e,i){return e=super._processItem(e,i),e.isNewRow&&(i.dataIndex--,delete e.dataIndex),e}_getChangedColumnIndices(e,i,n,o){if(!(e.isNewRow!==i.isNewRow||e.removed!==i.removed))return super._getChangedColumnIndices.apply(this,arguments)}_isCellChanged(e,i,n,o,r){var a=e.cells&&e.cells[o],s=this._editingController&&this._editingController.isEditCell(n,o);return r&&s?!1:a&&a.column&&!a.column.showEditorAlways&&a.isEditing!==s?!0:super._isCellChanged.apply(this,arguments)}needToRefreshOnDataSourceChange(e){var i=Array.isArray(e.value)&&e.value===e.previousValue&&this._editingController.isSaving();return!i}_handleDataSourceChange(e){var i=super._handleDataSourceChange(e),n=this.option("editing.changes"),o=e.value;if(Array.isArray(o)&&n.length){var r=o.map(d=>this.keyOf(d)),a=n.filter(d=>d.type==="insert"||r.some(u=>_e(d.key,u)));a.length!==n.length&&this.option("editing.changes",a);var s=this.option("editing.editRowKey"),l=a.some(d=>d.type==="insert"&&_e(s,d.key));!l&&r.every(d=>!_e(s,d))&&this.option("editing.editRowKey",null)}return i}},Vwe=t=>class extends t{getCellIndex(e,i){if(!e.is("td")&&i>=0){var n=this.getCellElements(i),o=-1;return x(n,(r,a)=>{h(a).find(e).length&&(o=r)}),o}return super.getCellIndex.apply(this,arguments)}publicMethods(){return super.publicMethods().concat(["cellValue"])}_getCellTemplate(e){var i=this._editingController.getColumnTemplate(e);return i||super._getCellTemplate(e)}_createRow(e){var i=super._createRow.apply(this,arguments);if(e){var n=!!e.removed,o=!!e.isNewRow,r=!!e.modified;o&&i.addClass(HK),r&&i.addClass(WK),(o||n)&&i.removeClass(LK)}return i}_getColumnIndexByElement(e){for(var i=e.closest("table"),n=this.getTableElements();i.length&&!n.filter(i).length;)e=i.closest("td"),i=e.closest("table");return this._getColumnIndexByElementCore(e)}_getColumnIndexByElementCore(e){var i=e.closest(".".concat(hr,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(i)}_editCellByClick(e,i){var n=this._editingController,o=h(e.event.target),r=this._getColumnIndexByElement(o),a=this._dataController.items()[e.rowIndex],s=n.allowUpdating({row:a},i)||a&&a.isNewRow,l=this._columnsController.getVisibleColumns()[r],d=n.isEditCell(e.rowIndex,r),u=s&&l&&(l.allowEditing||d),c=this.option("editing.startEditAction")||"click",p=l&&l.showEditorAlways;if(d)return!0;if(i==="down")return(R.real().ios||R.real().android)&&Do(),p&&u&&n.editCell(e.rowIndex,r);if(i==="click"&&c==="dblClick"&&this._pointerDownTarget===o.get(0)){var g=a?.isNewRow;n.closeEditCell(!1,g)}if(u&&i===c)return n.editCell(e.rowIndex,r)||n.isEditRow(e.rowIndex)}_rowPointerDown(e){this._pointerDownTarget=e.event.target,this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(e,"down")})}_rowClickTreeListHack(e){super._rowClick.apply(this,arguments)}_rowClick(e){var i=h(e.rowElement).hasClass(this.addWidgetPrefix(Ad));e.event[Sx]=this.component,!this._editCellByClick(e,"click")&&!i&&super._rowClick.apply(this,arguments)}_rowDblClickTreeListHack(e){super._rowDblClick.apply(this,arguments)}_rowDblClick(e){this._editCellByClick(e,"dblClick")||super._rowDblClick.apply(this,arguments)}_cellPrepared(e,i){var n,o=this._editingController,r=!!i.column.command,a=i.setValue,s=o.isEditRow(i.rowIndex),l=T1(s,i);if(M1(s,i)){var{alignment:d}=i.column;e.toggleClass(this.addWidgetPrefix(kK),!a).toggleClass(zK,!a),d&&e.find(y1).first().css("textAlign",d)}l&&this._editCellPrepared(e);var u=!!(!((n=i.column)===null||n===void 0)&&n.cellTemplate);i.column&&!r&&(!u||o.shouldHighlightCell(i))&&o.highlightDataCell(e,i),super._cellPrepared.apply(this,arguments)}_getCellOptions(e){var i=super._getCellOptions(e);return i.isEditing=this._editingController.isEditCell(i.rowIndex,i.columnIndex),i}_createCell(e){var i=super._createCell(e),n=this._editingController.isEditRow(e.rowIndex);return M1(n,e)&&i.addClass(yl),i}cellValue(e,i,n,o){var r=this.getCellOptions(e,i);if(r){if(n===void 0)return r.value;this._editingController.updateFieldValue(r,n,o,!0)}}dispose(){super.dispose.apply(this,arguments),clearTimeout(this._pointerDownTimeout)}_renderCore(){return super._renderCore.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}_editCellPrepared(){}_formItemPrepared(){}},Hwe=t=>class extends t{optionChanged(e){var{fullName:i}=e;switch(e.name){case"editing":var n=[oh,na,ns,$i],o=i&&!n.some(r=>r===i);o&&this._invalidate(),super.optionChanged(e);break;case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:super.optionChanged(e)}}_getToolbarItems(){var e=super._getToolbarItems(),i=this._editingController.prepareEditButtons(this);return i.concat(e)}isVisible(){var e=this._editingController.option("editing");return super.isVisible()||e?.allowAdding}},wx={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:b1,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:w.format("dxDataGrid-editingEditRow"),saveAllChanges:w.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:w.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:w.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:w.format("dxDataGrid-editingCancelRowChanges"),addRow:w.format("dxDataGrid-editingAddRow"),deleteRow:w.format("dxDataGrid-editingDeleteRow"),undeleteRow:w.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:w.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:B1},extenders:{controllers:{data:k1},views:{rowsView:Vwe,headerPanel:Hwe}}};var Wwe=t=>class extends k1(t){_changeRowExpandCore(e){var i=this._editingController;return Array.isArray(e)&&i&&i.refresh(),super._changeRowExpandCore.apply(this,arguments)}};P.registerModule("editing",E(E({},wx),{extenders:E(E({},wx.extenders),{controllers:E(E({},wx.extenders.controllers),{data:Wwe})})}));var Gwe=t=>class extends t{isRowEditMode(){return this.getEditMode()===gr}_afterCancelEditData(e){var i=this._dataController;this.isRowBasedEditMode()&&e>=0?i.updateItems({changeType:"update",rowIndices:[e,e+1]}):super._afterCancelEditData(e)}_isDefaultButtonVisible(e,i){var n=this.isRowBasedEditMode(),o=this.isPopupEditMode(),r=!o&&i.row&&_e(i.row.key,this.option($i));if(n)switch(e.name){case"edit":return!r&&this.allowUpdating(i);case"delete":return super._isDefaultButtonVisible(e,i)&&!r;case"save":case"cancel":return r;default:return super._isDefaultButtonVisible(e,i)}return super._isDefaultButtonVisible(e,i)}isEditRow(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)}_cancelSaving(e){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(e)}_refreshCore(e){var{allowCancelEditing:i}=e??{};if(this.isRowBasedEditMode()){var n=this.getChanges().filter(o=>o.type==="update").length>0;this.init(),i&&n&&this._cancelEditDataCore()}super._refreshCore(e)}_isEditColumnVisible(){var e=super._isEditColumnVisible(),i=this.option("editing"),n=this.isRowEditMode(),o=i.allowUpdating||i.allowAdding;return e||n&&o}_focusEditorIfNeed(){var e=this.getEditMode();if(this._needFocusEditor){if(BK.includes(e)){var i=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(i,()=>{i&&this.component.focus(i)})}this._needFocusEditor=!1}}},zwe=t=>class extends t{_getChangedColumnIndices(e,i,n,o){if(!(this._editingController.isRowBasedEditMode()&&e.isEditing!==i.isEditing))return super._getChangedColumnIndices.apply(this,arguments)}},Uwe=t=>class extends t{_createRow(e){var i=super._createRow.apply(this,arguments);if(e){var n=this._editingController,o=n.isEditRow(e.rowIndex);o&&(i.addClass(I1),i.removeClass(_1),e.rowType==="detail"&&i.addClass(this.addWidgetPrefix(Ad)))}return i}_update(e){super._update(e),e.changeType==="updateSelection"&&this.getTableElements().children("tbody").children(".".concat(I1)).removeClass(_1)}},c6={extenders:{controllers:{editing:Gwe,data:zwe},views:{rowsView:Uwe}}};P.registerModule("editingRowBased",c6);var lh=class{constructor(){this._map={}}_findWidgetInstance(e){var i;return x(this._map,function(n,o){var{widgetInstance:r,item:a}=o;if(e(a))return i=r,!1}),i}_findFieldByCondition(e,i){var n;return x(this._map,function(o,r){if(e(r))return n=i==="guid"?o:r[i],!1}),n}clear(){this._map={}}removeItemsByItems(e){x(e.getItems(),i=>this.removeItemByKey(i))}removeItemByKey(e){delete this._map[e]}add(e){var i=e.guid||new Ee;return this._map[i]=e,i}addItemsOrExtendFrom(e){e.each((i,n)=>{this._map[i]?(n.widgetInstance&&(this._map[i].widgetInstance=n.widgetInstance),this._map[i].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:i,$itemContainer:n.$itemContainer})})}extendRunTimeItemInfoByKey(e,i){this._map[e]&&(this._map[e]=v(this._map[e],i))}findWidgetInstanceByItem(e){return this._findWidgetInstance(i=>i===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(i=>{var{path:n}=i;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(i=>{var{path:n}=i;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(i=>e===i.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(i=>e===(N(i)?i:i.dataField))}findItemContainerByItem(e){for(var i in this._map)if(this._map[i].item===e)return this._map[i].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition(i=>{var{item:n}=i;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(i=>{var{item:n}=i;return n===e},"preparedItem")}getItems(){return this._map}each(e){x(this._map,function(i,n){e(i,n)})}removeItemsByPathStartWith(e){var i=Object.keys(this._map),n=i.filter(o=>this._map[o].path?this._map[o].path.indexOf(e,0)>-1:!1);n.forEach(o=>this.removeItemByKey(o))}};var Tf={move(t,e){mt(t,{left:e})}},Ex={moveTo(t,e,i,n){et.animate(t,{type:"slide",to:{left:e},duration:i,complete:n})},complete(t){et.stop(t,!0)}};var jwe="dx-multiview",$we="dx-multiview-wrapper",Kwe="dx-multiview-item-container",h6="dx-multiview-item",qwe="dx-multiview-item-hidden",Ywe="dxMultiViewItemData",Qwe=200,p6=t=>+t,Jwe=t=>fi(t).left,g6=hc.inherit({_activeStateUnit:"."+h6,_supportedKeys:function(){return v(this.callBase(),{pageUp:D,pageDown:D})},_getDefaultOptions:function(){return v(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return h6},_itemDataKey:function(){return Ywe},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=H(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass(jwe),this._$wrapper=h("<div>").addClass($we),this._$wrapper.appendTo(t),this._$itemContainer=h("<div>").addClass(Kwe),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,i){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,i)},_renderItemContent:function(t){var e=new S,i=this,n=this.callBase,o=new S;return o.done(function(){var r=n.call(i,t);e.resolve(r)}),this._deferredItems[t.index]=o,this.option("deferRendering")||o.resolve(),e.promise()},_render:function(){this.callBase(),Et(()=>{var t=this._getSelectedItemIndices();this._updateItems(t[0])})},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var i=this._itemElements(),n=f(e)?-this._animationDirection(e,t):void 0,o=i.eq(t);Tf.move(o,0),f(e)&&Tf.move(i.eq(e),100*n+"%")},_updateItemsVisibility:function(t,e){var i=this._itemElements();i.each(function(n,o){var r=h(o),a=n!==t&&n!==e;a||this._renderSpecificItem(n),r.toggleClass(qwe,a),this.setAria("hidden",a||void 0,r)}.bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),i=e.find(this._itemContentClass()).length>0;f(t)&&!i&&(this._deferredItems[t].resolve(),pn(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:D,_updateSelection:function(t,e){var i=t[0],n=e[0];Ex.complete(this._$itemContainer),this._updateItems(n,i);var o=this._animationDirection(i,n);this._animateItemContainer(o*this._itemWidth(),function(){Tf.move(this._$itemContainer,0),this._updateItems(i),H(this._$itemContainer)}.bind(this))},_animateItemContainer:function(t,e){var i=this.option("animationEnabled")?Qwe:0;Ex.moveTo(this._$itemContainer,t,i,e)},_animationDirection:function(t,e){var i=Jwe(this._$itemContainer),n=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),o=i!==0,r=o?i:n;return or(r)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),qg,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:t=>this._swipeStartHandler(t.event),onUpdated:t=>this._swipeUpdateHandler(t.event),onEnd:t=>this._swipeEndHandler(t.event)})},_findBoundaryIndices(){var t,e,i=this.option("items"),n,o;i.forEach((r,a)=>{var s=!!r?.disabled;if(!s){var l;(l=n)!==null&&l!==void 0||(n=a),o=a}}),this._boundaryIndices={firstAvailableIndex:(t=n)!==null&&t!==void 0?t:0,lastAvailableIndex:(e=o)!==null&&e!==void 0?e:i.length-1,firstTrueIndex:0,lastTrueIndex:i.length-1}},_swipeStartHandler:function(t){Ex.complete(this._$itemContainer);var e=this.option("selectedIndex"),i=this.option("loop"),{firstAvailableIndex:n,lastAvailableIndex:o}=this._boundaryIndices,r=this.option("rtlEnabled");t.maxLeftOffset=p6(i||(r?e>n:e<o)),t.maxRightOffset=p6(i||(r?e<o:e>n)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,i=or(e)*this._getRTLSignCorrection();if(Tf.move(this._$itemContainer,e*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var n=this.option("selectedIndex"),o=this._normalizeIndex(n-i);this._updateItems(n,o)}},_findNextAvailableIndex(t,e){var{items:i,loop:n}=this.option(),{firstAvailableIndex:o,lastAvailableIndex:r,firstTrueIndex:a,lastTrueIndex:s}=this._boundaryIndices,l=[a,o].includes(t),d=[s,r].includes(t);if(n){if(l&&e<0)return r;if(d&&e>0)return o}for(var u=t+e;u>=o&&u<=r;u+=e){var c=!!i[u].disabled;if(!c)return u}return t},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){var i=this._findNextAvailableIndex(this.option("selectedIndex"),-e);this.option("selectedIndex",i);var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",V(n))}else this._animateItemContainer(0,D)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState(){var t=this._getSwipeDisabledState();qg.getInstance(this.$element()).option("disabled",t)},_dispose:function(){delete this._boundaryIndices,this.callBase()},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(t);break;default:this.callBase(t)}}});K("dxMultiView",g6);var f6=g6;var Xwe="dx-tabs-item-badge",m6="dx-badge",Zwe=To.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children("."+m6).remove(),!!t){var e=h("<div>").addClass(Xwe).addClass(m6).text(t);this._$element.append(e)}}}),v6=Zwe;var P1="dx-tabs-expanded";function Ox(t){return t.scrollWidth-t.clientWidth}function _6(t,e){return Math.round(t)<=e}function y6(t,e,i){return Math.round(Ox(t)-e)<=i}var eEe="dx-tabs",tEe="dx-tabs-wrapper",x6="dx-tabs-stretched",iEe="dx-tabs-scrollable",C6="dx-tabs-nav-buttons",S6="dx-overflow-hidden",b6="dx-tab",nEe="dx-tab-selected",oEe="dx-tabs-nav-button",rEe="dx-tabs-nav-button-left",aEe="dx-tabs-nav-button-right",sEe="dx-tab-text",lEe="dx-focused-next-tab",dEe="dxTabData",D6="chevronnext",w6="chevronprev",uEe=100,E6=5,cEe=300,O6=30,N1=hc.inherit({_activeStateUnit:"."+b6,_getDefaultOptions:function(){return v(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var t=vi();return this.callBase().concat([{device:function(){return R.real().deviceType!=="desktop"},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return He(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(eEe),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=uEe},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Bi(function(t,e){q(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var i=en(e.icon);i&&i.prependTo(t),t.wrapInner(h("<span>").addClass(sEe))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var{itemData:i,container:n,index:o}=e;return this._deferredTemplates[o]=new S,t.render({model:i,container:n,index:o,onRendered:()=>this._deferredTemplates[o].resolve()})},_itemClass:function(){return b6},_selectedItemClass:function(){return nEe},_itemDataKey:function(){return dEe},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(S6)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){A.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var t=[x6,P1,S6];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var i=Ox(h(this.getScrollable().container()).get(0));e.scrollTo({left:i})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(x6),this.$element().removeClass(C6).addClass(P1))},_isItemsWidthExceeded:function(){var t=this._getSummaryItemsWidth(this._getVisibleItems(),!0);return t-1>H(this.$element())},_needStretchItems:function(){var t=this._getVisibleItems(),e=H(this.$element()),i=[];x(t,(o,r)=>{i.push(ee(r,!0))});var n=Math.max.apply(null,i);return n>=e/t.length},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=xc()},_getPointerEvent:()=>ae.up,_toggleActiveState:function(t,e,i){if(this.callBase.apply(this,arguments),!!this._inkRipple){var n={element:t,event:i};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=h("<div>").addClass(tEe),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this.$element().wrapInner(h("<div>").addClass(iEe)).children();this._scrollable=this._createComponent(t,ki,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass(C6,this.option("showNavButtons")),!!this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-O6,t?D6:w6);var e=this._leftButton.$element();e.addClass(rEe),this.$element().prepend(e),this._rightButton=this._createNavButton(O6,t?w6:D6);var i=this._rightButton.$element();i.addClass(aEe),this.$element().append(i)}},_updateNavButtonsVisibility:function(){var t=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",_6(t.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",y6(h(t.container()).get(0),t.scrollLeft(),1))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var i=this,n=i._createAction(function(){i._holdInterval=setInterval(function(){i._updateScrollPosition(t,E6)},E6)}),o=F(mn.name,"dxNavButton"),r=F(ae.up,"dxNavButton"),a=F(ae.out,"dxNavButton"),s=this._createComponent(h("<div>").addClass(oEe),xt,{focusStateEnabled:!1,icon:e,onClick:function(){i._updateScrollPosition(t,1)},integrationOptions:{}}),l=s.$element();return _.on(l,o,{timeout:cEe},function(d){n({event:d})}.bind(this)),_.on(l,r,function(){i._clearInterval()}),_.on(l,a,function(){i._clearInterval()}),s},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleFocusedNextClass(t,e){this._itemElements().eq(t).toggleClass(lEe,e)},_updateFocusedElement(){var{focusStateEnabled:t,selectedIndex:e}=this.option(),i=this._itemElements();if(t&&i.length){var n=i.get(e);this.option({focusedElement:n})}},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;case"focusedElement":var{selectedIndex:e}=this.option(),i=h(t.value).index();i!==e&&this._toggleFocusedNextClass(e,i===e+1),this.callBase(t),this._scrollToItem(t.value);break;case"selectedIndex":case"selectedItem":case"selectedItems":this.callBase(t),this._updateFocusedElement();break;default:this.callBase(t)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable(){return this._scrollable}});N1.ItemClass=v6;K("dxTabs",N1);var I6=N1;var Ix=class extends To{_renderWatchers(){return this._startWatcher("badge",D),super._renderWatchers()}};var hEe="dx-tabpanel",pEe="dx-tabpanel-tabs",gEe="dx-tabpanel-container",fEe="dx-tab-text",mEe="dx-disabled-focused-tab",L1=f6.inherit({_getDefaultOptions:function(){return v(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return R.real().deviceType==="desktop"&&!R.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!Co},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(hEe),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Bi(function(t,e){if(q(e)){var i=en(e.icon);i&&t.append(i),f(e.title)&&!q(e.title)&&t.append(I.createTextNode(e.title))}else f(e)&&t.text(String(e));t.wrapInner(h("<span>").addClass(fEe))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){t._updateLayout()},0))},_renderLayout:function(){if(this._tabs){this._updateLayout();return}var t=this.$element();this._$tabContainer=h("<div>").addClass(pEe).appendTo(t);var e=h("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,I6,this._tabConfig()),this._$container=h("<div>").addClass(gEe).appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()},_updateLayout:function(){if(W()){var t=oe(this._$tabContainer);this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),i=h(e[t.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,h(e)),this.setAria("controls",n,i)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if(t.name==="focusedElement")if(t.value){var e=h(t.value),i=this._itemElements().eq(e.index());this.option("focusedElement",V(i))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_toggleWrapperFocusedClass(t){this._toggleFocusClass(t,this._$wrapper)},_toggleDisabledFocusedClass(t){this._focusTarget().toggleClass(mEe,t)},_updateFocusState:function(t,e){this.callBase(t,e);var i=t.target===this._tabs._focusTarget().get(0),n=t.target===this._focusTarget().get(0);if(i&&this._toggleFocusClass(e,this._focusTarget()),i||n){var o=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(e&&!o),this._toggleDisabledFocusedClass(e&&o)}n&&this._toggleFocusClass(e,this._tabs.option("focusedElement"))},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,i=t.value,n=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,i),this.callBase(t),this.option("focusStateEnabled")===!0){var o=this.option("selectedIndex"),r=this._itemElements().eq(o);this.option("focusedElement",V(r))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,i),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,i);break;case"focusedElement":var a=i&&h(i).index(),s=i&&this._tabs._itemElements().eq(a);this._setTabsOption("focusedElement",V(s));var l=this._isDisabled(i);this._toggleWrapperFocusedClass(!l),this._toggleDisabledFocusedClass(l),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});L1.ItemClass=Ix;K("dxTabPanel",L1);var F6=L1;var oa=class{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){le.abstract()}};var Fx=(t,e)=>"".concat(e?"tabs":"items","[").concat(t,"]"),V1=(t,e)=>f(t)&&f(e)?"".concat(t,".").concat(e):t||e,Tx=t=>t?t.replace(/\s/g,""):void 0,T6=(t,e)=>t?t.dataField===e||t.name===e||Tx(t.title)===e||t.itemType==="group"&&Tx(t.caption)===e:!1,kd=(t,e)=>"".concat(t,".").concat(e),H1=t=>{var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},M6=t=>{for(var e=t.split("."),i=[...e],n=e.length-1;n>=0;n--){if(W1(e[n]))return i.join(".");i.splice(n,1)}return""},W1=t=>t.indexOf("tabs")>-1,G1=(t,e,i)=>{var n=t.indexOf(e);if(n>-1)return Fx(n,i);for(var o=0;o<t.length;o++){var r=t[o],a=r.tabs||r.items;if(a){var s=G1(a,e,r.tabs);if(s)return V1(Fx(o,i),s)}}};function A6(t){var{form:e,$formElement:i,formOptions:n,items:o,validationGroup:r,extendedLayoutManagerOptions:a,onFieldDataChanged:s,onContentReady:l,onDisposing:d,onFieldItemRendered:u}=t,c={form:e,items:o,$formElement:i,validationGroup:r,onFieldDataChanged:s,onContentReady:l,onDisposing:d,onFieldItemRendered:u,validationBoundary:n.scrollingEnabled?i:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode},p=v(c,{isRoot:a.isRoot,colCount:a.colCount,alignItemLabels:a.alignItemLabels,cssItemClass:a.cssItemClass,colCountByScreen:a.colCountByScreen,onLayoutChanged:a.onLayoutChanged,width:a.width});return p}var z1=class extends oa{tryExecute(){var{value:e}=this._options,i=this.findInstance();return i?(i.option(e),!0):!1}},Mx=class extends oa{tryExecute(){var e=this.findInstance();if(e){var{optionName:i,item:n,value:o}=this._options,r=this._itemsRunTimeInfo.findItemIndexByItem(n);if(r>=0)return e.option(kd("items[".concat(r,"]"),i),o),!0}return!1}},U1=class extends oa{tryExecute(){return!1}},j1=class extends oa{tryExecute(){var e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}},$1=class extends oa{tryExecute(){var e=this.findInstance();if(e){var{value:i}=this._options;return e.option("dataSource",i),!0}return!1}},K1=class extends oa{tryExecute(){var{item:e}=this._options,i=this.findInstance(),n=i&&Ve(i.$element()[0],"dxValidator");if(n&&e){var o=s=>s.type==="required",r=(n.option("validationRules")||[]).some(o),a=(e.validationRules||[]).some(o);if(!r&&!a||r&&a)return n.option("validationRules",e.validationRules),!0}return!1}},q1=class extends oa{tryExecute(){var e=this.findItemContainer(),{previousValue:i,value:n}=this._options;return e?(e.removeClass(i).addClass(n),!0):!1}},vEe=(t,e)=>{switch(t){case"editorOptions":case"buttonOptions":return new z1(e);case"validationRules":return new K1(e);case"cssClass":return new q1(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new Mx(v(e,{optionName:t}));case"tabs":return new $1(e);case"template":var i,n,o,r=(i=e==null||(n=e.item)===null||n===void 0?void 0:n.itemType)!==null&&i!==void 0?i:(o=e.itemsRunTimeInfo.findPreparedItemByItem(e?.item))===null||o===void 0?void 0:o.itemType;return r==="simple"?new U1(e):r==="group"?new j1(e):new Mx(v(e,{optionName:t}));default:return null}},R6=vEe;var P6="dx-responsivebox",B6=P6+"-screen-",_Ee="dx-box-item",k6="dxBoxItemData",yEe=1920,N6=Nn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",Fp),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return _Ee},_itemDataKey:function(){return k6},_initMarkup:function(){this.callBase(),this.$element().addClass(P6)},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(B6+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass(B6+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),x(this._rows,function(){var e=[];t.push(e),x(this._cols,function(){e.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var i=this._filterByScreen(t),n=[],o=0;o<e;o++){var r=this._defaultSizeConfig();o<i.length&&f(i[o].shrink)&&(r.shrink=i[o].shrink),n.push(r)}return n}else return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col}),x(this._screenItems,function(t,e){v(e.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return Ke(this._filterByScreen(t),function(e){return v(this._defaultSizeConfig(),e)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var i=[],n=0;n<t;n++)i.push(e);return i},_filterByScreen:function(t){var e=this._screenRegExp();return Yt(t,function(i){return!i.screen||e.test(i.screen)})},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return W()?H(G()):yEe},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){x(this._screenItems,function(t,e){var i=e.location||{},n=i.col,o=i.row,r=this._grid[o],a=r&&r[n];this._occupyCells(a,e)}.bind(this))},_itemsByScreen:function(){return this.option("items").reduce((t,e)=>{var i=e.location||{};return i=q(i)?[i]:i,this._filterByScreen(i).forEach(n=>{t.push({item:e,location:v({rowspan:1,colspan:1},n)})}),t},[])},_occupyCells:function(t,e){!t||this._isItemCellOccupied(t,e)||(v(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!Rt(t.item))return!0;var i=!1;return this._loopOverSpanning(e.location,function(n){i=i||!Rt(n.item)}),i},_loopOverSpanning:function(t,e){var i=t.row+t.rowspan-1,n=t.col+t.colspan-1,o=Math.min(i,this._rows.length-1),r=Math.min(n,this._cols.length-1);t.rowspan-=i-o,t.colspan-=n-r;for(var a=t.row;a<=o;a++)for(var s=t.col;s<=r;s++)(a!==t.row||s!==t.col)&&e(this._grid[a][s])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(e){v(e,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){x(this._itemElements(),function(t,e){var i=h(e),n=i.data(k6);n.box||(n.node=i.children())})},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(!(!t&&!e)){var i=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(i.box||{direction:"row",items:[v(i,{ratio:1})]});v(n,this._rootBoxConfig(n.items)),this._$root=h("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,bd,n)}},_rootBoxConfig:function(t){var e=x(t,function(i,n){this._needApplyAutoBaseSize(n)&&v(n,{baseSize:"auto"})}.bind(this));return{width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||t.minSize==="auto")&&(!t.maxSize||t.maxSize==="auto")},_prepareBoxConfig:function(t){return v(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,i=t.row.end-t.row.start===e.rowspan-1,n=t.col.end-t.col.start===e.colspan-1;return i&&n},_itemByCell:function(t,e){var i=this._grid[t][e];return i.spanningCell?null:i.item},_layoutDirection:function(t){for(var e=[],i=t.direction,n=this._crossDirection(i),o;o=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,o))throw X.Error("E1025");var r=this._layoutBlock({direction:n,row:o.row,col:o.col,prevBlockOptions:t});r&&(v(r,this._blockSize(o,n)),e.push(r)),t[n].start=o[n].end+1}return{box:this._prepareBoxConfig({direction:i,items:e})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return t==="col"?"row":"col"},_nextBlock:function(t){var e=t.direction,i=this._crossDirection(e),n=t[e].start,o=t[e].end,r=t[i].start;if(r>t[i].end)return null;for(var a=1,s=r;s<r+a;s++){for(var l=1,d=n;d<=o;d++){var u=this._cellByDirection(e,d,s);l=Math.max(l,u.location[i+"span"])}var c=s+l,p=r+a;c>p&&(a+=c-p)}var g={};return g[e]={start:n,end:o},g[i]={start:r,end:r+a-1},g},_cellByDirection:function(t,e,i){return t==="col"?this._grid[i][e]:this._grid[e][i]},_blockSize:function(t,e){for(var i=e==="row"?"auto":0,n=e==="row"?this._rows:this._cols,o=v(this._createDefaultSizeConfig(),{ratio:0}),r=t[e].start;r<=t[e].end;r++){var a=n[r];o.ratio+=a.ratio,o.baseSize+=a.baseSize,o.minSize+=a.minSize,o.maxSize+=a.maxSize,f(a.shrink)&&(o.shrink=a.shrink)}return o.minSize=o.minSize?o.minSize:i,o.maxSize=o.maxSize?o.maxSize:"auto",this._isSingleColumnScreen()&&(o.baseSize="auto"),o},_update:function(t){var e=this._$root;this._renderItems(),e&&(t?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&x(this._assistantRoots,function(t,e){h(e).remove()})},_clearItemNodeTemplates:function(){x(this.option("items"),function(){delete this.node})},_attachClickEvent:D,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});K("dxResponsiveBox",N6);var L6=N6;var V6="dx-form",Ax="dx-form-group",H6="dx-form-group-caption",Y1="dx-col-",Rx="dx-field-item",Q1="dx-layout-manager-one-col",J1="dx-field-item-label-content",W6="dx-layout-manager",X1="dx-field-item-label",Mf="dx-field-item-content",G6="dx-single-column-item-content",Bx="dx-root-simple-item",z6="dx-form-group-content",U6="dx-field-item-has-group",j6="dx-field-item-has-tabs",$6="dx-form-group-with-caption",Z1="dx-field-item-tab",eA="dx-group-colcount-",tA="group-col-count",K6="dx-form-validation-summary",q6="dx-form-styling-mode-underlined",Af="simple";var xEe=le.inherit({ctor(t,e){this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var i=n=>{this.validationRequestsCallbacks.forEach(o=>o(n))};t.validationRequest.add(i),t.on("disposing",function(){t.validationRequest.remove(i)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),Y6=xEe;var CEe="dx-validator",Q6="valid",SEe="invalid",iA="pending",J6=tn.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(qe.initValidationOptions(t))},_getDefaultOptions(){return v(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=de(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var t=this._findGroup();this._groupWasInit||this.on("disposing",function(e){qe.removeRegisteredValidator(e.component._validationGroup,e.component)}),(!this._groupWasInit||this._validationGroup!==t)&&(qe.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,qe.registerValidatorInGroup(t,this))},_setOptionsByReference(){this.callBase(),v(this._optionsByReference,{validationGroup:!0})},_getEditor(){var t=this.$element()[0];return Ve(t,"dx-validation-target")},_initAdapter(){var t=this._getEditor(),e=this.option("adapter");if(!e){if(t){e=new Y6(t,this),e.validationRequestsCallbacks.push(n=>{this._validationInfo.skipValidation||this.validate(n)}),this.option("adapter",e);return}throw X.Error("E0120")}var i=e.validationRequestsCallbacks;i&&i.push(n=>{this.validate(n)})},_toggleRTLDirection(t){var e,i,n,o=(e=(i=this.option("adapter"))===null||i===void 0||(n=i.editor)===null||n===void 0?void 0:n.option("rtlEnabled"))!==null&&e!==void 0?e:t;this.callBase(o)},_initMarkup(){this.$element().addClass(CEe),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var t=this._getEditor();if(t){var e=this.option("validationRules")||[],i=e.some(n=>{var{type:o}=n;return o==="required"})||null;t.isInitialized()&&t.setAria("required",i),t.option("_onMarkupRendered",()=>{t.setAria("required",i)})}},_visibilityChanged(t){t&&this._initGroupRegistration()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(qe.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules(){return this._validationRules||(this._validationRules=Ke(this.option("validationRules"),(t,e)=>v({},t,{validator:this,index:e}))),this._validationRules},_findGroup(){var t=this.$element();return this.option("validationGroup")||qe.findGroup(t,this._modelByElement(t))},_resetValidationRules(){delete this._validationRules},validate(t){var e=this.option("adapter"),i=this.option("name"),n=e.bypass&&e.bypass(),o=t&&t.value!==void 0?t.value:e.getValue(),r=e.getCurrentValidationError&&e.getCurrentValidationError(),a=this._getValidationRules(),s=this._validationInfo&&this._validationInfo.result;if(s&&s.status===iA&&s.value===o)return v({},s);var l;return n?l={isValid:!0,status:Q6}:r&&r.editorSpecific?(r.validator=this,l={isValid:!1,status:SEe,brokenRule:r,brokenRules:[r]}):l=qe.validate(o,a,i),l.id=new Ee().toString(),this._applyValidationResult(l,e),l.complete&&l.complete.then(d=>{d.id===this._validationInfo.result.id&&this._applyValidationResult(d,e)}),v({},this._validationInfo.result)},reset(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:Q6,complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult(t){if(!this._validationInfo.result||this._validationInfo.result.id!==t.id){var e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=v({},t,{complete:e})}else for(var i in t)i!=="id"&&i!=="complete"&&(this._validationInfo.result[i]=t[i])},_applyValidationResult(t,e){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===iA){this._validationInfo.deferred||(this._validationInfo.deferred=new S,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==iA&&(i(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});K("dxValidator",J6);var dh=J6;var bEe=["dxTagBox","dxRangeSlider","dxDateRangeBox"],DEe=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function X6(t){var{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:o,item:r,template:a,labelTemplate:s,name:l,formLabelLocation:d,requiredMessageTemplate:u,validationGroup:c,editorValue:p,canAssignUndefinedValueToEditor:g,editorValidationBoundary:m,editorStylingMode:y,showColonAfterLabel:C,managerLabelLocation:b,itemId:O,managerMarkOptions:k,labelMode:J,onLabelTemplateRendered:U}=t,z=f(r.isRequired)?r.isRequired:!!EEe(r.validationRules),ce=r.itemType===Af,fe=r.helpText?"dx-"+new Ee:null,he=OEe({item:r,id:O,isRequired:z,managerMarkOptions:k,showColonAfterLabel:C,labelLocation:b,formLabelMode:J,labelTemplate:s,onLabelTemplateRendered:U}),it=he.visible&&(he.text||he.labelTemplate&&ce),{location:kt,labelID:Mi}=he,hi=kt!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(r.editorType),Ni=wEe({editorType:r.editorType,editorValue:p,defaultEditorName:r.dataField,canAssignUndefinedValueToEditor:g,externalEditorOptions:r.editorOptions,editorInputId:O,editorValidationBoundary:m,editorStylingMode:y,formLabelMode:J,labelText:he.textWithoutColon,labelMark:he.markOptions.showRequiredMark?"\xA0"+he.markOptions.requiredMark:""}),Ho=he.markOptions.showOptionalMark&&!he.visible&&Ni.labelMode!=="hidden"&&!f(r.helpText),xh=Ho?he.markOptions.optionalMark:r.helpText;return{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:o,labelOptions:he,labelNeedBaselineAlign:hi,labelLocation:kt,needRenderLabel:it,item:r,isSimpleItem:ce,isRequired:z,template:a,helpID:fe,labelID:Mi,name:l,helpText:xh,formLabelLocation:d,requiredMessageTemplate:u,validationGroup:c,editorOptions:Ni}}function Z6(t){var{showRequiredMark:e,requiredMark:i,showOptionalMark:n,optionalMark:o}=t;return!e&&!n?"":"\xA0"+(e?i:o)}function nA(t,e){var{showRequiredMark:i,requiredMark:n,showOptionalMark:o,optionalMark:r}=t;return{showRequiredMark:i&&e,requiredMark:n,showOptionalMark:o&&!e,optionalMark:r}}function wEe(t){var{editorType:e,defaultEditorName:i,editorValue:n,canAssignUndefinedValueToEditor:o,externalEditorOptions:r,editorInputId:a,editorValidationBoundary:s,editorStylingMode:l,formLabelMode:d,labelText:u,labelMark:c}=t,p={};(n!==void 0||o)&&(p.value=n),bEe.indexOf(e)!==-1&&(p.value=p.value||[]);var g=r?.labelMode;f(g)||(g=d==="outside"?"hidden":d);var m=r?.stylingMode||l,y=v(!0,p,r,{inputAttr:{id:a},validationBoundary:s,stylingMode:m,label:u,labelMode:g,labelMark:c});return r&&(y.dataSource&&(y.dataSource=r.dataSource),y.items&&(y.items=r.items)),i&&!y.name&&(y.name=i),y}function EEe(t){var e;return t&&t.length&&x(t,function(i,n){if(n.type==="required")return e=!0,!1}),e}function OEe(t){var{item:e,id:i,isRequired:n,managerMarkOptions:o,showColonAfterLabel:r,labelLocation:a,labelTemplate:s,formLabelMode:l,onLabelTemplateRendered:d}=t,u=DEe.includes(e.editorType),c=v({showColon:r,location:a,id:i,visible:l==="outside"||u&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:nA(o,n),labelTemplate:s,onLabelTemplateRendered:d});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(c.labelID="dx-label-".concat(new Ee)),!c.text&&e.dataField&&(c.text=po(e.dataField)),c.text&&(c.textWithoutColon=c.text,c.text+=c.showColon?":":""),c}var IEe="dx-field-item-required-mark",eq="dx-field-item-label-location-",FEe="dx-field-item-optional-mark",TEe="dx-field-item-label-text";function tq(t){var{text:e,id:i,location:n,alignment:o,labelID:r=null,markOptions:a={},labelTemplate:s,labelTemplateData:l,onLabelTemplateRendered:d}=t;if((!f(e)||e.length<=0)&&!f(s))return null;var u=h("<label>").addClass(X1+" "+eq+n).attr("for",i).attr("id",r).css("textAlign",o),c=h("<span>").addClass(J1),p=h("<span>").addClass(TEe).text(e);return s&&(p=h("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,s.render({container:V(p),model:l,onRendered(){d?.()}})),u.append(c.append(p,MEe(a)))}function MEe(t){var e=Z6(t);return e===""?null:h("<span>").addClass(t.showRequiredMark?IEe:FEe).text(e)}function iq(t,e,i){var n="".concat(e," > .").concat(X1,":not(.").concat(eq,"top) > .").concat(J1),o=t.find(n),r=o.length,a,s,l=0;for(s=0;s<r;s++)a=AEe(o[s]),a>l&&(l=a);for(s=0;s<r;s++)o[s].style.width=l+"px"}function AEe(t){for(var e=0,i=t.children.length,n=0;n<i;n++){var o=t.children[n];e+=o.offsetWidth}return e}var REe="dx-flex-layout",BEe="dx-field-item-optional",kEe="dx-field-item-required",aq="dx-field-item-content-wrapper",PEe="dx-field-item-content-location-",NEe="dx-field-item-label-align",LEe="dx-field-item-help-text",VEe="dx-label-v-align",HEe="dx-label-h-align",WEe="dx-toggle-controls-paddings",GEe="dx-template-wrapper",oA="dx-validation-target",zEe="dx-invalid";function sq(t){var{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:o,labelOptions:r,labelNeedBaselineAlign:a,labelLocation:s,needRenderLabel:l,formLabelLocation:d,item:u,editorOptions:c,isSimpleItem:p,isRequired:g,template:m,helpID:y,labelID:C,name:b,helpText:O,requiredMessageTemplate:k,validationGroup:J}=t,U=h("<div>").addClass(i.join(" ")).appendTo(e);U.addClass(g?kEe:BEe),p&&U.addClass(REe),p&&a&&U.addClass(NEe);var z=h("<div>");z.data("dx-form-item",u),z.addClass(Mf).addClass(PEe+{right:"left",left:"right",top:"bottom"}[d]);var ce=null;if(l&&(r.labelTemplate&&(r.labelTemplateData=rq(u,c,n)),ce=tq(r)),ce){var{editorType:fe}=u;U.append(ce),(s==="top"||s==="left")&&U.append(z),s==="right"&&U.prepend(z),s==="top"?U.addClass(VEe):U.addClass(HEe),(fe==="dxCheckBox"||fe==="dxSwitch")&&_.on(ce,se,function(){_.trigger(z.children(),se)});var he=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(fe),it=r.alignment,kt=it==="left"||!it,Mi=!m,hi=s==="top";Mi&&he&&hi&&kt&&z.addClass(WEe)}else U.append(z);var Ni;if(m)m.render({container:V(z),model:rq(u,c,n),onRendered(){var LC=nq(z),$Q=UEe(LC);oq($Q)}});else{var Ho=h("<div>").appendTo(z);try{Ni=o(Ho,u.editorType,c),Ni.setAria("describedby",y),C&&Ni.setAria("labelledby",C),Ni.setAria("required",g)}catch(LC){X.log("E1035",LC.message)}}var xh=nq(z),fB=xh&&xh.data(oA);if(fB){var mB=u.label&&u.label.text,vB=mB?null:b,zQ=mB?u.label.text:vB&&po(vB),Ch;if(p)if(u.validationRules)Ch=u.validationRules;else{var UQ=Ri(k,zQ||"");Ch=u.isRequired?[{type:"required",message:UQ}]:null}Array.isArray(Ch)&&Ch.length&&o(xh,dh,{validationRules:Ch,validationGroup:J,dataGetter:function(){return{formItem:u}}}),oq(fB)}if(O&&p){var jQ=z.parent();jQ.append(h("<div>").addClass(aq).append(z).append(h("<div>").addClass(LEe).attr("id",y).text(O)))}return{$fieldEditorContainer:z,$rootElement:U,widgetInstance:Ni}}function nq(t){var e=t.children().first();return e.hasClass(GEe)?e.children().first():e}function UEe(t){var e,i;return t?.data(oA)||(t==null||(e=t.parent)===null||e===void 0||(i=e.call(t))===null||i===void 0?void 0:i.data(oA))}function oq(t){if(t&&He()){var e=".".concat(aq),i=n=>{var{element:o,component:r}=n,{isValid:a,validationMessageMode:s}=r.option();h(o).parents(e).toggleClass(zEe,a===!1&&(r._isFocused()||s==="always"))};t.on("optionChanged",n=>{n.name==="isValid"&&i(n)}),t.on("focusIn",i).on("focusOut",i).on("enterKey",i)}}function rq(t,e,i){return{dataField:t.dataField,editorType:t.editorType,editorOptions:e,component:i,name:t.name}}var jEe="dx-field-button-item";function lq(t){var{item:e,$parent:i,rootElementCssClassList:n,validationGroup:o,createComponentCallback:r}=t,a=h("<div>").appendTo(i).addClass(n.join(" ")).addClass(jEe).css("textAlign",$Ee(e.horizontalAlignment));i.css("justifyContent",KEe(e.verticalAlignment));var s=h("<div>").appendTo(a);return{$rootElement:a,buttonInstance:r(s,"dxButton",v({validationGroup:o},e.buttonOptions))}}function $Ee(t){return f(t)?t:"right"}function KEe(t){switch(t){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var qEe="dx-field-empty-item";function rA(t){var{$parent:e,rootElementCssClassList:i}=t;return h("<div>").addClass(qEe).html("&nbsp;").addClass(i.join(" ")).appendTo(e)}var YEe="dxTextBox",QEe="dx-first-row",JEe="dx-last-row",XEe="dx-first-col",ZEe="dx-last-col",eOe=ct.inherit({_getDefaultOptions:function(){return v(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:w.format("dxForm-optionalMark"),requiredMessage:w.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new lh,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this.option("layoutData"),e=this.option("items");f(e)&&e.forEach(i=>{if(i.dataField&&this._getDataByField(i.dataField)===void 0){var n;i.editorOptions&&(n=i.editorOptions.value),(f(n)||i.dataField in t)&&this._updateFieldValue(i.dataField,n)}})},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){var{allowIndeterminateState:e,editorType:i,dataField:n}=t;if(e===!0&&i==="dxCheckBox"){var o=["layoutData",...n.split(".")],r=o.pop(),a=this.option(o.join("."));return a&&r in a}return!1},_updateFieldValue:function(t,e){var i=this.option("layoutData"),n=e;!qt.isWrapped(i[t])&&f(t)?this.option("layoutData."+t,n):qt.isWritableWrapped(i[t])&&(n=T(n)?n():n,i[t](n)),this._triggerOnFieldDataChanged({dataField:t,value:n})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,i=this.option("items"),n=f(i),o=e.option("customizeItem"),r=n?i:this._generateItemsByData(t);if(f(r)){var a=[];x(r,function(s,l){e._isAcceptableItem(l)&&(l=e._processItem(l),o&&o(l),L(l)&&qt.unwrap(l.visible)!==!1&&a.push(l))}),(!e._itemWatchers.length||!n)&&e._updateItemWatchers(r),this._setItems(a),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(t){t()}),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,i=e._getWatch();t.forEach(function(n){L(n)&&f(n.visible)&&T(i)&&e._itemWatchers.push(i(function(){return qt.unwrap(n.visible)},function(){e._updateItems(e.option("layoutData")),e.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(t){var e=[];return f(t)&&x(t,function(i){e.push({dataField:i})}),e},_isAcceptableItem:function(t){var e=t.dataField||t,i=this._getDataByField(e);return!(T(i)&&!qt.isWrapped(i))},_processItem:function(t){if(typeof t=="string"&&(t={dataField:t}),typeof t=="object"&&!t.itemType&&(t.itemType=Af),!f(t.editorType)&&f(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=f(e)?this._getEditorTypeByDataType(gi(e)):YEe}if(t.editorType==="dxCheckBox"){var i;t.allowIndeterminateState=(i=t.allowIndeterminateState)!==null&&i!==void 0?i:!0}return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){nd(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(t,e){var i=t.visibleIndex,n=e.visibleIndex,o;return i>n?o=1:i<n?o=-1:o=0,o})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(W6),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),i=h("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,L6,this._getResponsiveBoxConfig(n,e,t)),W()||this._renderTemplates(t)}},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplates:function(t){var e=this,i=0;t.forEach(n=>{var o,{item:r}=n;r!=null&&(o=r.label)!==null&&o!==void 0&&o.template&&i++}),x(t,function(n,o){switch(o.itemType){case"empty":rA(o);break;case"button":e._renderButtonItem(o);break;default:e._renderFieldItem(o,i)}})},_getResponsiveBoxConfig:function(t,e,i){var n=this,o=n.option("colCountByScreen"),r=o&&o.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:function(){var a=n.option("onLayoutChanged"),s=n.isSingleColumnMode();a&&(n.$element().toggleClass(Q1,s),a(s))},onContentReady:function(a){W()&&n._renderTemplates(i),n.option("onLayoutChanged")&&n.$element().toggleClass(Q1,n.isSingleColumnMode(a.component))},itemTemplate:function(a,s,l){if(a.location){var d=h(l),u=a.location.row*e,c=n._items[a.location.col+u];if(c){var p=[c.cssClass];d.toggleClass(G6,n.isSingleColumnMode(this)),a.location.row===0&&p.push(QEe),a.location.col===0&&p.push(XEe),c.itemType===Af&&n.option("isRoot")&&d.addClass(Bx);var g=a.location.col===e-1||a.location.col+a.location.colspan===e,m=n._getRowsCount(),y=a.location.row===m-1;g&&p.push(ZEe),y&&p.push(JEe),c.itemType!=="empty"&&(p.push(Rx),p.push(n.option("cssItemClass")),f(c.col)&&p.push("dx-col-"+c.col)),i.push({itemType:c.itemType,item:c,$parent:d,rootElementCssClassList:p})}}},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:t,screenByWidth:n.option("screenByWidth"),singleColumnScreen:r?!1:"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var i=this.option("form").getTargetScreenFactor();i||(i=W()?c_(this.option("screenByWidth")):"lg"),t=e[i]||t}if(t==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!W())return 1;var t=this.option("minColWidth"),e=H(this.$element()),i=this._items.length,n=Math.floor(e/t)||1;return i<n?i:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e=this._items.slice(0),i,n,o=[],r,a;for(a=0;a<e.length;a++)if(i=e[a],o.push(i),(this.option("alignItemLabels")||i.alignItemLabels||i.colSpan)&&(i.col=this._getColByIndex(o.length-1,t)),i.colSpan>1&&i.col+i.colSpan<=t){for(n=[],r=0;r<i.colSpan-1;r++)n.push({merged:!0});o=o.concat(n)}else delete i.colSpan;this._setItems(o)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t=this._items,e=this._getColCount(),i=[],n,o;for(o=0;o<t.length;o++)if(n=t[o],!n.merged){var r={location:{row:parseInt(o/e),col:this._getColByIndex(o,e)}};f(n.disabled)&&(r.disabled=n.disabled),f(n.visible)&&(r.visible=n.visible),f(n.colSpan)&&(r.location.colspan=n.colSpan),f(n.rowSpan)&&(r.location.rowspan=n.rowSpan),i.push(r)}return i},_renderEmptyItem:function(t){rA({$container:t})},_renderButtonItem:function(t){var{item:e,$parent:i,rootElementCssClassList:n}=t,{$rootElement:o,buttonInstance:r}=lq({item:e,$parent:i,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:e,widgetInstance:r,guid:e.guid,$itemContainer:o})},_renderFieldItem:function(t,e){var i,n,{item:o,$parent:r,rootElementCssClassList:a}=t,s=this._getDataByField(o.dataField),l=!1;if(s===void 0){var{allowIndeterminateState:d,editorType:u,dataField:c}=o;l=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:d,editorType:u,dataField:c})}var p=o.dataField||o.name,g=this._getFormOrThis(),{$fieldEditorContainer:m,widgetInstance:y,$rootElement:C}=sq(X6({$parent:r,rootElementCssClassList:a,item:o,name:p,editorValue:s,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:o.template?this._getTemplate(o.template):null,labelTemplate:(i=o.label)!==null&&i!==void 0&&i.template?this._getTemplate(o.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(p),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(g,e)&&g._alignLabels(this,this.isSingleColumnMode(g))}}));(n=this.option("onFieldItemRendered"))===null||n===void 0||n(),y&&o.dataField&&this._bindDataField(y,o.dataField,o.editorType,m),this._itemsRunTimeInfo.add({item:o,widgetInstance:y,guid:o.guid,$itemContainer:C})},_incTemplateRenderedCallCount(){var t;this._labelTemplateRenderedCallCount=((t=this._labelTemplateRenderedCallCount)!==null&&t!==void 0?t:0)+1},_shouldAlignLabelsOnTemplateRendered(t,e){return t.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===e},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(t,e,i,n){var o=this._getFormOrThis();t.on("enterKey",function(r){o._createActionByOption("onEditorEnterKey")(v(r,{dataField:e}))}),this._createWatcher(t,n,e),this.linkEditorToDataField(t,e,i)},_createWatcher:function(t,e,i){var n=this,o=n._getWatch();if(T(o)){var r=o(function(){return n._getDataByField(i)},function(){var a=n._getDataByField(i);if(t.NAME==="dxTagBox"){var s=t.option("value");if(a!==s&&function(l,d){if(!Array.isArray(l)||!Array.isArray(d)||l.length!==d.length)return!1;for(var u=0;u<l.length;u++)if(l[u]!==d[u])return!1;return!0}(a,s))return}t.option("value",a)},{deep:!0,skipImmediate:!0});_.on(e,Gt,r)}},_getWatch:function(){if(!f(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(t,e,i){var n=this.option("readOnly"),o=Object.hasOwn(i,"readOnly"),r=this.callBase(t,e,E({},i,{readOnly:o?i.readOnly:n})),a=!1;return r.on("optionChanged",s=>{s.name==="readOnly"&&!a&&(o=!0)}),this.on("optionChanged",function(s){s.name==="readOnly"&&!o&&(a=!0,r.option(s.name,s.value),a=!1)}),r},_generateRatio:function(t,e){var i=[],n,o;for(o=0;o<t;o++)n={ratio:1},e&&(n.baseSize="auto"),i.push(n);return i},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this.option("layoutData");L(e)&&Object.getOwnPropertyNames(e).forEach(i=>delete this._optionsByReference["layoutData."+i]),L(t)&&Object.getOwnPropertyNames(t).forEach(i=>this._optionsByReference["layoutData."+i]=!0)},_resetWidget(t){this._disableEditorValueChangedHandler=!0,t.reset(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged(t){if(t.fullName.search("layoutData.")!==0)switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?Rt(t.value)||this._itemsRunTimeInfo.each((e,i)=>{if(f(i.item)){var n=i.item.dataField;if(n&&f(i.widgetInstance)){var o=pe(n),r=o(t.value),{allowIndeterminateState:a,editorType:s}=i.item;r!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:a,editorType:s,dataField:n})?i.widgetInstance.option("value",r):this._resetWidget(i.widgetInstance)}}}):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(t,e){this.on("optionChanged",i=>{i.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",i.value)}),t.on("valueChanged",i=>{var n=L(i.value)||Array.isArray(i.value);!this._disableEditorValueChangedHandler&&!(n&&i.value===i.previousValue)&&this._updateFieldValue(e,i.value)})},_dimensionChanged:function(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(t,e){var i=this;L(t)?x(t,function(n,o){i._updateFieldValue(n,o)}):typeof t=="string"&&i._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});K("dxLayoutManager",eOe);var aA="dx-validationsummary",tOe=aA+"-item",iOe=aA+"-item-data",dq=Nn.inherit({_getDefaultOptions(){return v(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),v(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var t=this.$element(),e=this.option("validationGroup")||qe.findGroup(t,this._modelByElement(t)),i=qe.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup(){var t=qe.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems(t,e){var i=[];return x(t,function(n,o){var r=Yt(e,function(a){if(a.validator===o)return!0});r.length&&(i=i.concat(r))}),i},_groupValidationHandler(t){var e=this._getOrderedItems(t.validators,Ke(t.brokenRules,function(i){return{text:i.message,validator:i.validator,index:i.index}}));this.validators=t.validators,x(this.validators,(i,n)=>{if(n._validationSummary!==this){var o=this._itemValidationHandler.bind(this);n.on("validated",o),n.on("disposing",function(){n.off("validated",o),n._validationSummary=null,o=null}),n._validationSummary=this}}),this.option("items",e)},_itemValidationHandler(t){for(var{isValid:e,validator:i,brokenRules:n}=t,o=this.option("items"),r=!1,a=0,s=function(){var d=o[a];if(d.validator===i){var u=Yt(n||[],function(c){return c.index===d.index})[0];if(e||!u)return o.splice(a,1),r=!0,"continue";u.message!==d.text&&(d.text=u.message,r=!0)}a++};a<o.length;)var l=s();x(n,function(d,u){var c=Yt(o,function(p){return p.validator===i&&p.index===u.index})[0];c||(o.push({text:u.message,validator:i,index:u.index}),r=!0)}),r&&(o=this._getOrderedItems(this.validators,o),this.option("items",o))},_initMarkup(){this.$element().addClass(aA),this.callBase()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:()=>tOe,_itemDataKey:()=>iOe,_postprocessRenderItem(t){_.on(t.itemElement,"click",function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});K("dxValidationSummary",dq);var uq=dq;var cq="dx-validationgroup",nOe="dx-validator",oOe="dx-validationsummary",sA=class extends tn{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),qe.addGroup(this)}_initMarkup(){var e=this.$element();e.addClass(cq),e.find(".".concat(nOe)).each(function(i,n){dh.getInstance(h(n))._initGroupRegistration()}),e.find(".".concat(oOe)).each(function(i,n){uq.getInstance(h(n)).refreshValidationGroup()}),super._initMarkup()}validate(){return qe.validateGroup(this)}reset(){return qe.resetGroup(this)}_dispose(){qe.removeGroup(this),this.$element().removeClass(cq),super._dispose()}_useTemplates(){return!1}};K("dxValidationGroup",sA);var hq="dx-state-focused",rOe=["items","isRequired","validationRules","visible"],pq=ct.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new lh,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return v(this.callBase(),{formID:"dx-"+new Ee,formData:{},colCount:1,screenByWidth:Fp,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:w.format("dxForm-optionalMark"),requiredMessage:w.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:Fe().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return He()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr(tA))},_applyLabelsWidthByCol:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=i.inOneColumn?Rx:Y1+e,r=i.excludeTabbed?":not(.".concat(Z1,")"):"";iq(t,".".concat(o).concat(r),n)},_applyLabelsWidth:function(t,e,i,n,o){n=i?1:n||this._getGroupColCount(t);var r={excludeTabbed:e,inOneColumn:i},a;for(a=0;a<n;a++)this._applyLabelsWidthByCol(t,a,r,o)},_getGroupElementsInColumn:function(t,e,i){var n=f(i)?"."+eA+i:"",o="."+Y1+e+" > ."+Mf+" > ."+Ax+n;return t.find(o)},_applyLabelsWidthWithGroups:function(t,e,i,n){if(this.option("alignRootItemLabels")===!0)for(var o=t.find(".".concat(Bx)),r=0;r<e;r++)this._applyLabelsWidthByCol(o,r,i,n);var a=this.option("alignItemLabelsInAllGroups");if(a)this._applyLabelsWidthWithNestedGroups(t,e,i,n);else{var s=this.$element().find("."+Ax),l;for(l=0;l<s.length;l++)this._applyLabelsWidth(s.eq(l),i,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(t,e,i,n){var o={excludeTabbed:i},r,a,s,l;for(r=0;r<e;r++)for(l=this._getGroupElementsInColumn(t,r),this._applyLabelsWidthByCol(l,0,o,n),a=0;a<this._groupsColCount.length;a++){l=this._getGroupElementsInColumn(t,r,this._groupsColCount[a]);var d=this._getGroupColCount(l);for(s=1;s<d;s++)this._applyLabelsWidthByCol(l,s,o,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var{layoutManager:e,inOneColumn:i,$container:n,excludeTabbed:o,items:r}=t;if(!(!W()||this._labelLocation()==="top")){var a=nA(e._getMarkOptions());i?this._applyLabelsWidth(n,o,!0,void 0,a):this._checkGrouping(r)?this._applyLabelsWidthWithGroups(n,e._getColCount(),o,a):this._applyLabelsWidth(n,o,!1,e._getColCount(),a)}},_prepareFormData:function(){f(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){this.option("stylingMode")==="underlined"&&this.$element().addClass(q6)},_initMarkup:function(){qe.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(V6),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription:function(){if(W()){var t=this.$element().get(0);Ur.unobserve(t),Ur.observe(t,()=>{this._resizeHandler()})}},_resizeHandler:function(){this._cachedLayoutManagers.length&&x(this._cachedLayoutManagers,(t,e)=>{var i;(i=e.option("onLayoutChanged"))===null||i===void 0||i(e.isSingleColumnMode())})},_getCurrentScreenFactor:function(){return W()?c_(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),pn(this.$element().find(".".concat(N0)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,Ur.unobserve(this.$element().get(0))},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new ki(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?h(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var t;(t=this._$validationSummary)===null||t===void 0||t.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=h("<div>").addClass(K6).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(t,e,i,n){if(t){for(var o=[],r=0;r<t.length;r++){var a=t[r],s=V1(i,Fx(r,n)),l={item:a,itemIndex:r,path:s},d=this._itemsRunTimeInfo.add(l);if(N(a)&&(a={dataField:a}),L(a)){var u=E({},a);l.preparedItem=u,u.guid=d,this._tryPrepareGroupItem(u),this._tryPrepareTabbedItem(u,s),this._tryPrepareItemTemplate(u),e&&(u.cssItemClass=Z1),u.items&&(u.items=this._prepareItems(u.items,e,s)),o.push(u)}else o.push(a)}return o}},_tryPrepareGroupItem:function(t){t.itemType==="group"&&(t.alignItemLabels=Re(t.alignItemLabels,!0),t._prepareGroupItemTemplate=e=>{t.template&&(t.groupContentTemplate=this._getTemplate(e)),t.template=this._itemGroupTemplate.bind(this,t)},t._prepareGroupItemTemplate(t.template))},_tryPrepareTabbedItem:function(t,e){t.itemType==="tabbed"&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){var i=t[e];if(i.itemType==="group")return!0}},_renderLayout:function(){var t=this,e=t.option("items"),i=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(i,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(n){t._alignLabels.bind(t)(t._rootLayoutManager,n)},onContentReady:function(n){t._alignLabels(n.component,n.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,i){var n,o=h("<div>").appendTo(i),r=v({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:l=>{var d,u;(d=t.tabPanelOptions)===null||d===void 0||(u=d.onItemRendered)===null||u===void 0||u.call(d,l),Xu(l.itemElement)},itemTemplate:(l,d,u)=>{var c=h(u),p=Re(l.alignItemLabels,!0),g=this._renderLayoutManager(c,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(l),{colCount:l.colCount,alignItemLabels:p,screenByWidth:this.option("screenByWidth"),colCountByScreen:l.colCountByScreen,cssItemClass:l.cssItemClass,onLayoutChanged:m=>{this._alignLabelsInColumn({$container:c,layoutManager:g,items:l.items,inOneColumn:m})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(l.guid,{layoutManager:g}),p&&this._alignLabelsInColumn({$container:c,layoutManager:g,items:l.items,inOneColumn:g.isSingleColumnMode()})}}),a=(l,d)=>{Array.isArray(l)&&l.forEach(u=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(u.guid,{widgetInstance:d}))},s=this._createComponent(o,F6,r);h(i).parent().addClass(j6),s.on("optionChanged",l=>{l.fullName==="dataSource"&&a(l.value,l.component)}),a([{guid:t.guid},...(n=t.tabs)!==null&&n!==void 0?n:[]],s)},_itemGroupTemplate:function(t,e,i){var n=e.editorOptions.inputAttr.id,o=h("<div>").toggleClass($6,f(t.caption)&&t.caption.length).addClass(Ax).appendTo(i),r={role:"group",labelledby:n};this.setAria(r,o),h(i).parent().addClass(U6),t.caption&&h("<span>").addClass(H6).text(t.caption).attr("id",n).appendTo(o);var a=h("<div>").addClass(z6).appendTo(o);if(t.groupContentTemplate)t._renderGroupContentTemplate=()=>{a.empty();var d={formData:this.option("formData"),component:this};t.groupContentTemplate.render({model:d,container:V(a)})},t._renderGroupContentTemplate();else{var s=this._renderLayoutManager(a,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:s});var l=s._getColCount();this._groupsColCount.includes(l)||this._groupsColCount.push(l),o.addClass(eA+l),o.attr(tA,l)}},_createLayoutManagerOptions:function(t,e){return A6({form:this,formOptions:this.option(),$formElement:this.$element(),items:t,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:i=>{this._isDataUpdating||this._triggerOnFieldDataChanged(i)},onContentReady:i=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(i.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(i)},onDisposing:i=>{var{component:n}=i,o=n.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(o)},onFieldItemRendered:()=>{var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}})},_renderLayoutManager:function(t,e){var i={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:v(i,e.colCountByScreen)});var n=h("<div>");n.appendTo(t);var o=this._createComponent(n,"dxLayoutManager",e);return o.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(o),o},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(t,e,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(t,e,i)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",function(e){var i=e.fullName;i==="formData"&&(f(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&x(t._cachedLayoutManagers,function(n,o){i==="formData"&&(t._isDataUpdating=!0,o.option("layoutData",e.value),t._isDataUpdating=!1),(e.name==="readOnly"||e.name==="disabled")&&o.option(i,e.value)})})},_optionChanged:function(t){var e=t.fullName.split(".");e.length>1&&e[0].search("items")!==-1&&this._itemsOptionChangedHandler(t)||e.length>1&&e[0].search("formData")!==-1&&this._formDataOptionChangedHandler(t)||this._defaultOptionChangedHandler(t)},_defaultOptionChangedHandler:function(t){switch(t.name){case"formData":this.option("items")?Rt(t.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":qe.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_itemsOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=this._getItemPath(e),o=this.option(n),r=t.fullName.replace(n+".",""),a=r.split(".")[0].replace(/\[\d+]/,""),s=this._tryCreateItemOptionAction(a,o,o[a],t.previousValue,n),l=this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(t.fullName,i);if(!l&&o){this._changeItemOption(o,r,i);var d=this._generateItemsFromData(this.option("items"));this.option("items",d),l=!0}return l},_formDataOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=e.slice(1).join("."),o=this.getEditor(n);return o?o.option("value",i):this._triggerOnFieldDataChanged({dataField:n,value:i}),!0},_tryCreateItemOptionAction:function(t,e,i,n,o){return t==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(o,".tabs")),i=this._prepareItems(i,!0,o,!0)),R6(t,{item:e,value:i,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e=H1(t);if(rOe.indexOf(e)>-1&&(qe.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))){var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}},_setLayoutManagerItemOption(t,e,i,n){if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var o=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(o,()=>(!t._disposed&&t.endUpdate(),new S().resolve()))}var r=a=>{if(a.component.off("contentReady",r),W1(n)){var s=M6(n),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(s);l&&this._alignLabelsInColumn({items:l.option("items"),layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};t.on("contentReady",r),t.option(e,i),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption(t,e){var i=t.split("."),n=H1(t);if(n==="items"&&i.length>1){var o=this._getItemPath(i),r=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);if(r){this._itemsRunTimeInfo.removeItemsByItems(r.getItemsRunTimeInfo());var a=this._prepareItems(e,!1,o);return this._setLayoutManagerItemOption(r,n,a,o),!0}}else if(i.length>2){var s=i.length-2,l=this._getItemPath(i.slice(0,s)),d=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(d){var u=kd(i[s],n);if(n==="editorType"&&d.option(u)!==e)return!1;if(n==="visible"){var c=this.option(kd(l,"items"));if(c&&c.length){var p=d.option("items");c.forEach((g,m)=>{var y=p[m];y.visibleIndex=g.visibleIndex})}}return this._setLayoutManagerItemOption(d,u,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(t,e){var i;return this.beginUpdate(),x(e,(n,o)=>{if(i=this._tryChangeLayoutManagerItemOption(kd(t,n),o),!i)return!1}),this.endUpdate(),i},_getItemPath:function(t){var e=t[0],i;for(i=1;i<t.length&&t[i].search(/items\[\d+]|tabs\[\d+]/)!==-1;i++)e+="."+t[i];return e},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet(t){t&&L(t)&&Object.keys(t).forEach(e=>{this._triggerOnFieldDataChanged({dataField:e,value:t[e]})})},_updateFieldValue:function(t,e){if(f(this.option("formData"))){var i=this.getEditor(t);if(this.option("formData."+t,e),i){var n=i.option("value");n!==e&&i.option("value",e)}}},_generateItemsFromData:function(t){var e=this.option("formData"),i=[];return!t&&f(e)&&x(e,function(n){i.push({dataField:n})}),t&&x(t,function(n,o){L(o)?i.push(o):i.push({dataField:o})}),i},_getItemByField:function(t,e){var i=this,n=L(t)?t:i._getFieldParts(t),o=n.fieldName,r=n.fieldPath,a;return e.length&&x(e,function(s,l){var d=l.itemType;if(r.length){var u=r.slice();l=i._getItemByFieldPath(u,o,l)}else if(d==="group"&&!(l.caption||l.name)||d==="tabbed"&&!l.name){var c=i._getSubItemField(d);l.items=i._generateItemsFromData(l.items),l=i._getItemByField({fieldName:o,fieldPath:r},l[c])}if(T6(l,o))return a=l,!1}),a},_getFieldParts:function(t){for(var e=t,i=e.indexOf("."),n=[];i!==-1;)n.push(e.substr(0,i)),e=e.substr(i+1),i=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath:function(t,e,i){var n=i.itemType,o=this._getSubItemField(n),r=n==="group"||n==="tabbed"||i.title,a;do if(r){var s=i.name||i.caption||i.title,l=f(s),d=Tx(s),u=void 0;if(i[o]=this._generateItemsFromData(i[o]),l&&(u=t.pop()),!t.length&&(a=this._getItemByField(e,i[o]),a))break;(!l||l&&d===u)&&t.length&&(a=this._searchItemInEverySubItem(t,e,i[o]))}else break;while(t.length&&!f(a));return a},_getSubItemField:function(t){return t==="tabbed"?"tabs":"items"},_searchItemInEverySubItem:function(t,e,i){var n=this,o;return x(i,function(r,a){if(o=n._getItemByFieldPath(t.slice(),e,a),o)return!1}),o||(o=!1),o},_changeItemOption:function(t,e,i){L(t)&&(t[e]=i)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var i=!1;return x(this._cachedColCountOptions,function(n,o){if(o.colCountByScreen[t]!==o.colCountByScreen[e])return i=!0,!1}),i},_refresh:function(){var t=".".concat(hq," > :not(.dx-dropdowneditor-input-wrapper) input,")+" .".concat(hq," textarea");_.trigger(this.$element().find(t),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(t,e){f(e.widgetInstance)&&Ui.isEditor(e.widgetInstance)&&(e.widgetInstance.reset(),e.widgetInstance.option("isValid",!0))}),qe.resetGroup(this._getValidationGroup())},_updateData:function(t,e,i){var n=this,o=i?e:t;L(o)?x(o,function(r,a){n._updateData(i?t+"."+r:r,a,L(a))}):N(t)&&n._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each(function(i,n){f(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(t,e)})},_focusTarget:function(){return this.$element().find("."+Mf+" [tabindex]").first()},_visibilityChanged:function(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),qe.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new S;return t._scrollable?t._scrollable.update().done(function(){e.resolveWith(t)}):e.resolveWith(t),e.promise()},itemOption:function(t,e,i){var n=this._generateItemsFromData(this.option("items")),o=this._getItemByField(t,n),r=G1(n,o);if(o)switch(arguments.length){case 1:return o;case 3:var a=this._tryCreateItemOptionAction(e,o,i,o[e],r);this._changeItemOption(o,e,i);var s=kd(r,e);!this._tryExecuteItemOptionAction(a)&&!this._tryChangeLayoutManagerItemOption(s,i)&&this.option("items",n);break;default:if(L(e)&&!this._tryChangeLayoutManagerItemOptions(r,e)){var l;x(e,(d,u)=>{var c=this._tryCreateItemOptionAction(d,o,u,o[d],r);this._changeItemOption(o,d,u),!l&&!this._tryExecuteItemOptionAction(c)&&(l=!0)}),l&&this.option("items",n)}}},validate:function(){return qe.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new Ee)},getTargetScreenFactor:function(){return this._targetScreenFactor}});K("dxForm",pq);var gq=pq;var kx=gq;var aOe=t=>class extends t{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isEditRow(e){return!this.isPopupEditMode()&&super.isEditRow(e)}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isFormEditMode(){var e=this.option("editing.mode");return e===Cl}getFirstEditableColumnIndex(){var e=this._firstFormItem;if(this.isFormEditMode()&&e){var i=this.option($i),n=this._dataController.getRowIndexByKey(i),o=this._rowsView.getCellElements(n);return this._rowsView._getEditFormEditorVisibleIndex(o,e.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){var e=super._isEditColumnVisible(),i=this.option("editing");return this.isFormOrPopupEditMode()&&i.allowUpdating||e}_handleDataChanged(e){var i,n;if(this.isPopupEditMode()){var o=this.option("editing.editRowKey"),r=(i=e?.items)===null||i===void 0?void 0:i.some(s=>_e(s.key,o)),a=((n=e.changeTypes)===null||n===void 0?void 0:n.length)&&e.changeTypes.every(s=>s==="insert");(e.changeType==="refresh"||r&&e.isOptionChanged)&&!a&&this._repaintEditPopup()}super._handleDataChanged(e)}getPopupContent(){var e,i=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&i)return this._$popupContent}_showAddedRow(e){this.isPopupEditMode()?this._showEditPopup(e):super._showAddedRow(e)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(e,i,n){var o,r=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?((o=e.update)===null||o===void 0||o.call(e,e),this._rowsView.renderDelayedTemplates()):r&&(this._updateEditFormDeferred=new S().done(()=>r.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve()):super._updateEditRowCore(e,i,n)}_showEditPopup(e,i){var n=R.current().deviceType!=="desktop",o=this.addWidgetPrefix(t6),r=v({showTitle:!1,fullScreen:n,wrapperAttr:{class:o},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(oh));if(!this._editPopup){var a=h("<div>").appendTo(this.component.$element()).addClass(o);this._editPopup=this._createComponent(a,Fi),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",s=>{var l;_.trigger(s.component.$content().find(rh).not(".".concat(n6)).first(),"focus"),i&&((l=this._editForm)===null||l===void 0||l.repaint())})}this._editPopup.option(r),this._editPopup.show(),super._showEditPopup(e,i)}_getPopupEditFormTemplate(e){var i=this.component.getVisibleRows()[e],n={row:i,values:i.values,rowType:i.rowType,key:i.key,rowIndex:e};return this._rowsView._addWatchMethod(n,i),o=>{var r=this.getEditFormTemplate(),a=this._createComponent(h("<div>").appendTo(o),ki);this._$popupContent=h(a.content()),r(this._$popupContent,n,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),h(o).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){var e,i,n=this._getVisibleEditRowIndex();if(n>=0){var o=(e=this._editPopup)===null||e===void 0?void 0:e.option("animation");(i=this._editPopup)===null||i===void 0||i.option("animation",null),this._showEditPopup(n,!0),o!==void 0&&this._editPopup.option("animation",o)}}_hideEditPopup(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)}optionChanged(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){var{fullName:i}=e;i.indexOf(Cx)===0?(this._handleFormOptionChange(e),e.handled=!0):i.indexOf(oh)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}super.optionChanged(e)}_handleFormOptionChange(e){var i;if(this.isFormEditMode()){var n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else!((i=this._editPopup)===null||i===void 0)&&i.option("visible")&&e.fullName.indexOf(Cx)===0&&this._repaintEditPopup()}_handlePopupOptionChange(e){var i=this._editPopup;if(i){var n=e.fullName.slice(oh.length+1);n?i.option(n,e.value):i.option(e.value)}}renderFormEditorTemplate(e,i,n,o,r){var a=this,s=h(o),{column:l}=i,d=u6(i),u=e?.row,c=u?.data,p=n.component,g=l.calculateCellValue(c),m=M.getDisplayValue(l,g,c,u?.rowType),{label:y,labelMark:C,labelMode:b}=n.editorOptions||{},O=v({},e,{data:c,cellElement:null,isOnForm:!0,item:i,id:p.getItemID(i.name||i.dataField),column:v({},l,{editorType:d,editorOptions:v({label:y,labelMark:C,labelMode:b},l.editorOptions,i.editorOptions)}),columnIndex:l.index,setValue:!r&&l.allowEditing&&function(J,U){a.updateFieldValue(O,J,U)}});O.value=g,O.displayValue=m,O.text=l.command?"":M.formatValue(m,l);var k=this._getFormEditItemTemplate.bind(this)(O,l);return this._rowsView.renderTemplate(s,k,O,!!js(s)).done(()=>{this._rowsView._updateCell(s,O)}),O}getFormEditorTemplate(e,i){var n=this.component.columnOption(i.name||i.dataField);return(o,r)=>{var a=h(r),{row:s}=e;if(s?.watch){var l=s.watch(()=>n.selector(s.data),()=>{var d=a.find(".dx-widget").first(),u=d.data("dxValidator"),c=u?.option();a.contents().remove(),e=this.renderFormEditorTemplate.bind(this)(e,i,o,a),d=a.find(".dx-widget").first(),u=d.data("dxValidator"),c&&!u&&d.dxValidator({validationRules:c.validationRules,validationGroup:c.validationGroup,dataGetter:c.dataGetter})});_.on(a,Gt,l)}e=this.renderFormEditorTemplate.bind(this)(e,i,o,a)}}getEditFormOptions(e){var i,n=(i=this._getValidationGroupsInForm)===null||i===void 0?void 0:i.call(this,e),o=this.option("editing.form.customizeItem"),r=this.addWidgetPrefix(O1),a=this.option("editing.form.items"),s={};if(a)R1(a,d=>{var u=d?.name||d?.dataField;u&&(s[u]=!!d.editorType)});else{var l=this._columnsController.getColumns();a=[],x(l,(d,u)=>{!u.isBand&&!u.type&&a.push({column:u,name:u.name,dataField:u.dataField})})}return v({},n,{items:a,formID:"dx-".concat(new Ee),customizeItem:d=>{var u,c=d.name||d.dataField;if((d.column||c)&&(u=d.column||this._columnsController.columnOption(d.name?"name:".concat(d.name):"dataField:".concat(d.dataField))),u){if(d.label=d.label||{},d.label.text=d.label.text||u.caption,u.dataType==="boolean"&&d.label.visible===void 0){var p=this.option("editing.form.labelMode");(p==="floating"||p==="static")&&(d.label.visible=!0)}d.template=d.template||this.getFormEditorTemplate(e,d),d.column=u,d.isCustomEditorType=s[c],u.formItem&&v(d,u.formItem),d.isRequired===void 0&&u.validationRules&&(d.isRequired=u.validationRules.some(m=>m.type==="required"),d.validationRules=[]);var g=f(d.visible)?d.visible:!0;!this._firstFormItem&&g&&(this._firstFormItem=d)}o?.call(this,d),d.cssClass=N(d.cssClass)?"".concat(d.cssClass," ").concat(r):r}})}getEditFormTemplate(){return(e,i,n)=>{var o=this.option(Cx),r=this.getEditFormOptions(i),a=h("<div>").appendTo(e),s=n?.isPopupForm;if(this._firstFormItem=void 0,s&&a.addClass(this.addWidgetPrefix(i6)),this._editForm=this._createComponent(a,kx,v({},o,r)),!s){var l=h("<div>").addClass(this.addWidgetPrefix(r6)).appendTo(e);this._createComponent(h("<div>").appendTo(l),xt,this._getSaveButtonConfig()),this._createComponent(h("<div>").appendTo(l),xt,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var d;this._rowsView.renderDelayedTemplates(),(d=this._editPopup)===null||d===void 0||d.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()}_beforeEndSaving(e){var i;super._beforeEndSaving(e),this.isPopupEditMode()&&((i=this._editPopup)===null||i===void 0||i.hide())}_processDataItemCore(e,i,n,o,r){var{type:a}=i;this.isPopupEditMode()&&a===Lo&&(e.visible=!1),super._processDataItemCore(e,i,n,o,r)}_editRowFromOptionChangedCore(e,i){var n=this.isPopupEditMode();super._editRowFromOptionChangedCore(e,i,n),n&&this._showEditPopup(i)}},sOe=t=>class extends t{_updateEditItem(e){this._editingController.isFormEditMode()&&(e.rowType="detail")}_getChangedColumnIndices(e,i,n,o){if(!(o===!1&&i.isEditing&&this._editingController.isFormEditMode()))return super._getChangedColumnIndices.apply(this,arguments)}},lOe=t=>class extends t{_renderCellContent(e,i){i.rowType==="data"&&this._editingController.isPopupEditMode()&&i.row.visible===!1||super._renderCellContent.apply(this,arguments)}getCellElements(e){var i=super.getCellElements(e),n=this._editingController,o=n.getEditForm(),r=n.getEditFormRowIndex();return r===e&&i&&o?o.$element().find(".".concat(this.addWidgetPrefix(O1),", .").concat(o6)):i}_getVisibleColumnIndex(e,i,n){var o=this._editingController.getEditFormRowIndex();if(o===i&&N(n)){var r=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(e,r)}return super._getVisibleColumnIndex.apply(this,arguments)}_getEditFormEditorVisibleIndex(e,i){var n=-1;return x(e,(o,r)=>{var a=h(r).find(".dx-field-item-content").data("dx-form-item");if(a?.column&&i&&a.column.index===i.index)return n=o,!1}),n}_isFormItem(e){var i=e.rowType==="detail"||e.rowType==="detailAdaptive",n=e.rowType==="data"&&this._editingController.isPopupEditMode();return(i||n)&&e.item}_updateCell(e,i){this._isFormItem(i)?this._formItemPrepared(i,e):super._updateCell(e,i)}_updateContent(){var e=this._editingController,i=e.getEditForm(),n=i?.option("validationGroup"),o=super._updateContent.apply(this,arguments);return o.done(()=>{var r=e.getEditForm();n&&r&&r!==i&&r.option("validationGroup",n)})}},fq={extenders:{controllers:{editing:aOe,data:sOe},views:{rowsView:lOe}}};P.registerModule("editingFormBased",fq);var dOe=t=>class extends t{init(){var e=!this._saveEditorHandler;if(super.init(),e){var i,n;this._pointerUpEditorHandler=()=>{var o;n=(o=this._columnsResizerController)===null||o===void 0?void 0:o.isResizing()},this._pointerDownEditorHandler=o=>i=h(o.target),this._saveEditorHandler=this.createAction(function(o){var{event:r}=o,a=h(r.target),s=r[Sx],{component:l}=this;if(d6(i)&&!i.is(a))return;function d(y){if(!y)return!1;var C=y.closest(".".concat(XK)),b=l.$element();return C.length>0&&b.closest(C).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){var u=d(a)||d(s?.$element()),c=s&&!s._disposed&&s!==this.component,p=!!a.closest(".".concat(this.addWidgetPrefix(JK))).length,g=a.hasClass(this.addWidgetPrefix(QK)),m=this.isCellEditMode();!n&&!u&&!g&&!(p&&m&&this.isEditing())&&(js(a)||c)&&this._closeEditItem.bind(this)(a)}}),_.on(I.getDocument(),ae.up,this._pointerUpEditorHandler),_.on(I.getDocument(),ae.down,this._pointerDownEditorHandler),_.on(I.getDocument(),se,this._saveEditorHandler)}}isCellEditMode(){return this.option("editing.mode")===Rd}isBatchEditMode(){return this.option("editing.mode")===xl}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(e){var i,n=this.component.$element(),o=this.isEditing(),r=!n||!!e.closest(n).length;if(r){var a=e.closest(".".concat(ZK)).length;if(a){var s=e.closest(".".concat(hr,"> td")),l=this._rowsView.getRowIndex(s.parent()),d=this._rowsView.getCellElements(l);if(d?.length){var u=d.index(s),c=this._columnsController.getVisibleColumns(),p=(i=c[u])===null||i===void 0?void 0:i.allowEditing,g=this.isEditCell(l,u);o=o&&!p&&!g}}}return o||super._needToCloseEditableCell(e)}_closeEditItem(e){this._needToCloseEditableCell(e)&&this.closeEditCell()}_focusEditorIfNeed(){var e;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),n=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),i);this._refocusEditCell=!1,clearTimeout(this._inputFocusTimeoutID),n&&!n.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},n,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){var e=f(this.option($i)),i=f(this.option(ns));return e&&i}return super.isEditing()}_handleEditColumnNameChange(e){var i=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&i!==-1&&f(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),o=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,o,i)}}_addRow(e){if(this.isCellEditMode()&&this.hasChanges()){var i=new S;return this.saveEditData().done(()=>{this.hasChanges()?i.reject("cancel"):this.addRow(e).done(i.resolve).fail(i.reject)}),i.promise()}return super._addRow(e)}editCell(e,i){return this._editCell({rowIndex:e,columnIndex:i})}_editCell(e){var i=new S,n;return this.executeOperation(i,()=>{n=this._editCellCore(e),A(n).done(i.resolve).fail(i.reject)}),n!==void 0?n:i.promise()}_editCellCore(e){var i=this._dataController,n=f(e.oldColumnIndex)||f(e.oldRowIndex),{columnIndex:o,rowIndex:r,column:a,item:s}=this._getNormalizedEditCellOptions(e),l={data:s?.data,cancel:!1,column:a};if(s.key===void 0){this._dataController.fireError("E1043");return}if(a&&(s.rowType==="data"||s.rowType==="detailAdaptive")&&!s.removed&&this.isCellOrBatchEditMode()){if(!n&&this.isEditCell(r,o))return!0;var d=r+i.getRowIndexOffset();return A(this._beforeEditCell(r,o,s)).done(u=>{u||this._prepareEditCell(l,s,o,d)||this._processCanceledEditingCell()})}return!1}_beforeEditCell(e,i,n){if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){var o=new S;return this.saveEditData().always(()=>{o.resolve(this.hasChanges())}),this.addDeferred(o),o}return!1}publicMethods(){var e=super.publicMethods();return e.concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(e){var{oldColumnIndex:i,oldRowIndex:n,columnIndex:o,rowIndex:r}=e,a=this._columnsController,s=a.getVisibleColumns(),l=this._dataController.items(),d=l[r],u;f(i)?u=s[i]:u=this._getEditColumn(),f(n)||(n=this._getVisibleEditRowIndex()),N(o)&&(o=a.columnOption(o,"index"),o=a.getVisibleIndex(o));var c=s[o];return{oldColumn:u,columnIndex:o,oldRowIndex:n,rowIndex:r,column:c,item:d}}_prepareEditCell(e,i,n,o){var r;return i.isNewRow||(e.key=i.key),this._isEditingStart(e)?!1:(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(i.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:i.key,oldData:(r=i.oldData)!==null&&r!==void 0?r:i.data}),!0)}closeEditCell(e,i){var n=A(),o=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var r=new S;n=new S,this.executeOperation(r,()=>{this._closeEditCellCore(e,o,i).always(n.resolve)})}return n.promise()}_closeEditCellCore(e,i,n){var o=this._dataController,r=new S,a=r.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(l=>{if(!this.hasChanges()){this.closeEditCell(!!l).always(r.resolve);return}r.resolve()}),a}else if(this._resetEditRowKey(),this._resetEditColumnName(),i>=0){var s=[i];this._beforeCloseEditCellInBatchMode(s),e||o.updateItems({changeType:"update",rowIndices:s})}return r.resolve(),a}_resetModifiedClassCells(e){if(this.isBatchEditMode()){var i=this._columnsController.getVisibleColumns().length;e.forEach(n=>{for(var{key:o}=n,r=this._dataController.getRowIndexByKey(o),a=0;a<i;a++){var s=this._rowsView._getCellElement(r,a);s?.removeClass(TK)}})}}_prepareChange(e,i,n){var o=h(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(o,e),super._prepareChange(e,i,n)}_cancelSaving(e){var i=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),i.updateItems()),super._cancelSaving(e)}optionChanged(e){var{fullName:i}=e;e.name==="editing"&&i===ns?(this._handleEditColumnNameChange(e),e.handled=!0):super.optionChanged(e)}_editCellFromOptionChanged(e,i,n){var o=this._columnsController.getVisibleColumns();e>-1&&Et(()=>{this._repaintEditCell(o[e],o[i],n)})}_handleEditRowKeyChange(e){var i;if(this.isCellOrBatchEditMode()){var n=this._getVisibleEditColumnIndex(),o=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(e.previousValue)+o;f(e.value)&&e.value!==e.previousValue&&((i=this._editCellFromOptionChanged)===null||i===void 0||i.call(this,n,n,r))}else super._handleEditRowKeyChange(e)}deleteRow(e){if(this.isCellEditMode()&&this.isEditing()){var{isNewRow:i}=this._dataController.items()[e],n=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,i).always(()=>{e=this._dataController.getRowIndexByKey(n),this._checkAndDeleteRow(e)})}else super.deleteRow(e)}_checkAndDeleteRow(e){this.isBatchEditMode()?this._deleteRowCore(e):super._checkAndDeleteRow(e)}_refreshCore(e){var{isPageChanged:i}=e??{},n=this.isBatchEditMode()||i&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(e)}_allowRowAdding(e){return this.isBatchEditMode()?!0:super._allowRowAdding(e)}_afterDeleteRow(e,i){var n=this._dataController;return this.isBatchEditMode()?(n.updateItems({changeType:"update",rowIndices:[i,e]}),new S().resolve()):super._afterDeleteRow(e,i)}_updateEditRow(e,i,n){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,i,n):super._updateEditRow(e,i,n)}_isDefaultButtonVisible(e,i){if(this.isCellOrBatchEditMode()){var n=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(e,i)&&(!n||!i.row.removed);case"undelete":return n&&this.allowDeleting(i)&&i.row.removed;default:return super._isDefaultButtonVisible(e,i)}}return super._isDefaultButtonVisible(e,i)}_isRowDeleteAllowed(){var e=super._isRowDeleteAllowed();return e||this.isBatchEditMode()}_beforeEndSaving(e){var i;this.isCellEditMode()?((i=e[0])===null||i===void 0?void 0:i.type)!=="update"&&super._beforeEndSaving(e):(this.isBatchEditMode()&&this._resetModifiedClassCells(e),super._beforeEndSaving(e))}prepareEditButtons(e){var i,n=(i=this.option("editing"))!==null&&i!==void 0?i:{},o=super.prepareEditButtons(e),r=n.allowUpdating||n.allowAdding||n.allowDeleting;return r&&this.isBatchEditMode()&&(o.push(this.prepareButtonItem(e,"save","saveEditData",21)),o.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),o}_saveEditDataInner(){var e=this._dataController.getVisibleRows()[this.getEditRowIndex()],i=this._getEditColumn(),n=i?.showEditorAlways,o=this.isCellEditMode()&&!e?.isNewRow,r;return o&&n&&(r=new S,this.addDeferred(r)),super._saveEditDataInner().always(r?.resolve)}_applyChange(e,i,n){var o=this.isCellEditMode()&&e.row&&!e.row.isNewRow,{showEditorAlways:r}=e.column,a=e.column.setCellValue!==e.column.defaultSetCellValue,s=r&&!n&&o&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex);if(s){this._focusEditingCell(),this._updateEditRow(e.row,!0,a);return}return super._applyChange(e,i,n)}_applyChangeCore(e,i){var{showEditorAlways:n}=e.column,o=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(n&&!i){if(o)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return i=this._needUpdateRow(e.column),super._applyChangeCore(e,i)}return super._applyChangeCore(e,i)}_processDataItemCore(e,i,n,o,r){var{data:a,type:s}=i;this.isBatchEditMode()&&s===pr&&(e.data=ir(e.data,a)),super._processDataItemCore(e,i,n,o,r)}_processRemoveCore(e,i,n){if(!(this.isBatchEditMode()&&!n))return super._processRemoveCore(e,i,n)}_processRemoveIfError(e,i){if(!this.isBatchEditMode())return super._processRemoveIfError(e,i)}_beforeFocusElementInRow(e){super._beforeFocusElementInRow(e);var i=e>=0?e:0,n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(i,n)}},uOe=t=>class extends t{_createTable(){var e=super._createTable.apply(this,arguments),i=this._editingController;return i.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&_.on(e,F(mn.name,"dxDataGridRowsView"),"td:not(.".concat(yl,")"),this.createAction(()=>{i.isEditing()&&i.closeEditCell()})),e}_createRow(e){var i=super._createRow.apply(this,arguments);if(e){var n=this._editingController,o=!!e.removed;n.isBatchEditMode()&&o&&i.addClass(e6)}return i}},cOe=t=>class extends t{isVisible(){var e=this._editingController.option("editing");return super.isVisible()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===xl}},mq={extenders:{controllers:{editing:dOe},views:{rowsView:uOe,headerPanel:cOe}}};P.registerModule("editingCellBased",mq);var Sq="invalid",lA="revert-tooltip",vq="dx-invalid-message";var cA="invalid-message",_q="dx-invalid-message-always",hOe="dx-revert-button";var bq="validator",dA="dx-pending-indicator",yq="dx-validation-pending",xq="content",Cq="__DX_INSERT_INDEX__",pOe=2,gOe="row",fOe="form",uA="batch",Pf="cell",mOe="popup",vOe="dx-group-cell",Dq=[mOe,fOe],_Oe="transparent",Gn={valid:"valid",invalid:"invalid",pending:"pending"},Rf="insert",yOe="remove",Bf="cancel",kf=function(t){return f(t)&&t!==Bf},wq=function(t,e){return t!==void 0||t===void 0&&e&&!e.isNewRow},hA=class extends ye.Controller{constructor(){super(...arguments),this._isValidationInProgress=!1,this._disableApplyValidationResults=!1}init(){this._editingController=this.getController("editing"),this._editorFactoryController=this.getController("editorFactory"),this._columnsController=this.getController("columns"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()}initValidationState(){this._validationState=[],this._validationStateCache={}}_rowIsValidated(e){var i=this._getValidationData(e?.key);return!!i&&!!i.validated}_getValidationData(e,i){var n=Qi(e),o=L(n),r;return o?r=this._validationState.filter(a=>_e(a.key,e))[0]:r=this._validationStateCache[n],!r&&i&&(r={key:e,isValid:!0},this._validationState.push(r),o||(this._validationStateCache[n]=r)),r}_getBrokenRules(e,i){var n;return i?n=i.brokenRules||i.brokenRule&&[i.brokenRule]:n=e.brokenRules||[],n}_rowValidating(e,i){var n=new S,o=this._editingController.getChangeByKey(e?.key),r=this._getBrokenRules(e,i),a=i?i.isValid:e.isValid,s={brokenRules:r,isValid:a,key:o.key,newData:o.data,oldData:this._editingController._getOldData(o.key),promise:null,errorText:this.getHiddenValidatorsErrorText(r)};return this.executeAction("onRowValidating",s),A(It(s.promise)).always(()=>{e.isValid=s.isValid,e.errorText=s.errorText,n.resolve(s)}),n.promise()}getHiddenValidatorsErrorText(e){var i=[];return x(e,(n,o)=>{var{column:r}=o,a=r&&r.groupIndex!==void 0&&!r.showWhenGrouped,s=r&&r.visible;!o.validator.$element().parent().length&&(!s||a)&&i.push(o.message)}),i.join(", ")}validate(e){var i=!0,n=this._editingController,o=new S,r=[],a=n.getEditMode();if(e=e||a===gOe,this._isValidationInProgress)return o.resolve(!1).promise();if(this._isValidationInProgress=!0,e){n.addDeferred(o);var s=n.getChanges();x(s,(d,u)=>{var{type:c,key:p}=u;if(c!=="remove"){var g=this._getValidationData(p,!0),m=this.validateGroup(g);r.push(m),m.done(y=>{g.validated=!0,i=i&&y.isValid})}})}else if(this._currentCellValidator){var l=this.validateGroup(this._currentCellValidator._findGroup());r.push(l),l.done(d=>{i=d.isValid})}return A(...r).done(()=>{this._isValidationInProgress=!1,o.resolve(i)}),o.promise()}validateGroup(e){var i=new S,n=e&&qe.getGroupConfig(e),o;return n?.validators.length&&(this.resetRowValidationResults(e),o=qe.validateGroup(e)),A(o?.complete||o).done(r=>{A(this._rowValidating(e,r)).done(i.resolve)}),i.promise()}isRowDataModified(e){return!Rt(e.data)}updateValidationState(e){var i=this._editingController.getEditMode(),{key:n}=e,o=this._getValidationData(n,!0);if(Dq.includes(i))o.isValid=!0;else{if(e.type===Rf&&!this.isRowDataModified(e)){o.isValid=!0;return}this.setDisableApplyValidationResults(!0);var r=qe.getGroupConfig(o);if(r){var a=qe.validateGroup(o);A(a.complete||a).done(s=>{o.isValid=s.isValid,o.brokenRules=s.brokenRules})}else(!o.brokenRules||!o.brokenRules.length)&&(o.isValid=!0);this.setDisableApplyValidationResults(!1)}}setValidator(e){this._currentCellValidator=e}renderCellPendingIndicator(e){var i=e.find(".".concat(dA));if(!i.length){var n=e;i=h("<div>").appendTo(n).addClass(dA),this._createComponent(i,ci),e.addClass(yq)}}disposeCellPendingIndicator(e){var i=e.find(".".concat(dA));if(i.length){var n=ci.getInstance(i);n&&(n.dispose(),n.$element().remove()),e.removeClass(yq)}}validationStatusChanged(e){var{validator:i}=e,n=i.option("validationGroup"),{column:o}=i.option("dataGetter")();this.updateCellValidationResult({rowKey:n.key,columnIndex:o.index,validationResult:e})}validatorInitialized(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))}validatorDisposing(e){var i=e.component,n=i.option("validationGroup"),{column:o}=i.option("dataGetter")(),r=this.getCellValidationResult({rowKey:n?.key,columnIndex:o.index});kf(r)&&r.status===Gn.pending&&this.cancelCellValidationResult({change:n,columnIndex:o.index})}applyValidationResult(e,i){var{validator:n}=i,o=n.option("validationGroup"),{column:r}=n.option("dataGetter")();if(i.brokenRules&&i.brokenRules.forEach(u=>{u.columnIndex=r.index,u.column=r}),e){var a=this.getCellValidationResult({rowKey:o.key,columnIndex:r.index}),s=kf(a)&&a.disabledPendingId===i.id;if(this._disableApplyValidationResults||s)return;if(i.status===Gn.invalid){var l=e.find(":focus");An(l)||(_.trigger(l,"focus"),_.trigger(l,ae.down))}var d=!r.editCellTemplate&&this._editorFactoryController.getEditorInstance(e);i.status===Gn.pending?d?d.option("validationStatus",Gn.pending):this.renderCellPendingIndicator(e):d?d.option("validationStatus",Gn.valid):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(Sq),i.status===Gn.invalid)}}_syncInternalEditingData(e){var i,n=this._editingController,o=n.getChangeByKey(e.key),r=n._getOldData(e.key),a=(i=e.row)===null||i===void 0?void 0:i.oldData;o&&a&&!r&&n._addInternalData({key:e.key,oldData:a})}createValidator(e,i){var n,o,r,a=this._editingController,{column:s}=e,{showEditorAlways:l}=s;if(!(f(s.command)||!s.validationRules||!Array.isArray(s.validationRules)||!s.validationRules.length)){var d=a.getIndexByKey(e.key,a.getChanges()),u=d>-1;if(!u){if(!l){var c=((n=this._columnsController)===null||n===void 0?void 0:n.getVisibleColumns())||[];l=c.some(U=>U.showEditorAlways)}var p=_e(this.option("editing.editRowKey"),e.key),g=a.isCellOrBatchEditMode()&&a.allowUpdating({row:e.row});u=p||g&&l,g&&l&&a._addInternalData({key:e.key,oldData:(r=(o=e.row)===null||o===void 0?void 0:o.oldData)!==null&&r!==void 0?r:e.data})}if(u){if(i&&!i.length){X.log("E1050");return}this._syncInternalEditingData(e);var m=this._getValidationData(e.key,!0),y=()=>{var U=a.getChangeByKey(m?.key),z=s.calculateCellValue(U?.data||{});return z!==void 0?z:e.value},C=i&&i.hasClass("dx-widget");i&&i.addClass(this.addWidgetPrefix(bq));var b=new dh(i||h("<div>"),{name:s.caption,validationRules:v(!0,[],s.validationRules),validationGroup:m,adapter:C?null:{getValue:y,applyValidationResults:U=>{this.applyValidationResult(i,U)}},dataGetter(){var U=m?.key,z=a.getChangeByKey(U),ce=a._getOldData(U);return{data:ir(ce,z?.data),column:s}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(C){var O=b.option("adapter");if(O){var k=O.bypass,J=()=>e.row.isNewRow&&!this._isValidationInProgress&&!a.isCellModified(e);O.getValue=y,O.validationRequestsCallbacks=[],O.bypass=()=>k.call(O)||J()}}return b}}}setDisableApplyValidationResults(e){this._disableApplyValidationResults=e}getDisableApplyValidationResults(){return this._disableApplyValidationResults}isCurrentValidatorProcessing(e){var{rowKey:i,columnIndex:n}=e;return this._currentCellValidator&&_e(this._currentCellValidator.option("validationGroup").key,i)&&this._currentCellValidator.option("dataGetter")().column.index===n}validateCell(e){var i={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index,validationResult:null},n=this.getCellValidationResult(i),o=kf(n),r=e.option("adapter");if(!o)n=e.validate();else{var a=r.getValue();_e(a,n.value)||(n=e.validate())}var s=new S;return o&&n.status===Gn.pending&&(this.updateCellValidationResult(i),r.applyValidationResults(n)),A(n.complete||n).done(l=>{o&&r.applyValidationResults(l),s.resolve(l)}),s.promise()}updateCellValidationResult(e){var{rowKey:i,columnIndex:n,validationResult:o}=e,r=this._getValidationData(i);if(r){r.validationResults||(r.validationResults={});var a;if(o){if(a=v({},o),r.validationResults[n]=a,o.status===Gn.pending&&(this._editingController.getEditMode()===Pf&&(a.deferred=new S,a.complete.always(()=>{a.deferred.resolve()}),this._editingController.addDeferred(a.deferred)),this._disableApplyValidationResults)){a.disabledPendingId=o.id;return}}else a=r.validationResults[n];a&&a.disabledPendingId&&delete a.disabledPendingId}}getCellValidationResult(e){var{rowKey:i,columnIndex:n}=e,o,r=this._getValidationData(i,!0);return(o=r?.validationResults)===null||o===void 0?void 0:o[n]}removeCellValidationResult(e){var{change:i,columnIndex:n}=e,o=this._getValidationData(i?.key);o&&o.validationResults&&(this.cancelCellValidationResult({change:i,columnIndex:n}),delete o.validationResults[n])}cancelCellValidationResult(e){var{change:i,columnIndex:n}=e,o=this._getValidationData(i.key);if(i&&o.validationResults){var r=o.validationResults[n];r&&(r.deferred&&r.deferred.reject(Bf),o.validationResults[n]=Bf)}}resetRowValidationResults(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)}isInvalidCell(e){var{rowKey:i,columnIndex:n}=e,o=this.getCellValidationResult({rowKey:i,columnIndex:n});return kf(o)&&o.status===Gn.invalid}getCellValidator(e){var{rowKey:i,columnIndex:n}=e,o=this._getValidationData(i),r=o&&qe.getGroupConfig(o),a=r&&r.validators;return a&&a.filter(s=>{var{column:l}=s.option("dataGetter")();return l?l.index===n:!1})[0]}setCellValidationStatus(e){var i=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});f(i)?e.validationStatus=i!==Bf?i.status:Bf:delete e.validationStatus}},xOe=t=>class extends t{processDataItemTreeListHack(e){super.processDataItem.apply(this,arguments)}processItemsTreeListHack(e,i){return super.processItems.apply(this,arguments)}_addChange(e){var i=super._addChange.apply(this,arguments);return i&&e.type!==yOe&&this._validatingController.updateValidationState(i),i}_handleChangesChange(e){super._handleChangesChange.apply(this,arguments),e.value.forEach(i=>{this._validatingController._getValidationData(i.key)===void 0&&this._validatingController.updateValidationState(i)})}_updateRowAndPageIndices(){var e=this,i=e.getView("rowsView").getTopVisibleItemIndex(),n=i;x(e.getChanges(),(o,r)=>{var{key:a,type:s}=r,l=this._validatingController._getValidationData(a);l&&!l.isValid&&l.pageIndex!==e._pageIndex&&(l.pageIndex=e._pageIndex,s===Rf?l.rowIndex=i:l.rowIndex=n,n++)})}_getValidationGroupsInForm(e){var i=this._validatingController._getValidationData(e.key,!0);return{validationGroup:i}}_validateEditFormAfterUpdate(e,i){i&&this._editForm&&this._editForm.validate(),super._validateEditFormAfterUpdate.apply(this,arguments)}_prepareEditCell(e){var i=super._prepareEditCell.apply(this,arguments);return i&&e.column.showEditorAlways&&this._validatingController.updateValidationState({key:e.key}),i}processItems(e,i){var n=this.getChanges(),o=(a,s)=>{var l=-1,d=a.type===Rf,{key:u}=a;return x(s,(c,p)=>{if(_e(u,d?p.key:this._dataController.keyOf(p)))return l=c,!1}),l};e=super.processItems(e,i);var r=e.length;return this.getEditMode()===uA&&i!=="prepend"&&i!=="append"&&n.forEach(a=>{var{key:s}=a,l=this._validatingController._getValidationData(s);l&&a.type&&l.pageIndex===this._pageIndex&&a?.pageIndex!==this._pageIndex&&function(d,u){var c={key:d.key},p=o(d,e);if(!(p>=0)){u.rowIndex=u.rowIndex>r?u.rowIndex%r:u.rowIndex;var{rowIndex:g}=u;c[Cq]=1,e.splice(g,0,c)}}(a,l)}),e}processDataItem(e){var i=e.data[Cq],n=i?e.data.key:e.key,o=this.getEditMode();if(o===uA&&i&&n){var r=this.getChanges(),a=M.getIndexByKey(n,r);if(a>=0){var s=r[a];if(s.type!==Rf){var l=this._getOldData(s.key);e.data=v(!0,{},l,s.data),e.key=n}}}super.processDataItem.apply(this,arguments)}_createInvisibleColumnValidators(e){var i=this,n=this._columnsController.getColumns(),o=this._columnsController.getInvisibleColumns().filter(l=>!l.isBand),r=this._columnsController.getGroupColumns().filter(l=>!l.showWhenGrouped&&o.indexOf(l)===-1),a=[],s=(l,d)=>this._dataController.getRowIndexByKey(d)>=0&&o.indexOf(l)<0;return o.push(...r),Dq.includes(this.getEditMode())||x(n,(l,d)=>{e.forEach(u=>{var c;if(!s(d,u.key)){if(u.type===Rf)c=u.data;else if(u.type==="update"){var p=i._getOldData(u.key);if(!f(p))return;c=ir(p,u.data)}if(c){var g=this._validatingController.createValidator({column:d,key:u.key,value:d.calculateCellValue(c)});g&&a.push(g)}}})}),function(){a.forEach(l=>{l.dispose()})}}_beforeSaveEditData(e,i){var n=super._beforeSaveEditData.apply(this,arguments),o=this._validatingController._getValidationData(e?.key);if(e){var r=e.type==="remove"||o.isValid;n=n||!r}else{var a=this._createInvisibleColumnValidators(this.getChanges());n=new S,this.executeOperation(n,()=>{this._validatingController.validate(!0).done(s=>{switch(a(),this._updateRowAndPageIndices(),this.getEditMode()){case Pf:s||this._focusEditingCell();break;case uA:s||(this._resetEditRowKey(),this._resetEditColumnName(),this._dataController.updateItems())}n.resolve(!s)})})}return n.promise?n.promise():n}_beforeEditCell(e,i,n){var o=super._beforeEditCell(e,i,n);if(this.getEditMode()===Pf){var r=this._rowsView._getCellElement(e,i),a=r&&r.data("dxValidator"),s=r&&r.closest(".dx-row").data("options"),l=a&&a.option("adapter").getValue();if(a&&wq(l,s)){var d=new S;return A(this._validatingController.validateCell(a),o).done((u,c)=>{d.resolve(u.status===Gn.valid&&c)}),d.promise()}if(!a)return o}return!1}_afterSaveEditData(e){var i,n=this.getEditMode()===Pf;if(x(this.getChanges(),(d,u)=>{var c=this._showErrorRow(u);i=i||c}),i){var o=this._rowsView.getScrollable();o&&(o.update(),o.scrollToElement(i))}if(e&&n&&this._needUpdateRow()){var r=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[r]}),this._focusEditingCell()}else if(!e){var a=!0;if(n){var s=this._columnsController.getColumns(),l=s.filter(d=>{var u;return d.showEditorAlways&&((u=d.validationRules)===null||u===void 0?void 0:u.length)>0}).length>0;a=!l}a&&this._validatingController.initValidationState()}}_handleDataChanged(e){var i=this._validatingController._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),e.changeType==="prepend"&&x(i,(n,o)=>{o.rowIndex+=e.items.length}),super._handleDataChanged(e)}resetRowAndPageIndices(){var e=this._validatingController._validationState;x(e,(i,n)=>{n.pageIndex!==this._pageIndex&&(delete n.pageIndex,delete n.rowIndex)})}_beforeCancelEditData(){this._validatingController.initValidationState(),super._beforeCancelEditData()}_showErrorRow(e){var i,n=this._dataController.items(),o=this.getIndexByKey(e.key,n),r=this._validatingController._getValidationData(e.key);if(!r?.isValid&&r?.errorText&&o>=0)return i=this.getPopupContent(),this._errorHandlingController&&this._errorHandlingController.renderErrorRow(r?.errorText,o,i)}updateFieldValue(e){var i=new S;return this._validatingController.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),super.updateFieldValue.apply(this,arguments).done(()=>{var n=this._validatingController.getCellValidator({rowKey:e.key,columnIndex:e.column.index});A(n&&this._validatingController.validateCell(n)).done(o=>{this._editorFactoryController.refocus(),i.resolve(o)})}),i.promise()}highlightDataCell(e,i){super.highlightDataCell.apply(this,arguments),this._validatingController.setCellValidationStatus(i);var n=!!i.setValue,o=this.isCellModified(i),r=f(i.validationStatus),a=o&&i.column.setCellValue||n&&!o&&!(i.row.isNewRow||!r);if(a){var s=e.data("dxValidator");s&&A(this._validatingController.validateCell(s)).done(()=>{this._validatingController.setCellValidationStatus(i)})}}getChangeByKey(e){var i=this.getChanges();return i[M.getIndexByKey(e,i)]}isCellModified(e){var i=super.isCellModified(e),n=this.getChangeByKey(e.key),o=!!e.row&&this._validatingController.isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return i||this._validatingController._rowIsValidated(n)&&o}},COe=function(t,e){var i=h(e).closest("tr").index(),n=h(t._rowsView.getRowElement(i)).first().children().filter(":not(.dx-hidden-cell)");return t._rowsView._getWidths(n).reduce((o,r)=>o+r,0)},SOe=function(t){var e,i;return t.some((n,o)=>{if(n.command===_Oe)return e=o===0?-1:o,i=o===t.length-1?-1:o+n.colspan-1,!0}),{startColumnIndex:e,endColumnIndex:i}},bOe=t=>class extends t{_showRevertButton(e){var i,n=(i=this._revertTooltip)===null||i===void 0?void 0:i.$element();if(!e||!e.length){n?.remove(),this._revertTooltip=void 0;return}if(!e.find(n).length){var o=e.closest(".".concat(this.addWidgetPrefix(xq))),r=this.addWidgetPrefix(lA);n?.remove(),n=h("<div>").addClass(r).appendTo(e);var a={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:o,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:r},contentTemplate:()=>{var s=h("<div>").addClass(hOe),l={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),onClick:()=>{this._editingController.cancelEditData()}};return new xt(s,l).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new yn(n,a)}}_hideFixedGroupCell(e,i){var n,o,r=this._rowsView.isFixedColumns(),a=this._editingController.isFormOrPopupEditMode();if(r&&!a){var s=e.closest(".dx-row").next().data("options");s&&s.rowType==="group"&&(n=h(this._rowsView.getRowElement(s.rowIndex)).last(),o=n.find(".".concat(vOe)),o.length&&o.get(0).style.visibility!=="hidden"&&(o.css("visibility","hidden"),i.onDisposing=function(){o.css("visibility","")}))}}_positionedHandler(e,i){if(!e.component.__skipPositionProcessing){var n=h(e.element).hasClass(this.addWidgetPrefix(lA)),o=!n&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(e,n,i);e.component.__skipPositionProcessing=!!(o||r),r?e.component.option(r):o&&e.component.repaint()}}_showValidationMessage(e,i,n){var o,r=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),a=r&&r.option("visible"),s=a?"top right":"top ".concat(n),l=a?"top left":"bottom ".concat(n),d=((o=this._columnsController.getFixedColumns())===null||o===void 0?void 0:o.length)>0,u=d?this.getView("rowsView").element():e.closest(".".concat(this.addWidgetPrefix(xq))),c="";i&&i.forEach(y=>{c+=(c.length?"<br/>":"")+r_(y)});var p=this.addWidgetPrefix(cA);this._rowsView.element().find(".".concat(p)).remove();var g=h("<div>").addClass(vq).addClass(_q).addClass(p).html(c).appendTo(e),m={container:u,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:"".concat(vq," ").concat(_q," ").concat(p)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!a&&be.mozilla?-1:0},my:s,at:l,of:e},onPositioned:y=>{this._positionedHandler(y,a),this._shiftValidationMessageIfNeed(y.component.$content(),e)}};this._hideFixedGroupCell(e,m),new yn(g,m)}_hideValidationMessage(){var e,i=(e=this._rowsView.element())===null||e===void 0?void 0:e.find(this._getValidationMessagesSelector());i?.remove()}_normalizeValidationMessagePositionAndMaxWidth(e,i,n){var o=this._columnsController.getFixedColumns();if(!(!o||!o.length)){var r,a=!i&&COe(this,e.element),s=e.component.$content(),l=ee(s,!0),d=!i&&l>a,u=this._rowsView.getCellIndex(h(e.element).closest("td")),c=SOe(o);return!i&&(u===c.startColumnIndex||d)?r={collision:"none flip",my:"top left",at:n?"top right":"bottom left"}:u===c.endColumnIndex&&(r={collision:"none flip",my:"top right",at:i||n?"top left":"bottom right"},i&&(r.offset="-1 0")),r&&{position:r,maxWidth:d?a-2:void 0}}}_shiftValidationMessageIfNeed(e,i){var n=this._revertTooltip&&this._revertTooltip.$content();if(n){var o=e.offset(),r=n.offset();if(o.top===r.top&&o.left+H(e)>r.left){var a=H(n)+pOe;e.css("left",r.left<i.offset().left?-a:a)}}}_getRevertTooltipsSelector(){var e=this.addWidgetPrefix(lA);return".dx-editor-cell .".concat(e)}_getValidationMessagesSelector(){var e=this.addWidgetPrefix(cA);return".dx-editor-cell .".concat(e,", .dx-cell-modified .").concat(e)}loseFocus(e){e||this._validatingController.setValidator(null),super.loseFocus()}updateCellState(e,i,n){var o,r=e?.closest(this._getFocusCellSelector()),a=r?.is("td")?r:null,s=r?.closest(".dx-row").data("options"),l=s?this._editingController.getChangeByKey(s.key):null,d=a&&this._columnsController.getVisibleColumns()[a.index()],u=((o=l?.data)===null||o===void 0?void 0:o[d?.name])!==void 0&&!this._editingController.isSaving();this._editingController.getEditMode()===Pf&&(i?.status===Gn.invalid||u?this._showRevertButton(r):this._revertTooltip&&this._revertTooltip.$element().remove());var c=i&&i.status===Gn.invalid;if(c&&a&&d&&i&&i.brokenRules){var p=[];i.brokenRules.forEach(g=>{g.message&&p.push(g.message)}),p.length&&this._showValidationMessage(r,p,d.alignment||"left")}!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()}focus(e,i){if(!arguments.length)return super.focus();if(this._hideValidationMessage(),e?.hasClass("dx-row")||e?.hasClass("dx-master-detail-cell"))return super.focus(e,i);var n=e?.closest(this._getFocusCellSelector()),o=n&&(n.data("dxValidator")||e.find(".".concat(this.addWidgetPrefix(bq))).eq(0).data("dxValidator")),r=n&&n.closest(".dx-row").data("options"),a=r?this._editingController.getChangeByKey(r.key):null,s;if(o){this._validatingController.setValidator(o);var l=o.option("adapter").getValue();if(wq(l,r)||this._validatingController._rowIsValidated(a))return this._editingController.waitForDeferredOperations().done(()=>{var d=!this._rowsView.isElementInside(e);d||A(this._validatingController.validateCell(o)).done(u=>{s=u;var{column:c}=s.validator.option("dataGetter")();a&&c&&!this._validatingController.isCurrentValidatorProcessing({rowKey:a.key,columnIndex:c.index})||(s.status===Gn.invalid&&(i=!0),this.updateCellState(e,s,i),super.focus.call(this,e,i))})}),super.focus(e,i)}return this.updateCellState(e,s,i),super.focus(e,i)}getEditorInstance(e){var i=e.find(".dx-texteditor").eq(0);return M.getWidgetInstance(i)}},DOe=t=>class extends t{_getValidationStatus(e){var i=kf(e)?e.status:e;return i||Gn.valid}_isCellChanged(e,i,n,o,r){var a,s,l=(a=e.cells)===null||a===void 0?void 0:a[o],d=this._getValidationStatus({status:l?.validationStatus}),u=this._validatingController.getCellValidationResult({rowKey:e.key,columnIndex:o}),c=this._validatingController._getValidationData(e.key),p=this._getValidationStatus(u),g=JSON.stringify(i.modifiedValues)!==JSON.stringify(e.modifiedValues),m=d!==p&&g,y=h(l?.cellElement).hasClass(this.addWidgetPrefix(Sq)),C=(s=l?.column.validationRules)===null||s===void 0?void 0:s.length,b=e.isEditing!==i.isEditing&&C,O=m||c.isValid&&y;return b||O?!0:super._isCellChanged.apply(this,arguments)}},wOe=t=>class extends t{updateFreeSpaceRowHeight(e){var i,n,o,r=this.element(),a=r&&r.find(".".concat(this.addWidgetPrefix(cA)," .dx-overlay-content"));if(super.updateFreeSpaceRowHeight(e),a&&a.length&&(i=this._getRowElements(),o=this._getFreeSpaceRowElements(e),n=o.first(),n&&i.length===1&&(!n.is(":visible")||oe(a)>oe(n))))return o.show(),fo(o,oe(a)),!0}_formItemPrepared(e,i){super._formItemPrepared.apply(this,arguments),si(()=>{var n=i.find(".dx-widget").first(),o=n.length&&!n.children().length;o||this._validatingController.createValidator(e,n)})}_cellPrepared(e,i){this._editingController.isFormOrPopupEditMode()||this._validatingController.createValidator(i,e),super._cellPrepared.apply(this,arguments)}_restoreErrorRow(e){this._editingController&&this._editingController.hasChanges()&&this._getRowElements(e).each((i,n)=>{var o=h(n).data("options");if(o){var r=this._editingController.getChangeByKey(o.key);r&&this._editingController._showErrorRow(r)}})}},Eq={defaultOptions:()=>({editing:{texts:{validationCancelChanges:w.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:hA},extenders:{controllers:{editing:xOe,editorFactory:bOe,data:DOe},views:{rowsView:wOe}}};P.registerModule("validating",Eq);var pA="scrolling.legacyMode",Fq=t=>t.option("scrolling.loadTwoPagesOnStart")||t._controller.isVirtual()||t._controller.getViewportItemIndex()>0,Px=t=>t._cache.length?t._cache[0].pageIndex:-1,gA=t=>t._cache.length?t._cache[t._cache.length-1].pageIndex:-1,Lx=(t,e,i)=>{t._isChangedFiring=!0,e(i),t._isChangedFiring=!1},Oq=(t,e,i)=>{if(t._isDelayChanged)return t._isDelayChanged=!1,Lx(t,e,i),!0},EOe=t=>{var e=t._dataOptions.pageSize(),i=t.option("scrolling.preventPreload");if(i)return 0;var n=t._controller.viewportSize();if(t._controller.isVirtualMode()&&t.option("scrolling.removeInvisiblePages")){n=0;for(var o=t._controller.viewportSize()*t._controller.viewportItemSize(),r=t._controller.getContentOffset(),a=t._controller.getViewportPosition(),s=t._controller.virtualItemsCount(),l=t._dataOptions.totalItemsCount(),d=s.begin;d<l&&!(r>=a+o);d++){var u=t._controller.getItemSizes()[d]||t._controller.viewportItemSize();r+=u,r>=a&&n++}}return e&&n>0?Math.ceil(n/e):1},Nx=(t,e)=>{var i=t.option("scrolling.preloadEnabled"),n=EOe(t),o=t._controller.isAppendMode();return n&&(e?n=i?1:0:(i&&n++,(o||!Fq(t))&&n--)),n},OOe=t=>{var e=-1,i=Px(t),n=t._dataOptions;if(i<0)e=t._pageIndex;else if(!t._cache[t._pageIndex-i])e=t._pageIndex;else if(i>=0&&t._controller.viewportSize()>=0){if(i>0){var o=gA(t)+1===n.pageCount()&&t._cache.length<Nx(t)+1,r=o||t._pageIndex===i&&Nx(t,!0);r&&(e=i-1)}if(e<0){var a=i+t._cache.length<=t._pageIndex+Nx(t);a&&(e=i+t._cache.length)}}return t._loadingPageIndexes[e]&&(e=-1),e},IOe=(t,e)=>{var i=t._dataOptions;if(e===t.pageIndex()||!i.isLoading()&&e<i.pageCount()||!i.hasKnownLastPage()&&e===i.pageCount())return i.pageIndex(e),t._loadingPageIndexes[e]=!0,A(i.load()).always(()=>{t._loadingPageIndexes[e]=!1})},Iq=(t,e,i,n,o)=>{var r=t._dataOptions,a=r.items().slice(),s=L(i)?i:void 0,l=i==="prepend",d=r.viewportItems();i&&N(i)&&!t._isDelayChanged&&(s={changeType:i,items:a},o&&(s.removeCount=o.itemsCount,s.removeCount&&r.correctCount&&(s.removeCount=r.correctCount(d,s.removeCount,l))));var u=o?o.itemsLength:0;u&&r.correctCount&&(u=r.correctCount(d,u,l)),i==="append"?(d.push.apply(d,a),o&&d.splice(0,u)):l?(d.unshift.apply(d,a),o&&d.splice(-u)):t._dataOptions.viewportItems(a),r.updateLoading(),t._lastPageIndex=t.pageIndex(),t._isDelayChanged=n,n||Lx(t,e,s)},Vx=class{constructor(e,i){this._dataOptions=i,this._controller=e,this._pageIndex=this._lastPageIndex=i.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(e){var i=this._dataOptions.pageSize(),n=this._dataOptions.pageCount(),o=this._controller.isVirtualMode(),r=this._controller.isAppendMode(),a=this._dataOptions.totalItemsCount(),s;if(i&&(o||r)&&a>=0){var l=this._controller.viewportSize();if(l&&e+l>=a&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){s=n-1;var d=a%i;s>0&&d>0&&d<l&&s--}else s=n;else{s=Math.floor(e/i);var u=n-1;s=Math.max(s,0),s=Math.min(s,u)}return this.pageIndex(s),this.load()}}pageIndex(e){var i=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return this.option(pA)!==!1&&(i||n)?(e!==void 0&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)}beginPageIndex(e){var i=Px(this);return i<0&&(i=e!==void 0?e:this.pageIndex()),i}endPageIndex(){var e=gA(this);return e>0?e:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var e=this._dataOptions,i,n=this._controller.isVirtualMode(),o=this._controller.isAppendMode();if(this.option(pA)!==!1&&(n||o)){var r=OOe(this);if(r>=0){var a=IOe(this,r);a&&(i=new S,a.done(()=>{var s=this._delayDeferred;s?s.done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),e.updateLoading())}}else i=e.load();return!i&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),i||new S().resolve()}loadIfNeed(){var e=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if((e||i)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}}handleDataChanged(e,i){var n=this._dataOptions,o=this._cache.length,r,a,s=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(i&&i.changes)Lx(this,e,i);else if(this.option(pA)!==!1&&(s||l)){var d=Px(this);if(d>=0&&(s&&d+this._cache.length!==n.pageIndex()&&d-1!==n.pageIndex()&&(o=0,this._cache=[]),l)){if(n.pageIndex()===0)this._cache=[];else if(n.pageIndex()<gA(this)){Lx(this,e,{changeType:"append",items:[]});return}}var u={pageIndex:n.pageIndex(),itemsLength:n.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&s?a=this._cache.length>Math.max(Nx(this)+(this.option("scrolling.preloadEnabled")?1:0),2):Oq(this,e,{isDelayed:!0});var c;d===n.pageIndex()+1?(a&&(c=this._cache.pop()),r="prepend",this._cache.unshift(u)):(a&&(c=this._cache.shift()),r="append",this._cache.push(u));var p=s&&o===0&&Fq(this);Iq(this,e,this._cache.length>1?r:void 0,p,c),this._delayDeferred=this.load().done(()=>{Oq(this,e)&&this.load()})}else Iq(this,e,i)}getDelayDeferred(){return this._delayDeferred}itemsCount(e){var i=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(o=>{i+=o.itemsCount}):i=this._dataOptions.itemsCount(),i}virtualItemsCount(){var e=Px(this);e<0&&(e=this._dataOptions.pageIndex());var i=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize(),o=Math.max(0,this._dataOptions.totalItemsCount()-n-i);return{begin:i,end:o}}reset(){this._loadingPageIndexes={},this._cache=[]}};var FOe="infinite",Mq="virtual",Hx="scrolling.legacyMode",Tq=t=>t.option("scrolling.mode")===Mq||t._isVirtual,TOe=t=>t.option("scrolling.mode")===FOe&&!t._isVirtual;function fA(t,e,i){var n,o=[],r=[],a=[];i=i||t;function s(c){var p=c.element?c.$element():c,g=Ei.offset(p);return g?c.scrollTop()-(g.top-t.offset().top):t.offset().top}var l={on(c,p,g){c.on("scroll",g)},off(c,p,g){c.off("scroll",g)}};function d(c){var p=c.get(0).nodeName==="#document",g=c.get(0).nodeType===G().Node.ELEMENT_NODE,m=c.data("dxScrollable"),y=l;if(!(!m&&(m=p&&h(G())||g&&c.css("overflowY")==="auto"&&c,y=_,!m))){var C=function(b){return function(){var O=b.scrollTop()-s(b);O=O>0?O:0,e(O)}}(m);y.on(m,"scroll",C),r.push(b=>{var O=s(m),k=m.scrollTo?"scrollTo":"scrollTop";b-O>=0&&m[k](b+O)}),o.push(m),a.push(()=>{y.off(m,"scroll",C)})}}var u=c=>{var p;return h((p=c.get(0).parentNode)!==null&&p!==void 0?p:c.get(0).host)};for(n=i.parent();n.length;n=u(n))d(n);return{scrollTo(c){x(r,(p,g)=>{g(c)})},dispose(){x(a,(c,p)=>{p()})}}}var Nf=class{constructor(e,i,n){this._dataOptions=i,this.component=e,this._viewportSize=e.option(Hx)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=de(),this._dataLoader=new Vx(this,this._dataOptions)}getItemSizes(){return this._itemSizes}option(e,i){return this.component.option.apply(this.component,arguments)}isVirtual(){return this._isVirtual}virtualItemsCount(){if(Tq(this)){var e=this._dataOptions,i=e.totalItemsCount();if(this.option(Hx)===!1&&i!==-1){var n=this.getViewportParams(),o=e.loadedOffset(),r=e.loadedItemCount(),a=Math.max(n.skip,o),s=Math.min(n.take,r),l=Math.max(i-(a+s),0);return{begin:a,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}}getScrollingTimeout(){var e,i=this.option("scrolling.renderAsync"),n=0;return f(i)?i&&(n=(e=this.option("scrolling.timeout"))!==null&&e!==void 0?e:0):(n=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),n<this.option("scrolling.renderingThreshold")&&(n=this.option("scrolling.minTimeout")||0)),n}setViewportPosition(e){var i=new S,n=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),n>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(e),i.resolve()},n):(this._setViewportPositionCore(e),i.resolve()),i.promise()}getViewportPosition(){return this._position}getItemIndexByPosition(e,i,n){e=e??this._position;for(var o=this.getItemSize(),r=0,a=0,s=Object.keys(this._itemSizes).concat(-1),l=0;l<s.length&&r<e;l++){var d=parseInt(s[l]),u=(e-r)/o;if(d<0||a+u<d){a+=u,this._sizeRatio<1&&f(i)&&(a=i+n/this._viewportItemSize);break}else u=d-a,r+=u*o,a+=u;var c=this._itemSizes[d];r+=c,a+=r<e?1:(e-r+c)/c}return Math.round(50*a)/50}isScrollingBack(){return this._isScrollingBack}_setViewportPositionCore(e){var i=this._position||0;this._position=e,i!==this._position&&(this._isScrollingBack=this._position<i);var n=this.getItemIndexByPosition(),o=this.setViewportItemIndex(n);return this.positionChanged.fire(),o}setContentItemSizes(e){var i=this.virtualItemsCount();if(this._contentSize=e.reduce((r,a)=>r+a,0),i){e.forEach((r,a)=>{this._itemSizes[i.begin+a]=r});var n=(i.begin+i.end+this.itemsCount())*this._viewportItemSize,o=M.getContentHeightLimit(be);n>o?this._sizeRatio=o/n:this._sizeRatio=1}}getItemSize(){return this._viewportItemSize*this._sizeRatio}getItemOffset(e,i){var n=this.virtualItemsCount(),o=e;if(!n)return 0;var r=0,a=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(s=>{o&&(i?s>=a-e:s<e)&&(r+=this._itemSizes[s],o--)}),Math.floor(r+o*this._viewportItemSize*this._sizeRatio)}getContentOffset(e){var i=e==="end",n=this.virtualItemsCount();return n?this.getItemOffset(i?n.end:n.begin,i):0}getVirtualContentSize(){var e=this.virtualItemsCount();return e?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0}getViewportItemIndex(){return this._viewportItemIndex}setViewportItemIndex(e){if(this._viewportItemIndex=e,this.option(Hx)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)}viewportItemSize(e){return e!==void 0&&(this._viewportItemSize=e),this._viewportItemSize}viewportSize(e){return e!==void 0&&(this._viewportSize=e),this._viewportSize}viewportHeight(e,i){var n=i??this._position,o=this.getItemIndexByPosition(n),r=this.getItemIndexByPosition(n+e,o,e);this.viewportSize(Math.ceil(r-o)),!f(i)&&this._viewportItemIndex!==o&&this._setViewportPositionCore(n)}reset(e){this._dataLoader.reset(),e||(this._itemSizes={})}subscribeToWindowScrollEvents(e){this._windowScroll=this._windowScroll||fA(e,i=>{this.viewportItemSize()&&this.setViewportPosition(i)})}dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null}scrollTo(e){this._windowScroll&&this._windowScroll.scrollTo(e)}isVirtualMode(){return Tq(this)}isAppendMode(){return TOe(this)}getViewportParams(){var e,i=this.option("scrolling.mode")===Mq,n=this._dataOptions.totalItemsCount(),o=this._dataOptions.hasKnownLastPage(),r=o&&this._viewportItemIndex>n?n:this._viewportItemIndex,a=this._viewportSize+r,s=this.option("scrolling.prerenderedRowChunkSize")||1,l=this.isScrollingBack(),d=(e=this.option("scrolling.prerenderedRowCount"))!==null&&e!==void 0?e:1,u=l?d:0,c=l?0:d,p=Math.floor(Math.max(0,r-u)/s)*s,g=Math.ceil((a+c-p)/s)*s;if(i){var m=Math.max(0,n-p);g=Math.min(g,m)}return{skip:p,take:g}}itemsCount(){var e=0;return this.option(Hx)?e=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):e=this._dataOptions.itemsCount(),e}pageIndex(){return this._dataLoader.pageIndex(...arguments)}beginPageIndex(){return this._dataLoader.beginPageIndex(...arguments)}endPageIndex(){return this._dataLoader.endPageIndex(...arguments)}pageSize(){return this._dataLoader.pageSize(...arguments)}load(){return this._dataLoader.load(...arguments)}loadIfNeed(){return this._dataLoader.loadIfNeed(...arguments)}handleDataChanged(){return this._dataLoader.handleDataChanged(...arguments)}getDelayDeferred(){return this._dataLoader.getDelayDeferred()}};var Aq="bottom-load-panel",MOe="group-space",kq="dx-freespace-row",AOe="dx-column-lines",Wx="dx-virtual-row",ROe="dx-row-inserted",BOe="infinite",kOe="virtual",Pq=300,Me="scrolling.legacyMode",mA="paging.pageIndex",POe=["beginPageIndex","endPageIndex","pageIndex"],ln=function(t){return t.option("scrolling.mode")===kOe},ra=function(t){return t.option("scrolling.mode")===BOe},fr=function(t){return ln(t)||ra(t)},Rq=function(t,e,i,n){for(var o=0;o<e+1;o++){var r=t[i?t.length-1-o:o];r&&!n(r,o===e,i)&&e++}return e},Gx=function(t,e){return t.rowType==="data"&&!t.isNewRow||t.rowType==="group"&&e.isGroupItemCountable(t.data)},NOe=function(t){return t.forEach((e,i)=>{e.rowIndex=i}),t},vA=function(t){var e=t._virtualScrollController.beginPageIndex(-1);ln(t)&&(e<0||t.viewportSize()>=0&&t.getViewportItemIndex()>=0&&(e*t.pageSize()>t.getViewportItemIndex()||e*t.pageSize()+t.itemsCount()<t.getViewportItemIndex()+t.viewportSize())&&t._dataSource.isLoading()?t._isLoading||(t._isLoading=!0,t.loadingChanged.fire(!0)):t._isLoading&&(t._isLoading=!1,t.loadingChanged.fire(!1)))},sn=function(t,e,i){if(t.option(Me)===!1&&POe.includes(e)){var n=t._dataSource;return n.pageIndex.apply(n,i)}var o=t._virtualScrollController;return o[e].apply(o,i)},Bq=function(t,e){var i=t.toArray().map(r=>h(r).parent(".".concat(e)).get(0)).filter(r=>r);i.length&&(t=h(i));for(var n=e===kq?t.length-1:t.length,o=0;o<n;o++)t.eq(o).remove()},Nq=t=>class extends t{init(){super.init.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new Nf(this.component,this._getVirtualScrollDataOptions())}dispose(){this._virtualScrollController.dispose(),super.dispose.apply(this,arguments)}_getVirtualScrollDataOptions(){var e=this;return{pageSize:()=>e.pageSize(),totalItemsCount:()=>e.totalItemsCount(),hasKnownLastPage:()=>e.hasKnownLastPage(),pageIndex:i=>e._dataSource.pageIndex(i),isLoading:()=>e._dataSource.isLoading()&&!e.isCustomLoading(),pageCount:()=>e.pageCount(),load:()=>e._dataSource.load(),updateLoading(){vA(e)},itemsCount:()=>e.itemsCount(!0),items:()=>e._dataSource.items(),viewportItems(i){return i&&(e._items=i),e._items},onChanged(i){e.changed.fire(i)},changingDuration(){return e.isLoading()?Pq:e._renderTime||0}}}_handleLoadingChanged(e){if(this.option(Me)===!1){super._handleLoadingChanged.apply(this,arguments);return}(!ln(this)||this._isLoadingAll)&&(this._isLoading=e,super._handleLoadingChanged.apply(this,arguments)),e?this._startLoadTime=new Date:this._startLoadTime=void 0}_handleLoadError(){this.option(Me)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),super._handleLoadError.apply(this,arguments)}_handleDataChanged(e){if(this.option(Me)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),super._handleDataChanged.apply(this,arguments);return}var i=super._handleDataChanged.bind(this);this._virtualScrollController.handleDataChanged(i,e)}_customizeRemoteOperations(e,i){var n=this.option(Me)===!1,o=this.option("scrolling.renderAsync");f(o)||(o=this._renderTime>=this.option("scrolling.renderingThreshold")),(ln(this)||ra(this)&&n)&&!i.reload&&(i.skip||n)&&!o&&(e.delay=void 0),super._customizeRemoteOperations.apply(this,arguments)}items(){return this._items}_dataSourceTotalCount(e){return this.option(Me)===!1&&ln(this)&&!e?this._totalCount:super._dataSourceTotalCount()}itemsCount(e){return e||this.option(Me)===!1?super.itemsCount():this._virtualScrollController.itemsCount()}load(e){return this.option(Me)===!1||e?super.load(e):this._virtualScrollController.load()}isLoading(){return this.option(Me)===!1?this._dataSource.isLoading():this._isLoading}isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded}resetPagesCache(e){e||this._virtualScrollController.reset(!0),super.resetPagesCache.apply(this,arguments)}_changeRowExpandCore(){var e=super._changeRowExpandCore.apply(this,arguments);return this.option(Me)===!1||(this.resetPagesCache(),vA(this)),e}reload(){this._dataSource.pageIndex(this.pageIndex());var e=this._virtualScrollController;if(this.option(Me)!==!1&&e){var i=new S;return super.reload.apply(this,arguments).done(n=>{var o=e.getDelayDeferred();o?o.done(i.resolve).fail(i.reject):i.resolve(n)}).fail(i.reject),i}return super.reload.apply(this,arguments)}refresh(e,i){if(this.option(Me)!==!1){var{storeLoadOptions:n}=e,o=this._dataSource;i.reload?(this._virtualScrollController.reset(),o.items().length=0,this._isLoaded=!1,vA(this),this._isLoaded=!0,ra(this)?(this.pageIndex(0),o.pageIndex(0),n.pageIndex=0,e.pageIndex=0,n.skip=0):(o.pageIndex(this.pageIndex()),o.paginate()&&(e.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):ra(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return super.refresh.apply(this,arguments)}loadPageCount(e){if(!f(e))return this._loadPageCount;this._loadPageCount=e}_handleDataLoading(e){var i=this.loadPageCount(),n=this.pageSize(),o=this.option(Me)===!1,{storeLoadOptions:r}=e,a=f(r.take);e.loadPageCount=i,!e.isCustomLoading&&o&&a&&i>1&&n>0&&(r.take=i*n),super._handleDataLoading.apply(this,arguments)}_loadPageSize(){return super._loadPageSize.apply(this,arguments)*this.loadPageCount()}beginPageIndex(){return sn(this,"beginPageIndex",[...arguments])}endPageIndex(){return sn(this,"endPageIndex",[...arguments])}pageIndex(e){return sn(this,"pageIndex",[...arguments])}virtualItemsCount(){return sn(this,"virtualItemsCount",[...arguments])}getContentOffset(){return sn(this,"getContentOffset",[...arguments])}getVirtualContentSize(){return sn(this,"getVirtualContentSize",[...arguments])}setContentItemSizes(){return sn(this,"setContentItemSizes",[...arguments])}setViewportPosition(){return sn(this,"setViewportPosition",[...arguments])}getViewportItemIndex(){return sn(this,"getViewportItemIndex",[...arguments])}setViewportItemIndex(e){return sn(this,"setViewportItemIndex",[...arguments])}getItemIndexByPosition(){return sn(this,"getItemIndexByPosition",[...arguments])}viewportSize(){return sn(this,"viewportSize",[...arguments])}viewportItemSize(){return sn(this,"viewportItemSize",[...arguments])}getItemSize(){return sn(this,"getItemSize",[...arguments])}getItemSizes(){return sn(this,"getItemSizes",[...arguments])}loadIfNeed(){return sn(this,"loadIfNeed",[...arguments])}},LOe=t=>class extends t{dispose(){var e=this._rowsScrollController;e&&e.dispose(),super.dispose.apply(this,arguments)}_refreshDataSource(){var e=super._refreshDataSource.apply(this,arguments)||new S().resolve().promise();return e.done(this.initVirtualRows.bind(this)),e}_loadDataSource(){var e;if(this._rowsScrollController&&fr(this)){var{loadPageCount:i}=f(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:0};i>=1&&((e=this._dataSource)===null||e===void 0||e.loadPageCount(i))}return super._loadDataSource.apply(this,arguments)}getRowPageSize(){var e=this.option("scrolling.rowPageSize"),i=this.pageSize();return i&&i<e?i:e}reload(){var e=this._rowsScrollController||this._dataSource,i=e&&e.getItemIndexByPosition(),n=super.reload.apply(this,arguments);return n&&n.done(()=>{var o,r;if(ln(this)||M.isVirtualRowRendering(this)){var a=this.getRowIndexOffset(),s=Math.floor(i)-a,{component:l}=this,d=l.getScrollable&&l.getScrollable(),u=this.dataSource().operationTypes().sorting;if(d&&!u&&s>=0){var c=l.getRowElement(s),p=c&&c[0]&&h(c[0]),g=p&&((o=p.position())===null||o===void 0?void 0:o.top),m=be.chrome&&Number((r=be.version)!==null&&r!==void 0?r:0)>=91,y=be.mozilla||m?1:0;g&&g>y&&(g=Math.round(g+oe(p)*(i%1)),d.scrollTo({y:g}))}}})}initVirtualRows(){var e=M.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&!e||!e||this.option(Me)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}var i=!ln(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(i*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(Me)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new Nf(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var n;if(this.option(Me)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(n=this._dataSource)===null||n===void 0||n.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(Me)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(Me)!==!1&&this._rowsScrollController.load()}isViewportChanging(){return this._viewportChanging}_getRowsScrollDataOptions(){var e=this,i=function(n){return Gx(n,e._dataSource)};return{pageSize:()=>e.getRowPageSize(),loadedOffset(){var n;return ln(e)&&((n=e._dataSource)===null||n===void 0?void 0:n.lastLoadOptions().skip)||0},loadedItemCount:()=>e._itemCount,totalItemsCount(){return fr(e)?e.totalItemsCount():e.option(Me)===!1?e._itemCount:e._items.filter(i).length},hasKnownLastPage:()=>e.option(Me)===!1?e.hasKnownLastPage():!0,pageIndex(n){return n!==void 0&&(e._rowPageIndex=n),e._rowPageIndex},isLoading:()=>e.isLoading(),pageCount(){var n=Math.ceil(this.totalItemsCount()/this.pageSize());return n||1},load(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&e._rowsScrollController.handleDataChanged(n=>{n=n||{},n.changeType=n.changeType||"refresh",n.items=n.items||e._visibleItems,e._visibleItems.forEach((o,r)=>{o.rowIndex=r}),e._fireChanged(n)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(n,o,r)=>Rq(n,o,r,(a,s,l)=>a.isNewRow?s&&!l:s&&l?!a.isNewRow:i(a)),items(n){var o=e._items;if(e.option(Me)){var r=e.dataSource(),a=r?.virtualItemsCount(),s=a?a.begin:0,l=e.getRowPageSize(),d=e._rowPageIndex*l-s,u=l;if(d<0)return[];d&&(d=this.correctCount(o,d),o=o.slice(d)),u&&(u=this.correctCount(o,u),o=o.slice(0,u))}return n?o.filter(i):o},viewportItems(n){return n&&e.option(Me)!==!1&&(e._visibleItems=n),e._visibleItems},onChanged(){},changingDuration(){var n=e.dataSource();return n?.isLoading()&&e.option(Me)!==!1?Pq:n?._renderTime||0}}}_updateItemsCore(e){var i=this.getRowIndexDelta();if(super._updateItemsCore.apply(this,arguments),this.option(Me)===!1&&M.isVirtualRowRendering(this)){e.changeType==="update"&&e.rowIndices.length===0&&e.cancelEmptyChanges&&(e.cancel=!0);return}var n=this._rowsScrollController;if(n){var o=this._visibleItems,r=e.changeType==="refresh"||e.isLiveUpdate;if(e.changeType==="append"&&e.items&&!e.items.length)return;r||e.changeType==="append"||e.changeType==="prepend"?(e.cancel=!0,r&&n.reset(!0),n.load()):(e.changeType==="update"?e.rowIndices.forEach((a,s)=>{var l=e.changeTypes[s],d=e.items[s];l==="update"?o[a]=d:l==="insert"?o.splice(a,0,d):l==="remove"&&o.splice(a,1)}):(o.forEach((a,s)=>{o[s]=this._items[s+i]||o[s]}),e.items=o),NOe(o))}}_updateLoadViewportParams(){var e=this._rowsScrollController.getViewportParams(),i=this.pageSize();if(e&&!fr(this)&&i>0){var n=this.pageIndex()*i;e.skip+=n}this._loadViewportParams=e}_processItems(){var e,i=super._processItems.apply(this,arguments);if(this.option(Me)===!1){var n=this._dataSource,o=(e=n?.lastLoadOptions().skip)!==null&&e!==void 0?e:0,r,a,s,l=!1,d=[];i.forEach(u=>{var{rowType:c}=u,p=Gx(u,n),g=c==="group"&&(r||p||a!=="group"&&o>0),m=c==="data"&&p&&(r||a!=="group");if(!u.isNewRow&&f(r)){var y=s&&!l;(g||m)&&!y&&o++}(g||m)&&(l=!0),u.isNewRow?d.push(u):(d.forEach(C=>{C.loadIndex=o}),d=[]),u.loadIndex=o,r=p,a=c,s=u.isNewRow}),d.forEach(u=>{u.loadIndex=o})}return i}_afterProcessItems(e){if(this._itemCount=e.filter(a=>Gx(a,this._dataSource)).length,f(this._loadViewportParams)){this._updateLoadViewportParams();var i=e;if(this._allItems=e,e.length){var{skipForCurrentPage:n}=this.getLoadPageParams(!0),o=e[0].loadIndex+n,{take:r}=this._loadViewportParams;i=e.filter(a=>{var s=a.isNewRow&&a.loadIndex===o&&r===0,l=a.loadIndex>=o,d=a.loadIndex<o+r||s;return l&&d})}return i}return super._afterProcessItems.apply(this,arguments)}_applyChange(e){var i=this,{items:n}=e,{changeType:o}=e,{removeCount:r}=e;if(r){var a=o==="prepend";r=Rq(i._items,r,a,(s,l)=>s.rowType==="data"&&!s.isNewRow||s.rowType==="group"&&(i._dataSource.isGroupItemCountable(s.data)||l)),e.removeCount=r}switch(o){case"prepend":i._items.unshift.apply(i._items,n),r&&i._items.splice(-r);break;case"append":i._items.push.apply(i._items,n),r&&i._items.splice(0,r);break;default:super._applyChange(e)}}items(e){return e?this._allItems||this._items:this._visibleItems||this._items}getRowIndexDelta(){var e=0;if(this.option(Me)){var i=this._visibleItems;i&&i[0]&&(e=this._items.indexOf(i[0]))}return e<0?0:e}getRowIndexOffset(e,i){var n,o,r=0,a=this.dataSource(),s=this._rowsScrollController,l=this.option(Me)===!1,d=fr(this);if(s&&!e)if(l&&f(this._loadViewportParams)){var{skipForCurrentPage:u,pageIndex:c}=this.getLoadPageParams(!0),p=this.items(!0);if(r=d?c*this.pageSize():0,p.length){var g=p[0].loadIndex;r+=p.filter(y=>y.loadIndex<g+u).length}}else r=s.beginPageIndex()*s.pageSize();else if(d&&l&&a){var m=a.lastLoadOptions();i&&(!((n=m.skips)===null||n===void 0)&&n.length)?r=m.skips.reduce((y,C)=>y+C,0):r=(o=m.skip)!==null&&o!==void 0?o:0}else ln(this)&&a&&(r=a.beginPageIndex()*a.pageSize());return r}getDataIndex(){return this.option(Me)===!1?this.getRowIndexOffset(!0,!0):super.getDataIndex.apply(this,arguments)}viewportSize(){var e=this._rowsScrollController,i=this._dataSource,n=e?.viewportSize.apply(e,arguments);return this.option(Me)===!1?n:i?.viewportSize.apply(i,arguments)}viewportHeight(e,i){var n;(n=this._rowsScrollController)===null||n===void 0||n.viewportHeight(e,i)}viewportItemSize(){var e=this._rowsScrollController,i=this._dataSource,n=e?.viewportItemSize.apply(e,arguments);return this.option(Me)===!1?n:i?.viewportItemSize.apply(i,arguments)}setViewportPosition(){var e=this._rowsScrollController,i=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):i?.setViewportPosition.apply(i,arguments)}setContentItemSizes(e){var i=this._rowsScrollController,n=this._dataSource,o=i?.setContentItemSizes(e);return this.option(Me)===!1?o:n?.setContentItemSizes(e)}getPreloadedRowCount(){var e=this.option("scrolling.preloadedRowCount"),i=this.option("scrolling.preloadEnabled");if(f(e))return e;var n=this.viewportSize();return i?2*n:n}getLoadPageParams(e){var i,n,o=this.pageSize(),r=this._loadViewportParams,a=(i=this._dataSource)===null||i===void 0?void 0:i.lastLoadOptions(),s=a?.pageIndex||0,l=a?.take||0,d=this._rowsScrollController.isScrollingBack(),u=d?this.getPreloadedRowCount():0,c=d?0:this.getPreloadedRowCount(),p=((n=this._dataSource)===null||n===void 0?void 0:n.totalCountCorrection())||0,g=Math.max(0,r.skip-u),m=e?s:Math.floor(o?g/o:0),y=m*o,C=r.skip-y,b=r.take+C+c-p,O=e?l:b,k=Math.ceil(o?O/o:0);return{pageIndex:m,loadPageCount:Math.max(1,k),skipForCurrentPage:Math.max(0,C)}}_updateVisiblePageIndex(e){if(this._rowsScrollController){if(f(e)){this._silentOption(mA,e),this.pageChanged.fire();return}var i=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(i/this.pageSize());this.pageIndex()!==n&&(this._silentOption(mA,n),this.updateItems({changeType:"pageIndex"}))}}_getChangedLoadParams(){var e=this.getLoadPageParams(!0),{pageIndex:i,loadPageCount:n}=this.getLoadPageParams(),o=this._pageIndexIsValid(i),r=null;return!this._isLoading&&o&&(i!==e.pageIndex||n!==e.loadPageCount)&&(r={pageIndex:i,loadPageCount:n}),r}_pageIndexIsValid(e){var i=!0;return(ra(this)&&this.hasKnownLastPage()||ln(this))&&(i=e*this.pageSize()<this.totalItemsCount()),i}_loadItems(e,i){var n,o,r=fr(this),a=this._dataSource,s=this._getChangedLoadParams(),l=(n=a?.loadPageCount())!==null&&n!==void 0?n:0,d=this.pageSize()*l,u=(o=a?.pageIndex())!==null&&o!==void 0?o:0,c=s?.pageIndex===u,p=ra(this)&&this.totalItemsCount()<d,g=this.option("editing.refreshMode")==="repaint",m=s?.pageIndex>u,y=!1;if(!a||r&&e&&(g&&i||m||c&&p))return y;if(r&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),r&&s){y=!0,a.pageIndex(s.pageIndex),a.loadPageCount(s.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var C=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var b=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(C||b)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return y}loadViewport(e){var i,n,o,{checkLoadedParamsOnly:r,checkLoading:a,viewportIsNotFilled:s}=e??{},l=fr(this);if(l||M.isVirtualRowRendering(this)){this._updateLoadViewportParams();var d=this._loadItems(a,!s),u=(i=this._dataSource)===null||i===void 0?void 0:i.isCustomLoading(),c=a&&!u&&this._isLoading,p=!(d||c||r);if(p){var g=!(!((o=(n=this._editingController)===null||n===void 0?void 0:n.getChanges())===null||o===void 0)&&o.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:g,cancelEmptyChanges:!0})}}}updateViewport(){var e,i,n=this.viewportSize(),o=this.items().length,r=n>o,a=(i=(e=this._loadViewportParams)===null||e===void 0?void 0:e.take)!==null&&i!==void 0?i:0,s=this._rowsScrollController,l=s?.getViewportParams().take;(r||a<l)&&!this._isPaging&&o&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:r})}loadIfNeed(){if(this.option(Me)!==!1){var e=this._rowsScrollController;e&&e.loadIfNeed();var i=this._dataSource;return i&&i.loadIfNeed()}}getItemSize(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var i=this._dataSource;return i&&i.getItemSize.apply(i,arguments)}getItemSizes(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var i=this._dataSource;return i&&i.getItemSizes.apply(i,arguments)}getContentOffset(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var i=this._dataSource;return i&&i.getContentOffset.apply(i,arguments)}refresh(e){var i=this._dataSource;return i&&e&&e.load&&ra(this)&&i.resetCurrentTotalCount(),super.refresh.apply(this,arguments)}topItemIndex(){var e;return(e=this._loadViewportParams)===null||e===void 0?void 0:e.skip}bottomItemIndex(){var e=this._loadViewportParams;return e&&e.skip+e.take}virtualItemsCount(){var e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);var i=this._dataSource;return i?.virtualItemsCount.apply(i,arguments)}pageIndex(e){var i,n=fr(this),o=this._rowsScrollController;return this.option(Me)===!1&&n&&o&&e===void 0?(i=this.option(mA))!==null&&i!==void 0?i:0:super.pageIndex.apply(this,arguments)}_fireChanged(e){super._fireChanged.apply(this,arguments);var{operationTypes:i}=e;if(this.option(Me)===!1&&fr(this)&&i){var{fullReload:n,pageIndex:o}=i;e.isDataChanged&&!n&&o&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}}_getPagingOptionValue(e){var i=super._getPagingOptionValue.apply(this,arguments);return this.option(Me)===!1&&fr(this)&&(i=this[e]()),i}isEmpty(){return this.option(Me)===!1?!this.items(!0).length:super.isEmpty.apply(this,arguments)}isLastPageLoaded(){var e=!1;if(this.option(Me)===!1&&fr(this)){var{pageIndex:i,loadPageCount:n}=this.getLoadPageParams(!0),o=this.pageCount();e=i+n>=o}else e=super.isLastPageLoaded.apply(this,arguments);return e}reset(){this._itemCount=0,this._allItems=null,super.reset.apply(this,arguments)}_applyFilter(){var e;return(e=this._dataSource)===null||e===void 0||e.loadPageCount(1),super._applyFilter.apply(this,arguments)}getVirtualContentSize(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.getVirtualContentSize.apply(this._dataSource,arguments)}setViewportItemIndex(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.setViewportItemIndex.apply(this._dataSource,arguments)}},VOe=t=>class extends t{dispose(){super.dispose.apply(this,arguments),clearTimeout(this._resizeTimeout)}_updateMasterDataGridCore(e){return A(super._updateMasterDataGridCore.apply(this,arguments)).done(i=>{var n=ln(e)&&e.option(Me)===!1;if(!i&&n){var o=e.getScrollable();o&&e.updateDimensions()}})}hasResizeTimeout(){return!!this._resizeTimeout}resize(){var e;if(ln(this)||M.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var i=new Date-this._lastTime,n=this.option("scrolling.updateTimeout");this._lastTime&&i<n?(e=new S,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,super.resize.apply(this).done(e.resolve).fail(e.reject),this._lastTime=new Date},n),this._lastTime=new Date):(e=super.resize.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=super.resize.apply(this);return e}},HOe=t=>class extends t{init(){var e;super.init(),this._dataController.pageChanged.add(i=>{var n=this._scrollTop;this.scrollToPage(i??this._dataController.pageIndex()),this.option(Me)===!1&&this._scrollTop===n&&this._dataController.updateViewport()}),this._dataController.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(e=this._dataController.stateLoaded)===null||e===void 0||e.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()}dispose(){clearTimeout(this._scrollTimeoutID),super.dispose()}_scrollToCurrentPageOnResize(){if(this._dataController.pageIndex()>0){var e=()=>{this.resizeCompleted.remove(e),this.scrollToPage(this._dataController.pageIndex())};this.resizeCompleted.add(e)}}scrollToPage(e){var i=this._dataController?this._dataController.pageSize():0,n;if(ln(this)||ra(this)){var o=this._dataController.getItemSize(),r=this._dataController.getItemSizes(),a=e*i;n=a*o;for(var s in r)parseInt(s)<a&&(n+=r[s]-o)}else n=0;this.scrollTo({y:n,x:this._scrollLeft})}renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),super.renderDelayedTemplates.apply(this,arguments)}_renderCore(e){var i=new Date,n=super._renderCore.apply(this,arguments),o=this._dataController._dataSource;if(o&&e){var r=e.items?e.items.length:20,a=this._dataController.viewportSize()||20;M.isVirtualRowRendering(this)&&r>0&&this.option(Me)!==!1?o._renderTime=(new Date-i)*a/r:o._renderTime=new Date-i}return n}_getRowElements(e){var i=super._getRowElements(e);return i&&i.not(".".concat(Wx))}_removeRowsElements(e,i,n){var o=this._getRowElements(e).toArray();n==="append"?o=o.slice(0,i):o=o.slice(-i),o.map(r=>{var a=h(r);this._errorHandlingController&&this._errorHandlingController.removeErrorRow(a.next()),a.remove()})}_updateContent(e,i){var n,o=this._findContentElement(),r=i&&i.changeType,a=S(),s=o.children().first();return r==="append"||r==="prepend"?this.waitAsyncTemplates().done(()=>{var l=this._getBodies(e);l.length===1?this._getBodies(s)[r==="append"?"append":"prepend"](l.children()):l[r==="append"?"appendTo":"prependTo"](s),e.remove(),n=this._getFreeSpaceRowElements(s),Bq(n,kq),i.removeCount&&this._removeRowsElements(s,i.removeCount,r),this._restoreErrorRow(s),a.resolve()}).fail(a.reject):super._updateContent.apply(this,arguments).done(()=>{r==="update"&&this._restoreErrorRow(s),a.resolve()}).fail(a.reject),a.promise().done(()=>{this._updateBottomLoading()})}_addVirtualRow(e,i,n,o){if(o){var r=this._createEmptyRow(Wx,i,o);r=this._wrapRowIfNeed(e,r),this._appendEmptyRow(e,r,n)}}_updateContentItemSizes(){var e=this._getRowHeights(),i=this._correctRowHeights(e);this._dataController.setContentItemSizes(i)}_updateViewportSize(e,i){f(e)||(e=this._hasHeight?oe(this.element()):oe(G())),this._dataController.viewportHeight(e,i)}_getRowHeights(){var e,i,n=(i=(e=this._editingController)===null||e===void 0?void 0:e.isPopupEditMode)===null||i===void 0?void 0:i.call(e),o=this._getRowElements(this._tableElement).toArray();return n&&(o=o.filter(r=>!h(r).hasClass(ROe))),o.map(r=>Ze(r).height)}_correctRowHeights(e){for(var i=this._dataController,n=i._dataSource,o=[],r=i.getVisibleRows(),a=0,s=!0,l=-1,d=0;d<e.length;d++){var u=r[d];f(u)&&(this.option(Me)===!1?(l>=0&&l!==u.loadIndex&&(o.push(a),a=0),l=u.loadIndex):Gx(u,n)&&(s?s=!1:(o.push(a),a=0)),a+=e[d])}return a>0&&o.push(a),o}_updateContentPosition(e){var i=this._rowHeight||20;if(this._dataController.viewportItemSize(i),ln(this)||M.isVirtualRowRendering(this)){e||this._updateContentItemSizes();var n=this._dataController.getContentOffset("begin"),o=this._dataController.getContentOffset("end"),r=this.getTableElements(),a=r.children("tbody").children(".".concat(Wx));Bq(a,Wx),r.each((s,l)=>{var d=s>0,u=this._isFixedTableRendering;this._isFixedTableRendering=d,this._addVirtualRow(h(l),d,"top",n),this._addVirtualRow(h(l),d,"bottom",o),this._isFixedTableRendering=u})}}_isTableLinesDisplaysCorrect(e){var i=e.find(".".concat(AOe)).length>0;return i===this.option("showColumnLines")}_isColumnElementsEqual(e,i){var n=e.length===i.length;return n&&x(e,(o,r)=>{if(r.style.width!==i[o].style.width)return n=!1,n}),n}_getCellClasses(e){var i=[],{cssClass:n}=e,o=e.command==="expand";return n&&i.push(n),o&&i.push(this.addWidgetPrefix(MOe)),i}_findBottomLoadPanel(e){var i=e||this.element(),n=i&&i.find(".".concat(this.addWidgetPrefix(Aq)));if(n&&n.length)return n}_updateBottomLoading(){var e=ln(this),i=ra(this),n=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||i),o=this._findContentElement(),r=this._findBottomLoadPanel(o);n?r||h("<div>").addClass(this.addWidgetPrefix(Aq)).append(this._createComponent(h("<div>"),ci).$element()).appendTo(o):r&&r.remove()}_handleScroll(e){var i=this.option(Me)===!0,n=e.scrollOffset.top===0,o=this._scrollTop!==e.scrollOffset.top,r=o||e.forceUpdateScrollPosition,a=this._hasHeight||!i&&n;if(r&&a&&this._rowHeight){this._scrollTop=e.scrollOffset.top;var s=ln(this)||this.option("scrolling.rowRenderingMode")!=="standard";s&&this.option(Me)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)}super._handleScroll.apply(this,arguments)}_needUpdateRowHeight(e){return super._needUpdateRowHeight.apply(this,arguments)||e>0&&ra(this)&&!M.isVirtualRowRendering(this)}_updateRowHeight(){if(super._updateRowHeight.apply(this,arguments),this._rowHeight){this._updateContentPosition();var e=this._hasHeight?oe(this.element()):oe(G());this.option(Me)===!1?(this._updateViewportSize(e),this._dataController.updateViewport()):this._dataController.viewportSize(Math.ceil(e/this._rowHeight))}}updateFreeSpaceRowHeight(){var e=super.updateFreeSpaceRowHeight.apply(this,arguments);return e&&this._updateContentPosition(),e}setLoading(e,i){var n=this._dataController,o=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();this.option(Me)===!1&&e&&n.isViewportChanging()||(o&&(e=!1),super.setLoading.call(this,e,i))}throwHeightWarningIfNeed(){if(this._hasHeight!==void 0){var e=!this._hasHeight&&fr(this);e&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,X.log("W1025"))}}_resizeCore(){var e=this,i=e.element();super._resizeCore(),this.throwHeightWarningIfNeed(),e.component.$element()&&!e._windowScroll&&js(i)&&(e._windowScroll=fA(i,n=>{!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(n)},e.component.$element()),e.on("disposing",()=>{e._windowScroll.dispose()})),this.option(Me)!==!1&&e.loadIfNeed()}loadIfNeed(){var e,i;(i=(e=this._dataController)===null||e===void 0?void 0:e.loadIfNeed)===null||i===void 0||i.call(e)}_restoreErrorRow(e){var i;this.option(Me)===!1&&((i=this._errorHandlingController)===null||i===void 0||i.removeErrorRow()),super._restoreErrorRow.apply(this,arguments)}},Lq={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{controllers:{data:LOe,resizing:VOe},views:{rowsView:HOe}}};P.registerModule("virtualScrolling",Lq);gl.extend(Nq);var WOe=.9,zx=(t,e)=>{var i=h(G()),{top:n}=t.offset(),o;if(ve(e)){if(e<n)return n-e;o=Ku(i)-e+i.scrollTop()}else{var r=n-i.scrollTop(),a=Ku(i)-r-oe(t);o=Math.max(r,a)}return o*WOe};var GOe="dx-context-menu-content-delimiter",zOe="dx-submenu",_A=class extends Wy{_getDefaultOptions(){return v(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:D})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=h("<div>").appendTo(this._itemContainer()).addClass(GOe)}_getOverlayOptions(){return v(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(e){var i=this.option("onHoverStart");i(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:V(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:V(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:V(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:V(e),submenu:this})}_showDelimiter(e){if(this.$contentDelimiter){var i=this._itemContainer().children(".".concat(zOe)).eq(0),n=this.option("position").of.find(".dx-context-menu-container-border"),o={of:i,precise:!0},r=e.position,a=r.v.location,s=r.h.location,l=n.offset(),d=Math.round(l.left),u=Math.round(l.top),c=H(n),p=Y(n),g=H(i),m=Y(i);this.$contentDelimiter.css("display","block"),$u(this.$contentDelimiter,this._isMenuHorizontal()?c<g?c:g:3),fo(this.$contentDelimiter,this._isMenuHorizontal()?3:p<m?p:m),this._isMenuHorizontal()?a>u?Math.round(s)===d?(o.offset="0 -2.5",o.at=o.my="left top"):(o.offset="0 -2.5",o.at=o.my="right top"):(fo(this.$contentDelimiter,5),Math.round(s)===d?(o.offset="0 5",o.at=o.my="left bottom"):(o.offset="0 5",o.at=o.my="right bottom")):s>d?Math.round(a)===u?(o.offset="-2.5 0",o.at=o.my="left top"):(o.offset="-2.5 0",o.at=o.my="left bottom"):Math.round(a)===u?(o.offset="2.5 0",o.at=o.my="right top"):(o.offset="2.5 0",o.at=o.my="right bottom"),Ei.setup(this.$contentDelimiter,o)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}},Ux=_A;var Pd="dx-menu",UOe=Pd+"-vertical",Vq=Pd+"-horizontal",CA=Pd+"-item",Hq=Pd+"-items-container",yA=CA+"-expanded",jx="dx-context-menu",xA=jx+"-container-border",jOe="dx-context-menu-content-delimiter",$Oe="dx-submenu",KOe="dx-state-disabled",Wq="dx-state-hover",qOe="dx-state-active",$x=Pd+"-adaptive-mode",Gq=Pd+"-hamburger-button",YOe=$x+"-overlay-wrapper",QOe="up",JOe="down",XOe="left",ZOe="right",Lf="showSubmenu",uh="nextItem",Sl="prevItem",eIe={show:50,hide:300},zq=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"],Kx=class extends Ly{_getDefaultOptions(){return v(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),v(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var e=super._itemElements(),i=this._submenuItemElements();return e.add(i)}_submenuItemElements(){var e=[],i=".".concat(CA),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(e=n.itemsContainer().find(i)),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(e){var i=this._getAvailableItems(),n=this._isMenuHorizontal(),o=this._getActiveItem(!0),r,a,s,l;switch(e){case QOe:a=n?Lf:this._getItemsNavigationOperation(Sl),r=n?o:i,s=this._getKeyboardNavigationAction(a,r),l=s();break;case JOe:a=n?Lf:this._getItemsNavigationOperation(uh),r=n?o:i,s=this._getKeyboardNavigationAction(a,r),l=s();break;case ZOe:a=n?this._getItemsNavigationOperation(uh):Lf,r=n?i:o,s=this._getKeyboardNavigationAction(a,r),l=s();break;case XOe:a=n?this._getItemsNavigationOperation(Sl):Lf,r=n?i:o,s=this._getKeyboardNavigationAction(a,r),l=s();break;default:return super._moveFocus(e)}l&&l.length!==0&&this.option("focusedElement",V(l))}_getItemsNavigationOperation(e){var i=e;return this.option("rtlEnabled")&&(i=e===Sl?uh:Sl),i}_getKeyboardNavigationAction(e,i){var n=D;switch(e){case Lf:i.hasClass(KOe)||(n=this._showSubmenu.bind(this,i));break;case uh:n=this._nextItem.bind(this,i);break;case Sl:n=this._prevItem.bind(this,i)}return n}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var e=this.$element().find("ul").first().children("li").children(".".concat(CA));this._menuItemsWidth=this._getSummaryItemsWidth(e,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var e=ee(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},x(zq,(e,i)=>{this._actions[i]=this._createActionByOption(i)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(Pd),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new xt(h("<div>").addClass(Gq),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){q(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),e&&this._treeView.focus(),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass(qOe,e)}_toggleAdaptiveMode(e){var i=this.$element().find(".".concat(Vq)),n=this.$element().find(".".concat($x));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),i.toggle(!e),n.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e=this.option("rtlEnabled"),i=e?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>zx(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:n=>!h(n.target).closest(".".concat(Gq)).length,position:{collision:"flipfit",at:"bottom "+i,my:"top "+i,of:this._hamburger.$element()}}}_getTreeViewOptions(){var e={};return x(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(i,n)=>{e[n]=this.option(n)}),x(["onItemContextMenu","onSelectionChanged","onItemRendered"],(i,n)=>{e[n]=o=>{this._actions[n](o)}}),v(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:i=>{this._overlay.repaint(),this._actions.onSubmenuShown(i)},onItemCollapsed:i=>{this._overlay.repaint(),this._actions.onSubmenuHidden(i)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click",_supportItemUrl:!0})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=h("<div>").addClass($x);var e=this._renderHamburgerButton();this._treeView=this._createComponent(h("<div>"),ml,this._getTreeViewOptions()),this._overlay=this._createComponent(h("<div>"),yn,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass($x).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(YOe),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(e){var i=this.option("showFirstSubmenuMode").delay;return f(i)?L(i)?i[e]:i:eIe[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){var e=h("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?Vq:UOe),super._renderContainer(e)}_renderSubmenuItems(e,i){var n=this._createSubmenu(e,i);return this._submenus.push(n),this._renderBorderElement(i),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,i){var n=h("<div>").addClass(jx).appendTo(i),o=this._getChildNodes(e),r=this._createComponent(n,Ux,v(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:o,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(i)}));return this._attachSubmenuHandlers(i,r),r}_getSubmenuOptions(){var e=h("<div>"),i=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:n=>{n.component.option("visible")&&this.option("focusedElement",n.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:i?null:this._moveMainMenuFocus.bind(this,Sl),onLeftLastItem:i?null:this._moveMainMenuFocus.bind(this,uh),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,i?Sl:null),onExpandLastSubmenu:i?this._moveMainMenuFocus.bind(this,uh):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return L(e)?e.name:e}_moveMainMenuFocus(e){var i=this._getAvailableItems(),n=i.length,o=i.filter(".".concat(yA)).eq(0),r=i.index(o);this._hideSubmenu(this._visibleSubmenu),r+=e===Sl?-1:1,r>=n?r=0:r<0&&(r=n-1);var a=i.eq(r);this.option("focusedElement",V(a))}_nestedItemOnSelectionChangedHandler(e){var i=e.addedItems.length&&e.addedItems[0],n=Ux.getInstance(e.element),o=this._actions.onSelectionChanged;o(e),i&&this._clearSelectionInSubmenus(i[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",i)}_clearSelectionInSubmenus(e,i){var n=!arguments.length;x(this._submenus,(o,r)=>{var a=r._itemContainer(),s=!a.is(i&&i._itemContainer()),l=a.find(".".concat(this._selectedItemClass()));if(s&&l.length||n){l.removeClass(this._selectedItemClass());var d=this._getItemData(l);d&&(d.selected=!1),r._clearSelectedItems()}})}_clearRootSelection(){var e=this.$element().find(".".concat(Hq)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var i=this._getItemData(e);i.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,i){var n=i.getOverlayContent(),o=n.find(".".concat($Oe)),r=F(Ys,this.NAME+"_submenu");i.option({onShowing:this._submenuOnShowingHandler.bind(this,e,i),onShown:this._submenuOnShownHandler.bind(this,e,i),onHiding:this._submenuOnHidingHandler.bind(this,e,i),onHidden:this._submenuOnHiddenHandler.bind(this,e,i)}),x(o,(a,s)=>{_.off(s,r),_.on(s,r,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,i){var n=e.children(".".concat(xA));this._actions.onSubmenuShowing({rootItem:V(e),submenu:i}),n.show(),e.addClass(yA)}_submenuOnShownHandler(e,i){this._actions.onSubmenuShown({rootItem:V(e),submenu:i})}_submenuOnHidingHandler(e,i,n){var o=e.children(".".concat(xA)),r=n;r.rootItem=V(e),r.submenu=i,this._actions.onSubmenuHiding(r),n=r,n.cancel||(this._visibleSubmenu===i&&(this._visibleSubmenu=null),o.hide(),e.removeClass(yA))}_submenuOnHiddenHandler(e,i){this._actions.onSubmenuHidden({rootItem:V(e),submenu:i})}_submenuMouseLeaveHandler(e,i){var n=h(i.relatedTarget).parents(".".concat(jx))[0],o=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==o&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var e=h(this._visibleSubmenu.$element().context).hasClass(Wq),i=this._visibleSubmenu.getOverlayContent().find(".".concat(Wq)).length,n=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!n&&!i&&!e&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(e){if(!e)return!1;var i=e.children(".".concat(jx));return i.length&&Ux.getInstance(i)}getSubmenuPosition(e){var i=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),o=this.option("rtlEnabled"),r={collision:"flip",of:e,precise:!0};switch(n){case"leftortop":r.at="left top",r.my=i?"left bottom":"right top";break;case"rightorbottom":r.at=i?"left bottom":"right top",r.my="left top";break;default:i?(r.at=o?"right bottom":"left bottom",r.my=o?"right top":"left top"):(r.at=o?"left top":"right top",r.my=o?"right top":"left top")}return r}_renderBorderElement(e){h("<div>").appendTo(e).addClass(xA).hide()}_itemPointerDownHandler(e){var i=h(e.target),n=i.closest(this._itemElements());if(n.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(e)}_hoverStartHandler(e){var i=F(ae.move,this.NAME),n=this._getItemElementByEventArgs(e),o=this._dataAdapter.getNodeByItem(this._getItemData(n)),r=f(e.buttons)&&e.buttons===1||!f(e.buttons)&&e.which===1;if(!this._isItemDisabled(n)){if(_.off(n,i),!this._hasChildren(o)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!r){var a=this._getSubmenuByElement(n);this._clearTimeouts(),a.isOverlayVisible()||(_.on(n,i,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(e){var i=this._getItemElementByEventArgs(e),n=h(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),!this._isItemDisabled(i)&&(n.hasClass(jOe)||this.option("hideSubmenuOnMouseLeave")&&!n.hasClass(Hq)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){var i=this._getSubmenuByElement(e);this._visibleSubmenu!==i&&this._hideVisibleSubmenu(),i&&(this._clearTimeouts(),this.focus(),i.show(),this.option("focusedElement",i.option("focusedElement"))),this._visibleSubmenu=i,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(!(e.pointers&&e.pointers.length)){var i=h(e.currentTarget);f(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var n=this._getSubmenuByElement(i);n&&!n.isOverlayVisible()&&this._showSubmenu(i)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,i){var n=this._getSubmenuByRootElement(e);if(n)return n;i=i||this._getItemData(e);var o=this._dataAdapter.getNodeByItem(i);return this._hasChildren(o)&&this._renderSubmenuItems(o,e)}_updateSubmenuVisibilityOnClick(e){var i=e.args.length&&e.args[0];if(!(!i||this._disabledGetter(i.itemData))){var n=h(i.itemElement),o=this._getSubmenuByElement(n,i.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu)if(this._visibleSubmenu===o){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(o&&!o.isOverlayVisible()){this._showSubmenu(n);return}}}_optionChanged(e){if(zq.indexOf(e.name)>=0){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")&&this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,i){x(this._submenus,(n,o)=>{o.option(e,i)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}};K("dxMenu",Kx);var Uq=Kx;var SA=Uq;var bA={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},jq={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},tIe=700,Yq=1,Hf="filter-row",qx="filter-range-overlay",Yx="filter-range-start",iIe="filter-range-end",$q="dx-menu",Kq="dx-editor-with-menu",Nd="dx-editor-container",FA="dx-editor-cell",nIe="dx-filter-menu",oIe="dx-apply-button",DA="dx-highlight-outline",qq="dx-focused",rIe="dx-cell-focus-disabled",wA="dx-filter-range-content",EA="dx-filter-modified",Vf="input:not([type='hidden'])",aIe=["date","datetime","number"],sIe=w.format("dxDataGrid-ariaSearchBox");function ch(t){return t.option("filterRow.applyFilter")==="onClick"}var OA=function(t){var e=t&&t.children(),i=e&&e.data("dxComponents"),n=i&&i.length&&e.data(i[0]);return n instanceof Ui?n:null},IA=function(t,e){var i="",n="",o=AA(t,e),r=M.getFormatOptionsByColumn(e,"filterRow");return Array.isArray(o)?(i=M.formatValue(o[0],r),n=M.formatValue(o[1],r),n!==""&&(i+=" - ".concat(n))):f(o)&&(i=M.formatValue(o,r)),i};function AA(t,e){if(e)return ch(t)&&e.bufferedFilterValue!==void 0?e.bufferedFilterValue:e.filterValue}var aa=function(t,e){if(e)return ch(t)&&e.bufferedSelectedFilterOperation!==void 0?e.bufferedSelectedFilterOperation:e.selectedFilterOperation},lIe=function(t,e){return e&&aIe.includes(e.dataType)&&Array.isArray(t)?!1:t!==void 0},TA=function(t,e,i){var n=t._columnsController.columnOption(e),o=AA(t,n),r=i.closest(".".concat(t.addWidgetPrefix(qx))).length,a=i.hasClass(t.addWidgetPrefix(Yx));return o&&Array.isArray(o)&&aa(t,n)==="between"?a?o[0]:o[1]:!r&&lIe(o,n)?o:null},dIe=function(t,e,i,n){if(aa(t,i)==="between"){var o=AA(t,i);return n.hasClass(t.addWidgetPrefix(Yx))?[e,Array.isArray(o)?o[1]:void 0]:[Array.isArray(o)?o[0]:o,e]}return e},uIe=function(t,e){var i=e.value===""?null:e.value,n=e.container,o=t._columnsController.columnOption(e.column.index),r=TA(t,o.index,n);if(!(!f(r)&&!f(i))){t._applyFilterViewController.setHighLight(n,r!==i);var a=ch(t)?"bufferedFilterValue":"filterValue",s=dIe(t,i,o,n),l=aa(t,o)==="between",d=e.notFireEvent||l&&Array.isArray(s)&&s.includes(void 0);t._columnsController.columnOption(o.index,a,s,d)}},cIe=t=>class extends t{init(){super.init(),this._applyFilterViewController=this.getController("applyFilter")}optionChanged(e){switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;case"syncLookupFilterValues":e.value?this.updateLookupDataSource():this.render(),e.handled=!0;break;default:super.optionChanged(e)}}_updateEditorValue(e,i){var n=OA(i);n&&n.option("value",TA(this,e.index,i))}_columnOptionChanged(e){var i,{optionNames:n}=e,o,r,a,s;if(M.checkChanges(n,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&e.columnIndex!==void 0){var l=this._columnsController.getVisibleIndex(e.columnIndex),d=this._columnsController.columnOption(e.columnIndex);if(o=(i=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(Hf))).index(),l))!==null&&i!==void 0?i:h(),r=o.find(".".concat(Nd)).first(),n.filterValue||n.bufferedFilterValue){this._updateEditorValue(d,r);var u=o.find(".".concat(this.addWidgetPrefix(qx))).data("dxOverlay");u&&(a=u.$content().find(".".concat(Nd)),this._updateEditorValue(d,a.first()),this._updateEditorValue(d,a.last())),(!u||!u.option("visible"))&&this._updateFilterRangeContent(o,IA(this,d))}(n.selectedFilterOperation||n.bufferedSelectedFilterOperation)&&l>=0&&d&&(s=o.find(".".concat($q)),s.length&&(this._updateFilterOperationChooser(s,d,r),aa(this,d)==="between"?this._renderFilterRangeContent(o,d):r.find(".".concat(wA)).length&&(this._renderEditor(r,this._getEditorOptions(r,d)),this._hideFilterRange())));return}super._columnOptionChanged(e)}_renderCore(){return this._filterRangeOverlayInstance=null,super._renderCore.apply(this,arguments)}_resizeCore(){var e;super._resizeCore.apply(this,arguments),(e=this._filterRangeOverlayInstance)===null||e===void 0||e.repaint()}isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))}isVisible(){return super.isVisible()||this.isFilterRowVisible()}_initFilterRangeOverlay(e,i){var n=this,o={},r=e.find(".dx-editor-container"),a=n.addWidgetPrefix(qx),s=h("<div>").addClass(a).appendTo(e);return n._createComponent(s,yn,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:a},animation:!1,position:{my:"top",at:"top",of:r.length&&r||e,offset:"0 -1"},contentTemplate(l){var d,u=h("<div>").addClass("".concat(Nd," ").concat(n.addWidgetPrefix(Yx))).appendTo(l);return i=n._columnsController.columnOption(i.index),d=n._getEditorOptions(u,i),d.sharedData=o,n._renderEditor(u,d),_.on(u.find(Vf),"keydown",c=>{var p=e.find("[tabindex]").not(c.target).first();Ae(c)==="tab"&&c.shiftKey&&(c.preventDefault(),n._hideFilterRange(),p.length||(p=e.prev().find("[tabindex]").last()),_.trigger(p,"focus"))}),u=h("<div>").addClass("".concat(Nd," ").concat(n.addWidgetPrefix(iIe))).appendTo(l),d=n._getEditorOptions(u,i),d.sharedData=o,n._renderEditor(u,d),_.on(u.find(Vf),"keydown",c=>{Ae(c)==="tab"&&!c.shiftKey&&(c.preventDefault(),n._hideFilterRange(),_.trigger(e.next().find("[tabindex]").first(),"focus"))}),h(l).addClass(n.getWidgetContainerClass())},onShown(l){var d=l.component.$content().find(".".concat(Nd)).first();_.trigger(d.find(Vf),"focus")},onHidden(){i=n._columnsController.columnOption(i.index),e.find(".".concat($q)).parent().addClass(Kq),aa(n,i)==="between"&&(n._updateFilterRangeContent(e,IA(n,i)),n.component.updateDimensions())}})}_updateFilterRangeOverlay(e){var i=this._filterRangeOverlayInstance;i&&i.option(e)}_showFilterRange(e,i){var n=e.children(".".concat(this.addWidgetPrefix(qx))),o=n.length&&n.data("dxOverlay");!o&&i&&(o=this._initFilterRangeOverlay(e,i)),o.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=o,this._updateFilterRangeOverlay({width:ee(e,!0)+Yq}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())}_hideFilterRange(){var e=this._filterRangeOverlayInstance;e&&e.hide()}getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance}_createRow(e){var i=super._createRow(e);return e.rowType==="filter"&&(i.addClass(this.addWidgetPrefix(Hf)),this.option("useLegacyKeyboardNavigation")||_.on(i,"keydown",n=>sf("filterRow",this,n))),i}_getRows(){var e=super._getRows();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e}_renderFilterCell(e,i){var{column:n}=i,o=h(e);this.component.option("showColumnHeaders")&&this.setAria("describedby",n.headerId,o),this.setAria("label",w.format("dxDataGrid-ariaFilterCell"),o),o.addClass(FA);var r=h("<div>").appendTo(o),a=h("<div>").addClass(Nd).appendTo(r);if(aa(this,n)==="between")this._renderFilterRangeContent(o,n);else{var s=this._getEditorOptions(a,n);this._renderEditor(a,s)}var{alignment:l}=n;l&&l!=="center"&&o.find(Vf).first().css("textAlign",n.alignment),n.filterOperations&&n.filterOperations.length&&this._renderFilterOperationChooser(r,n,a)}_renderCellContent(e,i){var n=this,{column:o}=i;if(i.rowType==="filter"){if(o.command)e.html("&nbsp;");else if(o.allowFiltering){n.renderTemplate(e,n._renderFilterCell.bind(n),i).done(()=>{n._updateCell(e,i)});return}}super._renderCellContent.apply(this,arguments)}_getEditorOptions(e,i){var n=this,o={editorOptions:{inputAttr:n._getFilterInputAccessibilityAttributes(i)}},r=v(o,i,{value:TA(n,i.index,e),parentType:"filterRow",showAllText:n.option("filterRow.showAllText"),updateValueTimeout:n.option("filterRow.applyFilter")==="onClick"?0:tIe,width:null,setValue(a,s){uIe(n,{column:i,value:a,container:e,notFireEvent:s})}});return aa(n,i)==="between"&&(e.hasClass(n.addWidgetPrefix(Yx))?r.placeholder=n.option("filterRow.betweenStartText"):r.placeholder=n.option("filterRow.betweenEndText")),r}_getFilterInputAccessibilityAttributes(e){var i=w.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":i,"aria-describedby":e.headerId}:{"aria-label":i}}_renderEditor(e,i){e.empty();var n=h("<div>").appendTo(e),o=this._dataController.dataSource();if(i.lookup&&this.option("syncLookupFilterValues")){this._applyFilterViewController.setCurrentColumnForFiltering(i);var r=this._dataController.getCombinedFilter();this._applyFilterViewController.setCurrentColumnForFiltering(null);var a=M.getWrappedLookupDataSource(i,o,r),s=E(E({},i),{lookup:E(E({},i.lookup),{dataSource:a})});return this._editorFactoryController.createEditor(n,s)}return this._editorFactoryController.createEditor(n,i)}_renderFilterRangeContent(e,i){var n=this,o=e.find(".".concat(Nd)).first();o.empty();var r=h("<div>").addClass(wA).attr("tabindex",this.option("tabIndex"));_.on(r,"focusin",()=>{n._showFilterRange(e,i)}),r.appendTo(o),n._updateFilterRangeContent(e,IA(n,i))}_updateFilterRangeContent(e,i){var n=e.find(".".concat(wA));n.length&&(i===""?n.html("&nbsp;"):n.text(i))}_updateFilterOperationChooser(e,i,n){var o=this,r,a=function(){var l=SA.getInstance(e);l&&l.option("focusedElement",null),r&&o._focusEditor(n)},s=this._editorFactoryController;o._createComponent(e,SA,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(o.getWidgetContainerClass()," ").concat(rIe," ").concat(nIe),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(i.filterOperations&&i.filterOperations.length),icon:bA[aa(o,i)||"default"],selectable:!1,items:o._getFilterOperationMenuItems(i)}],onItemRendered:l=>{var{itemElement:d}=l;this.setAria("label",sIe,h(d))},onItemClick(l){var d=l.itemData.name,u=aa(o,i),c=!1,p=ch(o),g={};if(!(l.itemData.items||d&&d===u)){if(d?(g[p?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=d,(d==="between"||u==="between")&&(c=d==="between",g[p?"bufferedFilterValue":"filterValue"]=null)):(g[p?"bufferedFilterValue":"filterValue"]=null,g[p?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=i.defaultSelectedFilterOperation||null),o._columnsController.columnOption(i.index,g),o._applyFilterViewController.setHighLight(n,!0),!d){var m=OA(n);m&&m.NAME==="dxDateBox"&&!m.option("isValid")&&(m.reset(),m.option("isValid",!0))}c?o._showFilterRange(n.closest(".".concat(FA)),i):o._focusEditor(n)}},onSubmenuShowing(){r=o._isEditorFocused(n),s.loseFocus()},onSubmenuHiding(){_.trigger(e,"blur"),a()},onContentReady(l){_.on(e,"blur",()=>{var d=l.component;d._hideSubmenuAfterTimeout(),a()})},rtlEnabled:o.option("rtlEnabled")})}_isEditorFocused(e){return e.hasClass(qq)||e.parents(".".concat(qq)).length}_focusEditor(e){this._editorFactoryController.focus(e),_.trigger(e.find(Vf),"focus")}_renderFilterOperationChooser(e,i,n){var o;this.option("filterRow.showOperationChooser")&&(e.addClass(Kq),o=h("<div>").prependTo(e),this._updateFilterOperationChooser(o,i,n))}_getFilterOperationMenuItems(e){var i=this,n=[{}],o=i.option("filterRow"),r=o&&o.operationDescriptions||{};if(e.filterOperations&&e.filterOperations.length){var a=e.filterOperations.filter(s=>f(jq[s]));n=Ke(a,s=>{var l=jq[s];return{name:s,selected:(aa(i,e)||e.defaultFilterOperation)===s,text:r[l],icon:bA[s]}}),n.push({name:null,text:o&&o.resetOperationText,icon:bA.default})}return n}_handleDataChanged(e){var i,n,o,r,a,s,l=(n=(i=this._dataController)===null||i===void 0?void 0:i.dataSource)===null||n===void 0?void 0:n.call(i),d=(o=l?.lastLoadOptions)===null||o===void 0?void 0:o.call(l);super._handleDataChanged.apply(this,arguments),(!((r=e.operationTypes)===null||r===void 0)&&r.filtering||!((a=e.operationTypes)===null||a===void 0)&&a.fullReload)&&this.updateLookupDataSource(((s=e.operationTypes)===null||s===void 0?void 0:s.filtering)||d?.filter)}updateLookupDataSource(e){if(this.option("syncLookupFilterValues")&&this.element()){var i=this._columnsController.getVisibleColumns(),n=this._dataController.dataSource(),o=this._applyFilterViewController,r=this.element().find(".".concat(this.addWidgetPrefix(Hf))).index();r!==-1&&i.forEach((a,s)=>{if(!(!a.lookup||a.calculateCellValue!==a.defaultCalculateCellValue)){var l=this._getCellElement(r,s),d=OA(l?.find(".dx-editor-container"));if(d){o.setCurrentColumnForFiltering(a);var u=this._dataController.getCombinedFilter()||null;o.setCurrentColumnForFiltering(null);var c=d.option("dataSource"),p=!e||!_e(c.__dataGridSourceFilter||null,u);if(p){var g=M.getWrappedLookupDataSource(a,n,u);d.option("dataSource",g)}}}})}}},hIe=t=>class extends t{skipCalculateColumnFilters(){return!1}_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return super._calculateAdditionalFilter();var e=[super._calculateAdditionalFilter()],i=this._columnsController.getVisibleColumns(null,!0),n=this._applyFilterController;return x(i,function(){var o,r=((o=n.getCurrentColumnForFiltering())===null||o===void 0?void 0:o.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&f(this.filterValue)&&!r){var a=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(a)}}),M.combineFilters(e)}},MA=class extends ye.ViewController{init(){this._columnsController=this.getController("columns")}_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel}setHighLight(e,i){ch(this)&&(e&&e.toggleClass(DA,i)&&e.closest(".".concat(FA)).toggleClass(EA,i),this._getHeaderPanel().enableApplyButton(i))}applyFilter(){var e=this._columnsController.getColumns();this._columnsController.beginUpdate();for(var i=0;i<e.length;i++){var n=e[i];n.bufferedFilterValue!==void 0&&(this._columnsController.columnOption(i,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),n.bufferedSelectedFilterOperation!==void 0&&(this._columnsController.columnOption(i,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}this._columnsController.endUpdate(),this.removeHighLights()}removeHighLights(){if(ch(this)){var e=this.getView("columnHeadersView").element();e.find(".".concat(this.addWidgetPrefix(Hf)," .").concat(DA)).removeClass(DA),e.find(".".concat(this.addWidgetPrefix(Hf)," .").concat(EA)).removeClass(EA),this._getHeaderPanel().enableApplyButton(!1)}}setCurrentColumnForFiltering(e){this._currentColumn=e}getCurrentColumnForFiltering(){return this._currentColumn}},pIe=t=>class extends t{_startResizing(){if(super._startResizing.apply(this,arguments),this.isResizing()){var e=this._columnHeadersView.getFilterRangeOverlayInstance();if(e){var i=e.$element().closest("td").index();(i===this._targetPoint.columnIndex||i===this._targetPoint.columnIndex+1)&&e.$content().hide()}}}_endResizing(){var e;if(this.isResizing()){var i=this._columnHeadersView.getFilterRangeOverlayInstance();i&&(e=i.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:ee(e,!0)+Yq}),i.$content().show())}super._endResizing.apply(this,arguments)}},gIe=t=>class extends t{updateFieldValue(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),super.updateFieldValue.apply(this,arguments)}_afterSaveEditData(e){var i;return this._needUpdateLookupDataSource&&!e&&((i=this.getView("columnHeadersView"))===null||i===void 0||i.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,super._afterSaveEditData.apply(this,arguments)}_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,super._afterCancelEditData.apply(this,arguments)}},fIe=t=>class extends t{init(){super.init(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")}optionChanged(e){e.name==="filterRow"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}_getToolbarItems(){var e=super._getToolbarItems(),i=this._prepareFilterItem();return i.concat(e)}_prepareFilterItem(){var e=this,i=[];if(e._isShowApplyFilterButton()){var n=e.option("filterRow.applyFilterText"),o=e._columnsController.getColumns(),r=!o.filter(s=>s.bufferedFilterValue!==void 0).length,a={widget:"dxButton",options:{icon:"apply-filter",disabled:r,onClick:function(){e._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(s){h(s.element).addClass(e._getToolbarButtonClass(oIe))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};i.push(a)}return i}_isShowApplyFilterButton(){var e=this.option("filterRow");return!!e?.visible&&e.applyFilter==="onClick"}enableApplyButton(e){this.setToolbarItemDisabled("applyFilterButton",!e)}isVisible(){return super.isVisible()||this._isShowApplyFilterButton()}},Qq={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:w.format("dxDataGrid-filterRowShowAllText"),resetOperationText:w.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:w.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:w.format("dxDataGrid-filterRowOperationEquals"),notEqual:w.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:w.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:w.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:w.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:w.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:w.format("dxDataGrid-filterRowOperationStartsWith"),contains:w.format("dxDataGrid-filterRowOperationContains"),notContains:w.format("dxDataGrid-filterRowOperationNotContains"),endsWith:w.format("dxDataGrid-filterRowOperationEndsWith"),between:w.format("dxDataGrid-filterRowOperationBetween"),isBlank:w.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:w.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:w.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:w.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:MA},extenders:{controllers:{data:hIe,columnsResizer:pIe,editing:gIe},views:{columnHeadersView:cIe,headerPanel:fIe}}};P.registerModule("filterRow",Qq);dr.setEditorClass(nl);var Jq="dx-header-filter",Xq="dx-header-filter-menu",mIe="text";function e9(t){t=t||[];for(var e=0;e<t.length;e++)t[e].selected=!1,e9(t[e].items)}function t9(t){var e=t.NAME==="dxTreeView"?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return t.$element().find(e).dxCheckBox("instance")}function Zq(t,e){if(!t.component.option("searchValue")){var i=t9(t.component);i&&e&&e.length&&i.option("value",void 0)}}function i9(t,e,i){if(e^i){if(t.selected=!0,i&&t.items){for(var n=0;n<t.items.length;n++)if(!t.items[n].selected){t.selected=void 0;break}}}else(i||t.selected)&&(t.selected=!1,e9(t.items))}var Qx=class extends ye.View{getPopupContainer(){return this._popupContainer}getListComponent(){return this._listComponent}applyHeaderFilter(e){var i=this.getListComponent(),n=i.option("searchValue"),o=t9(i),r=!n&&!e.isFilterBuilder&&o?.option("value"),a=[];r?(e.type==="tree"&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):e.type==="tree"&&(e.filterType&&(e.filterType="include"),function s(l,d,u){x(d,(c,p)=>{if(p.selected!==void 0&&!!p.selected^u){var g=i._getNode(p),m=i._hasChildren(g),y=m&&p.items&&p.items.some(C=>C.selected);if(!n||!y){l.push(p.value);return}}p.items&&p.items.length&&s(l,p.items,u)})}(a,i.option("items"),!1),e.filterValues=a),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()}showHeaderFilterMenu(e,i){if(i){this._initializePopupContainer(i);var n=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,i),n.show()}}hideHeaderFilterMenu(){var e=this.getPopupContainer();e&&e.hide()}updatePopup(e,i){var n=this.option("showColumnLines"),o=i.alignment==="right"^!n?"left":"right";this._popupContainer.setAria({role:"dialog",label:w.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(o," top"),at:"".concat(o," bottom"),of:e,collision:"fit fit"}))}_getSearchExpr(e,i){var{lookup:n}=e,{useDefaultSearchExpr:o}=e,r=i.dataSource,a=i.search.searchExpr;if(a)return a;if(o||f(r)&&!T(r))return mIe;if(n)return n.displayExpr||"this";if(e.dataSource){var{group:s}=e.dataSource;if(Array.isArray(s)&&s.length>0)return s[0].selector;if(T(s)&&!e.remoteFiltering)return s}return e.dataField||e.selector}_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()}_initializePopupContainer(e){var i=this,n=i.element(),o=this._normalizeHeaderFilterOptions(e),{height:r,width:a}=o,s={width:a,height:r,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:Xq},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:o.texts.ok,onClick(){i.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:o.texts.cancel,onClick(){i.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(l){l.component.$content().parent().addClass("dx-dropdowneditor-overlay"),i._initializeListContainer(e,o),e.onShowing&&e.onShowing(l)},onShown(){i.getListComponent().focus()},onHidden:e.onHidden,onInitialized(l){var{component:d}=l;d.option("animation",d._getDefaultOptions().animation)}};f(i._popupContainer)?i._popupContainer.option(s):i._popupContainer=i._createComponent(n,Fi,s)}_initializeListContainer(e,i){var n=this,o=n._popupContainer.$content(),r=!e.isFilterBuilder&&i.allowSelectAll,a={searchEnabled:i.search.enabled,searchTimeout:i.search.timeout,searchEditorOptions:i.search.editorOptions,searchMode:i.search.mode||"",dataSource:e.dataSource,onContentReady(){n.renderCompleted.fire()},itemTemplate(l,d,u){var c=h(u);return e.encodeHtml?c.text(l.text):c.html(l.text)}};function s(l){l.fullName==="searchValue"&&r&&n.option("headerFilter.hideSelectAllOnSearch")!==!1&&(e.type==="tree"?l.component.option("showCheckBoxesMode",l.value?"normal":"selectAll"):l.component.option("selectionMode",l.value?"multiple":"all"))}e.type==="tree"?n._listComponent=n._createComponent(h("<div>").appendTo(o),ml,v(a,{showCheckBoxesMode:r?"selectAll":"normal",onOptionChanged:s,keyExpr:"id"})):n._listComponent=n._createComponent(h("<div>").appendTo(o),Yr,v(a,{searchExpr:n._getSearchExpr(e,i),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:r?"all":"multiple",onOptionChanged:s,onSelectionChanged(l){var d=l.component.option("items"),u=l.component.option("selectedItems");if(!l.component._selectedItemsUpdating&&!l.component.option("searchValue")&&!e.isFilterBuilder){var c=e.filterValues||[],p=e.filterType==="exclude";u.length===0&&d.length&&(c.length<=1||p&&c.length===d.length-1)?(e.filterType="include",e.filterValues=[]):u.length===d.length&&(e.filterType="exclude",e.filterValues=[])}x(d,(g,m)=>{var y=M.getIndexByKey(m,u,null)>=0,C=!!m.selected;if(C!==y){m.selected=y,e.filterValues=e.filterValues||[];var b=M.getIndexByKey(m.value,e.filterValues,null);b>=0&&e.filterValues.splice(b,1);var O=e.filterType==="exclude";y^O&&e.filterValues.push(m.value)}}),Zq(l,e.filterValues)},onContentReady(l){var{component:d}=l,u=d.option("items"),c=[];x(u,function(){this.selected&&c.push(this)}),d._selectedItemsUpdating=!0,d.option("selectedItems",c),d._selectedItemsUpdating=!1,Zq(l,e.filterValues)}}))}_normalizeHeaderFilterOptions(e){var i=this.option("headerFilter")||{},n=e.headerFilter||{},o={search:{enabled:i.allowSearch,timeout:i.searchTimeout}},r={search:{enabled:n.allowSearch,mode:n.searchMode,timeout:n.searchTimeout}};return v(!0,{},i,o,n,r)}_renderCore(){this.element().addClass(Xq)}},Wf=function(t){return f(t.allowHeaderFiltering)?t.allowHeaderFiltering:t.allowFiltering},RA=t=>class extends t{optionChanged(e){if(e.name==="headerFilter"){var i=this.name==="columnHeadersView";this._invalidate(i,i),e.handled=!0}else super.optionChanged(e)}_applyColumnState(e){var i,{rootElement:n}=e,{column:o}=e;if(e.name==="headerFilter"){if(n.find(".".concat(Jq)).remove(),Wf(o)){i=super._applyColumnState(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(o)),this.option("useLegacyKeyboardNavigation")||i.attr("tabindex",this.option("tabindex")||0);var r=w.format("dxDataGrid-headerFilterIndicatorLabel",o.caption);i.attr("aria-label",r),i.attr("aria-haspopup","dialog"),i.attr("role","button")}return i}return super._applyColumnState(e)}_isHeaderFilterEmpty(e){return!e.filterValues||!e.filterValues.length}_getIndicatorClassName(e){return e==="headerFilter"?Jq:super._getIndicatorClassName(e)}_renderIndicator(e){var i=e.container,n=e.indicator;if(e.name==="headerFilter"){var o=this.option("rtlEnabled");if(i.children().length&&(!o&&e.columnAlignment==="right"||o&&e.columnAlignment==="left")){i.prepend(n);return}}super._renderIndicator(e)}};var vIe={month:t=>ue.getMonthNames()[t-1],quarter:t=>ue.format(new Date(2e3,3*t-1),"quarter")};function n9(t,e,i){return e=e||[],i=i||[],t.forEach(n=>{if(f(n.key)){var o=e.length===1;if(e.push(o?n.key-1:n.key),n.items)n9(n.items,e,i);else{var r=new Date(Date.UTC.apply(Date,e));i.push(r)}e.pop()}else i.push(null)}),i}function _Ie(t,e){var i=n9(t),n=Nt(i),o=M.getHeaderFilterGroupParameters(E(E({},e),{calculateCellValue:r=>r}));return nn.queryByOptions(n,{group:o}).toArray()}function yIe(t){return t?.slice(-1)==="Z"||t?.slice(-3)==="'Z'"}var xIe=function(t,e,i){var n=Bo.getGroupInterval(e),o=M.getFormatOptionsByColumn(e,"headerFilter");return n&&(o.groupInterval=n[i],M.isDateType(e.dataType)?o.format=vIe[n[i]]:e.dataType==="number"&&(o.getDisplayFormat=function(){var r={format:e.format,target:"headerFilter"},a=M.formatValue(t,r),s=t+n[i],l=M.formatValue(s,r);return a&&l?"".concat(a," - ").concat(l):""})),o},BA=class extends ye.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")}_updateSelectedState(e,i){for(var n=e.length,o=i.filterType==="exclude";n--;){var r=e[n];"items"in e[n]&&this._updateSelectedState(e[n].items,i),i9(r,M.getIndexByKey(e[n].value,i.filterValues,null)>-1,o)}}_normalizeGroupItem(e,i,n){var o,r,{path:a}=n,{valueSelector:s}=n,{displaySelector:l}=n,{column:d}=n;return s&&l?(o=s(e),r=l(e)):(o=e.key,r=o),L(e)?e=v({},e):e={},a.push(o),a.length===1?e.value=a[0]:e.value=a.join("/"),e.text=this.getHeaderItemText(r,d,i,n.headerFilterOptions),e}getHeaderItemText(e,i,n,o){var r=M.formatValue(e,xIe(e,i,n));return r||(r=o.texts.emptyValue),r}_processGroupItems(e,i,n,o){var r,a,{column:s}=o,{lookup:l}=s,{level:d}=o;n=n||[],i=i||0,l&&(r=pe(l.displayExpr),a=pe(l.valueExpr));for(var u=0;u<e.length;u++)e[u]=this._normalizeGroupItem(e[u],i,{column:o.column,headerFilterOptions:o.headerFilterOptions,displaySelector:r,valueSelector:a,path:n}),"items"in e[u]&&(i===d||!f(e[u].value)?delete e[u].items:this._processGroupItems(e[u].items,i+1,n,o)),n.pop()}getDataSource(e){var i,n=this._dataController.dataSource(),o=n?.remoteOperations().grouping,r=M.getHeaderFilterGroupParameters(e,o),a=(i=e.headerFilter)===null||i===void 0?void 0:i.dataSource,s=this.option("headerFilter"),l=!1,d={component:this.component};if(n){if(f(a)&&!T(a))d.dataSource=kn(a);else if(e.lookup)if(l=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;var u=this._dataController.getCombinedFilter();this._currentColumn=null,d.dataSource=M.getWrappedLookupDataSource(e,n,u)}else d.dataSource=M.normalizeLookupDataSource(e.lookup);else{var c=Array.isArray(r)?r.length-1:0;this._currentColumn=e;var p=this._dataController.getCombinedFilter();this._currentColumn=null,d.dataSource={filter:p,group:r,useDefaultSearch:!0,load:y=>{var C=new S;return y.dataField=e.dataField||e.name,n.load(y).done(b=>{var O=o&&yIe(e.serializationFormat)&&c>3;O&&(b=_Ie(b,e)),m._processGroupItems(b,null,null,{level:c,column:e,headerFilterOptions:s}),C.resolve(b)}).fail(C.reject),C}}}T(a)&&a.call(e,d);var g=d.dataSource.postProcess,m=this;return d.dataSource.postProcess=function(y){var C=y;return l&&(C=C.filter(b=>b[e.lookup.valueExpr]!==null),this.pageIndex()===0&&!this.searchValue()&&(C=C.slice(0),C.unshift(null)),m._processGroupItems(C,null,null,{level:0,column:e,headerFilterOptions:s})),C=g&&g.call(this,C)||C,m._updateSelectedState(C,e),C},d.dataSource}}getCurrentColumn(){return this._currentColumn}showHeaderFilterMenu(e,i){var n=this._columnsController,o=v(!0,{},this._columnsController.getColumns()[e]);if(o){var r=n.getVisibleIndex(e),a=i?this.getView("headerPanel"):this.getView("columnHeadersView"),s=a.getColumnElements().eq(i?o.groupIndex:r);this.showHeaderFilterMenuBase({columnElement:s,column:o,applyFilter:!0,apply(){n.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}}showHeaderFilterMenuBase(e){var{column:i}=e;if(i){var n=Bo.getGroupInterval(i),o=this._dataController.dataSource(),r=o&&o.remoteOperations().filtering,a=e.onHidden;v(e,i,{type:n&&n.length>1?"tree":"list",remoteFiltering:r,onShowing:s=>{var l=s.component.$overlayContent().dxResizable("instance");l&&l.option("onResizeEnd",d=>{var u=this._columnsController.columnOption(e.dataField,"headerFilter");u=u||{},u.width=d.width,u.height=d.height,this._columnsController.columnOption(e.dataField,"headerFilter",u,!0)})},onHidden:()=>{a?.(),Yc(this)}}),e.dataSource=this.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),this._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}}hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}},CIe=t=>class extends RA(t){_renderCellContent(e,i){var n,{column:o}=i;!o.command&&Wf(o)&&this.option("headerFilter.visible")&&i.rowType==="header"&&(n=this._applyColumnState({name:"headerFilter",rootElement:e,column:o,showColumnLines:this.option("showColumnLines")}),n&&this._subscribeToIndicatorEvent(n,o,"headerFilter")),super._renderCellContent.apply(this,arguments)}_subscribeToIndicatorEvent(e,i,n){n==="headerFilter"&&_.on(e,se,this.createAction(o=>{o.event.stopPropagation(),qT(e,this),this._headerFilterController.showHeaderFilterMenu(i.index,!1)}))}_updateIndicator(e,i,n){var o=super._updateIndicator(e,i,n);o&&this._subscribeToIndicatorEvent(o,i,n)}_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")}_needUpdateFilterIndicators(){return!0}_columnOptionChanged(e){var{optionNames:i}=e,n=M.checkChanges(i,["filterValues","filterValue"]),o=M.checkChanges(i,["filterValues","filterType"]),r=(n||o)&&this._needUpdateFilterIndicators();r&&this._updateHeaderFilterIndicators(),o||super._columnOptionChanged(e)}},SIe=t=>class extends RA(t){_createGroupPanelItem(e,i){var n=super._createGroupPanelItem.apply(this,arguments),o;return!i.command&&Wf(i)&&this.option("headerFilter.visible")&&(o=this._applyColumnState({name:"headerFilter",rootElement:n,column:{alignment:Xi(this.option("rtlEnabled")),filterValues:i.filterValues,allowHeaderFiltering:!0,caption:i.caption},showColumnLines:!0}),o&&_.on(o,se,this.createAction(r=>{var{event:a}=r;a.stopPropagation(),this._headerFilterController.showHeaderFilterMenu(i.index,!0)}))),n}};var bIe=t=>class extends t{skipCalculateColumnFilters(){return!1}_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return super._calculateAdditionalFilter();var e=[super._calculateAdditionalFilter()],i=this._columnsController.getVisibleColumns(null,!0),n=this._headerFilterController,o=n.getCurrentColumn();return x(i,(r,a)=>{var s;if(!(o&&o.index===a.index)&&Wf(a)&&a.calculateFilterExpression&&Array.isArray(a.filterValues)&&a.filterValues.length){var l=[];x(a.filterValues,(d,u)=>{Array.isArray(u)?s=u:(a.deserializeValue&&!M.isDateType(a.dataType)&&a.dataType!=="number"&&(u=a.deserializeValue(u)),s=a.createFilterExpression(u,"=","headerFilter")),s&&(s.columnIndex=a.index),l.push(s)}),l=M.combineFilters(l,"or"),e.push(a.filterType==="exclude"?["!",l]:l)}}),M.combineFilters(e)}},o9={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:w.format("dxDataGrid-headerFilterEmptyValue"),ok:w.format("dxDataGrid-headerFilterOK"),cancel:w.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:BA},views:{headerFilterView:Qx},extenders:{controllers:{data:bIe},views:{columnHeadersView:CIe,headerPanel:SIe}}};P.registerModule("headerFilter",o9);var Jx="dx-filterbuilder-range",DIe=Jx+"-start",wIe=Jx+"-end",EIe=Jx+"-separator",r9="\u2013";function OIe(t,e){var i=h("<div>").addClass(DIe),n=h("<div>").addClass(wIe),o=t.value||[],r=function(s){return s&&s.length>0?s[0]:null},a=function(s){return s&&s.length===2?s[1]:null};e.append(i),e.append(h("<span>").addClass(EIe).text(r9)),e.append(n),e.addClass(Jx),this._editorFactory.createEditor.call(this,i,v({},t.field,t,{value:r(o),parentType:"filterBuilder",setValue:function(s){o=[s,a(o)],t.setValue(o)}})),this._editorFactory.createEditor.call(this,n,v({},t.field,t,{value:a(o),parentType:"filterBuilder",setValue:function(s){o=[r(o),s],t.setValue(o)}}))}function kA(t,e){return{name:"between",caption:t,icon:"range",valueSeparator:r9,dataTypes:["number","date","datetime"],editorTemplate:OIe.bind(e),notForLookup:!0}}var IIe={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},FIe={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"},PA={getIconByFilterOperation:function(t){return IIe[t]},getNameByFilterOperation:function(t){return FIe[t]}};var HA="string",a9="icon-none",bl="and",WA="=",TIe="<>",MIe={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},AIe={date:"shortDate",datetime:"shortDateShortTime"},RIe=["=","<>","isblank","isnotblank"],BIe=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],kIe="dx-filterbuilder",u9=kIe+"-text",PIe=u9+"-part",c9=u9+"-separator",NIe=c9+"-empty";function LIe(t,e){var i=t.format||AIe[t.dataType];return My.format(e,i)}function Ld(t){return t&&t.length>1&&t[0]==="!"&&!ri(t)}function as(t){return Ld(t)?t[1]:t}function VIe(t,e){return Ld(t)?t[1]=e:t=e,t}function HIe(t,e){(function(i){return i.indexOf("!")!==-1})(e)?Ld(t)||function(i){var n=i.slice(0);i.length=0,i.push("!",n)}(t):Ld(t)&&function(i){var n=as(i);i.length=0,[].push.apply(i,n)}(t)}function h9(t,e){HIe(t,e);var i=as(t),n;return e=function(o){return o.indexOf("!")===-1?o:o.substring(1)}(e),function(o,r){for(n=0;n<o.length;n++)Array.isArray(o[n])||(o[n]=r)}(i,e),t}function p9(t,e){var i=ss(t);return e.filter(function(n){return n.value===i})[0]}function g9(t){if(ri(t))return bl;for(var e="",i=0;i<t.length;i++){var n=t[i];if(!Array.isArray(n)){if(e&&e!==n)throw new yt.Error("E4019");n!=="!"&&(e=n)}}return e}function ss(t){var e=as(t),i=g9(e);return i||(i=bl),e!==t&&(i="!"+i),i}function WIe(t){return t.lookup&&RIe||MIe[t.dataType||HA]}function GIe(t){return Array.isArray(t)&&t.length}function f9(t){var e=GIe(t.filterOperations)?t.filterOperations:WIe(t);return v([],e)}function Zx(t,e){var i=PA.getNameByFilterOperation(t);return e&&e[i]?e[i]:i}function m9(t,e){for(var i=0;i<e.length;i++)if(e[i].value===t)return e[i];throw new X.Error("E1048",t)}function mr(t,e){var i=t.filter(function(n){return n.name===e});return i.length?i[0]:null}function v9(t,e,i){var n=f9(t),o=!!t.lookup;return i.forEach(function(r){if(!t.filterOperations&&n.indexOf(r.name)===-1){var a=r&&r.dataTypes,s=o?!!r.notForLookup:!1;!s&&a&&a.indexOf(t.dataType||HA)>=0&&n.push(r.name)}}),n.map(function(r){var a=mr(i,r);return a?{icon:a.icon||a9,text:a.caption||po(a.name),value:a.name,isCustom:!0}:{icon:PA.getIconByFilterOperation(r)||a9,text:Zx(r,e),value:r}})}function zf(t){return t.defaultFilterOperation||f9(t)[0]}function _9(t,e){var i=[t.dataField,"",""],n=zf(t);return oC(i,n,e),i}function eC(t,e){var i=as(t),n=i.indexOf(e);return i.splice(n,1),i.length!==1&&i.splice(n,1),t}function GA(t){var e=zA(t),i=e?UA(t):t;return e?["!",[i]]:[i]}function hh(t,e){var i=as(e),n=ss(i);return i.length===1?i.unshift(t):i.push(t,n),e}function ph(t,e){for(var i=0;i<e.length;i++)if(e[i].name===t||e[i].dataField.toLowerCase()===t.toLowerCase())return e[i];var n=jA(e,!0).filter(function(o){return o.dataField.toLowerCase()===t.toLowerCase()});if(n.length>0)return n[0];throw new X.Error("E1047",t)}function vr(t){return Array.isArray(t)?t.length<2||Array.isArray(t[0])||Array.isArray(t[1]):!1}function ri(t){return Array.isArray(t)?t.length>1&&!Array.isArray(t[0])&&!Array.isArray(t[1]):!1}function s9(t,e,i){i=i||bl;for(var n=g9(t).toLowerCase()||i,o=[],r=0;r<t.length;r++)vr(t[r])?(o.push(tC(t[r],e,i)),o=LA(o,n)):ri(t[r])&&(o.push(Xx(t[r],e)),o=LA(o,n));return o.length===0&&(o=LA(o,n)),o}function zIe(t,e){var i=mr(e,t[1]);return i&&i.name===t[1]}function Xx(t,e){return zIe(t,e)||t.length<3&&(t[2]=t[1],t[1]=WA),t}function zA(t){return t.indexOf("not")!==-1}function UA(t){return t.substring(3).toLowerCase()}function NA(t,e){var i=zA(e);return e=i?UA(e):e,i?["!",t,e]:[t,e]}function LA(t,e){var i=zA(e);e=i?UA(e):e,t.push(e);var n=t;return i&&(n=["!",n]),n}function tC(t,e,i){return i=i||bl,t?(t=v(!0,[],t),ri(t)?NA(Xx(t,e),i):Ld(t)?["!",ri(t[1])?NA(Xx(t[1],e),i):Ld(t[1])?NA(tC(t[1],e),i):s9(t[1],e,i)]:s9(t,e,i)):GA(i)}function y9(t){return t.reduce(function(e,i){if(f(i.dataField)){var n={};for(var o in i)i[o]&&BIe.indexOf(o)>-1&&(n[o]=i[o]);n.defaultCalculateFilterExpression=Bo.defaultCalculateFilterExpression,f(n.dataType)||(n.dataType=HA),f(n.trueText)||(n.trueText=w.format("dxDataGrid-trueText")),f(n.falseText)||(n.falseText=w.format("dxDataGrid-falseText")),e.push(n)}return e},[])}function l9(t,e,i,n){var o=ph(t[0],e),r=Xx(t,i),a=i.length&&mr(i,r[1]);return a&&a.calculateFilterExpression?a.calculateFilterExpression.apply(a,[r[2],o,e]):o.createFilterExpression?o.createFilterExpression.apply(o,[r[2],r[1],n]):o.calculateFilterExpression?o.calculateFilterExpression.apply(o,[r[2],r[1],n]):o.defaultCalculateFilterExpression.apply(o,[r[2],r[1],n])}function rs(t,e,i,n){if(!f(t))return null;if(Ld(t)){var o=rs(t[1],e,i,n);return["!",o]}var r=as(t);if(ri(r))return l9(r,e,i,n)||null;for(var a=[],s,l=ss(r),d=0;d<r.length;d++)vr(r[d])?(s=rs(r[d],e,i,n),s&&(d&&a.push(l),a.push(s))):ri(r[d])&&(s=l9(r[d],e,i,n),s&&(a.length&&a.push(l),a.push(s)));return a.length===1&&(a=a[0]),a.length?a:null}function Vd(t){var e=as(t),i;if(e.length===0)return null;var n=[];for(i=0;i<e.length;i++)if(vr(e[i])){var o=Vd(e[i]);o?e[i]=o:n.push(e[i])}else ri(e[i])&&(jIe(e[i])||n.push(e[i]));for(i=0;i<n.length;i++)eC(e,n[i]);return e.length===1||(e.splice(e.length-1,1),e.length===1&&(t=VIe(t,e[0])),t.length===0)?null:t}function iC(t,e,i){if(e===""){i("");return}var n=t.lookup;if(n.items)i(n.calculateCellValue(e)||"");else{var o=T(n.dataSource)?n.dataSource({}):n.dataSource,r=new mi(o);r.loadSingle(n.valueExpr,e).done(function(a){var s="";a&&(s=n.displayExpr?pe(n.displayExpr)(a):a),t.customizeText&&(s=t.customizeText({value:e,valueText:s})),i(s)}).fail(function(){i("")})}}function x9(t,e,i,n,o){var r;return e===!0?r=t.trueText||w.format("dxDataGrid-trueText"):e===!1?r=t.falseText||w.format("dxDataGrid-falseText"):r=LIe(t,e),t.customizeText&&(r=t.customizeText.call(t,{value:e,valueText:r,target:n})),i&&i.customizeText&&(r=i.customizeText.call(i,{value:e,valueText:r,field:t,target:n},o)),r}function UIe(t,e,i,n){var o={values:e};return e.map(r=>x9(t,r,i,n,o))}function VA(t){return t===""||t===null}function nC(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(VA(e))return"";if(Array.isArray(e)){var o=new S;return A.apply(this,UIe(t,e,i,n)).done(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.some(d=>!VA(d))?a.map(d=>VA(d)?"?":d):"";o.resolve(l)}),o}else return x9(t,e,i,n)}function d9(t,e){return t.some(function(i){return i.dataField===e})}function C9(t,e,i){var n=i.dataField;$A(n)&&(i.parentId=b9(n),!d9(e,i.parentId)&&!d9(t,i.parentId)&&C9(t,e,{id:i.parentId,dataType:"object",dataField:i.parentId,caption:S9(i.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:Bo.defaultCalculateFilterExpression})),e.push(i)}function S9(t,e){var i="";if(e)t=t.substring(t.lastIndexOf(".")+1);else if($A(t))return t.split(".").forEach(function(n,o,r){i+=po(n),o!==r.length-1&&(i+=".")}),i;return po(t)}function jA(t,e){for(var i=[],n=0;n<t.length;n++){var o=v(!0,{caption:S9(t[n].dataField,e)},t[n]);o.id=o.name||o.dataField,e?C9(t,i,o):i.push(o)}return i}function $A(t){return t.lastIndexOf(".")!==-1}function b9(t){return t.substring(0,t.lastIndexOf("."))}function KA(t,e){if($A(t.dataField)){for(var i=b9(t.dataField),n=0;n<e.length;n++)if(e[n].dataField===i)return KA(e[n],e)+"."+t.caption}return t.caption}function oC(t,e,i){var n=mr(i,e);return n?(n.hasValue===!1?(t[1]=e,t.length=2):(t[1]=e,t[2]=""),t):(e==="isblank"?(t[1]=WA,t[2]=null):e==="isnotblank"?(t[1]=TIe,t[2]=null):(n=mr(i,t[1]),(n||t.length===2||t[2]===null)&&(t[2]=""),t[1]=e),t)}function qA(t){var e;return t[2]===null?t[1]===WA?e="isblank":e="isnotblank":e=t[1],e}function jIe(t){return t[2]!==""}function D9(t,e,i){var n=v(!0,[],t),o=-1;return n.some(function(r,a){if(r.name==="between")return o=a,!0}),o!==-1?n[o]=v(kA(e,i),n[o]):n.unshift(kA(e,i)),n}function Gf(t,e){return t[0]===e}function rC(t,e){if(!t||t.length===0)return null;if(ri(t)){var i=Gf(t,e);return i?null:t}else return w9(t,[e],!1)}function w9(t,e,i){var n=[];return t.forEach(function(o){ri(o)?Gf(o,e[0])?i?(n.push(e),i=!1):n.splice(n.length-1,1):n.push(o):(n.length||vr(o))&&n.push(o)}),n.length===0?null:(i&&(n.push(bl),n.push(e)),n.length===1?n[0]:n)}function YA(t,e){if(t===null||t.length===0)return e;if(ri(t))return Gf(t,e[0])?e:[t,bl,e];var i=ss(t);return i!==bl?[e,"and",t]:w9(t,e,!0)}function E9(t,e){if(t===null||t.length===0)return[];if(ri(t))return Gf(t,e)?[t]:[];var i=ss(t);if(i!==bl)return[];var n=t.filter(function(o){return ri(o)&&Gf(o,e)});return n}function QA(t,e){return t===null||t.length===0?!1:ri(t)?t[0]===e:t.some(function(i){return(ri(i)||vr(i))&&QA(i,e)})}var Uf=function(t,e,i){if(Array.isArray(e)){var n=e.length-1;t.empty(),e.forEach((o,r)=>{h("<span>").addClass(PIe).text(o).appendTo(t),r!==n&&h("<span>").addClass(c9).text(i&&i.valueSeparator?i.valueSeparator:"|").addClass(NIe).appendTo(t)})}else e?t.text(e):t.text(w.format("dxFilterBuilder-enterValueText"))};function O9(t){var e=function(n,o){return o?"".concat(o,"/").concat(n):n},i=t&&t.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(n,o,r){var a=[],s=n.length-1;return n&&n.forEach((l,d)=>{if(ri(l)||vr(l)){var u=rs(l,r,[],"headerFilter");a.push(u)}else{var c=rs([o.dataField,"=",l],r,[],"headerFilter");a.push(c)}d!==s&&a.push("or")}),a.length===1?a[0]:a},editorTemplate(n,o){var r=h("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(o),a=v(!0,{},t.columnOption(n.field.dataField));return Uf(r,n.text&&n.text.split("|")),a.filterType="include",a.filterValues=n.value?n.value.slice():[],i.showHeaderFilterMenuBase({columnElement:r,column:a,apply(){s=this.filterValues,n.setValue(s);var s;i.hideHeaderFilterMenu(),n.closeEditor()},onHidden(){n.closeEditor()},isFilterBuilder:!0}),o},customizeText:function(n,o){o=o||{};var{value:r}=n,a=t.columnOption(n.field.dataField),s=a&&a.headerFilter,l=a&&a.lookup,d=o.values||[r];if(s&&s.dataSource||l&&l.dataSource){var u=new S,c=o.items||new S;if(!o.items){a=v({},a,{filterType:"include",filterValues:d});var p=i.getDataSource(a);p.paginate=!1;var g=new mi(p),m=g.store().key();if(m){var{values:y}=o;if(y&&y.length>1){var C=y.reduce((O,k)=>(O.length&&O.push("or"),O.push([m,"=",k]),O),[]);g.filter(C)}else g.filter([m,"=",n.value])}else n.field.calculateDisplayValue&&X.log("W1017");o.items=c,g.load().done(c.resolve)}return c.done(O=>{var k=d.indexOf(n.value);u.resolve(function J(U,z){var ce=[];return U.forEach(fe=>{if(fe.items){var he=J(fe.items,e(fe.text,z));ce=ce.concat(he)}fe.selected&&ce.push(e(fe.text,z))}),ce}(O,null)[k])}),u}var b=i.getHeaderItemText(r,a,0,t.option("headerFilter"));return b}}}function I9(t){return v(O9(t),{name:"anyof",icon:"selectall",caption:w.format("dxFilterBuilder-filterOperationAnyOf")})}function F9(t){var e=O9(t);return v({},e,{calculateFilterExpression(i,n,o){var r=e.calculateFilterExpression(i,n,o);return!r||r.length===0?null:r[0]==="!"?r:["!",r]},name:"noneof",icon:"unselectall",caption:w.format("dxFilterBuilder-filterOperationNoneOf")})}var $Ie=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],B9="include",jf="exclude";function sa(t){return t.name||t.dataField}function KIe(t){t.forEach(e=>{var i=sa(e);if(!f(i)&&e.allowFiltering)throw new X.Error("E1049",e.caption)})}var JA=function(){return{filterType:B9,filterValues:void 0}},k9=function(t){var e=t.filterValues||[];return!Bo.getGroupInterval(t)&&!(t.headerFilter&&t.headerFilter.dataSource)||e.length===1&&e[0]===null},qIe=function(t,e){if(!t)return JA();var i,n=t[1],o=t[2],r=Array.isArray(o);if(!r&&!k9(e))return JA();switch(n){case"anyof":case"=":i=B9;break;case"noneof":case"<>":i=jf;break;default:return JA()}return{filterType:i,filterValues:r?o:[o]}},T9=function(t){var e=t.filterValue;if(f(e)){var i=t.selectedFilterOperation||t.defaultFilterOperation||zf(t),n=[sa(t),i,t.filterValue];return n}return null},M9=function(t){var e,i,{filterValues:n}=t;return n?(n.length===1&&k9(t)&&!Array.isArray(n[0])?(t.filterType===jf?e="<>":e="=",i=n[0]):(t.filterType===jf?e="noneof":e="anyof",i=n),[sa(t),e,i]):null},A9=function(t,e,i){var n=qIe(i,e);t.columnOption(sa(e),n)},R9=function(t,e,i){var n,o=i?.[1],r=i?.[2],a=e.filterOperations||e.defaultFilterOperations;(!a||a.indexOf(o)>=0||o===e.defaultFilterOperation)&&$Ie.includes(o)&&r!==null?(o===e.defaultFilterOperation&&!f(e.selectedFilterOperation)&&(o=e.selectedFilterOperation),n={filterValue:r,selectedFilterOperation:o}):n={filterValue:void 0,selectedFilterOperation:void 0},t.columnOption(sa(e),n)},XA=class extends ye.Controller{init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._dataController.isFilterSyncActive()&&(this._columnsController.isAllDataTypesDefined()?this._initSync():this._dataController.dataSourceChanged.add(()=>this._initSync()))}publicMethods(){return["getCustomFilterOperations"]}syncFilterValue(){var e=this,i=this._columnsController.getFilteringColumns();this._skipSyncColumnOptions=!0,i.forEach(n=>{var o=E9(e.option("filterValue"),sa(n));if(o.length===1){var r=o[0];A9(this._columnsController,n,r),R9(this._columnsController,n,r)}else f(n.filterValues)&&A9(this._columnsController,n,null),f(n.filterValue)&&R9(this._columnsController,n,null)}),this._skipSyncColumnOptions=!1}_initSync(){var e=this._columnsController.getColumns(),i=this._dataController.pageIndex();if(KIe(e),!this.option("filterValue")){var n=this._columnsController.getFilteringColumns(),o=this.getFilterValueFromColumns(n);this._silentOption("filterValue",o)}this.syncFilterValue(),this._dataController.pageIndex(i)}_getSyncFilterRow(e,i){var n=T9(i);return f(n)?YA(e,n):rC(e,sa(i))}_getSyncHeaderFilter(e,i){var n=M9(i);return n?YA(e,n):rC(e,sa(i))}getFilterValueFromColumns(e){if(!this._dataController.isFilterSyncActive())return null;var i=["and"];return e&&e.forEach(n=>{var o=M9(n),r=T9(n);o&&hh(o,i),r&&hh(r,i)}),Vd(i)}syncFilterRow(e,i){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))}syncHeaderFilter(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))}getCustomFilterOperations(){var e,i=(e=this.option("filterBuilder.customOperations"))!==null&&e!==void 0?e:[];return[I9(this.component),F9(this.component)].concat(i)}},YIe=t=>class extends t{optionChanged(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this._filterSyncController.syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var i=this._columnsController.getColumnByPath(e.fullName);if(i&&!this._filterSyncController._skipSyncColumnOptions){var n=this._parseColumnPropertyName(e.fullName);this._filterSyncController._skipSyncColumnOptions=!0,n==="filterType"?(jf===e.value||jf===e.previousValue)&&this._filterSyncController.syncHeaderFilter(i):n==="filterValues"?this._filterSyncController.syncHeaderFilter(i):["filterValue","selectedFilterOperation"].includes(n)&&this._filterSyncController.syncFilterRow(i,i.filterValue),this._filterSyncController._skipSyncColumnOptions=!1}}super.optionChanged(e);break;default:super.optionChanged(e)}}isFilterSyncActive(){var e=this.option("filterSyncEnabled");return e==="auto"?this.option("filterPanel.visible"):e}skipCalculateColumnFilters(){return(f(this.option("filterValue"))||this._filterSyncController._skipSyncColumnOptions)&&this.isFilterSyncActive()}_calculateAdditionalFilter(){if(this.option("filterPanel.filterEnabled")===!1)return super._calculateAdditionalFilter();var e=[super._calculateAdditionalFilter()],i=this._columnsController.getFilteringColumns(),n=this.option("filterValue");if(this.isFilterSyncActive()){var o=this._headerFilterController.getCurrentColumn(),r=this._applyFilterController.getCurrentColumnForFiltering(),a=o||r,s=o||f(r?.filterValue);s&&n&&(n=rC(n,sa(a)))}var l=this._filterSyncController.getCustomFilterOperations(),d=rs(n,i,l,"filterBuilder");return d&&e.push(d),M.combineFilters(e)}_parseColumnPropertyName(e){var i=e.match(/.*\.(.*)/);return i?i[1]:null}clearFilter(e){this.component.beginUpdate(),arguments.length>0?(e==="filterValue"&&this.option("filterValue",null),super.clearFilter(e)):(this.option("filterValue",null),super.clearFilter()),this.component.endUpdate()}_applyFilter(){return this._filterSyncController._skipSyncColumnOptions?new S().resolve():super._applyFilter.apply(this,arguments)}},QIe=t=>class extends t{optionChanged(e){e.name==="filterValue"?this._updateHeaderFilterIndicators():super.optionChanged(e)}_isHeaderFilterEmpty(e){return this._dataController.isFilterSyncActive()?!QA(this.option("filterValue"),sa(e)):super._isHeaderFilterEmpty(e)}_needUpdateFilterIndicators(){return!this._dataController.isFilterSyncActive()}},P9={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:XA},extenders:{controllers:{data:YIe},views:{columnHeadersView:QIe}}};P.registerModule("filterSync",P9);var eo="dx-filterbuilder",gh=eo+"-group",N9=gh+"-item",L9=gh+"-content",JIe=gh+"-operations",XIe=gh+"-operation",eR=eo+"-action",V9=eR+"-icon",ZIe="dx-icon-plus",eFe="dx-icon-remove",$f=eo+"-text",tFe=eo+"-item-field",iFe=eo+"-item-operation",H9=eo+"-item-value",nFe=eo+"-item-value-text",oFe=eo+"-overlay",rFe=eo+"-operations",aFe=eo+"-fields",sFe=eo+"-add-condition",aC="dx-state-active",lFe=eo+"-menu-custom-operation",W9="filterBuilder",dFe="dx-state-disabled",G9="tab",ZA="enter",z9="escape",uFe=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],U9={and:"and",or:"or",notAnd:"!and",notOr:"!or"},cFe=yx(class{}),j9=ct.inherit({_getDefaultOptions:function(){return v(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:w.format("dxFilterBuilder-and"),or:w.format("dxFilterBuilder-or"),notAnd:w.format("dxFilterBuilder-notAnd"),notOr:w.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:w.format("dxFilterBuilder-filterOperationBetween"),equal:w.format("dxFilterBuilder-filterOperationEquals"),notEqual:w.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:w.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:w.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:w.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:w.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:w.format("dxFilterBuilder-filterOperationStartsWith"),contains:w.format("dxFilterBuilder-filterOperationContains"),notContains:w.format("dxFilterBuilder-filterOperationNotContains"),endsWith:w.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:w.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:w.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(t){switch(t.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(t.value!==t.previousValue){var e=this._disableInvalidateForValue;e||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:t.value,previousValue:t.previousValue}),this._disableInvalidateForValue=e}break;default:this.callBase(t)}},getFilterExpression:function(){var t=this._getNormalizedFields(),e=v(!0,[],this._model);return rs(Vd(e),t,this._customOperations,W9)},_getNormalizedFields:function(){return y9(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var t=v(!0,[],this._model),e=Vd(t),i=Vd(this._getModel(this.option("value")));JSON.stringify(i)!==JSON.stringify(e)&&this.option("value",e),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new cFe},_initCustomOperations:function(){this._customOperations=D9(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getDefaultGroupOperation:function(){var t,e;return(t=(e=this.option("groupOperations"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:U9.and},_getModel:function(t){return tC(t,this._customOperations,this._getDefaultGroupOperation())},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var t=this;t._actions={},uFe.forEach(function(e){var i=v({},e.config);t._actions[e.name]=t._createActionByOption(e.name,i)})},executeAction:function(t,e){var i=this._actions[t];return i&&i(e)},_initMarkup:function(){this.$element().addClass(eo),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(t,e){return h("<div>").addClass(gh).append(this._createConditionItem(t,e))},_createGroupElementByCriteria:function(t,e){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=this._createGroupElement(t,e,i),o=n.find("."+L9),r=as(t),a=0;a<r.length;a++){var s=r[a];vr(s)?this._createGroupElementByCriteria(s,t,i+1).appendTo(o):ri(s)&&this._createConditionElement(s,t).appendTo(o)}return n},_createGroupElement:function(t,e,i){var n=h("<div>").addClass(N9),o=h("<div>").addClass(L9),r=h("<div>").addClass(gh).append(n).append(o);return e!=null&&this._createRemoveButton(()=>{eC(e,t),r.remove(),this._updateFilter()}).appendTo(n),this._createGroupOperationButton(t).appendTo(n),this._createAddButton(()=>{var a=GA(this._getDefaultGroupOperation());hh(a,t),this._createGroupElement(a,t,i+1).appendTo(o),this._updateFilter()},()=>{var a=this.option("fields")[0],s=_9(a,this._customOperations);hh(s,t),this._createConditionElement(s,t).appendTo(o),this._updateFilter()},i).appendTo(n),r},_createButton:function(t){return h("<div>").text(t)},_createGroupOperationButton:function(t){var e=this._getGroupOperations(t),i=p9(t,e),n=i.text,o=e&&e.length<2?this._createButton(n).addClass(dFe):this._createButtonWithMenu({caption:n,menu:{items:e,displayExpr:"text",keyExpr:"value",onItemClick:r=>{i!==r.itemData&&(h9(t,r.itemData.value),o.text(r.itemData.text),i=r.itemData,this._updateFilter())},onContentReady:function(r){r.component.selectItem(i)},cssClass:JIe}});return o.addClass($f).addClass(XIe).attr("tabindex",0)},_createButtonWithMenu:function(t){var e=this,i=function(){e.$element().find("."+aC).removeClass(aC),e.$element().find(".dx-overlay .dx-treeview").remove(),e.$element().find(".dx-overlay").remove()},n=this.option("rtlEnabled"),o=n?"right":"left",r=this._createButton(t.caption);v(t.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(a=t.menu.onItemClick,function(s){a(s),s.event.type==="dxclick"&&i()}),onHiding:function(s){r.removeClass(aC)},position:{my:o+" top",at:o+" bottom",offset:"0 1",of:r,collision:"flip"},animation:null,onHidden:function(){i()},cssClass:oFe+" "+t.menu.cssClass,rtlEnabled:n});var a;return t.popup={onShown:function(s){var l=h(s.component.content()).find(".dx-treeview"),d=l.dxTreeView("instance");_.on(l,"keyup keydown",function(u){var c=Ae(u);(u.type==="keydown"&&c===G9||u.type==="keyup"&&(c===z9||c===ZA))&&(s.component.hide(),_.trigger(t.menu.position.of,"focus"))}),d.focus(),d.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(r,function(){i(),e._createPopupWithTreeView(t,e.$element()),r.addClass(aC)}),r},_hasValueButton:function(t){var e=mr(this._customOperations,t[1]);return e?e.hasValue!==!1:t[2]!==null},_createOperationButtonWithMenu:function(t,e){var i=this,n=v9(e,this.option("filterOperationDescriptions"),this._customOperations),o=m9(qA(t),n),r=this._createButtonWithMenu({caption:o.text,menu:{items:n,displayExpr:"text",onItemRendered:function(a){a.itemData.isCustom&&h(a.itemElement).addClass(lFe)},onContentReady:function(a){a.component.selectItem(o)},onItemClick:a=>{if(o!==a.itemData){o=a.itemData,oC(t,o.value,i._customOperations);var s=r.siblings().filter("."+H9);i._hasValueButton(t)?(s.length!==0&&s.remove(),i._createValueButton(t,e).appendTo(r.parent())):s.remove(),r.text(o.text),this._updateFilter()}},cssClass:rFe}}).addClass($f).addClass(iFe).attr("tabindex",0);return r},_createOperationAndValueButtons:function(t,e,i){this._createOperationButtonWithMenu(t,e).appendTo(i),this._hasValueButton(t)&&this._createValueButton(t,e).appendTo(i)},_createFieldButtonWithMenu:function(t,e,i){var n=this,o=this.option("allowHierarchicalFields"),r=jA(t,o),a=ph(i.name||i.dataField,r),s=function(d,u){return o?KA(d,u):d.caption},l=this._createButtonWithMenu({caption:s(a,r),menu:{items:r,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:d=>{if(a!==d.itemData){a=d.itemData,e[0]=a.name||a.dataField,e[2]=a.dataType==="object"?null:"",oC(e,zf(a),n._customOperations),l.siblings().filter("."+$f).remove(),n._createOperationAndValueButtons(e,a,l.parent());var u=s(a,d.component.option("items"));l.text(u),this._updateFilter()}},onContentReady:function(d){d.component.selectItem(a)},cssClass:aFe}}).addClass($f).addClass(tFe).attr("tabindex",0);return l},_createConditionItem:function(t,e){var i=h("<div>").addClass(N9),n=this._getNormalizedFields(),o=ph(t[0],n);return this._createRemoveButton(()=>{eC(e,t);var r=i.parent().children().length===1;r?i.parent().remove():i.remove(),this._updateFilter()}).appendTo(i),this._createFieldButtonWithMenu(n,t,o).appendTo(i),this._createOperationAndValueButtons(t,o,i),i},_getGroupOperations:function(t){var e=this.option("groupOperations"),i=this.option("groupOperationDescriptions");return(!e||!e.length)&&(e=[ss(t).replace("!","not")]),e.map(n=>({text:i[n],value:U9[n]}))},_createRemoveButton:function(t){var e=h("<div>").addClass(V9).addClass(eFe).addClass(eR).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(e,t),e},_createAddButton:function(t,e,i){var n,o=this.option("maxGroupLevel");return f(o)&&i>=o?(n=this._createButton(),this._subscribeOnClickAndEnterKey(n,e)):n=this._createButtonWithMenu({menu:{items:[{caption:w.format("dxFilterBuilder-addCondition"),click:e},{caption:w.format("dxFilterBuilder-addGroup"),click:t}],displayExpr:"caption",onItemClick:function(r){r.itemData.click()},cssClass:sFe}}),n.addClass(V9).addClass(ZIe).addClass(eR).attr("tabindex",0)},_createValueText:function(t,e,i){var n=this,o=h("<div>").html("&nbsp;").addClass(nFe).attr("tabindex",0).appendTo(i),r=t[2],a=mr(n._customOperations,t[1]);return!a&&e.lookup?iC(e,r,function(s){Uf(o,s)}):A(nC(e,r,a)).done(s=>{Uf(o,s,a)}),n._subscribeOnClickAndEnterKey(o,function(s){s.type==="keyup"&&s.stopPropagation(),n._createValueEditorWithEvents(t,e,i)}),o},_updateConditionValue:function(t,e,i){var n=t[2]!==e;n&&(t[2]=e),i(),this._updateFilter()},_addDocumentKeyUp:function(t,e){var i=!1,n=!1,o=I.getDocument(),r=s=>{if(i||n){n=!1;return}e(s)};_.on(o,"keyup",r);var a=t.find("input");_.on(a,"compositionstart",()=>{i=!0}),_.on(a,"compositionend",()=>{i=!1,n=!0}),_.on(a,"keydown",s=>{s.which!==229&&(n=!1)}),this._documentKeyUpHandler=r},_addDocumentClick:function(t,e){var i=I.getDocument(),n=o=>{this._isFocusOnEditorParts(t,o.target)||(_.trigger(t.find("input"),"change"),e())};_.on(i,"dxpointerdown",n),this._documentClickHandler=n},_isFocusOnEditorParts:function(t,e){var i=e||I.getActiveElement();return h(i).closest(t.children()).length||h(i).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var t=I.getDocument();f(this._documentKeyUpHandler)&&_.off(t,"keyup",this._documentKeyUpHandler),f(this._documentClickHandler)&&_.off(t,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(t,e,i){var n=t[2],o=()=>(i.empty(),this._removeEvents(),this._createValueText(t,e,i)),r=()=>{this._updateConditionValue(t,n,function(){o()})},a={value:n===""?null:n,filterOperation:qA(t),setValue:function(l){n=l===null?"":l},closeEditor:r,text:i.text()};i.empty();var s=this._createValueEditor(i,e,a);_.trigger(s.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(s,r),this._addDocumentKeyUp(s,l=>{var d=Ae(l);if(d===G9){if(this._isFocusOnEditorParts(s))return;this._updateConditionValue(t,n,function(){o(),l.shiftKey&&_.trigger(i.prev(),"focus")})}d===z9&&_.trigger(o(),"focus"),d===ZA&&this._updateConditionValue(t,n,function(){_.trigger(o(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(t,e){var i=h("<div>").addClass($f).addClass(H9);return this._createValueText(t,e,i),i},_createValueEditor:function(t,e,i){var n=h("<div>").attr("tabindex",0).appendTo(t),o=mr(this._customOperations,i.filterOperation),r=o&&o.editorTemplate?o.editorTemplate:e.editorTemplate;if(r){var a=this._getTemplate(r);a.render({model:v({field:e},i),container:n})}else this._editorFactory.createEditor.call(this,n,v({},e,i,{parentType:W9}));return n},_createPopupWithTreeView:function(t,e){var i=this,n=h("<div>").addClass(t.menu.cssClass).appendTo(e);this._createComponent(n,Fi,{onHiding:t.menu.onHiding,onHidden:t.menu.onHidden,rtlEnabled:t.menu.rtlEnabled,position:t.menu.position,animation:t.menu.animation,contentTemplate:function(o){var r=h("<div>").appendTo(o);i._createComponent(r,ml,t.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return zx(t.menu.position.of)},visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:t.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:t.menu.cssClass})},_subscribeOnClickAndEnterKey:function(t,e){_.on(t,"dxclick",e),_.on(t,"keyup",function(i){Ae(i)===ZA&&e(i)})}});K("dxFilterBuilder",j9);var $9=j9;var K9=$9;var tR=class extends ye.View{init(){super.init(),this._columnsController=this.getController("columns"),this._filterSyncController=this.getController("filterSync")}optionChanged(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_renderCore(){this._updatePopupOptions()}_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()}_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)}_initPopup(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),Fi,v({title:w.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:i=>e._getPopupContentTemplate(i),onOptionChanged(i){i.name==="visible"&&e.option("filterBuilderPopup.visible",i.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden(){Yc(e),e._disposePopup()}}))}_getPopupContentTemplate(e){var i=h(e),n=h("<div>").appendTo(h(e));this._filterBuilder=this._createComponent(n,K9,v({value:this.option("filterValue"),fields:this._columnsController.getFilteringColumns()},this.option("filterBuilder"),{customOperations:this._filterSyncController.getCustomFilterOperations()})),this._createComponent(i,yy,{direction:"both"})}_getPopupToolbarItems(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:w.format("OK"),onClick(){var i=e._filterBuilder.option("value");e.option("filterValue",i),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:w.format("Cancel"),onClick(){e._filterBuilderPopup.hide()}}}]}},q9={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:w.format("dxFilterBuilder-and"),or:w.format("dxFilterBuilder-or"),notAnd:w.format("dxFilterBuilder-notAnd"),notOr:w.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:w.format("dxFilterBuilder-filterOperationBetween"),equal:w.format("dxFilterBuilder-filterOperationEquals"),notEqual:w.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:w.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:w.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:w.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:w.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:w.format("dxFilterBuilder-filterOperationStartsWith"),contains:w.format("dxFilterBuilder-filterOperationContains"),notContains:w.format("dxFilterBuilder-filterOperationNotContains"),endsWith:w.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:w.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:w.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:tR}};P.registerModule("filterBuilder",q9);var Kf="filter-panel",hFe="".concat(Kf,"-text"),pFe="".concat(Kf,"-checkbox"),gFe="".concat(Kf,"-clear-filter"),fFe="".concat(Kf,"-left"),mFe="filterPanel",iR=class extends ye.View{init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._filterSyncController=this.getController("filterSync"),this._dataController.dataSourceChanged.add(()=>this.render())}isVisible(){return this.option("filterPanel.visible")&&this._dataController.dataSource()}_renderCore(){var e=this.element();e.empty();var i=!!this._columnsController.getColumns().length;if(i){e.addClass(this.addWidgetPrefix(Kf));var n=h("<div>").addClass(this.addWidgetPrefix(fFe)).appendTo(e);this._renderFilterBuilderText(e,n)}}_renderFilterBuilderText(e,i){var n=this._getFilterElement(),o=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var r=this._getCheckElement(),a=this._getRemoveButtonElement();i.append(r).append(n).append(o),e.append(a);return}i.append(n).append(o)}_getCheckElement(){var e=this,i=h("<div>").addClass(this.addWidgetPrefix(pFe));return e._createComponent(i,sl,{value:e.option("filterPanel.filterEnabled"),onValueChanged(n){e.option("filterPanel.filterEnabled",n.value)}}),i.attr("title",this.option("filterPanel.texts.filterEnabledHint")),i}_getFilterElement(){var e=this,i=h("<div>").addClass("dx-icon-filter");return _.on(i,"click",()=>e._showFilterBuilder()),dl("filterPanel",e,i,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(i),i}_getTextElement(){var e=this,i=h("<div>").addClass(e.addWidgetPrefix(hFe)),n,o=e.option("filterValue");return o?A(e.getFilterText(o,this._filterSyncController.getCustomFilterOperations())).done(r=>{var a=e.option("filterPanel.customizeText");if(a){var s=a({component:e.component,filterValue:o,text:r});typeof s=="string"&&(r=s)}i.text(r)}):(n=e.option("filterPanel.texts.createFilter"),i.text(n)),_.on(i,"click",()=>e._showFilterBuilder()),dl("filterPanel",e,i,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(i),i}_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)}_getRemoveButtonElement(){var e=this,i=()=>e.option("filterValue",null),n=h("<div>").addClass(e.addWidgetPrefix(gFe)).text(e.option("filterPanel.texts.clearFilter"));return _.on(n,"click",i),dl("filterPanel",this,n,void 0,i),e._addTabIndexToElement(n),n}_addTabIndexToElement(e){if(!this.option("useLegacyKeyboardNavigation")){var i=this.option("tabindex")||0;e.attr("tabindex",i)}}optionChanged(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_getConditionText(e,i,n){var o="[".concat(e,"] ").concat(i);return f(n)&&(o+=n),o}_getValueMaskedText(e){return Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'")}_getValueText(e,i,n){var o=new S,r=i&&i.customizeText;if(f(n)||r)if(!r&&e.lookup)iC(e,n,s=>{o.resolve(this._getValueMaskedText(s))});else{var a=Array.isArray(n)?n:M.getDisplayValue(e,n,null);A(nC(e,a,i,mFe)).done(s=>{o.resolve(this._getValueMaskedText(s))})}else o.resolve("");return o.promise()}getConditionText(e,i){var n=this,o=e[1],r=new S,a=mr(i.customOperations,o),s,l=ph(e[0],i.columns),d=l.caption||"",u=e[2];return a?s=a.caption||po(a.name):u===null?s=Zx(o==="="?"isblank":"isnotblank",i.filterOperationDescriptions):s=Zx(o,i.filterOperationDescriptions),this._getValueText(l,a,u).done(c=>{r.resolve(n._getConditionText(d,s,c))}),r}getGroupText(e,i,n){var o=this,r=new S,a=[],s=ss(e);return e.forEach(l=>{ri(l)?a.push(o.getConditionText(l,i)):vr(l)&&a.push(o.getGroupText(l,i,!0))}),A.apply(this,a).done(function(){for(var l,d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];if(s.startsWith("!")){var p=i.groupOperationDescriptions["not".concat(s.substring(1,2).toUpperCase()).concat(s.substring(2))].split(" ");l="".concat(p[0]," ").concat(u[0])}else l=u.join(" ".concat(i.groupOperationDescriptions[s]," "));n&&(l="(".concat(l,")")),r.resolve(l)}),r}getFilterText(e,i){var n={customOperations:i,columns:this._columnsController.getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return ri(e)?this.getConditionText(e,n):this.getGroupText(e,n)}},vFe=t=>class extends t{optionChanged(e){switch(e.name){case"filterPanel":this._applyFilter(),e.handled=!0;break;default:super.optionChanged(e)}}},Y9={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:w.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:w.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:w.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:iR},extenders:{controllers:{data:vFe}}};P.registerModule("filterPanel",Y9);var Q9="search-panel",J9="search-text",_Fe="header-panel",yFe=700;function X9(t){var e;return!!((e=t.allowSearch)!==null&&e!==void 0?e:t.allowFiltering)}function Z9(t,e){var{lookup:i}=t;return t.parseValue?i?t.parseValue.call(i,e):t.parseValue(e):e}var xFe=t=>class extends t{optionChanged(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:super.optionChanged(e)}}publicMethods(){return super.publicMethods().concat(["searchByText"])}_calculateAdditionalFilter(){var e=super._calculateAdditionalFilter(),i=this.calculateSearchFilter(this.option("searchPanel.text"));return M.combineFilters([e,i])}searchByText(e){this.option("searchPanel.text",e)}calculateSearchFilter(e){var i,n,o=this._columnsController.getColumns(),r=this.option("searchPanel.searchVisibleColumnsOnly"),a,s=[];if(!e)return null;function l(u){for(var c=pe(a.valueExpr),p=0;p<u.length;p++){var g=c(u[p]);s.push(n.createFilterExpression(g,null,"search"))}}for(i=0;i<o.length;i++)if(n=o[i],!(r&&!n.visible)&&X9(n)&&n.calculateFilterExpression){a=n.lookup;var d=Z9(n,e);a&&a.items?Nt(a.items).filter(n.createFilterExpression.call({dataField:a.displayExpr,dataType:a.dataType,calculateFilterExpression:n.calculateFilterExpression},d,null,"search")).enumerate().done(l):d!==void 0&&s.push(n.createFilterExpression(d,null,"search"))}return s.length===0?["!"]:M.combineFilters(s,"or")}},CFe=t=>class extends t{optionChanged(e){if(e.name==="searchPanel"){if(e.fullName==="searchPanel.text"){var i=this.getSearchTextEditor();i&&i.option("value",e.value)}else this._invalidate();e.handled=!0}else super.optionChanged(e)}_getToolbarItems(){var e=super._getToolbarItems();return this._prepareSearchItem(e)}_prepareSearchItem(e){var i=this,n=this._dataController,o=this.option("searchPanel");if(o&&o.visible){var r={template(a,s,l){var d=h("<div>").addClass(i.addWidgetPrefix(Q9)).appendTo(l);i._editorFactoryController.createEditor(d,{width:o.width,placeholder:o.placeholder,parentType:"searchPanel",value:i.option("searchPanel.text"),updateValueTimeout:yFe,setValue(u){n.searchByText(u)},editorOptions:{inputAttr:{"aria-label":w.format("".concat(i.component.NAME,"-ariaSearchInGrid"))}}}),i.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(r)}return e}getSearchTextEditor(){var e=this,i=e.element(),n=i.find(".".concat(e.addWidgetPrefix(Q9))).filter(function(){return h(this).closest(".".concat(e.addWidgetPrefix(_Fe))).is(i)});return n.length?n.dxTextBox("instance"):null}isVisible(){var e=this.option("searchPanel");return super.isVisible()||!!e?.visible}},SFe=t=>class extends t{init(){super.init.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")}dispose(){clearTimeout(this._highlightTimer),super.dispose()}_getFormattedSearchText(e,i){var n=Z9(e,i),o=M.getFormatOptionsByColumn(e,"search");return M.formatValue(n,o)}_getStringNormalizer(){var e,i,n,o,r=this.option("searchPanel.highlightCaseSensitive"),a=(i=(e=this._dataController)===null||e===void 0?void 0:e.getDataSource)===null||i===void 0?void 0:i.call(e),s=(o=(n=a?.loadOptions)===null||n===void 0?void 0:n.call(a))===null||o===void 0?void 0:o.langParams;return l=>Wt(l,r,s)}_findHighlightingTextNodes(e,i,n){var o=i.parent(),r,a=this._getStringNormalizer(),s=a(n),l=[];if(!o.length)o=h("<div>").append(i);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)r=i;else{var d=this._columnsController.getVisibleIndex(e.index);r=o.children("td").eq(d).find("*")}return r=r?.length?r:o.find("*"),r.each((u,c)=>{for(var p,g,m=h(c).contents(),y=0;y<m.length;y++){var C=m.get(y);if(C.nodeType===3){var b=a((g=(p=C.textContent)!==null&&p!==void 0?p:C.nodeValue)!==null&&g!==void 0?g:"");b.includes(s)&&l.push(C)}}}),l}_highlightSearchTextCore(e,i){var n=h("<span>").addClass(this.addWidgetPrefix(J9)),o=e.text(),r=e[0],a=this._getStringNormalizer(),s=a(o).indexOf(a(i));if(s>=0)return r.textContent?r.textContent=o.substr(0,s):r.nodeValue=o.substr(0,s),e.after(n.text(o.substr(s,i.length))),e=h(I.createTextNode(o.substr(s+i.length))).insertAfter(n),this._highlightSearchTextCore(e,i)}_highlightSearchText(e,i,n){var o=this,r=this._getStringNormalizer(),a=o.option("searchPanel.text");if(i&&n&&(a=a&&o._getFormattedSearchText(n,a)),a&&o.option("searchPanel.highlightSearchText")){var s=o._findHighlightingTextNodes(n,e,a);s.forEach(l=>{i?r(h(l).text())===r(a??"")&&h(l).replaceWith(h("<span>").addClass(o.addWidgetPrefix(J9)).text(h(l).text())):o._highlightSearchTextCore(h(l),a)})}}_renderCore(){var e=super._renderCore.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),e}_updateCell(e,i){var{column:n}=i,o=n.lookup&&n.lookup.dataType||n.dataType,r=o!=="string";X9(n)&&!i.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(a=>{this._highlightSearchText.apply(this,a)}),this._searchParams=[]})),this._searchParams.push([e,r,n])):this._highlightSearchText(e,r,n)),super._updateCell(e,i)}},e7={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:w.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:xFe},views:{headerPanel:CFe,rowsView:SFe}}};P.registerModule("search",e7);var sC=class extends yc{_optionChanged(e){switch(e.name){case"pageIndex":var i=this.option("pageIndexChanged");i&&i(e.value);break;case"pageSize":var n=this.option("pageSizeChanged");n&&n(e.value)}super._optionChanged(e)}};function la(t,e){var i,n=(i=Xg(e))!==null&&i!==void 0?i:{};return Cy(n[t])}function t7(t){var e=la("paddingLeft",t)+la("paddingRight",t),i=la("width",t);return i-e}function qf(t){var e=la("marginLeft",t)+la("marginRight",t),i=la("width",t);return e+i}function lC(t){return la("minWidth",t)}var bFe=["contentTemplate","pagerProps"],DFe=t=>{var{contentAttributes:e,infoTextRef:i,infoTextVisible:n,isLargeDisplayMode:o,pageSizesRef:r,pagesRef:a,parentRef:s,props:{contentTemplate:l}}=t;return l(E({rootElementRef:s,pageSizesRef:r,infoTextRef:i,pagesRef:a,infoTextVisible:n,isLargeDisplayMode:o},e))};function wFe(t){var{pageSizes:e,pages:i,parent:n}=t;return n-(e+i)>0}function EFe(t){var{info:e,pageSizes:i,pages:n,parent:o}=t,r=i+n+e;return o-r>0}function OFe(t){var{info:e,pageSizes:i,pages:n,parent:o}=t,r=t7(o),a=qf(i),s=qf(e),l=qf(n);return{parent:r,pageSizes:a,info:s+la("marginLeft",e)+la("marginRight",e),pages:l}}var IFe={},FFe=t=>t&&(t.defaultProps?e=>Vt(Oe(2,t,E({},e))):t),i7=(()=>{class t extends di{constructor(i){super(i),this.parentRef=Dt(),this.pageSizesRef=Dt(),this.infoTextRef=Dt(),this.pagesRef=Dt(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new ke(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new ke(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var i,n;(i=this._effects[0])===null||i===void 0||i.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(n=this._effects[1])===null||n===void 0||n.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var i=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return Qo.add(i),()=>{Qo.remove(i)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:i,displayMode:n,gridCompatibility:o,hasKnownLastPage:r,infoText:a,label:s,lightModeEnabled:l,maxPagesCount:d,onKeyDown:u,pageCount:c,pageIndex:p,pageIndexChange:g,pageSize:m,pageSizeChange:y,pageSizes:C,pagesCountText:b,pagesNavigatorVisible:O,rtlEnabled:k,showInfo:J,showNavigationButtons:U,showPageSizes:z,totalCount:ce,visible:fe}=this.props.pagerProps;return E({},this.restAttributes,{pageSize:m,pageIndex:p,pageIndexChange:g,pageSizeChange:y,gridCompatibility:o,className:i,showInfo:J,infoText:a,lightModeEnabled:l,displayMode:n,maxPagesCount:d,pageCount:c,pagesCountText:b,visible:fe,hasKnownLastPage:r,pagesNavigatorVisible:O,showPageSizes:z,pageSizes:C,rtlEnabled:k,showNavigationButtons:U,totalCount:ce,onKeyDown:u,label:s})}get parentWidth(){return this.parentRef.current?qf(this.parentRef.current):0}updateAdaptivityProps(){var i=OFe({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(!(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)){var n=!f(this.elementsWidth);n&&(this.elementsWidth={}),(n||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=i.pageSizes,this.elementsWidth.pages=i.pages),(n||this.state.infoTextVisible)&&(this.elementsWidth.info=i.info),this.actualIsLargeDisplayMode=wFe(E({parent:i.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=EFe(E({},i,{info:this.elementsWidth.info})),this.setState(o=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(o=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){var i=this.props,n=xe(i,bFe);return n}render(){var i=this.props;return DFe({props:E({},i,{contentTemplate:FFe(i.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}return t.defaultProps=IFe,t})();var nR={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return w.format("dxPager-ariaLabel")}};var n7=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(nR),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),Bt=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(nR),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1})));var TFe=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],oR="dx-info",MFe=t=>{var{props:{rootElementRef:e},text:i}=t;return Xe(1,"div",oR,i,0,null,null,e)};var AFe={get pageIndex(){return Bt.pageIndex},get pageCount(){return Bt.pageCount},get totalCount(){return Bt.totalCount}},o7=(()=>{class t extends Ut{constructor(i){super(i),this.state={}}get infoText(){var i;return((i=this.props.infoText)!==null&&i!==void 0?i:"")||w.getFormatter("dxPager-infoText")()}get text(){var{pageCount:i,pageIndex:n,totalCount:o}=this.props;return Ri(this.infoText,(n+1).toString(),i.toString(),o.toString())}get restAttributes(){var i=this.props,n=xe(i,TFe);return n}render(){var i=this.props;return MFe({props:E({},i),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}return t.defaultProps=AFe,t})();var Hd=w0(void 0);var RFe=["children","className","label","onClick","selected","tabIndex"],BFe=t=>{var{props:{children:e,className:i,label:n,selected:o,tabIndex:r},widgetRef:a}=t;return Xe(1,"div",i,e,0,{tabIndex:r,role:"button","aria-label":n,"aria-current":o?"page":void 0},null,a)},kFe={className:"",label:"",tabIndex:0,selected:!1},Wd=(()=>{class t extends di{constructor(i){super(i),this.state={},this.widgetRef=Dt(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return this.context[Hd.id]?this.context[Hd.id]:Hd.defaultValue}createEffects(){return[new ke(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new ke(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var i,n;(i=this._effects[0])===null||i===void 0||i.update([this.keyboardContext,this.props.onClick]),(n=this._effects[1])===null||n===void 0||n.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return a4(this.widgetRef.current,this.props.onClick)}get restAttributes(){var i=this.props,n=xe(i,RFe);return n}render(){var i=this.props;return BFe({props:E({},i),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}return t.defaultProps=kFe,t})();var r7="dx-pager",a7="dx-light-mode",s7="dx-pages",l7="dx-page-indexes",d7="dx-page",rR="dx-selection",aR="dx-page-size",u7="dx-page-sizes",c7="".concat(aR," ").concat(rR),h7="dx-first-child";var PFe=["className","index","onClick","selected"],NFe=t=>{var{className:e,label:i,props:{onClick:n,selected:o},value:r}=t;return Oe(2,Wd,{className:e,label:i,onClick:n,selected:o,children:r})},LFe={index:0,selected:!1,className:d7},dC=(()=>{class t extends Ut{constructor(i){super(i),this.state={}}get label(){return Ri(w.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:i}=this.props;return ui({["".concat(this.props.className)]:!!this.props.className,[rR]:!!i})}get restAttributes(){var i=this.props,n=xe(i,PFe);return n}render(){var i=this.props;return NFe({props:E({},i),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}return t.defaultProps=LFe,t})();var VFe=["pageIndexes"],HFe=["maxPagesCount","pageCount","pageIndex","pageIndexChange"],WFe="dx-separator",GFe=t=>{var{pages:e}=t,i=e.map(n=>{var{key:o,pageProps:r}=n;return r?Oe(2,dC,{index:r.index,selected:r.selected,onClick:r.onClick},o):Xe(1,"div",WFe,". . .",16,null,o)});return rn(i,0)},Gd=4;function p7(t,e,i){return t===1?"high":t+e===i-1?"low":"both"}function f7(t,e,i){var n=[],o=[];switch(i){case"none":n=[...t];break;case"both":n=[0,"low",...t,"high",e-1],o=t.slice(1,-1);break;case"high":n=[0,...t,"high",e-1],o=t.slice(0,-1);break;case"low":n=[0,"low",...t,e-1],o=t.slice(1)}return{slidingWindowIndexes:t,indexesForReuse:o,pageIndexes:n}}function g7(t,e,i,n){for(var o=[],r=0;r<e;r+=1)o.push(r+t);return f7(o,i,n)}var zFe={get pageIndex(){return Bt.pageIndex},get maxPagesCount(){return Bt.maxPagesCount},get pageCount(){return Bt.pageCount}},m7=(()=>{class t extends Ut{constructor(i){super(i),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return this.context[Zt.id]?this.context[Zt.id]:Zt.defaultValue}get slidingWindowState(){var i=this.slidingWindowStateHolder;return i||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(i,n){var{indexesForReuse:o}=this.slidingWindowState,r=o.slice(-1)[0]<i-1,a=o.includes(n);return r&&a}generatePageIndexes(){var{pageCount:i,pageIndex:n}=this.props,o=0,{slidingWindowIndexes:r}=this.slidingWindowState;n===r[0]?o=n-1:n===r[r.length-1]?o=n+2-Gd:n<Gd?o=1:n>=i-Gd?o=i-Gd-1:o=n-1;var a=Gd,s=p7(o,a,i),l=g7(o,a,i,s),{pageIndexes:d}=l,u=xe(l,VFe);return this.slidingWindowStateHolder=u,d}isSlidingWindowMode(){var{maxPagesCount:i,pageCount:n}=this.props;return n<=Gd||n<=i}onPageClick(i){this.props.pageIndexChange(i)}get pageIndexes(){var{pageCount:i}=this.props;if(this.isSlidingWindowMode())return g7(0,i,i,"none").pageIndexes;if(this.canReuseSlidingWindow(i,this.props.pageIndex)){var{slidingWindowIndexes:n}=this.slidingWindowState,o=p7(n[0],Gd,i);return f7(n,i,o).pageIndexes}return this.generatePageIndexes()}get pages(){var i,{pageIndex:n}=this.props,o=a=>{var s=a==="low"||a==="high"?null:{index:a,onClick:()=>this.onPageClick(a),selected:n===a};return{key:a.toString(),pageProps:s}},r=(i=this.config)!==null&&i!==void 0&&i.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes;return r.map(a=>o(a))}get restAttributes(){var i=this.props,n=xe(i,HFe);return n}render(){var i=this.props;return GFe({props:E({},i),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}return t.defaultProps=zFe,t})();var Dl={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return R.real().deviceType==="desktop"&&!R.isSimulator()}};var fh={label:"",get labelMode(){return He(vi())?"floating":"static"}};var UFe=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],jFe=0,$Fe=t=>{var{componentProps:e,restAttributes:i}=t;return Vt(Oe(2,Gc,E({componentType:of,componentProps:e,templateNames:[]},i)))},zn=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(Jt),Object.getOwnPropertyDescriptors({defaultValue:jFe,isReactComponentWrapper:!0}))),KFe={get defaultValue(){return zn.defaultValue},get readOnly(){return zn.readOnly},get name(){return zn.name},get validationError(){return zn.validationError},get validationErrors(){return zn.validationErrors},get validationMessageMode(){return zn.validationMessageMode},get validationMessagePosition(){return zn.validationMessagePosition},get validationStatus(){return zn.validationStatus},get isValid(){return zn.isValid},get inputAttr(){return zn.inputAttr},get className(){return zn.className},get activeStateEnabled(){return Dl.activeStateEnabled},get disabled(){return zn.disabled},get focusStateEnabled(){return Dl.focusStateEnabled},get hoverStateEnabled(){return Dl.hoverStateEnabled},get tabIndex(){return zn.tabIndex},get visible(){return zn.visible},get label(){return fh.label},get labelMode(){return fh.labelMode},isReactComponentWrapper:!0},v7=(()=>{class t extends Ut{constructor(i){super(i),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var i=E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),n=xe(i,UFe);return n}render(){var i=this.props;return $Fe({props:E({},i,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return t.defaultProps=KFe,t})();var qFe=10;function uC(t,e){return t+qFe*Math.max(...e).toString().length}var YFe=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],QFe="".concat(oR,"  dx-info-text"),_7="dx-page-index",JFe="dx-light-pages",XFe="dx-pages-count",ZFe=t=>{var{pageIndexRef:e,pagesCountText:i,props:{inputAttr:n,pageCount:o},selectLastPageIndex:r,value:a,valueChange:s,width:l}=t;return Xe(1,"div",JFe,[Oe(2,v7,{className:_7,min:1,max:Math.max(o,a),width:l,value:a,valueChange:s,inputAttr:n}),Xe(1,"span",QFe,i,0),Oe(2,dC,{className:XFe,selected:!1,index:o-1,onClick:r})],4,null,null,e)},eTe={inputAttr:Object.freeze({"aria-label":w.format("dxPager-ariaPageNumber")})},tTe={get pageIndex(){return Bt.pageIndex},get pageCount(){return Bt.pageCount},get inputAttr(){return eTe.inputAttr}},y7=(()=>{class t extends di{constructor(i){super(i),this.pageIndexRef=Dt(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new ke(this.updateWidth,[this.state.minWidth])]}updateEffects(){var i;(i=this._effects[0])===null||i===void 0||i.update([this.state.minWidth])}updateWidth(){var i,n=(i=this.pageIndexRef.current)===null||i===void 0?void 0:i.querySelector(".".concat(_7));this.setState(o=>({minWidth:n&&lC(n)||o.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:i}=this.props;return uC(this.state.minWidth,[i])}get pagesCountText(){var i;return((i=this.props.pagesCountText)!==null&&i!==void 0?i:"")||w.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(i){this.props.pageIndexChange(i-1)}get restAttributes(){var i=this.props,n=xe(i,YFe);return n}render(){var i=this.props;return ZFe({props:E({},i),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}return t.defaultProps=tTe,t})();var iTe=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],cC="dx-navigate-button",x7="dx-prev-button",C7="dx-next-button",S7="dx-button-disable",nTe=()=>w.getFormatter("dxPager-nextPage")(),oTe=()=>w.getFormatter("dxPager-prevPage")(),rTe={nextEnabledClass:"".concat(cC," ").concat(C7),prevEnabledClass:"".concat(cC," ").concat(x7),nextDisabledClass:"".concat(S7," ").concat(cC," ").concat(C7),prevDisabledClass:"".concat(S7," ").concat(cC," ").concat(x7)},aTe={next:"prev",prev:"next"},sTe=t=>{var{nextButtonProps:e,pageIndexChange:i,prevButtonProps:n,props:{isLargeDisplayMode:o,maxPagesCount:r,pageCount:a,pageIndex:s,pagesCountText:l},renderNextButton:d,renderPrevButton:u}=t;return rn([u&&Oe(2,Wd,{label:oTe(),className:n.className,tabIndex:n.tabIndex,onClick:n.navigate}),o&&Oe(2,m7,{maxPagesCount:r,pageCount:a,pageIndex:s,pageIndexChange:i}),!o&&Oe(2,y7,{pageCount:a,pageIndex:s,pageIndexChange:i,pagesCountText:l}),d&&Oe(2,Wd,{label:nTe(),className:e.className,tabIndex:e.tabIndex,onClick:e.navigate})],0)};function lTe(t){return t==="next"?1:-1}var dTe={isLargeDisplayMode:!0},uTe={get pageIndex(){return Bt.pageIndex},get maxPagesCount(){return Bt.maxPagesCount},get pageCount(){return Bt.pageCount},get hasKnownLastPage(){return Bt.hasKnownLastPage},get showNavigationButtons(){return Bt.showNavigationButtons},get totalCount(){return Bt.totalCount},get isLargeDisplayMode(){return dTe.isLargeDisplayMode}},b7=(()=>{class t extends Ut{constructor(i){super(i),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return this.context[Zt.id]?this.context[Zt.id]:Zt.defaultValue}pageIndexChange(i){this.canNavigateToPage(i)&&this.props.pageIndexChange(i)}getButtonProps(i){var n,o=(n=this.config)!==null&&n!==void 0&&n.rtlEnabled?aTe[i]:i,r=this.canNavigateTo(o),a=rTe["".concat(i).concat(r?"Enabled":"Disabled","Class")];return{className:a,tabIndex:r?0:-1,navigate:()=>this.navigateToPage(o)}}canNavigateToPage(i){return this.props.hasKnownLastPage?i>=0&&i<=this.props.pageCount-1:i>=0}getNextPageIndex(i){return this.props.pageIndex+lTe(i)}canNavigateTo(i){return this.canNavigateToPage(this.getNextPageIndex(i))}navigateToPage(i){this.pageIndexChange(this.getNextPageIndex(i))}get renderPrevButton(){var{isLargeDisplayMode:i,showNavigationButtons:n}=this.props;return!i||n}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=this.getButtonProps("prev")}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=this.getButtonProps("next")}get restAttributes(){var i=this.props,n=xe(i,iTe);return n}componentWillUpdate(i,n,o){(this.context[Zt.id]!==o[Zt.id]||this.props.hasKnownLastPage!==i.hasKnownLastPage||this.props.pageCount!==i.pageCount||this.props.pageIndex!==i.pageIndex||this.props.pageIndexChange!==i.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[Zt.id]!==o[Zt.id]||this.props.hasKnownLastPage!==i.hasKnownLastPage||this.props.pageCount!==i.pageCount||this.props.pageIndex!==i.pageIndex||this.props.pageIndexChange!==i.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){var i=this.props;return sTe({props:E({},i),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}return t.defaultProps=uTe,t})();var cTe=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],hTe=t=>{var{componentProps:e,restAttributes:i}=t;return Vt(Oe(2,Gc,E({componentType:th,componentProps:e,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},i)))},dn=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(Jt),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),pTe={get placeholder(){return dn.placeholder},get hoverStateEnabled(){return Dl.hoverStateEnabled},get searchEnabled(){return dn.searchEnabled},get defaultValue(){return dn.defaultValue},get readOnly(){return dn.readOnly},get name(){return dn.name},get validationError(){return dn.validationError},get validationErrors(){return dn.validationErrors},get validationMessageMode(){return dn.validationMessageMode},get validationMessagePosition(){return dn.validationMessagePosition},get validationStatus(){return dn.validationStatus},get isValid(){return dn.isValid},get inputAttr(){return dn.inputAttr},get className(){return dn.className},get activeStateEnabled(){return Dl.activeStateEnabled},get disabled(){return dn.disabled},get focusStateEnabled(){return Dl.focusStateEnabled},get tabIndex(){return dn.tabIndex},get visible(){return dn.visible},get label(){return fh.label},get labelMode(){return fh.labelMode},isReactComponentWrapper:!0},D7=(()=>{class t extends Ut{constructor(i){super(i),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var i=E({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),n=xe(i,cTe);return n}render(){var i=this.props;return hTe({props:E({},i,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return t.defaultProps=pTe,t})();var gTe=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],fTe=t=>{var{props:{inputAttr:e,pageSize:i,pageSizeChange:n,pageSizes:o},width:r}=t;return Oe(2,D7,{displayExpr:"text",valueExpr:"value",dataSource:o,value:i,valueChange:n,width:r,inputAttr:e})},mTe={inputAttr:Object.freeze({"aria-label":w.format("dxPager-ariaPageSize")})},vTe={get pageSize(){return Bt.pageSize},get inputAttr(){return mTe.inputAttr}},w7=(()=>{class t extends di{constructor(i){super(i),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new ke(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var i;(i=this._effects[0])===null||i===void 0||i.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(i=>({minWidth:lC(this.props.parentRef.current)||i.minWidth}))}get width(){return uC(this.state.minWidth,this.props.pageSizes.map(i=>i.value))}get restAttributes(){var i=this.props,n=xe(i,gTe);return n}render(){var i=this.props;return fTe({props:E({},i),width:this.width,restAttributes:this.restAttributes})}}return t.defaultProps=vTe,t})();var _Te=["pageSize","pageSizeChange","pageSizes"],yTe=t=>{var{pageSizesText:e}=t;return rn(e.map(i=>{var{className:n,click:o,label:r,text:a}=i;return Oe(2,Wd,{className:n,label:r,onClick:o,children:a},a)}),0)};var xTe={get pageSize(){return Bt.pageSize}},E7=(()=>{class t extends Ut{constructor(i){super(i),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:i,pageSizes:n}=this.props;return n.map((o,r)=>{var{text:a,value:s}=o,l=s===i,d=ui({[l?c7:aR]:!0,[h7]:r===0});return{className:d,click:this.onPageSizeChange(s),label:Ri(w.getFormatter("dxPager-pageSize"),s||w.getFormatter("dxPager-pageSizesAllText")),text:a}})})()}onPageSizeChange(i){return()=>(this.props.pageSizeChange(i),this.props.pageSize)}get restAttributes(){var i=this.props,n=xe(i,_Te);return n}componentWillUpdate(i,n,o){(this.props.pageSize!==i.pageSize||this.props.pageSizes!==i.pageSizes||this.props.pageSizeChange!==i.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){var i=this.props;return yTe({props:E({},i),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}return t.defaultProps=xTe,t})();var CTe=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],STe=t=>{var{htmlRef:e,normalizedPageSizes:i,props:{isLargeDisplayMode:n,pageSize:o,pageSizeChange:r}}=t;return Xe(1,"div",u7,[n&&Oe(2,E7,{pageSizes:i,pageSize:o,pageSizeChange:r}),!n&&Oe(2,w7,{parentRef:e,pageSizes:i,pageSize:o,pageSizeChange:r})],0,null,null,e)};function bTe(){return w.getFormatter("dxPager-pageSizesAllText")()}var DTe={isLargeDisplayMode:!0},wTe={get pageSize(){return Bt.pageSize},get pageSizes(){return Bt.pageSizes},get isLargeDisplayMode(){return DTe.isLargeDisplayMode}},O7=(()=>{class t extends di{constructor(i){super(i),this.state={},this.htmlRef=Dt(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new ke(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:i}=this.props;i&&(i.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:i}=this.props;return i.map(n=>n==="all"||n===0?{text:bTe(),value:0}:{text:String(n),value:n})})()}get restAttributes(){var i=this.props,n=xe(i,CTe);return n}componentWillUpdate(i,n,o){super.componentWillUpdate(),this.props.pageSizes!==i.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){var i=this.props;return STe({props:E({},i),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}return t.defaultProps=wTe,t})();var ETe=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],OTe=t=>{var{aria:e,classes:i,infoVisible:n,isLargeDisplayMode:o,pageIndexSelectorVisible:r,pagesContainerVisibility:a,pagesContainerVisible:s,props:{hasKnownLastPage:l,infoText:d,infoTextRef:u,maxPagesCount:c,pageCount:p,pageIndex:g,pageIndexChange:m,pageSize:y,pageSizeChange:C,pageSizes:b,pageSizesRef:O,pagesCountText:k,pagesRef:J,rtlEnabled:U,showNavigationButtons:z,showPageSizes:ce,totalCount:fe,visible:he},restAttributes:it,widgetRootElementRef:kt}=t;return Vt(Oe(2,bc,E({rootElementRef:kt,rtlEnabled:U,classes:i,visible:he,aria:e},it,{children:[ce&&Oe(2,O7,{rootElementRef:O,isLargeDisplayMode:o,pageSize:y,pageSizeChange:C,pageSizes:b}),s&&Xe(1,"div",s7,[n&&Oe(2,o7,{rootElementRef:u,infoText:d,pageCount:p,pageIndex:g,totalCount:fe}),r&&Xe(1,"div",l7,Oe(2,b7,{hasKnownLastPage:l,isLargeDisplayMode:o,maxPagesCount:c,pageCount:p,pageIndex:g,pageIndexChange:m,pagesCountText:k,showNavigationButtons:z,totalCount:fe}),2,null,null,J)],0,{style:_c({visibility:a})})]})))},ITe=Object.create(Object.prototype,E(Object.getOwnPropertyDescriptors(Bt),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0}))),I7=(()=>{class t extends di{constructor(i){super(i),this.state={},this.widgetRootElementRef=Dt(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new ke(this.setRootElementRef,[])]}getChildContext(){return E({},this.context,{[Hd.id]:this.keyboardAction||Hd.defaultValue})}setRootElementRef(){var{rootElementRef:i}=this.props;i&&(i.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>i=>{var n,o;(n=(o=this.props).onKeyDown)===null||n===void 0||n.call(o,i)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction={registerKeyboardAction:(i,n)=>{var o=this.createFakeInstance();return zy("pager",o,i,void 0,n)}}}get infoVisible(){var{infoTextVisible:i,showInfo:n}=this.props;return n&&i}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){var{displayMode:i,lightModeEnabled:n}=this.props;return i==="adaptive"&&n!==void 0?n?"compact":"full":i}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var i=this.normalizedDisplayMode,n=!1;return i==="adaptive"?n=this.props.isLargeDisplayMode:n=i==="full",n}get classes(){var i={["".concat(this.props.className)]:!!this.props.className,[r7]:!0,[a7]:!this.isLargeDisplayMode};return ui(i)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){var i=this.props,n=xe(i,ETe);return n}componentWillUpdate(i,n,o){super.componentWillUpdate(),this.props.onKeyDown!==i.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){var i=this.props;return OTe({props:E({},i),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}return t.defaultProps=ITe,t})();var FTe=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],TTe=t=>{var{pagerProps:e,restAttributes:i}=t;return Vt(Oe(2,i7,E({contentTemplate:I7,pagerProps:e},i)))},F7=(()=>{class t extends Mo{constructor(i){super(i),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[zr()]}pageIndexChange(i){if(this.props.gridCompatibility){var n;this.setState(r=>(n=i+1,{pageIndex:n})),this.props.pageIndexChange(n)}else{var o;this.setState(r=>(o=i,{pageIndex:o})),this.props.pageIndexChange(o)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(i){var n;this.setState(o=>(n=i,{pageSize:n})),this.props.pageSizeChange(n)}get className(){return this.props.gridCompatibility?ui({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=E({},E({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:i=>this.pageIndexChange(i),pageSizeChange:i=>this.pageSizeChange(i)})}get restAttributes(){var i=E({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),n=xe(i,FTe);return n}componentWillUpdate(i,n,o){super.componentWillUpdate(),(this.props!==i||this.props.gridCompatibility!==i.gridCompatibility||this.props.className!==i.className||this.state.pageIndex!==n.pageIndex||this.props.pageIndex!==i.pageIndex||this.props.pageIndexChange!==i.pageIndexChange||this.props.pageSizeChange!==i.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){var i=this.props;return TTe({props:E({},i,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}}return t.defaultProps=n7,t})();var Yf=class extends sC{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return F7}};K("dxPager",Yf);var T7=Yf;var MTe="pager",ATe=10,M7=function(t){return 1+(parseInt(t.pageIndex())||0)},sR=class extends ye.View{init(){var e=this.getController("data");e.changed.add(i=>{if(i&&i.repaintChangesOnly){var n=this._pager;n?n.option({pageIndex:M7(e),pageSize:e.pageSize(),pageCount:e.pageCount(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):this.render()}else(!i||i.changeType!=="update"&&i.changeType!=="updateSelection"&&i.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})}dispose(){this._pager=null}optionChanged(e){var{name:i}=e,n=i==="pager",o=i==="paging",r=i==="dataSource",a=i==="scrolling",s=this.getController("data");if(n||o||a||r){if(e.handled=!0,s.skipProcessingPagingChange(e.fullName))return;(n||o)&&(this._pageSizes=null),r||(this._pager=null,this._invalidate(),W()&&n&&this.component&&this.component.resize())}}_renderCore(){var e,i=this.element().addClass(this.addWidgetPrefix(MTe)),n=(e=this.option("pager"))!==null&&e!==void 0?e:{},o=this.getController("data"),r=this.getController("keyboardNavigation"),a={maxPagesCount:ATe,pageIndex:M7(o),pageCount:o.pageCount(),pageSize:o.pageSize(),showPageSizes:n.showPageSizeSelector,showInfo:n.showInfo,displayMode:n.displayMode,pagesNavigatorVisible:n.visible,showNavigationButtons:n.showNavigationButtons,label:n.label,pageSizes:this.getPageSizes(),totalCount:o.totalCount(),hasKnownLastPage:o.hasKnownLastPage(),pageIndexChanged(s){o.pageIndex()!==s-1&&o.pageIndex(s-1)},pageSizeChanged(s){o.pageSize(s)},onKeyDown:s=>r&&r.executeAction("onKeyDown",s),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(f(n.infoText)&&(a.infoText=n.infoText),this._pager){this._pager.repaint();return}W()?this._pager=this._createComponent(i,T7,a):i.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')}getPager(){return this._pager}getPageSizes(){var e=this.getController("data"),i=this.option("pager"),n=i&&i.allowedPageSizes,o=e.pageSize();return(!f(this._pageSizes)||!this._pageSizes.includes(o))&&(this._pageSizes=[],i&&(Array.isArray(n)?this._pageSizes=n:n&&o>1&&(this._pageSizes=[Math.floor(o/2),o,2*o]))),this._pageSizes}isVisible(){var e=this.getController("data"),i=this.option("pager"),n=i&&i.visible,o=this.option("scrolling");return n==="auto"&&(o&&(o.mode==="virtual"||o.mode==="infinite")?n=!1:n=e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage()),!!n}getHeight(){return this.getElementHeight()}},A7={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:w.format("dxPager-ariaLabel")}}),views:{pagerView:sR}};P.registerModule("pager",A7);var RTe="columns-separator",R7="columns-separator-transparent",B7="drag-header",BTe="text-content",uR="drag-action",k7="tracker",P7="drop-highlight",N7="dx-block-separator",L7="dx-header-row",kTe="dx-widget",PTe="dx-drag-command-cell",Un="dxDataGridResizingReordering",NTe=10,V7=5,lR=.5,Qf=function(t){return t.option("allowColumnResizing")||t.getController("columns").isColumnOptionUsed("allowResizing")},H7=function(t){return t.option("allowColumnReordering")||t.getController("columns").isColumnOptionUsed("allowReordering")},cR=class extends ye.View{init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}dispose(){this._unsubscribeFromCallback(),super.dispose()}optionChanged(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(e)}_renderCore(){var e=super._renderCore();return this.element().addClass(this.addWidgetPrefix(k7)),this.hide(),e}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){var e=this;e._positionChanged=function(i){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(k7))&&(n.css({top:i.top}),fo(n,i.height))},this._tablePositionController.positionChanged.add(e._positionChanged)}isVisible(){return Qf(this)}show(){this.element().show()}hide(){this.element()&&this.element().hide()}setHeight(e){fo(this.element(),e)}},hC=class extends ye.View{_renderSeparator(){}_renderCore(e){var i=super._renderCore(e);return this._isShown=!0,this._renderSeparator(),this.hide(),i}show(){this._isShown=!0}hide(){this._isShown=!1}height(e){var i=this.element();if(i)if(f(e))fo(i,e);else return Y(i)}width(e){var i=this.element();if(i)if(f(e))$u(i,e);else return H(i)}},hR=class extends hC{init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}dispose(){this._unsubscribeFromCallback(),super.dispose()}optionChanged(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=Qf(this),this.hide(!0))),super.optionChanged(e)}_renderSeparator(){super._renderSeparator();var e=this.element();e.addClass(this.addWidgetPrefix(RTe))}_subscribeToCallback(){var e=this,i;e._positionChanged=function(n){i=e.element(),i&&(i.css({top:n.top}),fo(i,n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=Qf(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(H7(this)||Qf(this))}show(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(R7)):e.show()),super.show()}hide(e){var i=this.element(),n=this.addWidgetPrefix(R7);i&&(this._isShown||e)&&(this._isTransparent?(i.addClass(n),i.css("left",""),i.show()):(i.hasClass(n)&&i.removeClass(n),i.hide())),super.hide()}moveByX(e){var i=this.element();i&&i.css("left",e===null?0:e-this._parentElement().offset().left)}changeCursor(e){e=f(e)?e:"";var i=this.element();i&&i.css("cursor",e)}},pR=class extends hC{init(){super.init();var e=this.getController("data");e.loadingChanged.add(i=>{i||this.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass(N7).html("&nbsp;")}hide(){var e=this._parentElement(),i=this.element();i&&this._isShown&&i.css("display","none"),e&&!e.children(".".concat(N7)).length&&e.prepend(this.element()),super.hide()}isVisible(){var e=this.option("groupPanel"),i=this.option("columnChooser");return e&&e.visible||i&&i.enabled}show(e){var i=this.element(),n=function(o){et.stop(i,!0),et.animate(i,{type:"slide",from:{width:0,display:o.display},to:o,duration:300,easing:"swing"})};if(i&&!this._isShown)switch(e){case"group":n({width:"50px",display:"inline-block"});break;case"columnChooser":n({width:"100%",display:"block"});break;default:i.css("display","")}super.show()}},gR=class extends ye.View{init(){super.init();var e=this.getController("data");this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._columnsController=this.getController("columns"),this._isDragging=!1,e.loadingChanged.add(i=>{var n=this.element();!i&&n&&n.hide()})}isDragging(){return this._isDragging}_getDraggingPanelByPos(e){var i;return x(this._dragOptions.draggingPanels,(n,o)=>{if(o){var r=o.getBoundingRect();if(r&&(r.bottom===void 0||e.y<r.bottom)&&(r.top===void 0||e.y>r.top)&&(r.left===void 0||e.x>r.left)&&(r.right===void 0||e.x<r.right))return i=o,!1}}),i}_renderCore(){this.element().addClass("".concat(this.addWidgetPrefix(B7)," ").concat(this.addWidgetPrefix(BTe)," ").concat(kTe)).hide()}_resetTargetColumnOptions(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY}_getVisibleIndexObject(e,i){return f(e)?{columnIndex:i,rowIndex:e}:i}dispose(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(B7))).remove()}isVisible(){var e=this._columnsController.getCommonSettings();return this.option("showColumnHeaders")&&(H7(this)||e.allowGrouping||e.allowHiding)}dragHeader(e){var{columnElement:i}=e,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var o=I.getDocument();this._onSelectStart=o.onselectstart,o.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:i&&i.css("textAlign"),height:i&&(n&&i.get(0).clientHeight||Y(i)),width:i&&(n&&i.get(0).clientWidth||H(i)),whiteSpace:i&&i.css("whiteSpace")}).addClass(this.addWidgetPrefix(uR)).toggleClass(PTe,n).text(n?"":e.sourceColumn.caption),this.element().appendTo(k0.getSwatchContainer(i))}moveHeader(e){var i=e.event,{that:n}=i.data,o=vt(i),r=n._columnsResizerViewController?n._columnsResizerViewController.isResizing():!1,a=n._dragOptions;if(n._isDragging&&!r){var s=n.element(),l=Math.abs(o.x-a.columnElement.offset().left-a.deltaX),d=Math.abs(o.y-a.columnElement.offset().top-a.deltaY);if(s.is(":visible")||l>V7||d>V7){s.show();var u=o.x-a.deltaX,c=o.y-a.deltaY;s.css({left:u,top:c}),n.dockHeader(o)}i.preventDefault()}}dockHeader(e){var i=this._getDraggingPanelByPos(e),n=this._controller,o=this._dropOptions,r=this._dragOptions;if(i){var a=this.option("rtlEnabled"),s=i.getName()==="columnChooser",l=s?"y":"x",d=i.getName(),u=d==="headers"?r.rowIndex:void 0,{sourceColumn:c}=r,p=i.getColumnElements(u,c?.ownerBand)||[],g=r.pointsByTarget=r.pointsByTarget||{},m=d==="columnChooser"?[]:g[d]||n._generatePointsByColumns(v({},r,{targetDraggingPanel:i,columns:i.getColumns(u),columnElements:p,isVerticalOrientation:s,startColumnIndex:d==="headers"&&h(p[0]).index()}));if(g[d]=m,o.targetLocation=d,m.length>0)for(var y=0;y<m.length;y++){var C=m[y+1]&&(m[y][l]+m[y+1][l])/2;if(C===void 0||(a&&l==="x"?e[l]>C:e[l]<C)){o.targetColumnIndex=this._getVisibleIndexObject(u,m[y].columnIndex),p[y]?(o.targetColumnElement=p.eq(y),o.isLast=!1):(o.targetColumnElement=p.last(),o.isLast=!0),o.posX=m[y].x,o.posY=m[y].y,n.dock(o);break}}else this._resetTargetColumnOptions(),n.dock(o)}}dropHeader(e){var i=e.event,{that:n}=i.data,o=n._controller;n.element().hide(),o&&n._isDragging&&o.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,I.getDocument().onselectstart=n._onSelectStart||null}},dR=function(t){return t.option("columnResizingMode")!=="widget"},fR=class extends ye.ViewController{init(){this._subscribesToCallbacks=[],Qf(this)&&this._init()}dispose(){this._unsubscribes(),super.dispose()}optionChanged(e){super.optionChanged(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}_isHeadersRowArea(e){if(this._columnHeadersView){var i=this._columnHeadersView.element();if(i){var n=i.offset().top,o=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+o}}return!1}_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"}_pointCreated(e,i,n){var o=dR(this),r=this.option("rtlEnabled"),a=this._isRtlParentStyle(),s=!o&&r&&!a?0:1;if(e.index>=s&&e.index<i+(!o&&(!r||a)?1:0)){e.columnIndex-=s;var l=n[e.columnIndex]||{},d=n[e.columnIndex+1]||{};return!(o?l.allowResizing&&d.allowResizing:l.allowResizing)}return!0}_getTargetPoint(e,i,n){if(e){for(var o=0;o<e.length;o++)if(!(e[o].x===e[0].x&&e[o+1]&&e[o].x===e[o+1].x)&&e[o].x-n<=i&&i<=e[o].x+n)return e[o]}return null}_moveSeparator(e){var i,n=e.event,o=n.data,r=o._columnsSeparatorView.width(),a=dR(o),s=r/2,l=o._$parentContainer.offset(),d=l.left,u=vt(n),c=o.option("rtlEnabled"),p=this._isRtlParentStyle(),g=(i=o._draggingHeaderView)===null||i===void 0?void 0:i.isDragging();if(o._isResizing&&o._resizingInfo){if((d<=u.x||!a&&p)&&(!a||u.x<=d+H(o._$parentContainer))&&o._updateColumnsWidthIfNeeded(u.x)){var m=o._columnHeadersView.getColumnElements().eq(o._resizingInfo.currentColumnIndex),y=m[0];if(y){var C=y.getBoundingClientRect().width;o._columnsSeparatorView.moveByX(m.offset().left+((a||p)&&c?0:C)),o._tablePositionController.update(o._targetPoint.y),n.preventDefault()}}}else g||(o._isHeadersRowArea(u.y)?(o._previousParentOffset&&(o._previousParentOffset.left!==l.left||o._previousParentOffset.top!==l.top)&&o.pointsByColumns(null),o._targetPoint=o._getTargetPoint(o.pointsByColumns(),u.x,r),o._previousParentOffset=l,o._isReadyResizing=!1,o._targetPoint?(o._columnsSeparatorView.changeCursor("col-resize"),o._columnsSeparatorView.moveByX(o._targetPoint.x-s),o._tablePositionController.update(o._targetPoint.y),o._isReadyResizing=!0,n.preventDefault()):(o._columnsSeparatorView.changeCursor(),o._columnsSeparatorView.moveByX(null))):(o.pointsByColumns(null),o._isReadyResizing=!1,o._columnsSeparatorView.changeCursor(),o._columnsSeparatorView.moveByX(null)))}_endResizing(e){var i=e.event,n=i.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)}_getNextColumnIndex(e){return e+1}_setupResizingInfo(e){var i=this._targetPoint.columnIndex,n=this._getNextColumnIndex(i),o=this._columnHeadersView.getHeaderElement(i),r=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:i,currentColumnWidth:o&&o.length>0?Ze(o[0]).width:0,nextColumnIndex:n,nextColumnWidth:r&&r.length>0?Ze(r[0]).width:0}}_startResizing(e){var i=e.event,n=i.data,o=vt(i);if(wa(i)&&(n._isHeadersRowArea(o.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),o.x,NTe),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(o.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var r=n.component.getScrollable();r&&n._isRtlParentStyle()&&(n._scrollRight=H(r.$content())-H(r.container())-r.scrollLeft()),i.preventDefault(),i.stopPropagation()}this.isResizing()&&this._editorFactoryController.loseFocus()}_generatePointsByColumns(){var e=this,i=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),o=[];n&&n.length>0&&(o=M.getPointsByColumns(n,r=>e._pointCreated(r,n.length,i))),e._pointsByColumns=o}_unsubscribeFromEvents(){this._moveSeparatorHandler&&_.off(I.getDocument(),F(ae.move,Un),this._moveSeparatorHandler),this._startResizingHandler&&_.off(this._$parentContainer,F(ae.down,Un),this._startResizingHandler),this._endResizingHandler&&(_.off(this._columnsSeparatorView.element(),F(ae.up,Un),this._endResizingHandler),_.off(I.getDocument(),F(ae.up,Un),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),_.on(I.getDocument(),F(ae.move,Un),this,this._moveSeparatorHandler),_.on(this._$parentContainer,F(ae.down,Un),this,this._startResizingHandler),_.on(this._columnsSeparatorView.element(),F(ae.up,Un),this,this._endResizingHandler),_.on(I.getDocument(),F(ae.up,Un),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(e){var i,n,o=this._rowsView.contentWidth(),r=this._resizingInfo,a=this._columnsController,s=a.getVisibleColumns(),l=this._columnsSeparatorView.width(),d=dR(this),u=d&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),c=this.option("rtlEnabled"),p=this._isRtlParentStyle(),g=s[r.currentColumnIndex],m=s[r.nextColumnIndex];function y(he){return N(he)&&he.endsWith("%")}function C(he,it,kt,Mi){if(he){var hi=he.width;hi&&(Mi=y(hi)),Mi?(a.columnOption(he.index,"visibleWidth",it),a.columnOption(he.index,"width","".concat((it/kt*100).toFixed(3),"%"))):(a.columnOption(he.index,"visibleWidth",null),a.columnOption(he.index,"width",it))}}i=e-r.startPosX,(d||p)&&c&&(i=-i);var{cellWidth:b,nextCellWidth:O}=function(he){var it,kt,Mi,hi=r.currentColumnWidth+he,Ni=g&&g.minWidth||l,Ho={};return hi>=Ni?Ho.cellWidth=hi:(Ho.cellWidth=Ni,Mi=!0),d&&(kt=r.nextColumnWidth-he,it=m&&m.minWidth||l,kt>=it?Mi?Ho.nextCellWidth=r.nextColumnWidth-(he+Ni-hi):Ho.nextCellWidth=kt:(Ho.nextCellWidth=it,Ho.cellWidth=r.currentColumnWidth+(he-it+kt))),Ho}(i);if(n=g.width!==b,n){if(a.beginUpdate(),b=Math.floor(b),o=function(he,it){var kt=it.every(hi=>hi.width);if(kt){var Mi=it.reduce((hi,Ni)=>(y(Ni.width)&&(hi+=parseFloat(Ni.width)),hi),0);Mi>100&&(he=he/Mi*100)}return he}(o,s),C(g,b,o,u),d)O=Math.floor(O),C(m,O,o,u);else{var k=this._columnHeadersView.getColumnWidths();k[r.currentColumnIndex]=b;var J=k.reduce((he,it)=>he+it,0)>this._rowsView.contentWidth();if(!J){var U=M.getLastResizableColumnIndex(s);U>=0&&a.columnOption(s[U].index,"visibleWidth","auto")}for(var z=0;z<k.length;z++)s[z]&&s[z]!==g&&s[z].width===void 0&&a.columnOption(s[z].index,"width",k[z])}if(a.endUpdate(),!d){this.component.updateDimensions();var ce=this.component.getScrollable();if(ce&&p){var fe=H(ce.$content())-H(ce.container())-this._scrollRight;ce.scrollTo({left:fe})}}}return n}_subscribeToCallback(e,i){e.add(i),this._subscribesToCallbacks.push({callback:e,handler:i})}_unsubscribeFromCallbacks(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var i=this._subscribesToCallbacks[e];i.callback.remove(i.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){var e=()=>{this._isResizing||this.pointsByColumns(null)},i=r=>{this._scrollLeft!==r.left&&(this._scrollLeft=r.left,this.pointsByColumns(null))};this._columnsSeparatorView=this.getView("columnsSeparatorView"),this._columnHeadersView=this.getView("columnHeadersView"),this._trackerView=this.getView("trackerView"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._tablePositionController=this.getController("tablePosition"),this._editorFactoryController=this.getController("editorFactory"),this._draggingHeaderView=this.component.getView("draggingHeaderView"),this._$parentContainer=this.component.$element(),this._subscribeToCallback(this._columnHeadersView.renderCompleted,e),this._subscribeToCallback(this._columnHeadersView.resizeCompleted,e),this._subscribeToCallback(this._columnsSeparatorView.renderCompleted,()=>{this._unsubscribeFromEvents(),this._subscribeToEvents()}),this._subscribeToCallback(this._rowsView.renderCompleted,()=>{this._rowsView.scrollChanged.remove(i),this._rowsView.scrollChanged.add(i)});var n=this._rowsView.getScrollbarWidth()!==0,o=0;this._subscribeToCallback(this._tablePositionController.positionChanged,r=>{if(this._isResizing&&!this._rowsView.isResizing){var a=this._rowsView.getScrollbarWidth()!==0;n!==a||o&&o!==r.height?(n=a,o=r.height,this.component.updateDimensions()):this._rowsView.updateFreeSpaceRowHeight()}o=r.height})}isResizing(){return this._isResizing}pointsByColumns(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns}},mR=class extends ye.ViewController{constructor(e){super(e),this.positionChanged=de()}init(){super.init(),this._columnsResizerController=this.getController("columnsResizer"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView"),this._pagerView=this.getView("pagerView"),this._rowsView.resizeCompleted.add(()=>{if(this.option("allowColumnResizing")){var e=this._columnsResizerController._targetPoint;this.update(e?e.y:null)}})}update(e){var i={},n=this._columnHeadersView.element(),o=n&&n.offset(),r=o&&o.top||0,a=f(e)?Math.abs(e-r):0,s=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),d=this._rowsView?this._rowsView.height()-l:0,u=this.component.getView("draggingHeaderView");i.height=s;var c=this._columnsResizerController.isResizing()||u.isDragging();c&&(i.height+=d-a),e!==null&&n&&n.length&&(i.top=n[0].offsetTop+a),this.positionChanged.fire(i)}},vR=class extends ye.ViewController{init(){super.init(),this._columnsController=this.getController("columns"),this._tablePositionController=this.getController("tablePosition"),this._columnHeadersView=this.getView("columnHeadersView"),this._columnsSeparatorView=this.getView("columnsSeparatorView"),this._draggingHeaderView=this.getView("draggingHeaderView"),this._rowsView=this.getView("rowsView"),this._blockSeparatorView=this.getView("blockSeparatorView"),this._headerPanelView=this.getView("headerPanel"),this._columnChooserView=this.getView("columnChooserView");var e=()=>{if(this._draggingHeaderView){var i=[this._columnChooserView,this._columnHeadersView,this._headerPanelView];this._unsubscribeFromEvents(this._draggingHeaderView,i),this._subscribeToEvents(this._draggingHeaderView,i)}};this._columnHeadersView.renderCompleted.add(e),this._headerPanelView&&this._headerPanelView.renderCompleted.add(e),this._columnChooserView&&this._columnChooserView.renderCompleted.add(e)}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}_generatePointsByColumns(e){var i=this;this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e);var n=M.getPointsByColumns(e.columnElements,o=>i._pointCreated(o,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn),e.isVerticalOrientation,e.startColumnIndex);return n}checkIsCustomGroupColumnPosition(e){for(var i=!0,n=0;n<e.columns.length;n+=1){var o=e.columns[n];if(o.command==="expand"&&!i)return!0;o.command||(i=!1)}return!1}_pointCreated(e,i,n,o){var r,a=i[e.columnIndex],s=i[e.columnIndex-1],l=s?.command==="expand",d=a?.command==="expand"&&s?.command!=="expand",u=o&&!o.allowReordering,c=!a?.allowReordering&&!s?.allowReordering;switch(n){case"columnChooser":return!0;case"headers":if(u)return!0;if(!d)return l||c;if(this.isCustomGroupColumnPosition)return!1;for(;((r=i[e.columnIndex])===null||r===void 0?void 0:r.command)==="expand";)e.columnIndex+=1;return!1;default:return i.length===0}}_subscribeToEvents(e,i){var n=this;x(i,(o,r)=>{if(r)for(var a,s=r.getRowCount?r.getRowCount():1,l=r.getName(),d=function(p,g){if(g){var m=h(g),y=a[p];y&&r.allowDragging(y)&&(m.addClass(n.addWidgetPrefix(uR)),_.on(m,F(ar,Un),n.createAction(C=>{var b=C.event,O=vt(b);e.dragHeader({deltaX:O.x-h(b.currentTarget).offset().left,deltaY:O.y-h(b.currentTarget).offset().top,sourceColumn:y,index:y.index,columnIndex:p,columnElement:m,sourceLocation:l,draggingPanels:i,rowIndex:n._columnsController.getRowIndex(y.index,!0)})})),_.on(m,F(Xn,Un),{that:e},n.createAction(e.moveHeader)),_.on(m,F(sr,Un),{that:e},n.createAction(e.dropHeader)))}},u=0;u<s;u++){var c=r.getColumnElements(u)||[];c.length&&(a=r.getColumns(u)||[],x(c,d))}})}_unsubscribeFromEvents(e,i){var n=this;x(i,(o,r)=>{if(r){var a=r.getColumnElements()||[];x(a,(s,l)=>{var d=h(l);_.off(d,F(ar,Un)),_.off(d,F(Xn,Un)),_.off(d,F(sr,Un)),d.removeClass(n.addWidgetPrefix(uR))})}})}_getSeparator(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(e){var i=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,i&&i.hide(),e!=="block"&&n&&n.hide()}allowDrop(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}drag(e){var{sourceIndex:i}=e,{sourceLocation:n}=e,{sourceColumnElement:o}=e,r=this._columnHeadersView,a=this._rowsView;o&&(o.css({opacity:lR}),n==="headers"&&(r&&r.setRowsOpacity(i,lR),a&&a.setRowsOpacity(i,lR)))}dock(e){var i=this,n=L(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:o}=e,{targetLocation:r}=e,a=i._getSeparator(r),s=n>=0;i._columnHeadersView.element().find(".".concat(L7)).toggleClass(i.addWidgetPrefix(P7),o!=="headers"&&r==="headers"&&!s),a&&(i.allowDrop(e)&&s?r==="group"||r==="columnChooser"?function(){i._animationColumnIndex!==n&&(i.hideSeparators(),a.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),i._animationColumnIndex=n,a.show(r))}():(i.hideSeparators("block"),i._tablePositionController.update(e.posY),a.moveByX(e.posX-a.width()),a.show()):i.hideSeparators())}drop(e){var{sourceColumnElement:i}=e;if(i&&(i.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(L7)).removeClass(this.addWidgetPrefix(P7))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}}},LTe=t=>class extends t{_needUpdateRowHeight(e){var i=this.option("wordWrapEnabled"),n=this._columnsResizerController.isResizing();return super._needUpdateRowHeight.apply(this,arguments)||e>0&&i&&n}},VTe=t=>class extends t{renderFocusOverlay(){if(!this._columnsResizerController.isResizing())return super.renderFocusOverlay.apply(this,arguments)}},wl={views:{columnsSeparatorView:hR,blockSeparatorView:pR,draggingHeaderView:gR,trackerView:cR},controllers:{draggingHeader:vR,tablePosition:mR,columnsResizer:fR},extenders:{views:{rowsView:LTe},controllers:{editorFactory:VTe}}};var BWt=wl.views.draggingHeaderView,kWt=wl.controllers.draggingHeader,PWt=wl.views.columnsSeparatorView,NWt=wl.controllers.tablePosition,LWt=wl.controllers.columnsResizer,VWt=wl.views.trackerView;P.registerModule("columnsResizingReordering",wl);var HTe=(t,e)=>t.length===e.length&&!Object.keys(t).some(i=>t[i]!==e[i]),WTe=(t,e)=>_e(t,e,{maxDepth:4}),GTe=(t,e,i,n)=>{var o=t,r=e;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var d=n(s,o);return d||(o=s,r=i(...o)),r}},zTe={compareType:"reference"},_R=function(t){var{compareType:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zTe,i=null;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];if(!i){var a=t(...o);return i=GTe(o,a,t,e==="reference"?HTe:WTe),a}return i(...o)}};var pC={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},gC="rowsview";var fC="dx-data-row",W7="dx-group-row",G7="dx-header-row",z7="edit-form-item",U7="dx-master-detail-row",mC="dx-freespace-row",j7="dx-virtual-row",yR="dx-master-detail-cell";var $7="dx-dropdowneditor-overlay",Jf="dx-command-expand",vC="dx-command-select",xR="dx-command-edit",CR="[class^=dx-command]",Xf="dx-cell-focus-disabled",K7="dxDateBox",SR="dx-state-focused",q7="dx-widget",Y7="dx-revert-button",bR="dx-focused",_C="delete",Zf=`
  input:not([type="hidden"]):not([disabled]),
  textarea:not([disabled]),
  a:not([disabled]),
  select:not([disabled]),
  button:not([disabled]),
  [tabindex]:not([disabled]),
  .dx-checkbox:not([disabled],.dx-state-readonly)
`,DR="".concat(Zf,", .dx-dropdowneditor-icon");var wR="row",ER="cell",OR="columnHeadersView",Q7=["shift","control","alt"];var UTe=t=>t.attr(pC.dragCell)!==void 0,jTe=(t,e)=>t.filter("[".concat(pC.ariaColIndex,'="').concat(e+1,'"]:not([').concat(pC.dragCell,"])")).first(),IR={isDragCell:UTe,getCellToFocus:jTe};var $Te="dx-datagrid-group-footer";function mh(t){return t&&t.hasClass(W7)}function J7(t){return t&&t.hasClass($Te)}function yC(t){return t&&t.hasClass(U7)}function vh(t){return t&&t.hasClass(fC)}function X7(t){return!t||t.hasClass(mC)||t.hasClass(j7)}function FR(t,e){return!t._isRowEditMode()&&e&&!e.hasClass(vC)&&e.hasClass(yl)}function to(t){return f(t)&&t.length>0}function xC(){return R.current().deviceType!=="desktop"}function TR(t){return!!t.parent(".".concat(G7)).length}function Z7(t,e){var i=t.option("rtlEnabled");return i?!(e.fixedPosition==="right"||f(e.command)&&!f(e.fixedPosition)):!(!f(e.fixedPosition)||e.fixedPosition==="left")}function eY(t){var e=t.getController("keyboardNavigation");return e._isVirtualScrolling()?t.option("focusedRowIndex")===e.getRowIndex():!1}var MR=class extends ye.ViewController{init(){var e,i;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._columnResizerController=this.getController("columnsResizer"),this._memoFireFocusedCellChanged=_R(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=_R(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()?(O$(),(e=this._editorFactory)===null||e===void 0||e.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")):(YT(),(i=this._editorFactory)===null||i===void 0||i.focused.remove(this.focusedHandlerWithContext)),this.initViewHandlers(),this.initDocumentHandlers()}dispose(){super.dispose(),this._resetFocusedView(),Oo.off(this._keyDownListener),_.off(I.getDocument(),F(ae.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),YT()}focusedHandler(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable()&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}rowsViewFocusHandler(e){var i,n=h(e.target),o=h(e.relatedTarget).closest(this._rowsView.element()).length,r=n.is("a");if(e.relatedTarget&&r&&!o&&this._isEventInCurrentGrid(e)){var a=this._getFocusedCell();a=to(a)?a:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),n.closest(a).length||(e.preventDefault(),_.trigger(a,"focus"))}var s=n.is("td"),l=((i=this.option("focusedRowIndex"))!==null&&i!==void 0?i:-1)<0;s&&l&&this._updateFocusedCellPosition(n)}subscribeToRowsViewFocusEvent(){var e,i=(e=this._rowsView)===null||e===void 0?void 0:e.element();_.on(i,"focusin",this.rowsViewFocusHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e,i=(e=this._rowsView)===null||e===void 0?void 0:e.element();_.off(i,"focusin",this.rowsViewFocusHandlerContext)}renderCompleted(e){var i=this._rowsView.element(),n=!e||e.changeType==="refresh",o=this._focusedView&&this._focusedView.name===this._rowsView.name,r=!1,a=e&&(e.changeType==="append"||e.changeType==="prepend"),s=h(I.getRootNode(i.get&&i.get(0))),l=s.find(":focus"),d=!l.length||l.closest(i).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),o&&d&&(r=this._isNeedFocus?!a:this._isHiddenFocus&&n&&!e?.virtualColumnsScrolling,r&&this._updateFocus(!0))}initViewHandlers(){var e,i;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),(i=(e=this._rowsView)===null||e===void 0?void 0:e.renderCompleted)===null||i===void 0||i.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)}initDocumentHandlers(){var e=I.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(i=>{var n=h(i.event.target),o=this._isEventInCurrentGrid(i.event)&&n.closest(".".concat(this.addWidgetPrefix(gC))).length,r=n.closest(".".concat($7)).length,a=!!this._columnResizerController&&this._columnResizerController.isResizing();if(!o&&!r&&!a){var s=this._focusedView?n.parents().filter(this._focusedView.element()).length>0:!1;!s&&this._resetFocusedCell(!0),this._resetFocusedView()}}),_.off(e,F(ae.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&_.on(e,F(ae.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){var e=this._getRowsViewElement(),i=!this._dataController.getVisibleRows().length;i&&this._applyTabIndexToElement(e)}unsubscribeFromPointerEvent(){var e=xC()?se:ae.down,i=this._getRowsViewElement();this._pointerEventAction&&_.off(i,F(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){var e=xC()?se:ae.down,i=this._getRowsViewElement(),n=".".concat(hr," > td, .").concat(hr);_.on(i,F(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}unsubscribeFromKeyDownEvent(){Oo.off(this._keyDownListener)}subscribeToKeyDownEvent(){var e=this._getRowsViewElement();this._keyDownListener=Oo.on(e,null,i=>this._keyDownHandler(i))}initKeyDownHandler(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}optionChanged(e){switch(e.name){case"keyboardNavigation":e.fullName==="keyboardNavigation.enabled"&&this.init(),e.handled=!0;break;case"useLegacyKeyboardNavigation":this.init(),e.handled=!0;break;default:super.optionChanged(e)}}isRowFocusType(){return this.focusType===wR}isCellFocusType(){return this.focusType===ER}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType=wR)}setCellFocusType(){this.focusType=ER}_keyDownHandler(e){var i,n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var o=this._processOnKeyDown(e),r=(i=this._editingController)===null||i===void 0?void 0:i.isEditing(),{originalEvent:a}=e;if(a.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(!Q7.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(a.target),!o){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,r),o=!0;break;case"upArrow":case"downArrow":e.ctrl?sf("rowsView",this,a):this._upDownKeysHandler(e,r),o=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),o=!0;break;case"space":o=this._spaceKeyHandler(e,r);break;case"A":ut(e.originalEvent)?(this._ctrlAKeyHandler(e,r),o=!0):o=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,r),o=!0;break;case"enter":this._enterKeyHandler(e,r),o=!0;break;case"escape":o=this._escapeKeyHandler(e,r);break;case"F":ut(e.originalEvent)?(this._ctrlFKeyHandler(e),o=!0):o=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),o=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(o=this._beginFastEditing(a,!0))}!o&&!this._beginFastEditing(a)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&a.stopPropagation()}}_processOnKeyDown(e){var{originalEvent:i}=e,n={handled:!1,event:i};return this.executeAction("onKeyDown",n),e.ctrl=i.ctrlKey,e.alt=i.altKey,e.shift=i.shiftKey,!!n.handled}_closeEditCell(){setTimeout(()=>{this._editingController.closeEditCell()})}_leftRightKeysHandler(e,i){var n=this.getVisibleRowIndex(),o=e.originalEvent,r=this._focusedView&&this._focusedView.getRow(n),a=this._getDirectionCodeByKey(e.keyName),s=this._isFastEditingStarted(),l=(!i||s)&&vh(r);if(l){this.setCellFocusType(),s&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(a);var d=this._getNextCell(a);to(d)&&this._arrowKeysHandlerFocusCell(o,d,a),o&&o.preventDefault()}}_upDownKeysHandler(e,i){var n,o,r=this.getVisibleRowIndex(),a=this._focusedView&&this._focusedView.getRow(r),s=e.originalEvent,l=e.keyName==="upArrow",d=this._dataController.dataSource(),u=(o=(n=this._editingController)===null||n===void 0?void 0:n.isEditRowByIndex)===null||o===void 0?void 0:o.call(n,r),c=this._isFastEditingStarted(),p=(!u||!i||c)&&a&&!yC(a);if(p){if(c&&this._closeEditCell(),!this._navigateNextCell(s,e.keyName)&&this._isVirtualRowRender()&&l&&d&&!d.isLoading()){var g=oe(a),m=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-g,m,s)}s&&s.preventDefault()}}_pageUpDownKeyHandler(e){var i=this._dataController.pageIndex(),n=this._dataController.pageCount(),o=this.option("paging.enabled"),r=e.keyName==="pageUp",a=r?-1:1,s=this._rowsView.getScrollable();o&&!this._isVirtualScrolling()?(r?i>0:i<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(i+a),e.originalEvent.preventDefault()):s&&Y(s.container())<Y(s.$content())&&(this._scrollBy(0,Y(s.container())*a),e.originalEvent.preventDefault())}_spaceKeyHandler(e,i){var n=this.getVisibleRowIndex(),o=h(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!i){var r=this._getElementType(o)==="row"&&this.isRowFocusType()&&vh(o),a=o.hasClass(vC);return a&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),r||o.parent().hasClass(fC)||o.hasClass(this.addWidgetPrefix(gC))?(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}return this._beginFastEditing(e.originalEvent)}_ctrlAKeyHandler(e,i){!i&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())}_tabKeyHandler(e,i){var n=this.option("editing"),o=e.shift?"previous":"next",r=f(this._focusedCellPosition)&&!Rt(this._focusedCellPosition),a=!r||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=e.originalEvent.target,l=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(s,o)){if(h(l).addClass(SR),n&&s&&!a)if(h(s).hasClass(this.addWidgetPrefix(gC))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(o),i){if(!this._editingCellTabHandler(e,o))return}else this._targetCellTabHandler(e,o)&&(a=!0);a?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){var e=this.component.getScrollable();return e?e.scrollWidth()-H(this._rowsView.element()):0}_isColumnRendered(e){var i=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),o=i[e],r=!1;return o&&(r=n.indexOf(o)>=0),r}_isFixedColumn(e){var i=this._columnsController.getVisibleColumns(null,!0),n=i[e];return!!n&&!!n.fixed}_isColumnVirtual(e){var i=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns(),o=n[i];return!!o&&o.command==="virtual"}_processVirtualHorizontalPosition(e){var i=this.component.getScrollable(),n=this.getColumnIndex(),o,r=0,a=!1;switch(e){case"next":case"nextInRow":var s=this._getVisibleColumnCount();o=n+1,r=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?a=s===o||this._isFixedColumn(n)&&!this._isColumnRendered(o):a=s>o&&this._isFixedColumn(n)&&!this._isColumnRendered(o);break;case"previous":case"previousInRow":if(o=n-1,r=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){var l=this._columnsController.getColumnIndexOffset(),d=o<0&&l===0;a=d||this._isFixedColumn(n)&&!this._isColumnRendered(o)}else a=o>=0&&this._isFixedColumn(n)&&!this._isColumnRendered(o)}a?i.scrollTo({left:r}):f(o)&&f(e)&&this._isColumnVirtual(o)&&(r=this._getHorizontalScrollPositionOffset(e),r!==0&&i.scrollBy({left:r,top:0}))}_getHorizontalScrollPositionOffset(e){var i=0,n=this._getCell(this._focusedCellPosition),o=n&&ee(n);if(o>0){var r=this.option("rtlEnabled")?-1:1;i=e==="nextInRow"||e==="next"?o*r:o*r*-1}return i}_editingCellTabHandler(e,i){var n=e.originalEvent.target,o=this._getCellElementFromTarget(n),r,a=e.originalEvent,s=this._getElementType(n);if(o.is(CR))return!this._targetCellTabHandler(e,i);this._updateFocusedCellPosition(o);var l=this._getNextCellByTabKey(a,i,s);if(o=l.$cell,!o||this._handleTabKeyOnMasterDetailCell(o,i))return!1;var d=this._getColumnByCellElement(o),u=o.parent(),c=this._getRowIndex(u),p=this._dataController.items()[c],g=this._editingController;if(d&&d.allowEditing){var m=!p||p.rowType==="data";r=g.allowUpdating({row:p})?m:p&&p.isNewRow}return r||this._closeEditCell(),this._focusCell(o,!l.isHighlighted)&&(!this._isRowEditMode()&&r?this._editFocusedCell():this._focusInteractiveElement(o,e.shift)),!0}_targetCellTabHandler(e,i){var n=e.originalEvent,o=n.target,r=this._getElementType(o),a=this._getCellElementFromTarget(o),s=r==="cell"&&this._getInteractiveElement(a,!e.shift),l=!1;if(!FR(this,a)&&s?.length&&o!==s.get(0))l=!0;else{this._focusedCellPosition.rowIndex===void 0&&h(o).hasClass(hr)&&this._updateFocusedCellPosition(a),r=this._getElementType(o),this.isRowFocusType()&&(this.setCellFocusType(),r==="row"&&vh(h(o))&&(o=this.getFirstValidCellInRow(h(o)),r=this._getElementType(o)));var d=this._getNextCellByTabKey(n,i,r);if(a=d.$cell,!a||(a=this._checkNewLineTransition(n,a),!a))return!1;this._focusCell(a,!d.isHighlighted),FR(this,a)||this._focusInteractiveElement(a,e.shift)}return l}_getNextCellByTabKey(e,i,n){var o=this._getNextCell(i,n),r=o&&this._fireFocusedCellChanging(e,o,!0);return!r||r.cancel?{}:(r.$newCellElement&&(o=r.$newCellElement),{$cell:o,isHighlighted:r.isHighlighted})}_checkNewLineTransition(e,i){var n=this.getVisibleRowIndex(),o=i.parent();if(n!==this._getRowIndex(o)){var r=this._getCellPosition(i),a=this._fireFocusedRowChanging(e,o);if(a.cancel)return;a.rowIndexChanged&&r&&(this.setFocusedColumnIndex(r.columnIndex),i=this._getFocusedCell())}return i}_enterKeyHandler(e,i){var n=this._getFocusedCell(),o=this.getVisibleRowIndex(),r=this._focusedView&&this._focusedView.getRow(o);if(this.option("grouping.allowCollapsing")&&mh(r)||this.option("masterDetail.enabled")&&n&&n.hasClass(Jf)){var a=this._dataController.getKeyByRowIndex(o),s=this._dataController.items()[o];a!==void 0&&s&&s.data&&!s.data.isContinuation&&this._dataController.changeRowExpand(a)}else n?.hasClass(xR)||this._processEnterKeyForDataCell(e,i)}_processEnterKeyForDataCell(e,i){var n=this._getEnterKeyDirection(e),o=this._allowEditingOnEnterKey();i||!o&&n?(this._handleEnterKeyEditingCell(e.originalEvent),n==="next"||n==="previous"?this._targetCellTabHandler(e,n):(n==="upArrow"||n==="downArrow")&&this._navigateNextCell(e.originalEvent,n)):o&&this._startEditing(e)}_getEnterKeyDirection(e){var i=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;if(i==="column")return n?"upArrow":"downArrow";if(i==="row")return n?"previous":"next"}_handleEnterKeyEditingCell(e){var{target:i}=e,n=this._getCellElementFromTarget(i),o=this._isRowEditMode();this._updateFocusedCellPosition(n),o?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(_.trigger(h(i),"change"),this._closeEditCell(),e.preventDefault())}_escapeKeyHandler(e,i){var n=this._getCellElementFromTarget(e.originalEvent.target);return i?(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault(),!0):!1}_ctrlFKeyHandler(e){if(this.option("searchPanel.visible")){var i=this._headerPanel.getSearchTextEditor();i&&(i.focus(),e.originalEvent.preventDefault())}}_f2KeyHandler(){var e=this._editingController.isEditing(),i=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(i);!e&&vh(n)&&this._startEditing()}_navigateNextCell(e,i){var n=this._getNextCell(i),o=this._getDirectionCodeByKey(i),r=n&&this._isCellValid(n),a=r?this._arrowKeysHandlerFocusCell(e,n,o):!1;return a}_arrowKeysHandlerFocusCell(e,i,n){var o=n==="prevRow"||n==="nextRow",r=this._fireFocusChangingEvents(e,i,o,!0);return i=r.$newCellElement,!r.cancel&&this._isCellValid(i)?(this._focus(i,!r.isHighlighted),!0):!1}_beginFastEditing(e,i){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(i)this._startEditing(e,_C);else{var{key:n}=e,o=e.keyCode||e.which,r=n||o&&String.fromCharCode(o);r&&(r.length===1||r===_C)&&this._startEditing(e,r)}return!0}_pointerEventHandler(e){var i,n=e.event||e,o=h(n.currentTarget),r=(i=this._rowsView)===null||i===void 0?void 0:i.element(),a=o.parent(),s=h(n.target).is(Zf),l=!!h(n.target).closest(".".concat(Y7)).length,d=o.hasClass(Jf);this._isEventInCurrentGrid(n)&&(!l&&(this._isCellValid(o,!s)||d)?(o=this._isInsideEditForm(o)?h(n.target):o,this._focusView(),h(r).removeClass(SR),a.hasClass(mC)?(this._updateFocusedCellPosition(o),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(o)?this._updateFocusedCellPosition(o):this._clickTargetCellHandler(n,o)):o.is("td")&&this._resetFocusedCell())}_clickTargetCellHandler(e,i){var n=this._getColumnByCellElement(i),o=this._isCellEditMode();this.setCellFocusType();var r=this._fireFocusChangingEvents(e,i,!0);if(i=r.$newCellElement,r.cancel)this.setRowFocusType(),this.setFocusedRowIndex(r.prevRowIndex),this._editingController.isEditing()&&o&&this._closeEditCell();else{if(r.resetFocusedRow){this._focusController._resetFocusedRow();return}if(r.rowIndexChanged&&(i=this._getFocusedCell()),!r.isHighlighted&&!o&&this.setRowFocusType(),this._updateFocusedCellPosition(i),this._allowRowUpdating()&&o&&n&&n.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{i=this._getFocusedCell();var a=e&&h(e.target).closest("".concat(DR,", td")),s=a&&a.not(i).is(DR),l=!!n&&!n.command&&i.hasClass(yl),d=!l&&(!r.isHighlighted||s);this._focus(i,d,s)}}}_allowRowUpdating(){var e=this.getVisibleRowIndex(),i=this._dataController.items()[e];return this._editingController.allowUpdating({row:i},"click")}focus(e){var i,n=this.option("focusedRowEnabled"),o=this._isCellElement(h(e));e||(i=".dx-datagrid-rowsview .dx-row[tabindex]",n||(i+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(i).first()),e&&this._focusElement(h(e),o)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!f(this._focusedView)&&this._focusView()}_focusElement(e,i){var n=h(this._getRowsViewElement()),o=e.closest(n),r=this.isRowFocusType(),a={};!o.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||mh(e))&&(this.setCellFocusType(),a=this._fireFocusChangingEvents(null,e,!0,i),e=a.$newCellElement,r&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),this._focusInteractiveElement(e)))}_getFocusedViewByElement(e){var i=this.getFocusedView(),n=i&&h(i.element());return e&&e.closest(n).length!==0}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(e,i){if(e){var n=this._getInteractiveElement(e,i);M.focusAndSelectElement(this,n)}}_focus(e,i,n){var o=e&&!e.hasClass(hr)?e.closest(".".concat(hr)):e;if(!(o&&X7(o))){var r=this._focusedView,a=r&&r.element(),s;this._isHiddenFocus=i;var l=mh(o)||J7(o)||this.isRowFocusType();l?(s=o,r&&this.setFocusedRowIndex(this._getRowIndex(o))):this._isCellElement(e)&&(s=e,this._updateFocusedCellPosition(e)),s&&(a&&a.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(s).removeClass(Xf).removeClass(bR).removeAttr("tabindex"),_.one(s,"blur",d=>{d.relatedTarget&&s.removeClass(Xf).removeClass(bR)}),n||(this._applyTabIndexToElement(s),_.trigger(s,"focus")),i?(s.addClass(Xf),l&&e.addClass(Xf)):this._editorFactory.focus(s))}}_updateFocus(e){this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell()){this._editingController._focusEditingCell();return}var i=this._getFocusedCell(),n=this._editingController.isEditing();if(!this._isMasterDetailCell(i)||this._isRowEditMode()){if(this._hasSkipRow(i.parent())){var o=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";i=this._getNextCell(o)}if(to(i))if(i.is("td")||i.hasClass(this.addWidgetPrefix(z7))){var r=i.is(CR),a=i.find(":focus"),s=to(a),l=this._getColumnByCellElement(i);if((e||!r)&&this._editorFactory.focus()){if(r&&s){M.focusAndSelectElement(this,a);return}!s&&this._focus(i)}else!s&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(i,this._isHiddenFocus);n&&!l?.showEditorAlways&&this._focusInteractiveElement.bind(this)(i)}else _.trigger(i,"focus")}})}_getColumnByCellElement(e){var i=this._rowsView.getCellIndex(e),n=i+this._columnsController.getColumnIndexOffset();return this._columnsController.getVisibleColumns(null,!0)[n]}_needFocusEditingCell(){var e=this._editingController.getEditMode()===Rd,i=this._editingController.getEditMode()===xl,n=e&&this._editingController.hasChanges(),o=i&&this._editingController.isNewRowInEditMode(),r=this._getFocusedCell();return(r.children().length===0||r.find(rh).length>0)&&(n||o)}_getFocusedCell(){return h(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(e){var i,n=this._getElementType(e);if(n==="row"&&f((i=this._focusedCellPosition)===null||i===void 0?void 0:i.columnIndex)){var o=h(e);this._focusedView&&mh(o)&&this.setFocusedRowIndex(this._getRowIndex(o))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))}_updateFocusedCellPosition(e,i){var n=this._getCellPosition(e,i);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n}_getFocusedColumnIndexOffset(e){var i=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?i=this._getFixedColumnIndexOffset(n):e>=0&&(i=this._columnsController.getColumnIndexOffset()),i}_getFixedColumnIndexOffset(e){var i=Z7(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return i}_getCellPosition(e,i){var n,o=to(e)&&e.closest("tr");if(to(o)){var r=this._getRowIndex(o);return n=this._rowsView.getCellIndex(e,r),n+=this._getFocusedColumnIndexOffset(n),i&&(n=i==="previous"?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:r,columnIndex:n}}}_focusCell(e,i){if(this._isCellValid(e))return this._focus(e,i),!0}_focusEditFormCell(e){e.hasClass(yR)&&this._editorFactory.focus(e,!0)}_resetFocusedCell(e){var i,n=this._getFocusedCell();to(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(i=this._focusedView)===null||i===void 0||i.renderFocusState({preventScroll:e})}restoreFocusableElement(e,i){var n,o,r=f(e),a=this._rowsView.element(),{columnIndex:s}=this._focusedCellPosition,l=this._dataController.getRowIndexOffset();e=r?e:this._rowsView.getTopVisibleItemIndex()+l,r?(o=this._rowsView.getRow(e-l),n=this._fireFocusedRowChanging(i,o),!n.cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(a),_.trigger(a,"focus")),(!r||!n.cancel)&&this.setFocusedCellPosition(e,s),r&&this._updateFocus()}_getNewPositionByCode(e,i,n){var{columnIndex:o}=e,{rowIndex:r}=e,a;if(e.rowIndex===void 0&&n==="next")return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":a=this._getVisibleColumnCount(),o<a-1&&i!=="row"&&this._hasValidCellAfterPosition({columnIndex:o,rowIndex:r})?o++:!this._isLastRow(r)&&n==="next"&&(o=0,r++);break;case"previousInRow":case"previous":o>0&&i!=="row"&&this._hasValidCellBeforePosition({columnIndex:o,rowIndex:r})?o--:r>0&&n==="previous"&&(r--,a=this._getVisibleColumnCount(),o=a-1);break;case"upArrow":r=r>0?r-1:r;break;case"downArrow":r=this._isLastRow(r)?r:r+1}return{columnIndex:o,rowIndex:r}}setFocusedCellPosition(e,i){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(i)}setFocusedRowIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e}setFocusedColumnIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var e,i=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.rowIndex;return!f(i)||i<0?-1:i-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var e,i=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex;return f(i)?i-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(e){var i=this._getVisibleColumnCount();return e<0?e=0:e>=i&&(e=i-1),e}_isCellByPositionValid(e){var i=h(this._getCell(e));return this._isCellValid(i)}_isLastRow(e){var i=this._dataController;if(this._isVirtualRowRender())return e>=i.getMaxRowIndex();var n=Math.max(...i.items().map((o,r)=>o.visible!==!1?r:-1));return e===n}_isFirstValidCell(e){var i=!1;return e.rowIndex===0&&e.columnIndex>=0&&(i=i||!this._hasValidCellBeforePosition(e)),i}_hasValidCellBeforePosition(e){for(var{columnIndex:i}=e,n=!1;i>0&&!n;){var o={columnIndex:--i,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n}_hasValidCellAfterPosition(e){for(var{columnIndex:i}=e,n=!1,o=this._getVisibleColumnCount();i<o-1&&!n;){var r={columnIndex:++i,rowIndex:e.rowIndex};n=this._isCellByPositionValid(r)}return n}_isLastValidCell(e){var i=e.columnIndex>=0?e.columnIndex+1:0,{rowIndex:n}=e,o={columnIndex:i,rowIndex:n},r=this._dataController.getVisibleRows(),a=r&&r[n],s=this._isLastRow(n);return s?a&&a.rowType==="group"&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(o)?!1:this._isLastValidCell(o):!1}_isCellValid(e,i){if(to(e)){var n=e.parent(),o=this._rowsView.getCellIndex(e)+this._columnsController.getColumnIndexOffset(),r=this._getColumnByCellElement(e),a=this._getVisibleColumnCount(),s=this._editingController,l=yC(n),d=r&&r.showWhenGrouped,u=r&&!e.hasClass(Jf)&&vh(n),c=IR.isDragCell(e);if(c)return!1;if(this._isMasterDetailCell(e))return!0;if(a>o&&(!l&&r&&(!f(r.groupIndex)||d&&u)||parseInt(e.attr("colspan"),10)>1)){var p=this._dataController.items(),g=this._rowsView.getRowIndex(n),m=p[g],y=s&&this._isCellEditMode()&&s.isEditing(),C=s&&s.isEditRow(g),b=C||y;return r.command?this._isLegacyNavigation()?!b&&r.command==="expand":y?!1:C?r.command!=="select":!b:y&&m&&m.rowType!=="data"?!1:!b||r.allowEditing||i}}}getFirstValidCellInRow(e,i){var n=e.find("> td"),o,r;i=i||0;for(var a=i;a<n.length;++a)if(o=n.eq(a),this._isCellValid(o)){r=o;break}return r}_getNextCell(e,i,n){var o=n||this._focusedCellPosition,r=this.isRowFocusType(),a=r||["next","previous"].includes(e),s,l;if(this._focusedView&&o){var d=this._getNewPositionByCode(o,i,e);s=h(this._getCell(d));var u=e==="previous"?this._isFirstValidCell(d):this._isLastValidCell(d);if(to(s)&&!this._isCellValid(s)&&this._isCellInRow(d,a)&&!u&&(r?s=this.getFirstValidCellInRow(s.parent(),d.columnIndex):s=this._getNextCell(e,"cell",d)),l=to(s)&&s.parent(),this._hasSkipRow(l)){var c=this._getRowIndex(l);if(!this._isLastRow(c))s=this._getNextCell(e,"row",{columnIndex:o.columnIndex,rowIndex:c});else return null}return to(s)?s:null}return null}_startEditing(e,i){var n=this._focusedCellPosition,o=this.getVisibleRowIndex(),r=this.getVisibleColumnIndex(),a=this._dataController.items()[o],s=this._columnsController.getVisibleColumns()[r];this._isAllowEditing(a,s)&&(this._isRowEditMode()?this._editingController.editRow(o):n&&this._startEditCell(e,i))}_isAllowEditing(e,i){return this._editingController.allowUpdating({row:e})&&i&&i.allowEditing}_editFocusedCell(){var e=this.getVisibleRowIndex(),i=this.getVisibleColumnIndex();return this._editingController.editCell(e,i)}_startEditCell(e,i){this._fastEditingStarted=f(i);var n=this._editFocusedCell(),o=Pu(n),r=this._isFastEditingStarted();if(!(!r||!o&&!n)){var a=o&&i===_C?"":i,s=o?n:S().resolve(),l=this._rowsView.waitAsyncTemplates(!0);A(s,l).done(()=>{this._editingCellHandler(e,a)})}}_editingCellHandler(e,i){var n,o,r=this._getFocusedCell().find(Zf).eq(0),a=r.get(0);if(a){var s=Jo(e,{type:"keydown",target:a}),l=Jo(e,{type:"keypress",target:a}),d=Jo(e,{type:"input",target:a});if(d.originalEvent&&(d.originalEvent=Jo(d.originalEvent,{data:i})),(o=(n=a).select)===null||o===void 0||o.call(n),_.trigger(r,s),!s.isDefaultPrevented()&&(_.trigger(r,l),!l.isDefaultPrevented())){var u=be.mozilla?25:0;setTimeout(()=>{var c=this._getKeyPressInputValue(r,i);r.val(c);var p=r.closest(".".concat(q7));_.off(p,"focusout"),_.one(p,"focusout",()=>{_.trigger(r,"change")}),_.trigger(r,d)},u)}}}_getKeyPressInputValue(e,i){var n=e.val();return i==="-"&&n==="-0"?"-0":i}_fireFocusChangingEvents(e,i,n,o){var r,a={},s=(r=this._getCellPosition(i))!==null&&r!==void 0?r:{};return this.isCellFocusType()&&(a=this._fireFocusedCellChanging(e,i,o),a.cancel||(s.columnIndex=a.newColumnIndex,s.rowIndex=a.newRowIndex,o=a.isHighlighted,i=h(this._getCell(s)))),!a.cancel&&n&&i&&(a=this._fireFocusedRowChanging(e,i.parent()),a.cancel||(s.rowIndex=a.newRowIndex,a.isHighlighted=o)),a.$newCellElement=h(this._getCell(s)),a.$newCellElement.length||(a.$newCellElement=i),a}_fireFocusedCellChanging(e,i,n){var o=this.option("focusedColumnIndex"),r=this.option("focusedRowIndex"),a=this._getCellPosition(i),s=a?a.columnIndex:-1,l=a?a.rowIndex:-1,d=this._dataController.getVisibleRows(),u=this._columnsController.getVisibleColumns(),c={cellElement:i,prevColumnIndex:o,prevRowIndex:r,newColumnIndex:s,newRowIndex:l,rows:d,columns:u,event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",c),(c.newColumnIndex!==s||c.newRowIndex!==l)&&(c.$newCellElement=h(this._getCell({columnIndex:c.newColumnIndex,rowIndex:c.newRowIndex}))),c.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:s}),c}_fireFocusedCellChanged(e){var i=this._rowsView.getCellIndex(e),n=e?.parent().data("options"),o=n?.key;this._memoFireFocusedCellChanged(o,i)}_memoFireFocusedCellChanged(e,i){var n=this._getFocusedCell(),o=this._getRowIndex(n?.parent()),r=Math.min(o-this._dataController.getRowIndexOffset(),this._dataController.items().length-1),a=this._editingController.isEditCell(r,i);if(!a){var s=this._dataController.items()[r],l=this._columnsController.getVisibleColumns()[i];this.executeAction("onFocusedCellChanged",{cellElement:n?V(n):void 0,columnIndex:i,rowIndex:o,row:s,column:l})}}_fireFocusedRowChanging(e,i){var n=this._getRowIndex(i),o=this.option("focusedRowIndex"),r=this._dataController.loadingOperationTypes(),a={rowElement:i,prevRowIndex:o,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1},s=r.sorting||r.grouping||r.filtering||r.paging;return!this._dataController||this._dataController.isLoading()&&s?(a.cancel=!0,a):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",a),!a.cancel&&a.newRowIndex!==n&&(a.resetFocusedRow=a.newRowIndex<0,a.resetFocusedRow||this.setFocusedRowIndex(a.newRowIndex),a.rowIndexChanged=!0)),a)}_fireFocusedRowChanged(){var e,i=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),o=(e=this._focusController)===null||e===void 0?void 0:e.getFocusedRowIndexByKey(n);!i||f(n)&&o<0||this._memoFireFocusedRowChanged(n,o)}_memoFireFocusedRowChanged(e,i){var n=i-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:i<0?void 0:this._rowsView.getRowElement(n),rowIndex:i,row:i<0?void 0:this._dataController.getVisibleRows()[n]})}_isEventInCurrentGrid(e){return M.isElementInCurrentGrid(this,h(e.target))}_isRowEditMode(){var e=this._editingController.getEditMode();return e===gr||e===Cl}_isCellEditMode(){var e=this._editingController.getEditMode();return e===Rd||e===xl}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(e,i){var n=e.find(Zf).filter(":visible");return i?n.last():n.first()}_applyTabIndexToElement(e){var i,n=(i=this.option("tabIndex"))!==null&&i!==void 0?i:0;e.attr("tabindex",n)}_getCell(e){if(this._focusedView&&e){var i=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],o=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),r=e.rowIndex>=0?e.rowIndex-i:-1,a=e.columnIndex>=0?e.columnIndex-o:-1;return this._focusedView.getCell({rowIndex:r,columnIndex:a})}}_getRowIndex(e){var i=this._rowsView.getRowIndex(e);return i>=0&&(i+=this._dataController.getRowIndexOffset()),i}_hasSkipRow(e){var i=e&&e.get(0);return i&&(i.style.display==="none"||yC(e)&&!e.hasClass(this.addWidgetPrefix(Ad)))}_allowEditingOnEnterKey(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(e){var i;switch(e){case"upArrow":i="prevRow";break;case"downArrow":i="nextRow";break;case"leftArrow":i=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":i=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return i}_isVirtualScrolling(){var e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"}_isVirtualRowRender(){return this._isVirtualScrolling()||M.isVirtualRowRendering(this)}_isVirtualColumnRender(){return this.option("scrolling.columnRenderingMode")==="virtual"}_scrollBy(e,i,n,o){var r=this,a=this._rowsView.getScrollable();return r._focusedCellPosition&&a.on("scroll",function s(){a.off("scroll",s),setTimeout(r.restoreFocusableElement.bind(r,n,o))}),a.scrollBy({left:e,top:i})}_isInsideEditForm(e){var i=h(e).closest(".".concat(this.addWidgetPrefix(Ad)));return i.length&&this.elementIsInsideGrid(i)}_isMasterDetailCell(e){var i=h(e).closest(".".concat(yR));return i.length&&this.elementIsInsideGrid(i)}_processNextCellInMasterDetail(e,i){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)}_handleTabKeyOnMasterDetailCell(e,i){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition(h(e),i);var n=this._getNextCell(i,"row");return this._processNextCellInMasterDetail(n,h(e)),!0}return!1}_getElementType(e){return h(e).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(e,i){var{columnIndex:n}=e,o=this._getVisibleColumnCount();return i?n>=0&&n<=o-1:n>0&&n<o-1}_isCellElement(e){return e.length&&e[0].tagName==="TD"}_getCellElementFromTarget(e){var i=this._getElementType(e),n=h(e),o;return i==="cell"?o=n.closest(".".concat(hr," > td")):o=n.children().not(".".concat(Jf)).first(),o}_getRowsViewElement(){var e;return(e=this._rowsView)===null||e===void 0?void 0:e.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(e,i){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===i;return this._canceledCellPosition=null,n}}updateFocusedRowIndex(){var e=this._dataController,i=this.getVisibleRowIndex(),n=e.items(),o=n.length?n.length-1:-1,r=e.getRowIndexOffset();o>=0&&i>o&&this.setFocusedRowIndex(o+r)}},KTe=t=>class extends t{_rowClick(e){var i=this._editingController.getEditRowIndex(),n=this._keyboardNavigationController.isKeyboardEnabled();i===e.rowIndex&&this._keyboardNavigationController.setCellFocusType();var o=(xC()||!n)&&this.option("focusedRowEnabled");o&&this._triggerPointerDownEventHandler(e,!n),super._rowClick.apply(this,arguments)}_triggerPointerDownEventHandler(e,i){var{originalEvent:n}=e.event;if(n){var o=h(n.target),r=this.getCellIndex(o),a=this._columnsController.getVisibleColumns()[r],s=this._dataController.items()[e.rowIndex];if(this._keyboardNavigationController._isAllowEditing(s,a)||i){var l=Jo(n,{currentTarget:n.target});this._keyboardNavigationController._pointerEventHandler(l)}}}renderFocusState(e){var{preventScroll:i,pageSizeChanged:n}=e??{},o=this.element();o&&!An(o)&&o.attr("tabindex",null),n&&this._keyboardNavigationController.updateFocusedRowIndex();var r=this._keyboardNavigationController.getVisibleRowIndex();(!f(r)||r<0)&&(r=0);var a=this.getCellElements(r);this._keyboardNavigationController.isKeyboardEnabled()&&a?.length&&this.updateFocusElementTabIndex(a,i)}updateFocusElementTabIndex(e,i){var n=e.eq(0).parent();if(mh(n))this._keyboardNavigationController._applyTabIndexToElement(n);else{var o=this._keyboardNavigationController.getColumnIndex();(!f(o)||o<0)&&(o=0),this._updateFocusedCellTabIndex(e,o)}}_updateFocusedCellTabIndex(e,i){var n=this._keyboardNavigationController,o=e?e.length:-1,r=function(l){var d=n._isMasterDetailCell(l),u=n._isCellValid(l);if(!d&&u&&n._isCellElement(l))return n._applyTabIndexToElement(l),n.setCellFocusType(),!0},a=IR.getCellToFocus(e,i);if(a.length)r(a);else{o<=i&&(i=o-1);for(var s=i;s<o&&!r(h(e[s]));++s);}}renderDelayedTemplates(e){super.renderDelayedTemplates.apply(this,arguments),this.waitAsyncTemplates().done(()=>{this._renderFocusByChange(e)})}_renderFocusByChange(e){var i,{operationTypes:n,repaintChangesOnly:o}=e??{},{fullReload:r,pageSize:a}=n??{},s=!!(!((i=e?.changeTypes)===null||i===void 0)&&i.find(d=>d==="insert"||d==="remove"));if(!e||!o||r||a||s){var l=eY(this);this.renderFocusState({preventScroll:l,pageSizeChanged:a})}}_renderCore(e){var i=super._renderCore.apply(this,arguments);return this._renderFocusByChange(e),i}_editCellPrepared(e){var i,n=this._getEditorInstance(e),o=(i=this._keyboardNavigationController)===null||i===void 0?void 0:i._isFastEditingStarted();n&&o&&this._handleEditingNavigationMode(n),super._editCellPrepared.apply(this,arguments)}_handleEditingNavigationMode(e){["downArrow","upArrow"].forEach(n=>{var o=e._supportedKeys()[n];e.registerKeyHandler(n,r=>{var a=e._input().attr("aria-expanded")==="true";if(a)return o&&o.call(e,r)})}),e.registerKeyHandler("leftArrow",D),e.registerKeyHandler("rightArrow",D);var i=e.NAME===K7&&e.option("useMaskBehavior");i&&e.registerKeyHandler("enter",D)}_getEditorInstance(e){var i=e.find(".dx-texteditor").eq(0);return M.getWidgetInstance(i)}},qTe=t=>class extends t{editCell(e,i){if(this._keyboardNavigationController._processCanceledEditCellPosition(e,i))return!1;var n=super.editCell(e,i);return n&&this._keyboardNavigationController.setupFocusedView(),n}editRow(e){var i=this._keyboardNavigationController.getVisibleColumnIndex(),n=this._columnsController.getVisibleColumns()[i];(n&&n.type||this.option("editing.mode")===Cl)&&this._keyboardNavigationController._resetFocusedCell(),super.editRow(e)}addRow(e){return this._keyboardNavigationController.setupFocusedView(),this._keyboardNavigationController.setCellFocusType(),super.addRow.apply(this,arguments)}getFocusedCellInRow(e){var i=super.getFocusedCellInRow(e),n=this._dataController.getRowIndexOffset(),o=this._keyboardNavigationController._focusedCellPosition.rowIndex-n;if(this._keyboardNavigationController.isKeyboardEnabled()&&o===e){var r=this._keyboardNavigationController._getFocusedCell();to(r)&&!r.hasClass(xR)&&(i=r)}return i}_processCanceledEditingCell(){this.closeEditCell().done(()=>{this._keyboardNavigationController._updateFocus()})}closeEditCell(){var e=this._keyboardNavigationController;e._fastEditingStarted=!1;var i=super.closeEditCell.apply(this,arguments);return e._updateFocus(),i}_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,super._delayedInputFocus.apply(this,arguments)}_isEditingStart(){var e=super._isEditingStart.apply(this,arguments);if(e&&!this._keyboardNavigationController._isNeedFocus){var i=this._keyboardNavigationController._getFocusedCell();this._keyboardNavigationController._focus(i,!0)}return e}},YTe=t=>class extends t{_correctRowIndices(e){var i=this._keyboardNavigationController._focusedCellPosition;if(super._correctRowIndices.apply(this,arguments),i&&i.rowIndex>=0){var n=e(i.rowIndex);n&&(i.rowIndex+=n,this._editorFactoryController.refocus())}}getMaxRowIndex(){var e=this.items().length-1,i=this.virtualItemsCount();if(i){var n=this.getRowIndexOffset();e+=n+i.end}return e}},QTe=t=>class extends t{_showHiddenCellsInView(e){var{viewName:i,$cells:n,isCommandColumn:o}=e;super._showHiddenCellsInView.apply(this,arguments),i===OR&&!o&&n.each((r,a)=>{var s=h(a);TR(s)&&s.attr("tabindex",0)})}_hideVisibleCellInView(e){var{viewName:i,$cell:n,isCommandColumn:o}=e;super._hideVisibleCellInView.apply(this,arguments),i===OR&&!o&&TR(n)&&n.removeAttr("tabindex")}},tY={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:MR},extenders:{views:{rowsView:KTe},controllers:{editing:qTe,data:YTe,adaptiveColumns:QTe}}};P.registerModule("keyboardNavigation",tY);function AR(t,e,i,n){var o=0;if(t<e)for(;o<i.items.length;o++)AR(t+1,e,i.items[o],n);t===e&&n(i)}function CC(t,e){var i;if("map"in t)return t.map(e);var n=new Array(t.length);for(i in t)n[i]=e(t[i],i);return n}function JTe(t){return t!==t||t===""||t===null||t===void 0}function XTe(t){return t===ig.count}function iY(t){var e=pe(t.selector),i="skipEmptyValues"in t?t.skipEmptyValues:!0,{aggregator:n}=t;if(typeof n=="string"&&(n=ig[n],!n))throw yt.Error("E4001",t.aggregator);return{selector:e,aggregator:n,skipEmptyValues:i}}var SC=class{constructor(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=CC(e.totalAggregates||[],iY),this._groupAggregates=CC(e.groupAggregates||[],iY),this._totals=[]}calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})}totalAggregates(){return this._totals}_aggregate(e,i,n){for(var o=i.items?i.items.length:0,r=0;r<e.length;r++){if(XTe(e[r].aggregator)){n[r]=(n[r]||0)+o;continue}for(var a=0;a<o;a++)this._accumulate(r,e[r],n,i.items[a])}}_calculateTotals(e,i){if(e===0&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,i,this._totals);else for(var n=0;n<i.items.length;n++)this._calculateTotals(e+1,i.items[n]);e===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))}_calculateGroups(e){var i=this._groupLevel,n=i+1,o=this._seed.bind(this,this._groupAggregates),r=this._aggregate.bind(this,this._groupAggregates),a=this._finalize.bind(this,this._groupAggregates);function s(l){l.aggregates=o(n-1),n===i?r(l,l.aggregates):AR(n,i,l,d=>{r(d,l.aggregates)}),l.aggregates=a(l.aggregates)}for(;--n>0;)AR(0,n,e,s)}_seed(e,i){return CC(e,n=>{var{aggregator:o}=n,r="seed"in o?T(o.seed)?o.seed(i):o.seed:NaN;return r})}_accumulate(e,i,n,o){var r=i.selector(o),{aggregator:a}=i,{skipEmptyValues:s}=i;s&&JTe(r)||(n[e]!==n[e]?n[e]=r:n[e]=a.step(n[e],r))}_finalize(e,i){return CC(e,(n,o)=>{var r=n.aggregator.finalize;return r?r(i[o]):i[o]})}};var ZTe="dx-datagrid-total-footer",eMe="dx-datagrid-summary-item",tMe="dx-datagrid-text-content",iMe="dx-datagrid-group-footer",nMe="dx-datagrid-group-text-content",oMe="dx-datagrid-nowrap",rMe="dx-footer-row",BR="groupFooter",rY="totalFooter",aY=function(t,e){var i=h(t),{column:n}=e,{summaryItems:o}=e,r=[];if(!n.command&&o){for(var a=0;a<o.length;a++){var s=o[a];r.push(h("<div>").css("textAlign",s.alignment||n.alignment).addClass(eMe).addClass(tMe).addClass(s.cssClass).toggleClass(nMe,e.rowType==="group").text(P.getSummaryText(s,e.summaryTexts)))}i.append(r)}},sY=function(t,e){var i=t.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:i}},RR=function(t){return t.summary||t.aggregates||[]},PR=function(t){return t.option("summary.recalculateWhileEditing")},aMe=function t(e,i,n,o){o=o||[];for(var r=0;r<e.length;r++)o.push(e[r].key),i===1?n(o,e[r].items):t(e[r].items,i-1,n,o),o.pop()},sMe=function t(e,i,n){return n?t(e,i.map(o=>({items:[o]}),n-1)):e.concat(i)},lMe=function t(e,i,n){return n?e.map(o=>{var r={},a=t(o.items||[],i,n-1);return Object.defineProperty(r,"aggregates",{get:()=>o.aggregates,set:s=>{o.aggregates=s}}),v(r,o,{items:a})}):e.filter(o=>i.indexOf(o)<0)},dMe=function t(e,i,n){if(!e||!i.length)return e;var o=i[0],r=n[0],a;return o&&r&&r.length&&(a=Nt(e),x(r,function(s){s===0?a=a.sortBy(this.selector,this.desc):a=a.thenBy(this.selector,this.desc)}),a.enumerate().done(s=>{e=s})),i=i.slice(1),n=n.slice(1),i.length&&n.length&&x(e,function(){this.items=t(this.items,i,n)}),e},nY=function(t,e,i){var n=i&&i.sortByGroups&&i.sortByGroups();return n&&n.length?dMe(t,e,n):t},oY=function(t,e,i,n){var o;if(PR(t)){var r=t._editingController;if(r){var a=r.getInsertedData();a.length&&(i=sMe(i,a,n));var s=r.getRemovedData();s.length&&(i=lMe(i,s,n))}}return e&&(o=new SC({totalAggregates:e.totalAggregates,groupAggregates:e.groupAggregates,data:i,groupLevel:n}),o.calculate()),o?o.totalAggregates():[]},kR=class extends ko{_getRows(){return this._dataController.footerItems()}_getCellOptions(e){return v(super._getCellOptions(e),sY(this,e))}_renderCellContent(e,i){aY(e,i),super._renderCellContent.apply(this,arguments)}_renderCore(e){var i=!1,n=this._dataController.footerItems()[0];(!e||!e.columnIndices)&&(this.element().empty().addClass(ZTe).toggleClass(oMe,!this.option("wordWrapEnabled")),i=!0),n&&n.summaryCells&&n.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),i&&this._updateScrollLeftPosition())}_updateContent(e,i){return i&&i.changeType==="update"&&i.columnIndices?this.waitAsyncTemplates().done(()=>{var n=this.getTableElement().find(".dx-row"),o=e.find(".dx-row");this._updateCells(n,o,i.columnIndices[0])}):super._updateContent.apply(this,arguments)}_rowClick(e){var i=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",v({},e,i))}_columnOptionChanged(e){var{optionNames:i}=e;e.changeTypes.grouping||(i.width||i.visibleWidth)&&super._columnOptionChanged(e)}_handleDataChanged(e){var{changeType:i}=e;e.changeType==="update"&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():(i==="refresh"||i==="append"||i==="prepend")&&this.render()}_createRow(e){var i=super._createRow.apply(this,arguments);return e.rowType===rY&&i.addClass(rMe),i}getHeight(){return this.getElementHeight()}isVisible(){return!!this._dataController.footerItems().length}},uMe=t=>class extends t{init(){super.init.apply(this,arguments),this._editingController=this.getController("editing"),this._totalAggregates=[],this._summaryGetter=D}summaryGetter(e){if(!arguments.length)return this._summaryGetter;T(e)&&(this._summaryGetter=e)}summary(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}}totalAggregates(){return this._totalAggregates}isLastLevelGroupItemsPagingLocal(){var e=this.summary(),i=e?.sortByGroups();return i?.length}sortLastLevelGroupItems(e,i,n){var o=nn.multiLevelGroup(Nt(e),i).toArray(),r=[];return n.forEach(a=>{aMe(o,i.length,(s,l)=>{a.toString()===s.toString()&&(r=r.concat(l))})}),r}_customizeRemoteOperations(e){var i=this.summary();i&&(e.remoteOperations.summary?(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll)&&(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=i.groupAggregates:i.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=i.totalAggregates):(i.totalAggregates.length||i.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),super._customizeRemoteOperations.apply(this,arguments);var n=e.cachedData.extra;n?.summary&&!e.isCustomLoading&&(e.storeLoadOptions.totalSummary=void 0)}_handleDataLoadedCore(e){var i,n,o=fn(e.storeLoadOptions.group||e.loadOptions.group||[]),r=e.remoteOperations||{},a=this.summaryGetter()(r);if(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll){if(r.summary)!r.paging&&o.length&&a&&(r.grouping||oY(this,{groupAggregates:a.groupAggregates},e.data,o.length),e.data=nY(e.data,o,a));else if(!r.paging&&a){var s=e.operationTypes||{},l=Object.keys(s).some(u=>s[u]);if(!l||!(!((n=(i=e.cachedData)===null||i===void 0?void 0:i.extra)===null||n===void 0)&&n.summary)||o.length&&a.groupAggregates.length){var d=oY(this,a,e.data,o.length);e.extra=q(e.extra)?e.extra:{},e.extra.summary=d,e.cachedData&&(e.cachedData.extra=e.extra)}e.data=nY(e.data,o,a)}}e.isCustomLoading||(this._totalAggregates=e.extra&&e.extra.summary||this._totalAggregates),super._handleDataLoadedCore(e)}};gl.extend(uMe);var cMe=t=>class extends t{_isDataColumn(e){return e&&(!f(e.groupIndex)||e.showWhenGrouped)}_isGroupFooterVisible(){for(var e=this.option("summary.groupItems")||[],i=0;i<e.length;i++){var n=e[i],o=this._columnsController.columnOption(n.showInColumn||n.column);if(n.showInGroupFooter&&this._isDataColumn(o))return!0}return!1}_processGroupItems(e,i,n){var o=n&&n.data,r=super._processGroupItems.apply(this,arguments);return n&&(n.isGroupFooterVisible===void 0&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),o&&o.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!o.isContinuationOnNextPage)&&r.push({rowType:BR,key:n.path.slice(),data:o,groupIndex:n.path.length-1,values:[]})),r}_processGroupItem(e,i){var n=this;if(i.summaryGroupItems||(i.summaryGroupItems=n.option("summary.groupItems")||[]),e.rowType==="group"){var o=-1,r=-1;x(i.visibleColumns,function(a){var s=i.visibleColumns[a-1];e.groupIndex===this.groupIndex&&(o=this.index),a>0&&s.command==="expand"&&this.command!=="expand"&&(r=this.index)}),e.summaryCells=this._calculateSummaryCells(i.summaryGroupItems,RR(e.data),i.visibleColumns,(a,s)=>a.showInGroupFooter?-1:a.alignByColumn&&s&&!f(s.groupIndex)&&s.index!==r?s.index:o,!0)}return e.rowType===BR&&(e.summaryCells=this._calculateSummaryCells(i.summaryGroupItems,RR(e.data),i.visibleColumns,(a,s)=>a.showInGroupFooter&&n._isDataColumn(s)?s.index:-1)),e}_calculateSummaryCells(e,i,n,o,r){var a=this,s=[],l={};return x(e,(d,u)=>{var c=a._columnsController.columnOption(u.column),p=u.showInColumn&&a._columnsController.columnOption(u.showInColumn)||c,g=o(u,p);if(g>=0){l[g]||(l[g]=[]);var m=i[d];if(m===m){var y;f(u.valueFormat)?y=u.valueFormat:u.summaryType!=="count"&&(y=P.getFormatByDataType(c&&c.dataType)),l[g].push(v({},u,{value:N(m)&&c&&c.deserializeValue?c.deserializeValue(m):m,valueFormat:y,columnCaption:c&&c.index!==g?c.caption:void 0}))}}}),Rt(l)||n.forEach((d,u)=>{var c=n[u-1],p=r&&(c?.command==="expand"||d.command==="expand")?c?.index:d.index;s.push(l[p]||[])}),s}_getSummaryCells(e,i){var n=this,o=n._columnsController;return n._calculateSummaryCells(e,i,o.getVisibleColumns(),(r,a)=>n._isDataColumn(a)?a.index:-1)}_updateItemsCore(e){var i,n=this._dataSource,o=this._footerItems,r=o&&o[0]&&o[0].summaryCells,a=this.option("summary.totalItems");if(this._footerItems=[],n&&a&&a.length){var s=n.totalAggregates();i=this._getSummaryCells(a,s),e&&e.repaintChangesOnly&&r&&(e.totalColumnIndices=i.map((l,d)=>JSON.stringify(l)!==JSON.stringify(r[d])?d:-1).filter(l=>l>=0)),i.length&&this._footerItems.push({rowType:rY,summaryCells:i})}super._updateItemsCore(e)}_prepareUnsavedDataSelector(e){if(PR(this)){var i=this._editingController;if(i)return function(n){return n=i.getUpdatedData(n),e(n)}}return e}_prepareAggregateSelector(e,i){return e=this._prepareUnsavedDataSelector(e),i==="avg"||i==="sum"?function(n){var o=e(n);return f(o)?Number(o):o}:e}_getAggregates(e,i){var n=this,o=n.option("summary.calculateCustomSummary"),r=n.option("summary.skipEmptyValues");return Ke(e||[],a=>{var s=this._columnsController.columnOption(a.column),l=s&&s.calculateCellValue?s.calculateCellValue.bind(s):pe(s?s.dataField:a.column),d=a.summaryType||"count",u=f(a.skipEmptyValues)?a.skipEmptyValues:r;if(i)return{selector:a.column,summaryType:d};var c=n._prepareAggregateSelector(l,d);if(d==="custom"){o||(X.log("E1026"),o=function(){});var p={component:n.component,name:a.name};o(p),p.summaryProcess="calculate",d={seed(g){return p.summaryProcess="start",p.totalValue=void 0,p.groupIndex=g,delete p.value,o(p),p.totalValue},step(g,m){return p.summaryProcess="calculate",p.totalValue=g,p.value=m,o(p),p.totalValue},finalize(g){return p.summaryProcess="finalize",p.totalValue=g,delete p.value,o(p),p.totalValue}}}return{selector:c,aggregator:d,skipEmptyValues:u}})}_addSortInfo(e,i,n,o){if(i){var{groupIndex:r}=i;o=o||i.sortOrder,f(r)&&(e[r]=e[r]||[],e[r].push({selector:n,desc:o==="desc"}))}}_findSummaryItem(e,i){var n=-1;return f(i)&&x(e||[],function(o){if(this.name===i||o===i||this.summaryType===i||this.column===i||function(r){var{summaryType:a}=r,{column:s}=r;return a&&s&&"".concat(a,"_").concat(s)}(this)===i)return n=o,!1}),n}_getSummarySortByGroups(e,i){var n=this,o=n._columnsController,r=o.getGroupColumns(),a=[];if(!(!i||!i.length))return x(e||[],function(){var{sortOrder:s}=this,{groupColumn:l}=this,d=n._findSummaryItem(i,this.summaryItem);if(!(d<0)){var u=function(c){return RR(c)[d]};f(l)?(l=o.columnOption(l),n._addSortInfo(a,l,u,s)):x(r,(c,p)=>{n._addSortInfo(a,p,u,s)})}}),a}_createDataSourceAdapterCore(e,i){var n=this,o=super._createDataSourceAdapterCore(e,i);return o.summaryGetter(r=>n._getSummaryOptions(r||i)),o}_getSummaryOptions(e){var i=this,n=i.option("summary.groupItems"),o=i.option("summary.totalItems"),r=i.option("sortByGroupSummaryInfo"),a=i._getAggregates(n,e&&e.grouping&&e.summary),s=i._getAggregates(o,e&&e.summary);if(a.length||s.length)return{groupAggregates:a,totalAggregates:s,sortByGroups:function(){return i._getSummarySortByGroups(r,n)}}}publicMethods(){var e=super.publicMethods();return e.push("getTotalSummaryValue"),e}getTotalSummaryValue(e){var i=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();if(n.length&&i>-1)return n[i]}optionChanged(e){(e.name==="summary"||e.name==="sortByGroupSummaryInfo")&&(e.name="dataSource"),super.optionChanged(e)}init(){this._footerItems=[],super.init()}footerItems(){return this._footerItems}},hMe=t=>class extends t{_refreshSummary(){PR(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})}_addChange(e){var i=super._addChange.apply(this,arguments);return e.type&&this._refreshSummary(),i}_removeChange(){var e=super._removeChange.apply(this,arguments);return this._refreshSummary(),e}cancelEditData(){var e=super.cancelEditData.apply(this,arguments);return this._refreshSummary(),e}},pMe=t=>class extends t{_createRow(e){var i=super._createRow.apply(this,arguments);return e&&i.addClass(e.rowType===BR?iMe:""),i}_renderCells(e,i){super._renderCells.apply(this,arguments),i.row.rowType==="group"&&i.row.summaryCells&&i.row.summaryCells.length&&this._renderGroupSummaryCells(e,i)}_hasAlignByColumnSummaryItems(e,i){return!f(i.columns[e].groupIndex)&&i.row.summaryCells[e].length}_getAlignByColumnCellCount(e,i){for(var n=0,o=1;o<e;o++){var r=i.row.summaryCells.length-o;n=this._hasAlignByColumnSummaryItems(r,i)?o:n}return n}_renderGroupSummaryCells(e,i){var n=e.children().last(),o=Number(n.attr("colSpan"))||1,r=this._getAlignByColumnCellCount(o,i);this._renderGroupSummaryCellsCore(n,i,o,r)}_renderGroupSummaryCellsCore(e,i,n,o){if(o>0){e.attr("colSpan",n-o);for(var r=0;r<o;r++){var a=i.columns.length-o+r;this._renderCell(e.parent(),v({column:i.columns[a],columnIndex:this._getSummaryCellIndex(a,i.columns)},i))}}}_getSummaryCellIndex(e,i){return e}_getCellTemplate(e){return!e.column.command&&!f(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?aY:super._getCellTemplate(e)}_getCellOptions(e){var i=super._getCellOptions(e);return e.row.summaryCells?v(i,sY(this,e)):i}};P.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:w.format("dxDataGrid-summarySum"),sumOtherColumn:w.format("dxDataGrid-summarySumOtherColumn"),min:w.format("dxDataGrid-summaryMin"),minOtherColumn:w.format("dxDataGrid-summaryMinOtherColumn"),max:w.format("dxDataGrid-summaryMax"),maxOtherColumn:w.format("dxDataGrid-summaryMaxOtherColumn"),avg:w.format("dxDataGrid-summaryAvg"),avgOtherColumn:w.format("dxDataGrid-summaryAvgOtherColumn"),count:w.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:kR},extenders:{controllers:{data:cMe,editing:hMe},views:{rowsView:pMe}}});var lY="content",bC="content-fixed",gMe="dx-master-detail-cell",dY="dx-first-cell",fMe="dx-last-cell",uY="dx-state-hover",cY="dx-col-fixed",mMe="dx-fixed-columns",NR="dx-pointer-events-none",zd="transparent",hY="dx-group-row",vMe="dx-master-detail-row",ls=function(t){var e=-1;return x(t,(i,n)=>{if(n.command===zd)return e=i,!1}),e},pY=function(t,e,i){var n=0;if(t&&e&&i)for(var o=0;o<t.length;o++)t[o].command===zd?n+=t[o].colspan:(e[n]<i[o]&&(e[n]=i[o]),n++);return e},LR=t=>class extends t{init(){super.init(),this._isFixedTableRendering=!1,this._isFixedColumns=!1}_createCol(e){return super._createCol(e).toggleClass(cY,!!(this._isFixedTableRendering&&(e.fixed||e.command&&e.command!==zd)))}isIndicesArray(e){return Array.isArray(e)&&e.length>0}_correctColumnIndicesForFixedColumns(e,i){var n,o=i?.columnIndices;if(this.isIndicesArray(o)){var r=ls(e),a=e[r].colspan,s=r+a,l=(n=i?.items)===null||n===void 0?void 0:n.map(d=>{var{rowType:u}=d;return u});i.columnIndices=o.map((d,u)=>{if(!this.isIndicesArray(d))return d;var c=l&&l[u]==="group";return c?[...d]:d.reduce((p,g)=>{switch(!0){case g<r:p.push(g);break;case g>=s:p.push(g-a+1)}return p},[])})}}_partialUpdateFixedTable(e){var i=this._fixedTableElement,n=this._getRowElementsCore(i),o=i.children("colgroup");o.replaceWith(this._createColGroup(e));for(var r=0;r<n.length;r++)this._partialUpdateFixedRow(h(n[r]),e)}_partialUpdateFixedRow(e,i){var n,o=e.get(0).childNodes,r=ls(i),a=i[r],s=this._columnsController.getColumnIndexOffset(),l,d=s+1,{colspan:u}=a;if(e.hasClass(vMe)){o[0].setAttribute("colspan",(n=this._columnsController.getVisibleColumns())===null||n===void 0?void 0:n.length);return}e.hasClass(hY)&&(l=this._getGroupCellOptions({row:e.data("options"),columns:this._columnsController.getVisibleColumns()}),u=l.colspan-Math.max(0,o.length-(l.columnIndex+2)));for(var c=0;c<o.length;c++){var p=l?c===l.columnIndex+1:c===r;o[c].setAttribute("aria-colindex",d),p?(o[c].setAttribute("colspan",u),d+=u):d++}}_renderTable(e){var i,n,o=this.getFixedColumns();this._isFixedColumns=!!o.length;var r=super._renderTable(e);if(this._isFixedColumns){var a=e?.change,s=this._getRowElements(this._fixedTableElement),l=a?.virtualColumnsScrolling&&s.length===((i=a?.items)===null||i===void 0?void 0:i.length);if(this._isFixedTableRendering=!0,l&&this.option("scrolling.legacyMode")!==!0)this._partialUpdateFixedTable(o),this._isFixedTableRendering=!1;else{var d=a?.columnIndices;this._correctColumnIndicesForFixedColumns(o,a),n=this._createTable(o),this._renderRows(n,v({},e,{columns:o})),this._updateContent(n,a,!0),d&&(a.columnIndices=d),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return r}_renderRow(e,i){var n,{cells:o}=i.row;if(super._renderRow.apply(this,arguments),this._isFixedTableRendering&&o&&o.length){n=0;var r=i.row.cells||[];o=o.slice(),i.row.cells=o;for(var a=0;a<r.length;a++){if(r[a].column&&r[a].column.command===zd){n=(r[a].column.colspan||1)-1;continue}o[a+n]=r[a]}}}_createCell(e){var{column:i}=e,n=i&&i.command,{rowType:o}=e,r=super._createCell.apply(this,arguments),a,s,l;(this._isFixedTableRendering||o==="filter")&&(a=this.getFixedColumns(),l=ls(a),s=a[l-1]),this._isFixedTableRendering?n===zd&&(r.addClass(NR).toggleClass(dY,l===0||s&&s.command==="expand").toggleClass(fMe,a.length&&l===a.length-1),o!=="freeSpace"&&M.setEmptyText(r)):o==="filter"&&r.toggleClass(dY,e.columnIndex===l);var d=this.option("rowAlternationEnabled")&&e.isAltRow,u=this.option("selection.mode")==="multiple"&&e.columnIndex===0&&e.rowType==="header";return be.mozilla&&e.column.fixed&&e.rowType!=="group"&&!d&&!u&&r.addClass(cY),r}_getContent(e){var i;return e?(i=this._fixedTableElement)===null||i===void 0?void 0:i.parent():super._getContent.apply(this,arguments)}_wrapTableInScrollContainer(e,i){var n=super._wrapTableInScrollContainer.apply(this,arguments);return(this._isFixedTableRendering||i)&&n.addClass(this.addWidgetPrefix(bC)),n}_renderCellContent(e,i){var n,{column:o}=i,r=this._isFixedTableRendering,a=i.rowType==="group"&&f(o.groupIndex);if(r&&a&&!o.command&&!o.groupCellTemplate&&e.css("pointerEvents","none"),!r&&this._isFixedColumns){if(n=o.fixed||o.command&&o.fixed!==!1,a&&(n=!1,i.row.summaryCells&&i.row.summaryCells.length)){var s=this._columnsController.getVisibleColumns(),l=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(o.colspan,{columns:s,row:i.row,isFixed:!0}):0;if(l>0){var d=ls(this._columnsController.getFixedColumns());n=s.length-l<d}}if(n){if(o.command&&o.type!=="buttons"||i.rowType==="group"){e.html("&nbsp;").addClass(o.cssClass);return}e.addClass("dx-hidden-cell")}}o.command!==zd&&super._renderCellContent.apply(this,arguments)}_getCellElementsCore(e){var i=super._getCellElementsCore.apply(this,arguments),n=i?.parent().hasClass(hY),o=this.name==="columnHeadersView"?e:void 0;if(this._fixedTableElement&&i){var r=this.getFixedColumns(o),a=this._getRowElements(this._fixedTableElement).eq(e).children("td");x(a,(s,l)=>{if(n)i[s]&&l.style.visibility!=="hidden"&&(i[s]=l);else{var d=r[s];if(d)if(d.command===zd)a.eq(s).hasClass(gMe)&&(i[s]=l||i[s]);else{var u=this._columnsController.getVisibleIndexByColumn(d,o);i[u]=l||i[u]}}})}return i}getColumnWidths(e){var i=super.getColumnWidths(),n=this.getFixedColumns(),o=this._fixedTableElement&&i.length?super.getColumnWidths(this._fixedTableElement):void 0;return pY(n,i,o)}getTableElement(e){e=this._isFixedTableRendering||e;var i=e?this._fixedTableElement:super.getTableElement();return i}setTableElement(e,i){this._isFixedTableRendering||i?this._fixedTableElement=e.addClass(NR):super.setTableElement(e)}getColumns(e){var i=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(e):super.getColumns(e,i)}getRowIndex(e){var i=this._fixedTableElement;return i&&i.find(e).length?this._getRowElements(i).index(e):super.getRowIndex(e)}getTableElements(){var e=super.getTableElements.apply(this,arguments);return this._fixedTableElement&&(e=h([e.get(0),this._fixedTableElement.get(0)])),e}getFixedColumns(e){return this._columnsController.getFixedColumns(e)}getFixedColumnsOffset(){var e={left:0,right:0},i;if(this._fixedTableElement){i=this.getTransparentColumnElement();var n=i.position();e={left:n.left,right:ee(this.element(),!0)-(ee(i,!0)+n.left)}}return e}getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(NR)).first()}getFixedTableElement(){return this._fixedTableElement}isFixedColumns(){return this._isFixedColumns}_resizeCore(){super._resizeCore(),this.synchronizeRows()}setColumnWidths(e){var i,{widths:n}=e,o=this._columnsController.getVisibleColumns(),r=n?.length&&o.some(p=>f(p.visibleWidth)),a=(i=e.optionNames)===null||i===void 0?void 0:i.width;if(super.setColumnWidths(e),this._fixedTableElement){var s=n?.some(p=>p==="auto"||!f(p)),l=s&&(!r||!this.isScrollbarVisible(!0)),d=l?o:this.getFixedColumns();this.setFixedTableColumnWidths(d,n)}var u=this.option("wordWrapEnabled"),c=r||a&&u;c&&this.synchronizeRows()}setFixedTableColumnWidths(e,i){if(!(!this._fixedTableElement||!i)){var n=this._fixedTableElement.children("colgroup").children("col");n.toArray().forEach(r=>r.removeAttribute("style"));var o=0;e.forEach(r=>{if(r.colspan){o+=r.colspan;return}var a=oM(i[o]);f(a)&&Rp(n.eq(o),a),o+=1})}}_getClientHeight(e){var i=e.getBoundingClientRect&&Ze(e);return i&&i.height?i.height:e.clientHeight}synchronizeRows(){var e=[],i=[],n,o,r,a;this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var s=this._getClientHeight(this._tableElement.get(0)),l=this._getClientHeight(this._fixedTableElement.get(0));if(o=this._getRowElements(this._tableElement),r=this._getRowElements(this._fixedTableElement),a=this._findContentElement(),s!==l){for(a&&a.css("height",s),o.css("height",""),r.css("height",""),n=0;n<o.length;n++)e.push(this._getClientHeight(o.get(n))),i.push(this._getClientHeight(r.get(n)));for(n=0;n<o.length;n++){var d=e[n],u=i[n];d>u?r.eq(n).css("height",d):d<u&&o.eq(n).css("height",u)}a&&a.css("height","")}}})}setScrollerSpacing(e,i){var n=this.option("rtlEnabled");super.setScrollerSpacing(e),this.element().children(".".concat(this.addWidgetPrefix(bC))).css({paddingLeft:n?e:"",paddingRight:n?"":e})}},_Me=t=>class extends LR(t){_getRowVisibleColumns(e){return this._isFixedTableRendering?this.getFixedColumns(e):super._getRowVisibleColumns(e)}getContextMenuItems(e){var{column:i}=e,n=this.option("columnFixing"),o=super.getContextMenuItems(e);if(e.row&&e.row.rowType==="header"&&n.enabled===!0&&i&&i.allowFixing){var r=a=>{switch(a.itemData.value){case"none":this._columnsController.columnOption(i.index,"fixed",!1);break;case"left":this._columnsController.columnOption(i.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(i.index,{fixed:!0,fixedPosition:"right"})}};o=o||[],o.push({text:n.texts.fix,beginGroup:!0,items:[{text:n.texts.leftPosition,value:"left",disabled:i.fixed&&(!i.fixedPosition||i.fixedPosition==="left"),onItemClick:r},{text:n.texts.rightPosition,value:"right",disabled:i.fixed&&i.fixedPosition==="right",onItemClick:r}]},{text:n.texts.unfix,value:"none",disabled:!i.fixed,onItemClick:r})}return o}getFixedColumnElements(e){if(f(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var i=this.getColumnElements(),n=this.getTransparentColumnElement();if(i&&n&&n.length){var o=ls(this.getFixedColumns());i.splice(o,n.get(0).colSpan,n.get(0))}return i}getColumnWidths(){var e,i=super.getColumnWidths(),n=this.getFixedColumnElements(),o=this.getFixedColumns();return this._fixedTableElement&&(n&&n.length?e=this._getWidths(n):e=super.getColumnWidths(this._fixedTableElement)),pY(o,i,e)}},yMe=t=>class extends LR(t){dispose(){super.dispose.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}optionChanged(e){super.optionChanged(e),e.name==="hoverStateEnabled"&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())}_detachHoverEvents(){var e=this.element();this._fixedTableElement&&this._tableElement&&_.off(e,"mouseover mouseout",".dx-data-row")}_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&_.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(e=>{var{event:i}=e,n=this.getRowIndex(h(i.target).closest(".dx-row")),o=i.type==="mouseover";n>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(n).toggleClass(uY,o),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(n).toggleClass(uY,o))}))}_getScrollDelay(){var e,i=(e=this._resizingController)===null||e===void 0?void 0:e.hasResizeTimeout();return i?this.option("scrolling.updateTimeout"):be.mozilla?60:0}_findContentElement(e){var i,n,o=this.addWidgetPrefix(lY),r=this.element();if(e=this._isFixedTableRendering||e,r&&e){i=r.children(".".concat(o));var a=this.getScrollable();return!i.length&&a&&(i=h("<div>").addClass(o),_.on(i,"scroll",s=>{var{target:l}=s,d=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{n=h(l).scrollTop(),a.scrollTo({y:n})},d)}),_.on(i,Ks,s=>{var l=h(s.target).closest(".dx-scrollable"),d=!1;if(a&&a.$element().is(l))d=!0;else{var u=l.length&&ki.getInstance(l.get(0)),c=u&&u.scrollHeight()-u.clientHeight()>0;d=u&&!c}if(d){n=a.scrollTop(),a.scrollTo({y:n-s.delta});var p=a.scrollTop()+a.clientHeight(),g=a.scrollHeight()+this.getScrollbarWidth(),m=a.scrollTop()>0&&p<g;if(m)return!1}}),i.appendTo(r)),i}return super._findContentElement()}_updateScrollable(){super._updateScrollable();var e=this.getScrollable();if(!e?._disposed){var i=e&&e.scrollOffset().top;this._updateFixedTablePosition(i)}}_renderContent(e,i,n){return this._isFixedTableRendering||n?e.empty().addClass("".concat(this.addWidgetPrefix(lY)," ").concat(this.addWidgetPrefix(bC))).append(i):super._renderContent(e,i)}_getGroupCellOptions(e){return this._isFixedTableRendering?super._getGroupCellOptions(v({},e,{columns:this._columnsController.getVisibleColumns()})):super._getGroupCellOptions(e)}_renderGroupedCells(e,i){return super._renderGroupedCells(e,v({},i,{columns:this._columnsController.getVisibleColumns()}))}_renderGroupSummaryCells(e,i){this._isFixedTableRendering?super._renderGroupSummaryCells(e,v({},i,{columns:this._columnsController.getVisibleColumns()})):super._renderGroupSummaryCells(e,i)}_hasAlignByColumnSummaryItems(e,i){var n=super._hasAlignByColumnSummaryItems.apply(this,arguments),o=i.columns[e];return i.isFixed?o.fixed&&(n||o.fixedPosition==="right"):n&&(!this._isFixedColumns||!o.fixed)}_renderGroupSummaryCellsCore(e,i,n,o){var r;if(this._isFixedTableRendering){i.isFixed=!0,r=this._getAlignByColumnCellCount(n,i),i.isFixed=!1;var a=i.columns.length-r;i=v({},i,{columns:this.getFixedColumns()});var s=ls(i.columns);a<s?(r-=i.columns[s].colspan-1||0,n-=i.columns[s].colspan-1||0):o>0&&e.css("visibility","hidden"),o=r}super._renderGroupSummaryCellsCore(e,i,n,o)}_getSummaryCellIndex(e,i){if(this._isFixedTableRendering){var n=ls(i);return e>n&&(e+=i[n].colspan-1),e}return super._getSummaryCellIndex.apply(this,arguments)}_renderCore(e){this._detachHoverEvents();var i=super._renderCore(e),n=this._isFixedColumns;return this.element().toggleClass(mMe,n),this.option("hoverStateEnabled")&&n&&this._attachHoverEvents(),i}setRowsOpacity(e,i){super.setRowsOpacity(e,i);var n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),e,i)}getCellIndex(e){var i=this._fixedTableElement,n=0;if(i&&e.is("td")&&e.closest(i).length){var o=this.getFixedColumns();return x(o,(r,a)=>{if(r===e[0].cellIndex)return!1;if(a.colspan){n+=a.colspan;return}n++}),n}return super.getCellIndex.apply(this,arguments)}_updateFixedTablePosition(e,i){if(this._fixedTableElement&&this._tableElement){var n;this._fixedTableElement.parent().scrollTop(e),i&&this._editorFactoryController&&(n=this._editorFactoryController.focus(),n&&this._editorFactoryController.focus(n))}}setScrollerSpacing(e,i){var n={marginBottom:0},o=this.element().children(".".concat(this.addWidgetPrefix(bC)));if(o.length&&this._fixedTableElement){o.css(n),this._fixedTableElement.css(n),n[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,n.marginBottom=i;var r=this._scrollable&&this._scrollable.option("useNative");(r?o:this._fixedTableElement).css(n)}}_getElasticScrollTop(e){var i=0;if(e.scrollOffset.top<0)i=-e.scrollOffset.top;else if(e.reachedBottom){var n=h(e.component.content()),o=h(e.component.container()),r=Math.max(n.get(0).clientHeight-o.get(0).clientHeight,0);i=Math.min(r-e.scrollOffset.top,0)}return Math.floor(i)}_applyElasticScrolling(e){if(this._fixedTableElement){var i=this._getElasticScrollTop(e);Math.ceil(i)!==0?mt(this._fixedTableElement,{top:i}):this._fixedTableElement.css("transform","")}}_handleScroll(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),super._handleScroll(e)}_updateContentPosition(e){super._updateContentPosition.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)}_afterRowPrepared(e){this._isFixedTableRendering||super._afterRowPrepared(e)}_scrollToElement(e){super._scrollToElement(e,this.getFixedColumnsOffset())}},xMe=t=>class extends LR(t){},CMe=function(t,e,i){var n=ls(e),o=t.length-e.length;return x(i,(r,a)=>{a.index>n&&(a.columnIndex+=o,a.index+=o)}),i},SMe=t=>class extends t{_generatePointsByColumns(e){var i=e.columns,{targetDraggingPanel:n}=e;if(n&&n.getName()==="headers"&&n.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=n.getFixedColumnElements(0)),e.columns=n.getFixedColumns(e.rowIndex);var o=super._generatePointsByColumns(e);return CMe(i,e.columns,o),o}return super._generatePointsByColumns(e)}_pointCreated(e,i,n,o){var r=super._pointCreated.apply(this,arguments),a=i[e.columnIndex],s=this._columnHeadersView.getTransparentColumnElement();if(!r&&n==="headers"&&s&&s.length){var l=Ze(s.get(0));return o&&o.fixed?o.fixedPosition==="right"?e.x<l.right:e.x>l.left:a&&a.fixed&&a.fixedPosition!=="right"?!0:e.x<l.left||e.x>l.right}return r}},bMe=t=>class extends t{_generatePointsByColumns(){var e=this,i=e._columnsController,n=i&&e._columnsController.getVisibleColumns(),o=i&&e._columnsController.getFixedColumns(),r=ls(o),a=n.length-o.length,s=e._columnHeadersView.getFixedColumnElements();super._generatePointsByColumns(),s&&s.length>0&&(e._pointsByFixedColumns=M.getPointsByColumns(s,l=>(l.index>r&&(l.columnIndex+=a,l.index+=a),e._pointCreated(l,n.length,n))))}_getTargetPoint(e,i,n){var o=this._columnHeadersView.getTransparentColumnElement();if(o&&o.length){var r=Ze(o.get(0));if(i<=r.left||i>=r.right)return super._getTargetPoint(this._pointsByFixedColumns,i,n)}return super._getTargetPoint(e,i,n)}},gY={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:w.format("dxDataGrid-columnFixingFix"),unfix:w.format("dxDataGrid-columnFixingUnfix"),leftPosition:w.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:w.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:_Me,rowsView:yMe,footerView:xMe},controllers:{draggingHeader:SMe,columnsResizer:bMe}}};P.registerModule("columnFixing",gY);var mY="columnHeadersView",vY="rowsView",DMe="footerView",VR=[mY,vY,DMe],wMe="dxDataGridAdaptivity",ds="adaptiveHidden",Ud="detailAdaptive",UR="dx-field-item-content",EMe="dx-item-modified",em="hidden-column",OMe="adaptive-more",_Y="dx-command-adaptive",EC="dx-command-adaptive-hidden",IMe="dx-adaptive-detail-row",HR="dx-adaptive-item-text",FMe="dx-master-detail-cell",TMe="dx-last-data-cell",DC="adaptive",MMe="batch",WR="row",AMe="form",RMe="popup",BMe="revert-tooltip",fY="dx-group-cell",kMe="dx-group-row",yY="dxDataGrid-ariaAdaptiveExpand",PMe="dxDataGrid-ariaAdaptiveCollapse",NMe="scrolling.legacyMode";function wC(t,e){return t._columnsController.getColumnId(e)}function LMe(t){return t.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function VMe(t,e){var i,n=h(t),o=e.component.getController("adaptiveColumns");e.rowType==="data"?(i=h("<span>").addClass(o.addWidgetPrefix(OMe)),_.on(i,F(se,wMe),o.createAction(()=>{o.toggleExpandAdaptiveDetailRow(e.key)})),i.appendTo(n)):M.setEmptyText(n)}function GR(t){var e,i=(e=t.data)===null||e===void 0?void 0:e.$nextCell;_.off(i,"focus",GR),_.trigger(i,"dxclick")}var zR=class extends ye.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._editingController=this.getController("editing"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._rowsView=this.getView("rowsView"),this._columnsController.addCommandColumn({type:DC,command:DC,visible:!0,adaptiveHidden:!0,cssClass:_Y,alignment:"center",width:"auto",cellTemplate:VMe,fixedPosition:"right"}),this._columnsController.columnsChanged.add(()=>{var e=!!this.updateHidingQueue(this._columnsController.getColumns()).length;this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e,!0)}),this._hidingColumnsQueue=[],this._hiddenColumns=[],this.createAction("onAdaptiveDetailRowPreparing"),super.init()}optionChanged(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),super.optionChanged(e)}publicMethods(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]}_isRowEditMode(){var e=this._getEditMode();return e===WR}_isItemModified(e,i){var n=this._columnsController.getVisibleIndex(e.column.index),o=this._dataController.getRowIndexByKey(i.key),r=this._dataController.items()[o+1];return r&&r.modifiedValues&&f(r.modifiedValues[n])}_renderFormViewTemplate(e,i,n){var o=this,{column:r}=e,a=o.createAction(()=>{o._editingController.isEditing()&&_.trigger(n,se)}),s=i.row.data,l=r.calculateCellValue(s),d=M.getDisplayValue(r,l,s,i.rowType),u=M.formatValue(d,r),c=this._editingController.isCellOrBatchEditMode(),p=o._rowsView;if(r.allowEditing&&this._keyboardNavigationController.isKeyboardEnabled()&&(n.attr("tabIndex",o.option("tabIndex")),c&&(_.off(n,"focus",a),_.on(n,"focus",a))),r.cellTemplate){var g=v({},i,{value:l,displayValue:d,text:u,column:r});p.renderTemplate(n,r.cellTemplate,g,js(n)).done(()=>{p._cellPrepared(n,i)})}else{var m=n.get(0);r.encodeHtml?m.textContent=u:m.innerHTML=u,n.addClass(HR),(!f(u)||u==="")&&n.html("&nbsp;"),o._isRowEditMode()||o._isItemModified(e,i)&&n.addClass(EMe),p._cellPrepared(n,i)}}_getTemplate(e,i,n){var o=this,{column:r}=e,a=this._editingController;return function(s,l){var d=h(l),u=o._columnsController.getVisibleIndex(r.index),c=v({},i),p=function(){var m=o._isItemEdited(e);c.value=i.row.values[u],m||r.showEditorAlways?a.renderFormEditorTemplate(c,e,s,d,!m):(c.column=r,c.columnIndex=u,o._renderFormViewTemplate(e,c,d))};if(p(),c.watch){var g=c.watch(()=>({isItemEdited:o._isItemEdited(e),value:i.row.values[u]}),()=>{d.contents().remove(),d.removeClass(HR),p()});_.on(d,Gt,g)}}}_isVisibleColumnsValid(e){return!(e<2||e.length-function(){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.command&&i++}return i}()<=1)}_calculatePercentWidths(e,i){var n=this,o=0;return i.forEach((r,a)=>{e[a]!==ds&&(o+=n._getItemPercentWidth(r))}),o}_isPercentWidth(e){return N(e)&&e.endsWith("%")}_isColumnHidden(e){return this._hiddenColumns.filter(i=>i.index===e.index).length>0}_getAverageColumnsWidth(e,i,n){var o=this,r=0,a=0;return i.forEach(s=>{if(!o._isColumnHidden(s)){var{width:l}=s;f(l)&&!isNaN(parseFloat(l))?r+=o._isPercentWidth(l)?o._calculatePercentWidth({visibleIndex:s.visibleIndex,columnsCount:i.length,columnsCanFit:n,bestFitWidth:s.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):a++}}),(e-r)/a}_calculateColumnWidth(e,i,n,o){var r=wC(this,e),a=this._columnsController.columnOption(r,"width"),s=this._columnsController.columnOption(r,"bestFitWidth"),l=n.length,d;if(a&&a!=="auto")if(this._isPercentWidth(a))d=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:o,bestFitWidth:s,columnWidth:a,containerWidth:i});else return parseFloat(a);else{var u=this.option("columnAutoWidth");d=u||e.command?s:this._getAverageColumnsWidth(i,n,o)}return d}_calculatePercentWidth(e){var i=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,o=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return i?e.containerWidth*parseFloat(e.columnWidth)/100:o}_getNotTruncatedColumnWidth(e,i,n,o){var r=wC(this,e),a=this._columnsController.columnOption(r,"width"),s=this._columnsController.columnOption(r,"bestFitWidth");if(a&&a!=="auto"&&!this._isPercentWidth(a))return parseFloat(a);var l=this._calculateColumnWidth(e,i,n,o);return l<s?null:l}_getItemPercentWidth(e){var i=0;return e.width&&this._isPercentWidth(e.width)&&(i=parseFloat(e.width)),i}_getCommandColumnsWidth(){var e=this,i=e._columnsController.getVisibleColumns(),n=0;return x(i,(o,r)=>{(r.index<0||r.command)&&(n+=e._columnsController.columnOption(wC(e,r),"bestFitWidth")||0)}),n}_isItemEdited(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){var i=this.option("editing.editRowKey");if(_e(i,this._dataController.adaptiveExpandedKey()))return!0}else{var n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,o=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(n,o)}}_getFormItemsByHiddenColumns(e){var i=[];return x(e,(n,o)=>{i.push({column:o,name:o.name,dataField:o.dataField,visibleIndex:o.visibleIndex})}),i}_getAdaptiveColumnVisibleIndex(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.command===DC)return i}}_hideAdaptiveColumn(e,i){var n=this._getAdaptiveColumnVisibleIndex(i);f(n)&&(e[n]=ds,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))}_showHiddenCellsInView(e){var{$cells:i,isCommandColumn:n}=e,o=this.addWidgetPrefix(em);n?(o=EC,i.attr({tabIndex:0,"aria-hidden":null}).removeClass(o)):i.removeClass(o)}_showHiddenColumns(){for(var e=0;e<VR.length;e++){var i=this.getView(VR[e]);if(i&&i.isVisible()&&i.element()){var n=i.name,o=i.element().find(".".concat(EC));this._showHiddenCellsInView({viewName:n,$cells:o,isCommandColumn:!0});var r=i.element().find(".".concat(this.addWidgetPrefix(em)));this._showHiddenCellsInView({viewName:n,$cells:r})}}}_isCellValid(e){return e&&e.length&&!e.hasClass(FMe)&&!e.hasClass(fY)}_hideVisibleColumn(e){var{isCommandColumn:i,visibleIndex:n}=e,o=this;VR.forEach(r=>{var a=o.getView(r);a&&o._hideVisibleColumnInView({view:a,isCommandColumn:i,visibleIndex:n})})}_hideVisibleColumnInView(e){var{view:i,isCommandColumn:n,visibleIndex:o}=e,r=i.name,a,s=this._columnsController.getVisibleColumns()[o],l=this._editingController&&this._editingController.getEditFormRowIndex();if(i&&i.isVisible()&&s)for(var d=i.getRowsCount(),u=i._getRowElements(),c=0;c<d;c++){var p=c===l&&r===vY&&this.option("editing.mode")!=="popup";if(!p){var g=r===mY?this._columnsController.getVisibleIndex(s.index,c):o;if(g>=0){var m=u.eq(c);a=this._findCellElementInRow(m,g),this._isCellValid(a)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:n,$cell:a})}}}}_findCellElementInRow(e,i){var n=e.children(),o=i,r=!1;if(e.hasClass(kMe)){var a=e.find(".".concat(fY)),s=a.attr("colspan");if(a.length&&f(s)){var l=parseInt(s),d=a.index()+l-1;i>d?o=i-l+1:r=!0}}var u=r?void 0:n.eq(o);return u}_hideVisibleCellInView(e){var{$cell:i,isCommandColumn:n}=e,o=n?EC:this.addWidgetPrefix(em);i.attr({tabIndex:-1,"aria-hidden":!0}).addClass(o)}_getEditMode(){return this._editingController.getEditMode()}isFormOrPopupEditMode(){var e=this._getEditMode();return e===AMe||e===RMe}hideRedundantColumns(e,i,n){if(this._hiddenColumns=[],this._isVisibleColumnsValid(i)&&n.length){var o=0,r=this.component.$element(),a=H(r)-this._getCommandColumnsWidth(),s=function(){return i.filter(ce=>!ce.command&&this._hiddenColumns.filter(fe=>fe.index===ce.index).length===0)}.bind(this),l=s(),d=l.length,u,c,p;do{p=!1,o=0;var g=this._calculatePercentWidths(e,i),m=g<100&&g!==0;for(u=0;u<i.length;u++){var y=i[u],C=this._getNotTruncatedColumnWidth(y,a,l,m),b=wC(this,y),O=this._columnsController.columnOption(b,"width"),k=this._columnsController.columnOption(b,"minWidth"),J=this._columnsController.columnOption(b,"bestFitWidth");if(e[u]===ds){c=!0;continue}if(!C&&!y.command&&!y.fixed){p=!0;break}(!O||O==="auto")&&(C=Math.max(J||0,k||0)),(y.command!==DC||c)&&(o+=C)}if(p=p||o>H(r),p){var U=n.pop(),z=this._columnsController.getVisibleIndex(U.index);a+=this._calculateColumnWidth(U,a,l,m),this._hideVisibleColumn({visibleIndex:z}),e[z]=ds,this._hiddenColumns.push(U),l=s()}}while(p&&l.length>1&&n.length);d===l.length&&this._hideAdaptiveColumn(e,i)}else this._hideAdaptiveColumn(e,i)}getAdaptiveDetailItems(){return this._$itemContents}getItemContentByColumnIndex(e){for(var i,n=0;n<this._$itemContents.length;n++){i=this._$itemContents.eq(n);var o=i.data("dx-form-item");if(o&&o.column&&this._columnsController.getVisibleIndex(o.column.index)===e)return i}}toggleExpandAdaptiveDetailRow(e,i){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this._dataController.toggleExpandAdaptiveDetailRow(e,i)}createFormByHiddenColumns(e,i){var n=this,o=h(e),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-".concat(new Ee)},a=He()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent(h("<div>").appendTo(o),kx,v(a,r,{customizeItem(s){var l=s.column||n._columnsController.columnOption(s.name||s.dataField);l&&(s.label=s.label||{},s.label.text=s.label.text||l.caption,s.column=l,s.template=n._getTemplate(s,i,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,s)},onContentReady(s){r.onContentReady&&r.onContentReady.call(this,s),n._$itemContents=o.find(".".concat(UR))}}))}hasAdaptiveDetailRowExpanded(){return f(this._dataController.adaptiveExpandedKey())}updateForm(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&f(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())}updateHidingQueue(e){var i=e.filter(a=>a.visible&&!a.type&&!a.fixed&&!(f(a.groupIndex)&&a.groupIndex>=0)),n,o;if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&this.option("columnResizingMode")==="widget")return this._hidingColumnsQueue;for(o=0;o<i.length;o++)f(i[o].hidingPriority)&&i[o].hidingPriority>=0&&(n=!0,this._hidingColumnsQueue[i[o].hidingPriority]=i[o]);if(n)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(o=0;o<i.length;o++){var r=this._columnsController.getVisibleIndex(i[o].index);this._hidingColumnsQueue[r]=i[o]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue}getHiddenColumns(){return this._hiddenColumns}hasHiddenColumns(){return this._hiddenColumns.length>0}getHidingColumnsQueue(){return this._hidingColumnsQueue}isAdaptiveDetailRowExpanded(e){var i=this._dataController;return i.adaptiveExpandedKey()&&_e(i.adaptiveExpandedKey(),e)}expandAdaptiveDetailRow(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)}collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}updateCommandAdaptiveAriaLabel(e,i){var n=this._dataController.getRowIndexByKey(e);if(n!==-1){var o=h(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(o,i)}}setCommandAdaptiveAriaLabel(e,i){var n=e.find(".dx-command-adaptive");n.attr("aria-label",w.format(i))}},HMe=t=>class extends t{_isCellValid(e,i){return super._isCellValid(e,i)&&!e.hasClass(this.addWidgetPrefix(em))&&!e.hasClass(EC)}_processNextCellInMasterDetail(e,i){super._processNextCellInMasterDetail(e,i);var n=this._editingController.isCellOrBatchEditMode(),o=this._editingController.isEditing();o&&e&&n&&!this._isInsideEditForm(e)&&(_.off(e,"focus",GR),_.on(e,"focus",{$nextCell:e},GR),_.trigger(i,"focus"))}_isCellElement(e){return super._isCellElement(e)||e.hasClass(HR)}},WMe=t=>class extends t{_getCellTemplate(e){var i=this,{column:n}=e;return e.rowType===Ud&&n.command==="detail"?function(o,r){i._adaptiveColumnsController.createFormByHiddenColumns(h(o),r)}:super._getCellTemplate(e)}_createRow(e){var i=super._createRow.apply(this,arguments);return e&&e.rowType===Ud&&e.key===this._dataController.adaptiveExpandedKey()&&i.addClass(IMe),i}_renderCells(e,i){super._renderCells(e,i);var n=this._adaptiveColumnsController,o=n.getHidingColumnsQueue().length,r=n.getHiddenColumns().length;o&&!r&&LMe(e).last().addClass(TMe),i.row.rowType==="data"&&n.setCommandAdaptiveAriaLabel(e,yY)}_getColumnIndexByElementCore(e){var i=e.closest(".".concat(UR));if(i.length&&i.closest(this.component.$element()).length){var n=i.length?i.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return super._getColumnIndexByElementCore(e)}_cellPrepared(e,i){super._cellPrepared.apply(this,arguments),i.row.rowType!==Ud&&i.column.visibleWidth===ds&&e.addClass(this.addWidgetPrefix(em))}getCell(e,i){var n=this._dataController.items()[e?.rowIndex];if(n?.rowType===Ud){var o=this._adaptiveColumnsController.getAdaptiveDetailItems();return super.getCell(e,i,o)}return super.getCell.apply(this,arguments)}_getCellElement(e,i){var n=this._dataController.items()[e];return n&&n.rowType===Ud?this._adaptiveColumnsController.getItemContentByColumnIndex(i):super._getCellElement.apply(this,arguments)}getContextMenuItems(e){var i;if(e.row&&e.row.rowType==="detailAdaptive"){var n=this._columnHeadersView,o=h(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=o?o.column:e.column,n.getContextMenuItems&&n.getContextMenuItems(e)}return(i=super.getContextMenuItems)===null||i===void 0?void 0:i.call(this,e)}isClickableElement(e){var i,n,o=(n=(i=super.isClickableElement)===null||i===void 0?void 0:i.call(this,e))!==null&&n!==void 0?n:!1;return o||!!e.closest(".".concat(_Y)).length}},GMe=t=>class extends t{_updateColumnWidth(e,i){super._updateColumnWidth(e,e.visibleWidth===ds?e.bestFitWidth:i)}},zMe=t=>class extends t{_pointCreated(e,i,n){var o=super._pointCreated(e,i,n),r=n[e.columnIndex]||{},a=this._getNextColumnIndex(e.columnIndex),s=n[a]||{},l=a!==e.columnIndex+1&&s.command,d=r.visibleWidth===ds||l;return o||d}_getNextColumnIndex(e){for(var i=this._columnsController.getVisibleColumns(),n=super._getNextColumnIndex(e);i[n]&&i[n].visibleWidth===ds;)n++;return n}},UMe=t=>class extends t{_pointCreated(e,i,n,o){var r=super._pointCreated(e,i,n,o),a=i[e.columnIndex-1]||{},s=a.visibleWidth===ds;return r||s}},jMe=t=>class extends t{_isRowEditMode(){return this.getEditMode()===WR}_getFormEditItemTemplate(e,i){return this.getEditMode()!==WR&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(i.index),this.getColumnTemplate(e)):super._getFormEditItemTemplate(e,i)}_closeEditItem(e){var i=e.closest(".".concat(UR)),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,o=i.length?i.first().data("dx-form-item"):null,r=o&&o.column&&this._columnsController.getVisibleIndex(o.column.index);this.isEditCell(n,r)||super._closeEditItem(e)}_beforeUpdateItems(e,i){if(!this._adaptiveColumnsController.isFormOrPopupEditMode()&&this._adaptiveColumnsController.hasHiddenColumns()){var n=this._dataController.items(),o=n[i],r=M.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveColumnsController.hasAdaptiveDetailRowExpanded(),r>=0&&e.push(r+1),e.push(i+1),this._dataController.adaptiveExpandedKey(o.key)}}_afterInsertRow(e){super._afterInsertRow.apply(this,arguments),this._adaptiveColumnsController.hasHiddenColumns()&&(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)}_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveColumnsController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)}_cancelEditAdaptiveDetailRow(){this._adaptiveColumnsController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()}_afterSaveEditData(){super._afterSaveEditData.apply(this,arguments);var e=new S;return this._isRowEditMode()&&this._adaptiveColumnsController.hasHiddenColumns()?A(this._validatingController.validate(!0)).done(i=>{i&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()}_beforeCancelEditData(){super._beforeCancelEditData(),this._cancelEditAdaptiveDetailRow()}_getRowIndicesForCascadeUpdating(e){var i=super._getRowIndicesForCascadeUpdating.apply(this,arguments);return this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(e.key)&&i.push(e.rowType===Ud?e.rowIndex-1:e.rowIndex+1),i}_beforeCloseEditCellInBatchMode(e){var i=this._dataController._adaptiveExpandedKey;if(i){var n=M.getIndexByKey(i,this._dataController.items());n>-1&&e.unshift(n)}}editRow(e){return this._adaptiveColumnsController.isFormOrPopupEditMode()&&this._adaptiveColumnsController.collapseAdaptiveDetailRow(),super.editRow(e)}deleteRow(e){var i=this._dataController.getKeyByRowIndex(e);this.getEditMode()===MMe&&this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(i)&&this._adaptiveColumnsController.collapseAdaptiveDetailRow(),super.deleteRow(e)}},$Me=t=>class extends t{_processItems(e,i){var{changeType:n}=i;if(e=super._processItems.apply(this,arguments),n==="loadingAll"||!f(this._adaptiveExpandedKey))return e;var o=M.getIndexByKey(this._adaptiveExpandedKey,e),r=this.option(NMe)===!1;if(o>=0){var a=e[o];e.splice(o+1,0,{visible:!0,rowType:Ud,key:a.key,data:a.data,node:a.node,modifiedValues:a.modifiedValues,isNewRow:a.isNewRow,values:a.values})}else n==="refresh"&&!(r&&i.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e}_getRowIndicesForExpand(e){var i=super._getRowIndicesForExpand.apply(this,arguments);if(this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(e)){var n=i[i.length-1];i.push(n+1)}return i}adaptiveExpandedKey(e){if(f(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey}toggleExpandAdaptiveDetailRow(e,i){var n=M.getIndexByKey(this._adaptiveExpandedKey,this._items),o=M.getIndexByKey(e,this._items);n>=0&&n===o&&!i&&(e=void 0,o=-1);var r=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,o>=0&&o++;var a=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-a,o-a]}),this._adaptiveColumnsController.updateCommandAdaptiveAriaLabel(e,PMe),this._adaptiveColumnsController.updateCommandAdaptiveAriaLabel(r,yY)}},KMe=t=>class extends t{_needHideBorder(e){return super._needHideBorder(e)||e?.hasClass("dx-field-item-content")&&e?.find(".dx-checkbox").length}_getFocusCellSelector(){return"".concat(super._getFocusCellSelector(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")}_getRevertTooltipsSelector(){return"".concat(super._getRevertTooltipsSelector(),", .dx-field-item-content .").concat(this.addWidgetPrefix(BMe))}},qMe=t=>class extends t{_isColumnVisible(e){return super._isColumnVisible(e)&&!e.adaptiveHidden}},YMe=t=>class extends t{dispose(){super.dispose.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}_needBestFit(){return super._needBestFit()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length}_correctColumnWidths(e,i){var n=this._adaptiveColumnsController,o=n.getHiddenColumns(),r=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,i,r);var a=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&o.length!==a.length&&n.updateForm(a),!a.length&&n.collapseAdaptiveDetailRow(),super._correctColumnWidths.apply(this,arguments)}_toggleBestFitMode(e){e&&this._adaptiveColumnsController._showHiddenColumns(),super._toggleBestFitMode(e)}_needStretch(){var e=this._adaptiveColumnsController;return super._needStretch.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()}},xY={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:zR},extenders:{views:{rowsView:WMe},controllers:{export:GMe,columnsResizer:zMe,draggingHeader:UMe,editing:jMe,resizing:YMe,data:$Me,editorFactory:KMe,columns:qMe,keyboardNavigation:HMe}}};P.registerModule("adaptivity",xY);function CY(t,e,i,n,o,r){i=i||0,n=n||[],r=r||[],n[i]=n[i]||0;var a=t[i],s=r[i]+1||0,l=0,d;if(a){for(d=s;d<a.length;d++){var u=a[d],c=d+n[i],p=u.colspan||1;if(CY(t,e,i+(u.rowspan||1),n,p,r),n[i]+=p-1,l+=p,u.rowspan)for(var g=i+1;g<i+u.rowspan;g++)n[g]=n[g]||0,n[g]+=u.colspan||1;if(e(u,c,i,d)===!1||o!==void 0&&l>=o)break}r[i]=d}}function OC(t,e,i){var n=[];CY(t,(r,a,s)=>{var l=r,d,u=l.colspan||1,c=a+u-1>=e&&a<i;if(n[s]=n[s]||[],c)a<e?(d=u-(e-a),a=e):d=u,a+d>i&&(d=i-a),d!==u&&(l=v({},l,{colspan:d})),n[s].push(l);else if(a>i)return!1});for(var o=0;o<n.length;o++)n[o]=n[o]||[];return n}var QMe=50,SY=t=>class extends t{_needToSetCellWidths(){var e=super._needToSetCellWidths();if(!e&&this._columnsController.isVirtualMode()){var i=this._columnsController.getColumns();e=i.some(n=>n.width==="auto")}return e}},JMe=t=>class extends SY(t){_resizeCore(){super._resizeCore.apply(this,arguments),this._columnsController.resize()}_handleScroll(e){var i=this.getScrollable(),{left:n}=e.scrollOffset;super._handleScroll.apply(this,arguments),this.option("rtlEnabled")&&i&&(n=H(i.$content())-H(i.$element())-n),this._columnsController.setScrollPosition(n)}_renderCore(e){var i,n;if(e?.virtualColumnsScrolling){var o=this._findContentElement(),r=(i=this._columnsController)===null||i===void 0?void 0:i.getFixedColumns(),a=(n=this._scrollable)===null||n===void 0?void 0:n.option("useNative");if(r?.length){o.css({minHeight:a?Y(o):M.getContentHeightLimit(be)});var s=()=>{this.resizeCompleted.remove(s),o.css({minHeight:""})};this.resizeCompleted.add(s)}}return super._renderCore.apply(this,arguments)}},XMe=t=>class extends SY(t){_renderCore(){var e=super._renderCore.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),e}},IC=function(t){return t.map(e=>e.visibleWidth||parseFloat(e.width)||QMe)},ZMe=t=>class extends t{init(){var e;super.init.apply(this,arguments),this._resizingController=this.getController("resizing"),this._beginPageIndex=null,this._endPageIndex=null,(e=this._position)!==null&&e!==void 0||(this._position=0),this._virtualVisibleColumns={}}dispose(){clearTimeout(this._changedTimeout),super.dispose.apply(this,arguments)}resetColumnsCache(){super.resetColumnsCache(),this._virtualVisibleColumns={}}getBeginPageIndex(e){for(var i=this.getVisibleColumns(void 0,!0),n=IC(i),o=0,r=0;r<n.length;r++){if(o>=e)return Math.floor(r/this.getColumnPageSize());o+=n[r]}return 0}getTotalWidth(){var e=this.option("width");return typeof e=="number"?e:this._resizingController._lastWidth||ee(this.component.$element())}getEndPageIndex(e){var i=this.getVisibleColumns(void 0,!0),n=IC(i),o=0;e+=this.getTotalWidth();for(var r=0;r<n.length;r++){if(o>=e)return Math.ceil(r/this.getColumnPageSize());o+=n[r]}return Math.ceil(n.length/this.getColumnPageSize())}getColumnPageSize(){return this.option("scrolling.columnPageSize")}_fireColumnsChanged(){var e=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-e}getScrollingTimeout(){var e=this.option("scrolling.columnRenderingThreshold"),i=this.option("scrolling.renderAsync"),n=0;return(!f(i)&&this._renderTime>e||i)&&(n=this.option("scrolling.timeout")),n}setScrollPosition(e){var i=this.getScrollingTimeout();i>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(e)},i)):this._setScrollPositionCore(e)}isVirtualMode(){return W()&&this.option("scrolling.columnRenderingMode")==="virtual"}resize(){this._setScrollPositionCore(this._position)}_setScrollPositionCore(e){if(this.isVirtualMode()){var i=this.getBeginPageIndex(e),n=this.getEndPageIndex(e),o=e<this._position?this._beginPageIndex>i:this._endPageIndex<n;this._position=e,o&&(this._beginPageIndex=i,this._endPageIndex=n,this._fireColumnsChanged())}}getFixedColumns(e,i){var n=super.getFixedColumns(e);if(this.isVirtualMode()&&!i&&n.length){var o=n.map(r=>r.command).indexOf("transparent");return n[o].colspan=this.getVisibleColumns().length-super.getFixedColumns().length+1,n}return n}_compileVisibleColumns(e,i){var n;if(i||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return super._compileVisibleColumns(e);!((n=this._columns)===null||n===void 0)&&n.length&&!f(this._beginPageIndex)&&!f(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var o=this._beginPageIndex,r=this._endPageIndex,a="".concat(e,"-").concat(o,"-").concat(r);if(this._virtualVisibleColumns[a])return this._virtualVisibleColumns[a];var s=super._compileVisibleColumns(),l=this.getRowCount(),d=this.getColumnPageSize(),u=o*d,c=r*d,p=this.getFixedColumns(void 0,!0),g=p.map(fe=>fe.command).indexOf("transparent"),m=p.length?g:0,y=s.slice(0,m),C=s.slice(m,u),b=IC(C).reduce((fe,he)=>fe+he,0);b||(u=0);var O=p.length?p.length-g-1:0,k=s.slice(s.length-O),J=s.slice(c,s.length-O),U=IC(J).reduce((fe,he)=>fe+he,0);if(U||(c=s.length),l>1&&typeof e=="number"){for(var z=[],ce=0;ce<=l;ce++)z.push(super._compileVisibleColumns(ce));y=OC(z,0,y.length)[e]||[],k=OC(z,s.length-k.length,s.length)[e]||[],s=OC(z,u,c)[e]||[]}else s=s.slice(u,c);return b&&(s.unshift({command:"virtual",width:b}),s=y.concat(s)),U&&(s.push({command:"virtual",width:U}),s=s.concat(k)),this._virtualVisibleColumns[a]=s,s}getColumnIndexOffset(){var e=0;if(this._beginPageIndex>0){var i=this.getFixedColumns(),n=i.map(r=>r.command).indexOf("transparent"),o=n>=0?n:0;e=this._beginPageIndex*this.getColumnPageSize()-o-1}return e>0?e:0}},bY={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:ZMe},views:{columnHeadersView:XMe,rowsView:JMe}}};P.registerModule("virtualColumns",bY);var DY="dx-dropdownbutton",e1e="dx-dropdownbutton-content",wY="dx-dropdownbutton-action",EY="dx-dropdownbutton-toggle",t1e="dx-dropdownbutton-has-arrow",i1e="dx-dropdownbutton-popup-wrapper",n1e="dx-dropdowneditor-overlay",o1e="dx-button",r1e="dx-button-text",a1e="dx-icon-right",s1e=ct.inherit({_getDefaultOptions(){return v(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:w.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),v(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new Eo(t=>{var e=h(t.container),i=h("<div>").appendTo(e);this._list=this._createComponent(i,Yr,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(t){this._dataSource||(this._dataSource=new mi({store:new Fo({key:this._getKey(),data:t}),pageSize:0}))},_getKey:function(){var t,e=this.option("keyExpr"),i=(t=this._dataSource)===null||t===void 0?void 0:t.key();return f(i)&&(!f(e)||e==="this")?i:e},_compileKeyGetter(){this._keyGetter=pe(this._getKey())},_compileDisplayGetter(){this._displayGetter=pe(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(DY),this._renderButtonGroup(),this._updateArrowClass(),f(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:D,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var t;(t=this._loadSingleDeferred)===null||t===void 0||t.reject();var e=new S;if(this._list&&this._lastSelectedItemData!==void 0){var i=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return e.resolve(i)}this._lastSelectedItemData=void 0;var n=this.option("selectedItemKey");return this._loadSingle(this._getKey(),n).done(e.resolve).fail(()=>{e.resolve(null)}),this._loadSingleDeferred=e,e.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(t){var{previousValue:e,value:i}=t;this._selectionChangedAction({item:i,previousItem:e})},_fireItemClickAction(t){var{event:e,itemElement:i,itemData:n}=t;return this._itemClickAction({event:e,itemElement:i,itemData:this._actionItem||n})},_actionButtonConfig(){return{text:this.option("text"),icon:this.option("icon"),elementAttr:{class:wY}}},_getButtonGroupItems(){var t=[];return t.push(this._actionButtonConfig()),this.option("splitButton")&&t.push({icon:"spindown",elementAttr:{class:EY}}),t},_buttonGroupItemClick(t){var{event:e,itemData:i}=t,n=i.elementAttr.class===wY,o=i.elementAttr.class===EY;o?this.toggle():n&&(this._actionClickAction({event:e,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:t,showArrowIcon:e,focusStateEnabled:i,hoverStateEnabled:n,stylingMode:o,accessKey:r,tabIndex:a}=this.option(),s=t||!e?"content":(l,d)=>{var{text:u,icon:c}=l,p=en(c),g=u?h("<span>").text(u).addClass(r1e):void 0,m=en("spindown").addClass(a1e);h(d).append(p,g,m)};return v({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:l=>this._keyboardHandler(l),buttonTemplate:s,focusStateEnabled:i,hoverStateEnabled:n,stylingMode:o,accessKey:r,tabIndex:a},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var t=this._popup.$content(),e=this._getTemplateByOption("dropDownContentTemplate");return t.empty(),this._popupContentId="dx-"+new Ee,this.setAria("id",this._popupContentId,t),e.render({container:V(t),model:this.option("items")||this._dataSource})},_popupOptions(){var t=this.option("rtlEnabled")?"right":"left";return v({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:e=>{var i=this.$element(),n=h(e.target).closest(".".concat(DY));return!n.is(i)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>Fc(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:t+" top",at:t+" bottom"},_wrapperClassExternal:n1e},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var t=this.option("selectedItemKey"),e=this.option("useSelectMode");return{selectionMode:e?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:f(t)&&e?[t]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:i=>{this.option("useSelectMode")||(this._lastSelectedItemData=i.itemData),this.option("selectedItemKey",this._keyGetter(i.itemData));var n=this._fireItemClickAction(i);n!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var t=h("<div>");this.$element().append(t),this._popup=this._createComponent(t,Fi,this._popupOptions()),this._popup.$content().addClass(e1e),this._popup.$wrapper().addClass(i1e),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged:function(t){var e=ct.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_dimensionChanged:function(){var t=Tc(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>Fc(this.$element()))},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(t){var e={owns:t?this._popupContentId:void 0};this.setAria(e,this.$element())},_setButtonsAria(t){var e={expanded:t,haspopup:"listbox"},i={};this.option("text")||(i.label="dropdownbutton"),this._getButtons().each((n,o)=>{n===0?this.setAria(E({},i,e),h(o)):this.setAria(e,h(o))})},_updateAriaAttributes(t){this._setElementAria(t),this._setButtonsAria(t)},_getButtons(){return this._buttonGroup.$element().find(".".concat(o1e))},_renderButtonGroup(){var t=this._buttonGroup&&this._buttonGroup.$element()||h("<div>");this._buttonGroup||this.$element().append(t),this._buttonGroup=this._createComponent(t,tj,this._buttonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){var t=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass(t1e,t)},toggle(t){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(t)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(t,e){this._list&&this._list.option(t,e)},_getDisplayValue(t){var e=!L(t),i=e?t:this._displayGetter(t);return L(i)?"":String(Re(i,""))},_updateActionButton(t){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(t),icon:q(t)?t.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(t))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(t){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&f(t)?[t]:[]);var e=this.option("selectedItem");this._loadSelectedItem().done(i=>{this._updateActionButton(i),this._displayGetter(e)!==this._displayGetter(i)&&this._fireSelectionChangedAction({previousValue:e,value:i})})},_updateButtonGroup(t,e){this._buttonGroup.option(t,e),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(t){var{name:e,value:i}=t,n={};n[e]=i,this._updateButtonGroup("items[0]",v({},this._actionButtonConfig(),n)),this._popup&&this._popup.repaint()},_selectModeChanged(t){if(t){this._setListOption("selectionMode","single");var e=this.option("selectedItemKey");this._setListOption("selectedItemKeys",f(e)?[e]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(t){var e=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[t]),f(e)&&this._loadSelectedItem().done(i=>{this._setListOption("selectedItemKeys",[e]),this._setListOption("selectedItem",i)}).fail(i=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(t),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(t){var e,{name:i,value:n}=t;switch(i){case"useSelectMode":this._selectModeChanged(n);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(i,n),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,t);break;case"dropDownOptions":if(t.fullName==="dropDownOptions.visible")break;t.value.visible!==void 0&&delete t.value.visible,this._popupOptionChanged(t),this._innerWidgetOptionChanged(this._popup,t);break;case"opened":this.toggle(n);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(i,n),this._updateButtonGroup(i,n),this.callBase(t);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(i);break;case"dataSource":Array.isArray(n)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(i);break;case"icon":case"text":this._actionButtonOptionChanged(t);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"stylingMode":this._updateButtonGroup(i,n);break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(i,n);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(n);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"tabIndex":this._updateButtonGroup(i,n);break;default:this.callBase(t)}}}).include(lc);K("dxDropDownButton",s1e);function OY(t,e){for(var i=u=>u||1,n=[],o=(t[0]||[]).reduce((u,c)=>u+i(c.colspan),0),r=(u=>{var c=0,p=0;return()=>{var g=u[c]||[],m=g[p++];return p>=g.length&&(c++,p=0),m&&(m.colspan=i(m.colspan),m.rowspan=i(m.rowspan)),m}})(t),a=(u,c,p)=>{var g=n[u]=n[u]||[];if(g[c]=p,p.colspan>1||p.rowspan>1){for(var m=(O=>v({},O,e))(p),y=1;y<p.colspan;y++)a(u,c+y,m);for(var C=1;C<p.rowspan;C++)for(var b=0;b<p.colspan;b++)a(u+C,c+b,m)}},s=r(),l=0;s;){for(var d=0;d<o&&s;d++)n[l]&&n[l][d]||(a(l,d,s),d+=s.colspan-1,s=r());l++}return n}var l1e="dx-datagrid-export-menu",IY="dx-datagrid-export-button",d1e="exportButton",FY="export",u1e="xlsxfile",c1e="exportselected",h1e="pdffile",jR=class{constructor(e,i,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=i,this._selectedRowsOnly=n}_getGroupValue(e){var{key:i,data:n,rowType:o,groupIndex:r,summaryCells:a}=e,s=this._options.groupColumns[r],l=P.getDisplayValue(s,s.deserializeValue?s.deserializeValue(i[r]):i[r],n,o),d="".concat(s.caption,": ").concat(P.formatValue(l,s));return a&&a[0]&&a[0].length&&(d+=" ".concat(P.getGroupRowSummaryText(a[0],this._options.summaryTexts))),d}_correctCellIndex(e){return e}_initOptions(){var e=this._exportController,i=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:i,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:Xi(this._options.rtlEnabled)}}getColumnStyles(){var e=[];return this.getColumns().forEach(i=>{e.push({alignment:i.alignment||"left",format:i.format,dataType:i.dataType})}),e}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(e){var i,n=((i=this.getColumns()[e])===null||i===void 0?void 0:i.alignment)||"right";return this.getHeaderStyles().map(o=>o.alignment).indexOf(n)}getStyleId(e,i){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),i)?this._getTotalCellStyleId(i):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:i+this.getHeaderStyles().length}getColumns(e){var{columns:i}=this._options;return e?i:i[i.length-1]}getColumnsWidths(){var e=this.getColumns();return f(e)?e.map(i=>i.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"}getGroupLevel(e){var i=this._options.items[e-this.getHeaderRowCount()],n=i&&i.groupIndex;return i&&i.rowType==="totalFooter"?0:f(n)?n:this._options.groupColumns.length}getCellType(e,i){var n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),i<n.length){var o=this._options.items.length&&this._options.items[e],r=n[i];return o&&o.rowType==="data"&&isFinite(o.values[this._correctCellIndex(i)])&&!f(r.customizeText)?f(r.lookup)?r.lookup.dataType:r.dataType:"string"}}ready(){this._initOptions();var e=this._options;return A(e.items).done(i=>{e.items=i}).fail(()=>{e.items=[]})}_convertFromGridGroupSummaryItems(e){if(f(e)&&e.length>0)return e.map(i=>({value:i.value,name:i.name}))}getCellData(e,i,n){var o,r,a={cellSourceData:{},value:o},s=this.getColumns(),l=this._correctCellIndex(i);if(e<this.getHeaderRowCount()){var d=this.getColumns(!0)[e];r=d[i],a.cellSourceData.rowType="header",a.cellSourceData.column=r&&r.gridColumn,a.value=r&&r.caption}else{e-=this.getHeaderRowCount();var u=this._options.items.length&&this._options.items[e];if(u){var c=u.values;switch(a.cellSourceData.rowType=u.rowType,a.cellSourceData.column=s[i]&&s[i].gridColumn,u.rowType){case"groupFooter":case"totalFooter":l<c.length&&(o=c[l],f(o)?(a.cellSourceData.value=o.value,a.cellSourceData.totalSummaryItemName=o.name,a.value=P.getSummaryText(o,this._options.summaryTexts)):a.cellSourceData.value=void 0);break;case"group":if(a.cellSourceData.groupIndex=u.groupIndex,i<1)a.cellSourceData.column=this._options.groupColumns[u.groupIndex],a.cellSourceData.value=u.key[u.groupIndex],a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(u.summaryCells[0]),a.value=this._getGroupValue(u);else{var p=u.values[l];if(Array.isArray(p)){a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(p),o="";for(var g=0;g<p.length;g++)o+=(g>0?n?`
`:` 
 `:"")+P.getSummaryText(p[g],this._options.summaryTexts);a.value=o}else a.cellSourceData.value=void 0}break;default:if(r=s[i],r){var m=c[l],y=P.getDisplayValue(r,m,u.data,u.rowType);!isFinite(y)||f(r.customizeText)?n&&f(r.customizeText)&&r.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?a.value=y:a.value=P.formatValue(y,r):a.value=y,a.cellSourceData.value=m}a.cellSourceData.data=u.data}}}return a}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(e,i){var{items:n}=this._options,o=n[e],r=this._correctCellIndex(i),a=o.summaryCells&&o.summaryCells[r]&&o.summaryCells[r].length>0&&o.summaryCells[r][0].alignByColumn;return o&&o.rowType==="groupFooter"||o.rowType==="totalFooter"||a}getCellMerging(e,i){var{columns:n}=this._options,o=n[e]&&n[e][i];return o?{colspan:(o.exportColspan||1)-1,rowspan:(o.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}},$R=class extends P.ViewController{init(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(e,i){e.width=i}_getColumns(e){var i=[],n,o,r=this._columnsController,a=r.getRowCount();for(n=0;n<=a;n++){var s=[];o=r.getVisibleColumns(n,!0);var l=void 0;if(n===a)if(this._updateLockCount)l=e;else{var d=this._getColumnWidths(this._headersView,this._rowsView);if(d&&d.length){l={};for(var u=0;u<o.length;u++)l[o[u].index]=d[u]}}for(var c=0;c<o.length;c++){var p=v({},o[c],{dataType:o[c].dataType==="datetime"?"date":o[c].dataType,gridColumn:o[c]});if(this._needColumnExporting(p)){var g=this._calculateExportColspan(p);f(g)&&(p.exportColspan=g),l&&this._updateColumnWidth(p,l[p.index]),s.push(p)}}i.push(s)}return o=i[a],i=OY(i.slice(0,-1),this._getEmptyCell()),i.push(o),i}_calculateExportColspan(e){if(e.isBand){var i=this._columnsController.getChildrenByBandColumn(e.index,!0);if(f(i))return i.reduce((n,o)=>this._needColumnExporting(o)?n+(this._calculateExportColspan(o)||1):n,0)}}_needColumnExporting(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)}_getFooterSummaryItems(e,i){var n=[],o=1,r=0;do{for(var a=[],s=0;s<e.length;s++){var l=e[s],d=l.length;o<d&&(o=d),a.push(l[r])}n.push({values:a,rowType:i?"totalFooter":"groupFooter"})}while(r++<o-1);return n}_hasSummaryGroupFooters(){var e=this.option("summary.groupItems");if(f(e)){for(var i=0;i<e.length;i++)if(e[i].showInGroupFooter)return!0}return!1}_getItemsWithSummaryGroupFooters(e){for(var i=[],n=[],o=[],r=0;r<e.length;r++){var a=e[r];a.rowType==="groupFooter"?(o=this._getFooterSummaryItems(a.summaryCells),i=i.concat(n,o),n=[]):n.push(a)}return i.length?i:n}_updateGroupValuesWithSummaryByColumn(e){for(var i=[],n=0;n<e.length;n++){var o=e[n],{summaryCells:r}=o;if(o.rowType==="group"&&r&&r.length>1){for(var a=o.values.length,s=1;s<r.length;s++)for(var l=0;l<r[s].length;l++){var d=r[s][l];d&&d.alignByColumn&&(Array.isArray(i[s-a])||(i[s-a]=[]),i[s-a].push(d))}i.length>0&&(o.values.push(...i),i=[])}}}_processUnExportedItems(e){for(var i=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getGroupColumns(),o,r,a=0;a<e.length;a++){var s=e[a],l=!1;o=[],r=[];for(var d=0;d<i.length;d++){var u=i[d];if(l||(l=["detailExpand","buttons"].includes(u.type)),this._needColumnExporting(u)&&(s.values&&(s.rowType==="group"&&!o.length?o.push(s.key[s.groupIndex]):o.push(s.values[d])),s.summaryCells))if(s.rowType==="group"&&!r.length){var c=d-n.length+s.groupIndex;r.push(s.summaryCells[l?c:c+1])}else r.push(s.summaryCells[d])}o.length&&(s.values=o),r.length&&(s.summaryCells=r)}}_getAllItems(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,o=new S,r=this._dataController.footerItems(),a=r.length&&r[0],s=n.option("summary.totalItems"),l;return A(e).done(d=>{this._dataController.loadAll(d,i).done((u,c)=>{n._updateGroupValuesWithSummaryByColumn(u),n._hasSummaryGroupFooters()&&(u=n._getItemsWithSummaryGroupFooters(u)),l=a&&a.summaryCells,f(c)&&s&&(l=n._getSummaryCells(s,c));var p=a&&n._getFooterSummaryItems(l,!0);p&&(u=u.concat(p)),n._processUnExportedItems(u),o.resolve(u)}).fail(o.reject)}).fail(o.reject),o}_getSummaryCells(e,i){return this._dataController._calculateSummaryCells(e,i,this._columnsController.getVisibleColumns(null,!0),(n,o)=>this._dataController._isDataColumn(o)?o.index:-1)}_getSelectedItems(){return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(this._selectionController.loadSelectedItemsWithFilter(),!0):this._getAllItems(this._selectionController.getSelectedRowsData())}_getColumnWidths(e,i){return e&&e.isVisible()?e.getColumnWidths():i.getColumnWidths()}throwWarningIfNoOnExportingEvent(){var e,i,n=(i=(e=this.component).hasActionSubscription)===null||i===void 0?void 0:i.call(e,"onExporting");this.option("export.enabled")&&!n&&X.log("W1024")}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(e){var i=this._getColumnWidths(this._headersView,this._rowsView),n;if(i&&i.length){n={};for(var o=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),r=0;r<o.length;r++)n[o[r].index]=i[r]}return new jR(this,n,e)}exportTo(e,i){this._selectionOnly=e;var n=this.getAction("onExporting"),o={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:i,fileName:"DataGrid",cancel:!1};T(n)&&n(o)}publicMethods(){return["getDataProvider"]}selectionOnly(e){if(f(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}optionChanged(e){super.optionChanged(e),e.name==="export"&&this.throwWarningIfNoOnExportingEvent()}needLoadItemsOnExportingSelectedItems(){var e;return(e=this.option("loadItemsOnExportingSelectedItems"))!==null&&e!==void 0?e:this._dataController._dataSource.remoteOperations().filtering}},p1e=t=>class extends t{callbackNames(){var e=super.callbackNames();return f(e)?e.push("editingButtonsUpdated"):["editingButtonsUpdated"]}_updateEditButtons(){super._updateEditButtons(),this.editingButtonsUpdated.fire()}},g1e=t=>class extends t{_getToolbarItems(){var e=super._getToolbarItems(),i=this._getExportToolbarButton();return i&&(e.push(i),this._correctItemsPosition(e)),e}_getExportToolbarButton(){var e=this._getExportToolbarItems();if(e.length===0)return null;var i=this._needDisableExportButton(),n={name:d1e,location:"after",locateInMenu:"auto",sortIndex:30,options:{items:e},disabled:i};if(e.length===1){var o=E(E({},e[0]),{hint:e[0].text,elementAttr:{class:IY}});n.widget="dxButton",n.showText="inMenu",n.options=o}else{var r={icon:FY,displayExpr:"text",items:e,hint:this.option("export.texts.exportTo"),elementAttr:{class:IY},dropDownOptions:{width:"auto",_wrapperClassExternal:l1e}};n.options=r,n.widget="dxDropDownButton",n.menuItemTemplate=(a,s,l)=>{this._createComponent(h(l),Yr,{items:e})}}return n}_getExportToolbarItems(){var e,i=this.option("export"),n=this.option("export.texts"),o=(e=this.option("export.formats"))!==null&&e!==void 0?e:[];if(!i.enabled)return[];var r=[];return o.forEach(a=>{var s=a.toUpperCase(),l=FY,d=c1e;a==="xlsx"&&(s="Excel",l=u1e),a==="pdf"&&(l=h1e),r.push({text:Ri(n.exportAll,s),icon:l,onClick:()=>{this._exportController.exportTo(!1,a)}}),i.allowExportSelectedData&&r.push({text:Ri(n.exportSelectedRows,s),icon:d,onClick:()=>{this._exportController.exportTo(!0,a)}})}),r}_correctItemsPosition(e){e.sort((i,n)=>i.sortIndex-n.sortIndex)}_isExportButtonVisible(){return this.option("export.enabled")}optionChanged(e){super.optionChanged(e),e.name==="export"&&(e.handled=!0,this._invalidate())}_needDisableExportButton(){var e=!this._columnsController.hasVisibleDataColumns(),i=this._editingController.hasChanges();return e||i}_columnOptionChanged(e){super._columnOptionChanged(e);var i=P.checkChanges(e.optionNames,["groupIndex","visible","all"]);if(i){var n=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",n)}}init(){super.init(),this._exportController=this.getController("export"),this._editingController.editingButtonsUpdated.add(()=>{var e=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",e)})}isVisible(){return super.isVisible()||this._isExportButtonVisible()}};P.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:w.format("dxDataGrid-exportTo"),exportAll:w.format("dxDataGrid-exportAll"),exportSelectedRows:w.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:$R},extenders:{controllers:{editing:p1e},views:{headerPanel:g1e}}});var f1e=(t,e,i)=>{var{isRemoteFiltering:n,dateSerializationFormat:o,getSelector:r}=i,{selector:a}=t,s=T(a)?a:r(a),l=s?s(e):e[a],d=n&&$t(l)?Ct.serializeDate(l,o):l;return{getter:s,rawValue:l,safeValue:d}},TY={getSortFilterValue:f1e};var tm="dx-row-focused",m1e=".dx-row.".concat(tm),v1e="table",MY="dx-cell-focus-disabled",KR=class extends ye.ViewController{getKeyboardController(){return this.getController("keyboardNavigation")}getDataController(){return this.getController("data")}init(){this.component._optionsByReference.focusedRowKey=!0}optionChanged(e){var{name:i,value:n,previousValue:o}=e;switch(i){case"focusedRowIndex":this._focusRowByIndex(n),this.getKeyboardController()._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(o))return;this._focusRowByKey(n),this.getKeyboardController()._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:super.optionChanged(e)}}publicMethods(){return["navigateToRow","isRowFocused"]}isAutoNavigateToFocusedRow(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")}_focusRowByIndex(e,i){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,i))}_focusRowByIndexCore(e,i){var n=this.getDataController().pageSize(),o=()=>{if(this._isValidFocusedRowIndex(e)){var a=e-this.getDataController().getRowIndexOffset(!0);if(!i||i.paging&&!i.filtering){var s=this.getDataController()._getLastItemIndex();a=Math.min(a,s)}var l=this.getDataController().getKeyByRowIndex(a,!0);f(l)&&!this.isRowFocused(l)&&this.option("focusedRowKey",l)}};if(n>=0)if(this._isLocalRowIndex(e))o();else{var r=Math.floor(e/this.getDataController().pageSize());A(this.getDataController().pageIndex(r),this.getDataController().waitReady()).done(()=>{o()})}}_isLocalRowIndex(e){var i=this.getKeyboardController()._isVirtualScrolling();if(i){var n=Math.floor(e/this.getDataController().pageSize()),o=this.getDataController().virtualItemsCount(),r=o?o.begin:-1,a=this.getDataController().getVisibleRows().length+this.getDataController().getRowIndexOffset(),s=Math.ceil(a/this.getDataController().pageSize());return r<=e&&s>n}return!0}_setFocusedRowKeyByIndex(e){if(this._isValidFocusedRowIndex(e)){var i=Math.min(e-this.getDataController().getRowIndexOffset(),this.getDataController().items().length-1),n=this.getDataController().getKeyByRowIndex(i);f(n)&&!this.isRowFocused(n)&&this.option("focusedRowKey",n)}}_focusRowByKey(e){f(e)?this._navigateToRow(e,!0):this._resetFocusedRow()}_resetFocusedRow(){var e=this.option("focusedRowKey"),i=f(e);!i&&this.option("focusedRowIndex")<0||(i&&this.option("focusedRowKey",null),this.getKeyboardController().setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getDataController().updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),this.getKeyboardController()._fireFocusedRowChanged())}_isValidFocusedRowIndex(e){var i=this.getDataController().getVisibleRows()[e];return!i||i.rowType==="data"||i.rowType==="group"}navigateToRow(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)}_navigateToRow(e,i){var n=this,o=n.isAutoNavigateToFocusedRow(),r=new S;if(e===void 0||!this.getDataController().dataSource())return r.reject().promise();var a=n.getFocusedRowIndexByKey(e);return!o&&i||a>=0?n._navigateTo(e,r,i):this.getDataController().getPageIndexByKey(e).done(s=>{if(s<0){r.resolve(-1);return}s===this.getDataController().pageIndex()?this.getDataController().reload().done(()=>{n.isRowFocused(e)&&this.getDataController().getRowIndexByKey(e)>=0?r.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,r,i)}).fail(r.reject):this.getDataController().pageIndex(s).done(()=>{n._navigateTo(e,r,i)}).fail(r.reject)}).fail(r.reject),r.promise()}_navigateTo(e,i,n){var o=this.getDataController().getRowIndexByKey(e),r=M.isVirtualRowRendering(this),a=this.isAutoNavigateToFocusedRow();a&&r&&o<0?this._navigateToVirtualRow(e,i,n):this._navigateToVisibleRow(e,i,n)}_navigateToVisibleRow(e,i,n){if(n)this._triggerUpdateFocusedRow(e,i);else{var o=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,i).done(()=>{i.resolve(o)})}}_navigateToVirtualRow(e,i,n){var o=this.getDataController()._rowsScrollController,r=M.getIndexByKey(e,this.getDataController().items(!0)),a=this.getView("rowsView").getScrollable();if(o&&a&&r>=0){var s=r+this.getDataController().getRowIndexOffset(!0),l=o.getItemOffset(s),d=()=>{this.getDataController().totalCount()&&!this.getDataController().items().length||(this.component.off("contentReady",d),n?this._triggerUpdateFocusedRow(e,i):i.resolve(s))};this.component.on("contentReady",d),this.getView("rowsView").scrollTopPosition(l)}else i.resolve(-1)}_triggerUpdateFocusedRow(e,i){var n=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(n)){var o;this.option("focusedRowEnabled")?this.getDataController().updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):o=this.getView("rowsView").scrollToRowElement(e),A(o).done(()=>{this.getKeyboardController().setFocusedRowIndex(n),i&&i.resolve(n)})}else i&&i.resolve(-1)}getFocusedRowIndexByKey(e){var i=this.getDataController().getRowIndexByKey(e,!0);return i>=0?i+this.getDataController().getRowIndexOffset(!0):-1}_focusRowByKeyOrIndex(){var e=this.option("focusedRowKey"),i=this.option("focusedRowIndex");if(f(e)){var n=this.getDataController().getRowIndexByKey(e);n>=0?(this.getKeyboardController()._isVirtualScrolling()&&(i=n+this.getDataController().getRowIndexOffset()),this.getKeyboardController().setFocusedRowIndex(i),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(o=>{i>=0&&o<0?this._focusRowByIndex():i<0&&o>=0&&this.getKeyboardController().setFocusedRowIndex(o)})}else i>=0&&this._focusRowByIndex(i)}isRowFocused(e){var i=this.option("focusedRowKey");if(f(i))return _e(e,this.option("focusedRowKey"))}updateFocusedRow(e){var i,n=this,o=(i=e.focusedRowIndex)!==null&&i!==void 0?i:n.getDataController().getRowIndexByKey(e.focusedRowKey),r=n.getView("rowsView"),a,s;x(r.getTableElements(),(l,d)=>{var u=l===0;a=h(d),n._clearPreviousFocusedRow(a,o);var c=n._prepareFocusedRow({changedItem:n.getDataController().getVisibleRows()[o],$tableElement:a,focusedRowIndex:o});u&&(s=c)}),!e.preventScroll&&s&&r.scrollToElementVertically(s)}_clearPreviousFocusedRow(e,i){var n=e.find(m1e).filter((r,a)=>{var s=h(a).closest(".".concat(this.addWidgetPrefix(v1e)));return e.is(s)});if(n.removeClass(tm).removeClass(MY).removeAttr("tabindex"),n.children("td").removeAttr("tabindex"),i!==0){var o=h(this.getView("rowsView").getRowElement(0));o.removeClass(MY).removeAttr("tabIndex")}}_prepareFocusedRow(e){var i,{changedItem:n}=e;if(n&&(n.rowType==="data"||n.rowType==="group")){var{focusedRowIndex:o}=e,{$tableElement:r}=e,a=this.option("tabindex")||0,s=this.getView("rowsView");i=h(s._getRowElements(r).eq(o)),i.addClass(tm).attr("tabindex",a)}return i}},_1e=t=>class extends t{init(){var e=this.option("focusedRowIndex"),i=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),super.init(),this.setRowFocusType(),this._focusedCellPosition={},f(e)&&e>=0&&(this._focusedCellPosition.rowIndex=e),f(i)&&i>=0&&(this._focusedCellPosition.columnIndex=i)}setFocusedRowIndex(e){super.setFocusedRowIndex(e),this.option("focusedRowIndex",e)}setFocusedColumnIndex(e){super.setFocusedColumnIndex(e),this.option("focusedColumnIndex",e)}_escapeKeyHandler(e,i){return i||!this.option("focusedRowEnabled")?super._escapeKeyHandler(e,i):this.isCellFocusType()?(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0),!0):!1}_updateFocusedCellPosition(e,i){var n=super._updateFocusedCellPosition(e,i);return n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e),n}},y1e=t=>class extends t{renderFocusOverlay(e,i){var n,o=this.option("focusedRowEnabled"),r;if(!o||!(!((n=this._keyboardNavigationController)===null||n===void 0)&&n.isRowFocusType())||this._editingController.isEditing())super.renderFocusOverlay(e,i);else if(o){var a=this._keyboardNavigationController._getElementType(e)==="row";a&&!e.hasClass(tm)&&(r=this._keyboardNavigationController.getFirstValidCellInRow(e),this._keyboardNavigationController.focus(r))}}},x1e=t=>class extends t{getSortDataSourceParameters(e,i){var n=super.getSortDataSourceParameters.apply(this,arguments),o=this._dataController._dataSource,r=this._dataController.store(),a=r&&r.key(),s=o&&o.remoteOperations()||{},l=Object.keys(s).every(u=>!s[u]);if(a&&(this.option("focusedRowEnabled")&&this._focusController.isAutoNavigateToFocusedRow()!==!1||i)){a=Array.isArray(a)?a:[a];var d=a.filter(u=>!this.columnOption(u,"sortOrder"));d.length&&(n=n||[],l?n.push({selector:o.getDataIndexGetter(),desc:!1}):d.forEach(u=>n.push({selector:u,desc:!1})))}return n}},C1e=t=>class extends t{_applyChange(e){if(!(e&&e.changeType==="updateFocusedRow"))return super._applyChange.apply(this,arguments)}_fireChanged(e){if(super._fireChanged(e),this.option("focusedRowEnabled")&&this._dataSource){var i=e.changeType==="update"&&e.repaintChangesOnly,n=i&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;e.changeType==="refresh"&&e.items.length||n?(this._updatePageIndexes(),this._updateFocusedRow(e)):e.changeType==="append"||e.changeType==="prepend"?this._updatePageIndexes():e.changeType==="update"&&e.repaintChangesOnly&&this._updateFocusedRow(e)}}_updatePageIndexes(){var e=this._lastRenderingPageIndex||0,i=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=i,this._isPagingByRendering=i!==e}isPagingByRendering(){return this._isPagingByRendering}_updateFocusedRow(e){var i=e.operationTypes||{},{reload:n,fullReload:o,pageIndex:r,paging:a}=i,s=this._keyboardNavigationController._isVirtualScrolling(),l=a&&!s,d=this.option("focusedRowKey"),u=this._focusController.isAutoNavigateToFocusedRow(),c=n&&r===!1;if(c&&!o&&f(d))this._focusController._navigateToRow(d,!0).done(b=>{b<0&&this._focusController._focusRowByIndex(void 0,i)});else if(l&&u){var p=this.getRowIndexByKey(d),g=this.option("focusedRowIndex"),m=p>=0,y=g>=0,C=g===p;y&&(C||!m)&&this._focusController._focusRowByIndex(g,i)}else l&&!u&&this.getRowIndexByKey(d)<0?this.option("focusedRowIndex",-1):i.fullReload&&this._focusController._focusRowByKeyOrIndex()}getPageIndexByKey(e){var i=this,n=new S;return i.getGlobalRowIndexByKey(e).done(o=>{n.resolve(o>=0?Math.floor(o/i.pageSize()):-1)}).fail(n.reject),n.promise()}getGlobalRowIndexByKey(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)}_calculateGlobalRowIndexByFlatData(e,i,n){var o=this,r=new S,a=o._dataSource;if(Array.isArray(e)||l6(e))return r.resolve(-1).promise();var s=o._generateFilterByKey(e);return a.load({filter:o._concatWithCombinedFilter(s),skip:0,take:1}).done(l=>{l.length>0?(s=o._generateOperationFilterByKey(e,l[0],n),a.load({filter:o._concatWithCombinedFilter(s,i),skip:0,take:1,requireTotalCount:!0}).done((d,u)=>{r.resolve(u.totalCount)})):r.resolve(-1)}),r.promise()}_concatWithCombinedFilter(e,i){var n=this.getCombinedFilter();return M.combineFilters([e,n,i])}_generateBooleanFilter(e,i,n){var{desc:o}=n;switch(!0){case(i===!1&&o):return[e,"=",!0];case(i===!1&&!o):return[e,"=",null];case(i===!0&&!o):case(!As(i)&&o):return[e,"<>",i];default:return}}_generateOperationFilterByKey(e,i,n){var o=this,r=o.option("dateSerializationFormat"),a=o._dataSource.remoteOperations().filtering,s=o._dataSource.remoteOperations().sorting,l=o._generateFilterByKey(e,"<"),d=o._columnsController.getSortDataSourceParameters(!a,!0);if(n){var u=o._columnsController.getGroupDataSourceParameters(!a);u&&(d=d?u.concat(d):u)}return d&&d.slice().reverse().forEach(c=>{var{selector:p,desc:g,compare:m}=c,{getter:y,rawValue:C,safeValue:b}=TY.getSortFilterValue(c,i,{isRemoteFiltering:a,dateSerializationFormat:r,getSelector:U=>o._columnsController.columnOption(U,"selector")});if(l=[[p,"=",b],"and",l],C===null||As(C)){var O=o._generateBooleanFilter(p,b,g);O&&(l=[O,"or",l])}else{var k=g?">":"<",J;m&&!s?J=U=>k==="<"?m(C,y(U))>=1:m(C,y(U))<=-1:(J=[p,k,b],g||(J=[J,"or",[p,"=",null]])),l=[J,"or",l]}}),l}_generateFilterByKey(e,i){var n=this._dataSource.key(),o=[];if(i||(i="="),Array.isArray(n))for(var r=0;r<n.length;++r){var a=e[n[r]];a&&(o.length>0&&o.push("and"),o.push([n[r],i,a]))}else o=[n,i,e];return o}_getLastItemIndex(){return this.items(!0).length-1}},S1e=t=>class extends t{_deleteRowCore(e){var i=super._deleteRowCore.apply(this,arguments),n=this._dataController.getKeyByRowIndex(e);i.done(()=>{var o=this._dataController.getRowIndexByKey(n),r=this._dataController.getVisibleRows();o===-1&&!r.length&&this._focusController._resetFocusedRow()})}},b1e=t=>class extends t{_createRow(e){var i=super._createRow.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this._focusController.isRowFocused(e.key)&&i.addClass(tm),i}_checkRowKeys(e){if(super._checkRowKeys.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var i=this._dataController.store();i&&!i.key()&&this._dataController.fireError("E1042","Row focusing")}}_update(e){e.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this._focusController.updateFocusedRow(e):super._update(e)}updateFocusElementTabIndex(e,i){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(i):super.updateFocusElementTabIndex(e)}_setFocusedRowElementTabIndex(e){var i,n=this.option("focusedRowKey"),o=(i=this.option("tabIndex"))!==null&&i!==void 0?i:0,r=this._columnsController,a=this._dataController.getRowIndexByKey(n),s=this.option("focusedColumnIndex"),l=this._findRowElementForTabIndex(),d=this._dataController.dataSource(),u=d?.operationTypes(),c=!u||u.paging;f(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),l.attr("tabIndex",o);var p=this.option("focusedRowIndex")-this._dataController.getRowIndexOffset(!0);!c&&a<0&&p>=0&&this._focusController.updateFocusedRow({focusedRowIndex:p,preventScroll:e}),a>=0&&!e&&(s<0&&(s=0),a+=this._dataController.getRowIndexOffset(),s+=r.getColumnIndexOffset(),this._keyboardNavigationController.setFocusedCellPosition(a,s),this._focusController.isAutoNavigateToFocusedRow()&&!c&&!this._dataController.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize)))}_findRowElementForTabIndex(){var e=this.option("focusedRowKey"),i=this._dataController.getRowIndexByKey(e);return h(this.getRowElement(i>=0?i:0))}scrollToRowElement(e){var i=this._dataController.getRowIndexByKey(e),n=h(this.getRow(i));return this.scrollToElementVertically(n)}scrollToElementVertically(e){var i=this.getScrollable();if(i&&e.length){var n=i.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(n)}return new S().resolve()}scrollTopPosition(e){var i=new S,n=this.getScrollable();if(n){var o=n.scrollTop(),r=()=>{n.off("scroll",r),i.resolve()};if(e!==o)return n.on("scroll",r),this._dataController.resetFilterApplying(),n.scrollTo({top:e}),i.promise()}return i.resolve()}},im={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:KR},extenders:{controllers:{keyboardNavigation:_1e,editorFactory:y1e,columns:x1e,data:C1e,editing:S1e},views:{rowsView:b1e}}};var D1e=Number.MAX_SAFE_INTEGER||9007199254740991,w1e=t=>class extends im.extenders.controllers.data(t){changeRowExpand(e,i){return this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)&&(!i||!this._keyboardNavigationController.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e),super.changeRowExpand(e,i)}_isFocusedRowInsideGroup(e){var i=this.option("focusedRowKey"),n=this.getRowIndexByKey(i),o=n>=0&&this.getVisibleRows()[n],r=this._columnsController.getGroupDataSourceParameters(!0);if(o)for(var a=0;a<e.length;++a){var s=pe(r[a]&&r[a].selector);if(s(o.data)!==e[a])return!1}return!0}_getGroupPath(e,i){for(var n=[],o=[e];o&&o[0]&&i;){var r=o[0];r.key!==void 0&&n.push(r.key),o=r.items,i--}return n}_expandGroupByPath(e,i,n){var o=new S;return n++,e.expandRow(i.slice(0,n)).done(()=>{n===i.length?o.resolve():e._expandGroupByPath(e,i,n).done(o.resolve).fail(o.reject)}).fail(o.reject),o.promise()}_calculateGlobalRowIndexByGroupedData(e){var i=this,n=i._dataSource,o=i._generateFilterByKey(e),r=new S,a=Array.isArray(e),s=n.group();return a?r.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:i._concatWithCombinedFilter(o),group:s}).done(l=>{if(!l||l.length===0||!f(l[0].key)||l[0].key===-1)return r.resolve(-1).promise();var d=i._getGroupPath(l[0],s.length);i._expandGroupByPath(i,d,0).done(()=>{i._calculateExpandedRowGlobalIndex(r,e,d,s)}).fail(r.reject)}).fail(r.reject),r.promise()):(i._calculateGlobalRowIndexByFlatData(e,null,!0).done(r.resolve).fail(r.reject),r)}_calculateExpandedRowGlobalIndex(e,i,n,o){var r=ta(n,{group:o}),a=this._dataSource,s=this.option("scrolling.mode"),l=s==="virtual"||s==="infinite",d=a.pageSize(),u;a._grouping._updatePagingOptions({skip:0,take:D1e},(c,p)=>{_e(c.path,n)&&(u=p)}),this._calculateGlobalRowIndexByFlatData(i,r).done(c=>{var p,g;if(c<0){e.resolve(-1);return}var m=u%d||d;p=m+c-n.length,l?g=0:g=Math.floor(p/(d-n.length))*n.length,p=u+c+g,e.resolve(p)}).fail(e.reject)}};P.registerModule("focus",E(E({},im),{extenders:E(E({},im.extenders),{controllers:E(E({},im.extenders.controllers),{data:w1e})})}));var AY=G(),E1e="dxSortable",RY="placeholder",O1e="clone",BY=t=>h(t).is(":visible"),I1e=(t,e)=>{var i,n;if(t){var o=((i=e.to)===null||i===void 0?void 0:i.left)||0,r=((n=e.to)===null||n===void 0?void 0:n.top)||0;t.style.transform="translate(".concat(o,"px,").concat(r,"px)"),t.style.transition=et.off?"":"transform ".concat(e.duration,"ms ").concat(e.easing)}},F1e=t=>{t&&(t.style.transform="",t.style.transition="")};function T1e(t){var e=t.offset(),{style:i}=t[0],n=parseFloat(i.paddingLeft)||0,o=parseFloat(i.paddingRight)||0,r=parseFloat(i.paddingTop)||0,a=t[0].clientWidth-(n+o),s=Y(t),l=e.left+n,d=e.top+r;return{left:l,right:l+a,top:d,bottom:d+s}}var kY=n$.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return v(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(t,e)=>t.slice(0,e).reverse().filter(BY)[0],_dragStartHandler(t){if(this.callBase.apply(this,arguments),t.cancel!==!0){var e=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(t),this.option("fromIndex",this._getElementIndex(e)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll(t){var e=this._getScrollable(h(t.target));e&&(this._sourceScrollableInfo={element:e,scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop()},_.off(e,"scroll",this._sourceScrollHandler),_.on(e,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(_.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(t){var e=this._sourceScrollableInfo;e&&["scrollLeft","scrollTop"].forEach(i=>{if(t.target[i]!==e[i]){var n=t.target[i]-e[i];this._correctItemPoints(n),this._movePlaceholder(),e[i]=t.target[i]}})},_dragEnterHandler(t){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(t),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var e=this.option("itemPoints"),i=e[e.length-1];if(i){var n=this.$element(),o=this._getSourceElement(),r=this._isVerticalOrientation(),a=r?oe(o,!0):ee(o,!0),s=n.get(0)[r?"scrollHeight":"scrollWidth"],l=n.get(0)[r?"scrollTop":"scrollLeft"],d=r?"top":"left",u=i[d],c=n.offset()[d],p=c+s-l-u;if(p<a&&r){var g=this._getItems(),m=h(this._getPrevVisibleItem(g));this._$modifiedItem=m,this._modifiedItemMargin=m.get(0).style.marginBottom,m.css("marginBottom",a-p);var y=m.closest(".dx-sortable"),C=y.data("dxScrollable")||y.data("dxScrollView");C&&C.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(t){var e=this._getTargetDraggable(),i=e.$element(),n=this._getScrollable(i);if(n){var{left:o,right:r,top:a,bottom:s}=T1e(n),l=this.option("toIndex"),d=this.option("itemPoints"),u=d?.filter(p=>p.index===l)[0];if(u&&u.top!==void 0){var c=this._isVerticalOrientation();return c?a<=Math.ceil(u.top)&&Math.floor(u.top)<=s:o<=Math.ceil(u.left)&&Math.floor(u.left)<=r}}return!0},dragEnd(t){this._unsubscribeFromSourceScroll();var e=this._getSourceElement(),i=this._getSourceDraggable(),n=i.NAME!==this.NAME,o=this.option("toIndex"),{event:r}=t,a=this._allowDrop(r);if(o!==null&&o>=0&&a){var s,l;if(i!==this&&(s=this._fireAddEvent(r),s||(l=this._fireRemoveEvent(r))),n&&Vr(e),this.option("moveItemOnDrop")&&!s&&this._moveItem(e,o,l),i===this)return this._fireReorderEvent(r)}return S().resolve()},dragMove(t){var e=this.option("itemPoints");if(e){for(var i=this._isVerticalOrientation(),n=i?"top":"left",o=i?t.pageY:t.pageX,r=this.option("rtlEnabled"),a,s=e.length-1;s>=0;s--){var l=e[s+1]&&(e[s][n]+e[s+1][n])/2;if((!i&&r?o>l:l>o)||l===void 0)a=e[s];else break}a&&(this._updatePlaceholderPosition(t,a),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder(){var t;return this._isIndicateMode()&&(t=h("<div>").addClass(this._addWidgetPrefix(RY)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=t,t},_getItems(){var t=this._getItemsSelector();return this._$content().find(t).not(".".concat(this._addWidgetPrefix(RY))).not(".".concat(this._addWidgetPrefix(O1e))).toArray()},_allowReordering(){var t=this._getSourceDraggable(),e=this._getTargetDraggable();return t!==e||this.option("allowReordering")},_isValidPoint(t,e,i){var n=this.option("allowDropInsideItem"),o=i||this._allowReordering();return!o&&(t!==0||!n)?!1:this._isIndicateMode()?e===-1||t!==e&&(i||t!==e+1):!0},_getItemPoints(){var t=[],e,i,n,o=this.option("rtlEnabled"),r=this._isVerticalOrientation(),a=this._getItems(),s=a.filter(BY),l=s.length,d=this._getDraggableElement(),u=s.indexOf(d.get(0));if(l){for(var c=0;c<=l;c++){var p=!r&&o^c===l,g=r&&c===l;c<l&&(e=h(s[c]),i=e.offset(),n=ee(e)),t.push({dropInsideItem:!1,left:i.left+(p?n:0),top:i.top+(g?t[c-1].height:0),index:c===l?a.length:a.indexOf(e.get(0)),$item:e,width:ee(e),height:oe(e),isValid:this._isValidPoint(c,u)})}if(this.option("allowDropInsideItem")){var m=t;t=[];for(var y=0;y<m.length;y++)t.push(m[y]),m[y+1]&&t.push(v({},m[y],{dropInsideItem:!0,top:Math.floor((m[y].top+m[y+1].top)/2),left:Math.floor((m[y].left+m[y+1].left)/2),isValid:this._isValidPoint(y,u,!0)}))}}else t.push({dropInsideItem:!1,index:0,isValid:!0});return t},_updateItemPoints(t){(t||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(t){var e=this.option("itemPoints");if(t&&e&&!this.option("autoUpdate")){var i=this._isVerticalOrientation(),n=i?"top":"left";e.forEach(o=>{o[n]-=t})}},_getElementIndex(t){return this._getItems().indexOf(t.get(0))},_getDragTemplateArgs(t){var e=this.callBase.apply(this,arguments);return e.model.fromIndex=this._getElementIndex(t),e},_togglePlaceholder(t){this._$placeholderElement&&this._$placeholderElement.toggle(t)},_isVerticalOrientation(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex(t,e){var i=this._getSourceDraggable()!==this._getTargetDraggable(),n=this._getActualFromIndex();return t===null?n:Math.max(i||n>=t||e?t:t-1,0)},_updatePlaceholderPosition(t,e){var i=this._getSourceDraggable(),n=this._normalizeToIndex(e.index,e.dropInsideItem),o=v(this._getEventArgs(t),{toIndex:n,dropInsideItem:e.dropInsideItem});if(e.isValid&&this._getAction("onDragChange")(o),o.cancel||!e.isValid){e.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:e.dropInsideItem,toIndex:e.index}),this._getAction("onPlaceholderPrepared")(v(this._getEventArgs(t),{placeholderElement:V(this._$placeholderElement),dragElement:V(i._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection(t,e){if(this._$scrollable=this._getScrollable(t),this._$scrollable){var i=H(this._$scrollable),n=this._$scrollable.offset().left-t.offset().left,o=ee(t)-n-i;n>0&&(e-=n),o>0&&(e-=o)}return e},_updatePlaceholderSizes(t,e){var i=this.option("dropInsideItem"),n=h(e),o=this._isVerticalOrientation(),r="",a="";t.toggleClass(this._addWidgetPrefix("placeholder-inside"),i),(o||i)&&(r=ee(n)),(!o||i)&&(a=oe(n)),r=this._makeWidthCorrection(n,r),t.css({width:r,height:a})},_moveItem(t,e,i){var n,o=this._getItems(),r=o[e],a=this._getSourceDraggable();i&&(t=t.clone(),a._toggleDragSourceClass(!1,t)),r||(n=o[e-1]),this._moveItemCore(t,r,n)},_moveItemCore(t,e,i){!e&&!i?t.appendTo(this.$element()):i?t.insertAfter(h(i)):t.insertBefore(h(e))},_getDragStartArgs(t,e){return v(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(e)})},_getEventArgs(t){var e=this._getSourceDraggable(),i=this._getTargetDraggable(),n=i.option("dropInsideItem");return v(this.callBase.apply(this,arguments),{fromIndex:e.option("fromIndex"),toIndex:this._normalizeToIndex(i.option("toIndex"),n),dropInsideItem:n})},_optionChanged(t){var{name:e}=t;switch(e){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(i=>{var n=i?t.value:t.previousValue;if(n!==null){var o=h(this._getItems()[n]);this._toggleDragSourceClass(i,o)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(t);break;case"toIndex":this._optionChangedToIndex(t);break;default:this.callBase(t)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(t){var e=this.$element(),i;if(e.css("overflow")!=="hidden"?i=e.get(0):e.parents().each(function(){if(h(this).css("overflow")!=="visible")return i=this,!1}),i){var n=Ze(i),o=this._isVerticalOrientation(),r=o?"top":"left",a=o?"bottom":"right",s=o?AY.pageYOffset:AY.pageXOffset;if(t[r]<n[r]+s||t[r]>n[a]+s)return!1}return!0},_optionChangedToIndex(t){var e=t.value;if(this._isIndicateMode()){var i=e!==null&&e>=0;this._togglePlaceholder(i),i&&this._movePlaceholder()}else this._moveItems(t.previousValue,t.value,t.fullUpdate)},update(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var t=this.option("toIndex");this._optionChangedToIndex({value:t,fullUpdate:!0})}},_updateDragSourceClass(){var t=this._getActualFromIndex(),e=h(this._getItems()[t]);e.length&&(this._$sourceElement=e,this._toggleDragSourceClass(!0,e))},_makeLeftCorrection(t){var e=this._$scrollable;if(e&&this._isVerticalOrientation()){var i=e.offset().left-t;i>0&&(t+=i)}return t},_movePlaceholder(){var t=this._$placeholderElement||this._createPlaceholder();if(t){var e=this._getItems(),i=this.option("toIndex"),n=this._isVerticalOrientation(),o=this.option("rtlEnabled"),r=this.option("dropInsideItem"),a=null,s=e[i];if(s){var l=h(s);a=l.offset(),!n&&o&&!r&&(a.left+=ee(l,!0))}else{var d=s=this._getPrevVisibleItem(e,i);d&&(a=h(d).offset(),n?a.top+=oe(d,!0):o||(a.left+=ee(d,!0)))}if(this._updatePlaceholderSizes(t,s),a&&!this._isPositionVisible(a)&&(a=null),a){var u=n&&i===e.length,c=oe(t);a.left=this._makeLeftCorrection(a.left),a.top=u&&a.top>=c?a.top-c:a.top,this._move(a,t)}t.toggle(!!a)}},_getPositions(t,e,i,n){for(var o=[],r=0;r<t.length;r++){var a=0;if(n===null||i===null){o.push(a);continue}i===-1?r>=n&&(a=e):n===-1?r>i&&(a=-e):i<n?r>i&&r<n&&(a=-e):i>n&&r>=n&&r<i&&(a=e),o.push(a)}return o},_getDraggableElementSize(t){var e=this._getDraggableElement(),i=this.option("draggableElementSize");return i||(i=t?(oe(e)+oe(e,!0))/2:(ee(e)+ee(e,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",i)),i},_getActualFromIndex(){var{fromIndex:t,fromIndexOffset:e,offset:i}=this.option();return t==null?null:t+e-i},_moveItems(t,e,i){for(var n=this._getActualFromIndex(),o=this._isVerticalOrientation(),r=o?"top":"left",a=this._getDraggableElementSize(o),s=this._getItems(),l=this._getPositions(s,a,n,t),d=this._getPositions(s,a,n,e),u=this.option("animation"),c=this.option("rtlEnabled"),p=0;p<s.length;p++){var g=s[p],m=l[p],y=d[p];e===null||n===null?F1e(g):(m!==y||i&&f(y))&&I1e(g,v({},u,{to:{[r]:!o&&c?-y:y}}))}},_toggleDragSourceClass(t,e){var i=e||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||i&&i.toggleClass(this._addWidgetPrefix("source-hidden"),t)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(t){var e=this._getEventArgs(t);return this._getAction("onAdd")(e),e.cancel},_fireRemoveEvent(t){var e=this._getSourceDraggable(),i=this._getEventArgs(t);return e._getAction("onRemove")(i),i.cancel},_fireReorderEvent(t){var e=this._getEventArgs(t);return this._getAction("onReorder")(e),e.promise||S().resolve()}});K(E1e,kY);var PY=kY;var NY=PY;var LY={dragCell:"dx-drag-cell"},El={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview"};var M1e=t=>(e,i)=>{var n=h(e);if(i.rowType==="data")return n.addClass(El.cellFocusDisabled),h("<span>").addClass(t(El.handleIcon));M.setEmptyText(n)},VY={createHandleTemplateFunc:M1e};var A1e=t=>class extends t{init(){super.init.apply(this,arguments),this._updateHandleColumn()}optionChanged(e){e.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),super.optionChanged.apply(this,arguments)}_allowReordering(){var e=this.option("rowDragging");return!!(e&&(e.allowReordering||e.allowDropInsideItem||e.group))}_updateHandleColumn(){var e=this.option("rowDragging"),i=this._allowReordering(),n=this._columnsController,o=i&&e.showDragIcons;n?.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:LY.dragCell,value:""}],cssClass:El.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:o}),n?.columnOption("type:drag","visible",o)}_renderContent(){var e=this.option("rowDragging"),i=this._allowReordering(),n=super._renderContent.apply(this,arguments),o=this._isFixedTableRendering,r=o?"_sortableFixed":"_sortable",a=o?"_sortable":"_sortableFixed",s=u=>{var c;(c=this._sortableFixed)===null||c===void 0||c.$element().css("pointerEvents",u?"auto":"")},l=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",d=this.option("dataRowTemplate")?"> table > tbody".concat(l):"> table > tbody > ".concat(l);return(i||this[r])&&n.length&&(this[r]=this._createComponent(n,NY,v({component:this.component,contentTemplate:null,filter:d,cursorOffset:u=>{var{event:c}=u,p=h(this.element()).offset();return{x:c.pageX-p.left}},onDraggableElementShown:u=>{if(!e.dragTemplate){var c=h(u.dragElement),p=c.children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(p)}},dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&".".concat(El.commandDrag),dropFeedbackMode:"indicate"},e,{onDragStart:u=>{var c,p;(c=this.getController("keyboardNavigation"))===null||c===void 0||c._resetFocusedCell();var g=u.component.getVisibleRows()[u.fromIndex];u.itemData=g&&g.data;var m=g&&g.rowType==="data";u.cancel=!i||!m,(p=e.onDragStart)===null||p===void 0||p.call(e,u)},onDragEnter:u=>{u.fromComponent!==u.toComponent&&s(!0)},onDragLeave:()=>{s(!1)},onDragEnd:u=>{var c;s(!1),(c=e.onDragEnd)===null||c===void 0||c.call(e,u)},onAdd:u=>{var c;s(!1),(c=e.onAdd)===null||c===void 0||c.call(e,u)},dropFeedbackMode:e.dropFeedbackMode,onOptionChanged:u=>{var c=this._sortableFixed;c&&(u.name==="fromIndex"||u.name==="toIndex")&&this[a].option(u.name,u.value)}})),n.toggleClass("dx-scrollable-container",o),n.toggleClass(El.sortableWithoutHandle,i&&!e.showDragIcons)),n}_renderCore(e){super._renderCore.apply(this,arguments),e&&e.changeType==="update"&&e.repaintChangesOnly&&M.isVirtualRowRendering(this)&&si(()=>{this._updateSortable()})}_updateSortable(){var e=this._dataController.getRowIndexOffset(),i=e-this._previousOffset;[this._sortable,this._sortableFixed].forEach(n=>{var o=n?.option("toIndex");f(o)&&f(this._previousOffset)&&n?.option("toIndex",o-i),n?.option("offset",e),n?.update()}),this._previousOffset=e}_resizeCore(){super._resizeCore.apply(this,arguments),this._updateSortable()}_getDraggableGridOptions(e){var i=this.option(),n=this.getColumns(),o=h(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:i.columnFixing,columnAutoWidth:i.columnAutoWidth,showColumnLines:i.showColumnLines,columns:n.map(r=>({width:r.width||r.visibleWidth,fixed:r.fixed,fixedPosition:r.fixedPosition})),onRowPrepared:r=>{var a=r.component.getView("rowsView");h(r.rowElement).replaceWith(o.eq(a._isFixedTableRendering?1:0).clone())}}}_synchronizeScrollLeftPosition(e){var i=e?.getScrollable();i?.scrollTo({x:this._scrollLeft})}_getDraggableRowTemplate(){return e=>{var i=this.component.$element(),n=h("<div>");$u(n,H(i));var o=this._dataController.items(),r=o&&o[e.fromIndex],a=this._getDraggableGridOptions(r);return this._createComponent(n,this.component.NAME,a),n.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix(El.rowsView),")")).hide(),n}}_getHandleTemplate(){return VY.createHandleTemplateFunc(e=>this.addWidgetPrefix(e))}},HY={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:A1e}}};P.registerModule("rowDragging",HY);var WY=o8;var GY=WY;var nm=(()=>{class t extends Ws{constructor(i,n,o,r,a,s,l,d){super(i,n,o,r,l,d),this._watcherHelper=r,this._idh=a,this._createEventEmitters([{subscribe:"adaptiveDetailRowPreparing",emit:"onAdaptiveDetailRowPreparing"},{subscribe:"cellClick",emit:"onCellClick"},{subscribe:"cellDblClick",emit:"onCellDblClick"},{subscribe:"cellHoverChanged",emit:"onCellHoverChanged"},{subscribe:"cellPrepared",emit:"onCellPrepared"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"contextMenuPreparing",emit:"onContextMenuPreparing"},{subscribe:"dataErrorOccurred",emit:"onDataErrorOccurred"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"editCanceled",emit:"onEditCanceled"},{subscribe:"editCanceling",emit:"onEditCanceling"},{subscribe:"editingStart",emit:"onEditingStart"},{subscribe:"editorPrepared",emit:"onEditorPrepared"},{subscribe:"editorPreparing",emit:"onEditorPreparing"},{subscribe:"exporting",emit:"onExporting"},{subscribe:"focusedCellChanged",emit:"onFocusedCellChanged"},{subscribe:"focusedCellChanging",emit:"onFocusedCellChanging"},{subscribe:"focusedRowChanged",emit:"onFocusedRowChanged"},{subscribe:"focusedRowChanging",emit:"onFocusedRowChanging"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"initNewRow",emit:"onInitNewRow"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"rowClick",emit:"onRowClick"},{subscribe:"rowCollapsed",emit:"onRowCollapsed"},{subscribe:"rowCollapsing",emit:"onRowCollapsing"},{subscribe:"rowDblClick",emit:"onRowDblClick"},{subscribe:"rowExpanded",emit:"onRowExpanded"},{subscribe:"rowExpanding",emit:"onRowExpanding"},{subscribe:"rowInserted",emit:"onRowInserted"},{subscribe:"rowInserting",emit:"onRowInserting"},{subscribe:"rowPrepared",emit:"onRowPrepared"},{subscribe:"rowRemoved",emit:"onRowRemoved"},{subscribe:"rowRemoving",emit:"onRowRemoving"},{subscribe:"rowUpdated",emit:"onRowUpdated"},{subscribe:"rowUpdating",emit:"onRowUpdating"},{subscribe:"rowValidating",emit:"onRowValidating"},{subscribe:"saved",emit:"onSaved"},{subscribe:"saving",emit:"onSaving"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"toolbarPreparing",emit:"onToolbarPreparing"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowColumnReorderingChange"},{emit:"allowColumnResizingChange"},{emit:"autoNavigateToFocusedRowChange"},{emit:"cacheEnabledChange"},{emit:"cellHintEnabledChange"},{emit:"columnAutoWidthChange"},{emit:"columnChooserChange"},{emit:"columnFixingChange"},{emit:"columnHidingEnabledChange"},{emit:"columnMinWidthChange"},{emit:"columnResizingModeChange"},{emit:"columnsChange"},{emit:"columnWidthChange"},{emit:"customizeColumnsChange"},{emit:"dataRowTemplateChange"},{emit:"dataSourceChange"},{emit:"dateSerializationFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"errorRowEnabledChange"},{emit:"exportChange"},{emit:"filterBuilderChange"},{emit:"filterBuilderPopupChange"},{emit:"filterPanelChange"},{emit:"filterRowChange"},{emit:"filterSyncEnabledChange"},{emit:"filterValueChange"},{emit:"focusedColumnIndexChange"},{emit:"focusedRowEnabledChange"},{emit:"focusedRowIndexChange"},{emit:"focusedRowKeyChange"},{emit:"groupingChange"},{emit:"groupPanelChange"},{emit:"headerFilterChange"},{emit:"heightChange"},{emit:"highlightChangesChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"keyboardNavigationChange"},{emit:"keyExprChange"},{emit:"loadPanelChange"},{emit:"masterDetailChange"},{emit:"noDataTextChange"},{emit:"pagerChange"},{emit:"pagingChange"},{emit:"remoteOperationsChange"},{emit:"renderAsyncChange"},{emit:"repaintChangesOnlyChange"},{emit:"rowAlternationEnabledChange"},{emit:"rowDraggingChange"},{emit:"rowTemplateChange"},{emit:"rtlEnabledChange"},{emit:"scrollingChange"},{emit:"searchPanelChange"},{emit:"selectedRowKeysChange"},{emit:"selectionChange"},{emit:"selectionFilterChange"},{emit:"showBordersChange"},{emit:"showColumnHeadersChange"},{emit:"showColumnLinesChange"},{emit:"showRowLinesChange"},{emit:"sortByGroupSummaryInfoChange"},{emit:"sortingChange"},{emit:"stateStoringChange"},{emit:"summaryChange"},{emit:"syncLookupFilterValuesChange"},{emit:"tabIndexChange"},{emit:"toolbarChange"},{emit:"twoWayBindingEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wordWrapEnabledChange"}]),this._idh.setHost(this),s.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get allowColumnReordering(){return this._getOption("allowColumnReordering")}set allowColumnReordering(i){this._setOption("allowColumnReordering",i)}get allowColumnResizing(){return this._getOption("allowColumnResizing")}set allowColumnResizing(i){this._setOption("allowColumnResizing",i)}get autoNavigateToFocusedRow(){return this._getOption("autoNavigateToFocusedRow")}set autoNavigateToFocusedRow(i){this._setOption("autoNavigateToFocusedRow",i)}get cacheEnabled(){return this._getOption("cacheEnabled")}set cacheEnabled(i){this._setOption("cacheEnabled",i)}get cellHintEnabled(){return this._getOption("cellHintEnabled")}set cellHintEnabled(i){this._setOption("cellHintEnabled",i)}get columnAutoWidth(){return this._getOption("columnAutoWidth")}set columnAutoWidth(i){this._setOption("columnAutoWidth",i)}get columnChooser(){return this._getOption("columnChooser")}set columnChooser(i){this._setOption("columnChooser",i)}get columnFixing(){return this._getOption("columnFixing")}set columnFixing(i){this._setOption("columnFixing",i)}get columnHidingEnabled(){return this._getOption("columnHidingEnabled")}set columnHidingEnabled(i){this._setOption("columnHidingEnabled",i)}get columnMinWidth(){return this._getOption("columnMinWidth")}set columnMinWidth(i){this._setOption("columnMinWidth",i)}get columnResizingMode(){return this._getOption("columnResizingMode")}set columnResizingMode(i){this._setOption("columnResizingMode",i)}get columns(){return this._getOption("columns")}set columns(i){this._setOption("columns",i)}get columnWidth(){return this._getOption("columnWidth")}set columnWidth(i){this._setOption("columnWidth",i)}get customizeColumns(){return this._getOption("customizeColumns")}set customizeColumns(i){this._setOption("customizeColumns",i)}get dataRowTemplate(){return this._getOption("dataRowTemplate")}set dataRowTemplate(i){this._setOption("dataRowTemplate",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(i){this._setOption("dateSerializationFormat",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get editing(){return this._getOption("editing")}set editing(i){this._setOption("editing",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get errorRowEnabled(){return this._getOption("errorRowEnabled")}set errorRowEnabled(i){this._setOption("errorRowEnabled",i)}get export(){return this._getOption("export")}set export(i){this._setOption("export",i)}get filterBuilder(){return this._getOption("filterBuilder")}set filterBuilder(i){this._setOption("filterBuilder",i)}get filterBuilderPopup(){return this._getOption("filterBuilderPopup")}set filterBuilderPopup(i){this._setOption("filterBuilderPopup",i)}get filterPanel(){return this._getOption("filterPanel")}set filterPanel(i){this._setOption("filterPanel",i)}get filterRow(){return this._getOption("filterRow")}set filterRow(i){this._setOption("filterRow",i)}get filterSyncEnabled(){return this._getOption("filterSyncEnabled")}set filterSyncEnabled(i){this._setOption("filterSyncEnabled",i)}get filterValue(){return this._getOption("filterValue")}set filterValue(i){this._setOption("filterValue",i)}get focusedColumnIndex(){return this._getOption("focusedColumnIndex")}set focusedColumnIndex(i){this._setOption("focusedColumnIndex",i)}get focusedRowEnabled(){return this._getOption("focusedRowEnabled")}set focusedRowEnabled(i){this._setOption("focusedRowEnabled",i)}get focusedRowIndex(){return this._getOption("focusedRowIndex")}set focusedRowIndex(i){this._setOption("focusedRowIndex",i)}get focusedRowKey(){return this._getOption("focusedRowKey")}set focusedRowKey(i){this._setOption("focusedRowKey",i)}get grouping(){return this._getOption("grouping")}set grouping(i){this._setOption("grouping",i)}get groupPanel(){return this._getOption("groupPanel")}set groupPanel(i){this._setOption("groupPanel",i)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(i){this._setOption("headerFilter",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get highlightChanges(){return this._getOption("highlightChanges")}set highlightChanges(i){this._setOption("highlightChanges",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get keyboardNavigation(){return this._getOption("keyboardNavigation")}set keyboardNavigation(i){this._setOption("keyboardNavigation",i)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(i){this._setOption("keyExpr",i)}get loadPanel(){return this._getOption("loadPanel")}set loadPanel(i){this._setOption("loadPanel",i)}get masterDetail(){return this._getOption("masterDetail")}set masterDetail(i){this._setOption("masterDetail",i)}get noDataText(){return this._getOption("noDataText")}set noDataText(i){this._setOption("noDataText",i)}get pager(){return this._getOption("pager")}set pager(i){this._setOption("pager",i)}get paging(){return this._getOption("paging")}set paging(i){this._setOption("paging",i)}get remoteOperations(){return this._getOption("remoteOperations")}set remoteOperations(i){this._setOption("remoteOperations",i)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(i){this._setOption("renderAsync",i)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(i){this._setOption("repaintChangesOnly",i)}get rowAlternationEnabled(){return this._getOption("rowAlternationEnabled")}set rowAlternationEnabled(i){this._setOption("rowAlternationEnabled",i)}get rowDragging(){return this._getOption("rowDragging")}set rowDragging(i){this._setOption("rowDragging",i)}get rowTemplate(){return this._getOption("rowTemplate")}set rowTemplate(i){this._setOption("rowTemplate",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get scrolling(){return this._getOption("scrolling")}set scrolling(i){this._setOption("scrolling",i)}get searchPanel(){return this._getOption("searchPanel")}set searchPanel(i){this._setOption("searchPanel",i)}get selectedRowKeys(){return this._getOption("selectedRowKeys")}set selectedRowKeys(i){this._setOption("selectedRowKeys",i)}get selection(){return this._getOption("selection")}set selection(i){this._setOption("selection",i)}get selectionFilter(){return this._getOption("selectionFilter")}set selectionFilter(i){this._setOption("selectionFilter",i)}get showBorders(){return this._getOption("showBorders")}set showBorders(i){this._setOption("showBorders",i)}get showColumnHeaders(){return this._getOption("showColumnHeaders")}set showColumnHeaders(i){this._setOption("showColumnHeaders",i)}get showColumnLines(){return this._getOption("showColumnLines")}set showColumnLines(i){this._setOption("showColumnLines",i)}get showRowLines(){return this._getOption("showRowLines")}set showRowLines(i){this._setOption("showRowLines",i)}get sortByGroupSummaryInfo(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfo(i){this._setOption("sortByGroupSummaryInfo",i)}get sorting(){return this._getOption("sorting")}set sorting(i){this._setOption("sorting",i)}get stateStoring(){return this._getOption("stateStoring")}set stateStoring(i){this._setOption("stateStoring",i)}get summary(){return this._getOption("summary")}set summary(i){this._setOption("summary",i)}get syncLookupFilterValues(){return this._getOption("syncLookupFilterValues")}set syncLookupFilterValues(i){this._setOption("syncLookupFilterValues",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get toolbar(){return this._getOption("toolbar")}set toolbar(i){this._setOption("toolbar",i)}get twoWayBindingEnabled(){return this._getOption("twoWayBindingEnabled")}set twoWayBindingEnabled(i){this._setOption("twoWayBindingEnabled",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get wordWrapEnabled(){return this._getOption("wordWrapEnabled")}set wordWrapEnabled(i){this._setOption("wordWrapEnabled",i)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(i){this.setChildren("columns",i)}get sortByGroupSummaryInfoChildren(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfoChildren(i){this.setChildren("sortByGroupSummaryInfo",i)}_createInstance(i,n){return new GY(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("columns",i),this.setupChanges("dataSource",i),this.setupChanges("keyExpr",i),this.setupChanges("selectedRowKeys",i),this.setupChanges("sortByGroupSummaryInfo",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("columns"),this._idh.doCheck("dataSource"),this._idh.doCheck("keyExpr"),this._idh.doCheck("selectedRowKeys"),this._idh.doCheck("sortByGroupSummaryInfo"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let o=this._idh.setupSingle(i,n),r=this._idh.getChanges(i,n)!==null;(o||r)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(B(dt),B(Ne),B(Ft),B(zi),B(_o),B(ie),B(Tr),B(Di))},t.\u0275cmp=Se({type:t,selectors:[["dx-data-grid"]],contentQueries:function(i,n,o){if(i&1&&(_t(o,u0,4),_t(o,kG,4)),i&2){let r;ot(r=rt())&&(n.columnsChildren=r),ot(r=rt())&&(n.sortByGroupSummaryInfoChildren=r)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowColumnReordering:"allowColumnReordering",allowColumnResizing:"allowColumnResizing",autoNavigateToFocusedRow:"autoNavigateToFocusedRow",cacheEnabled:"cacheEnabled",cellHintEnabled:"cellHintEnabled",columnAutoWidth:"columnAutoWidth",columnChooser:"columnChooser",columnFixing:"columnFixing",columnHidingEnabled:"columnHidingEnabled",columnMinWidth:"columnMinWidth",columnResizingMode:"columnResizingMode",columns:"columns",columnWidth:"columnWidth",customizeColumns:"customizeColumns",dataRowTemplate:"dataRowTemplate",dataSource:"dataSource",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",errorRowEnabled:"errorRowEnabled",export:"export",filterBuilder:"filterBuilder",filterBuilderPopup:"filterBuilderPopup",filterPanel:"filterPanel",filterRow:"filterRow",filterSyncEnabled:"filterSyncEnabled",filterValue:"filterValue",focusedColumnIndex:"focusedColumnIndex",focusedRowEnabled:"focusedRowEnabled",focusedRowIndex:"focusedRowIndex",focusedRowKey:"focusedRowKey",grouping:"grouping",groupPanel:"groupPanel",headerFilter:"headerFilter",height:"height",highlightChanges:"highlightChanges",hint:"hint",hoverStateEnabled:"hoverStateEnabled",keyboardNavigation:"keyboardNavigation",keyExpr:"keyExpr",loadPanel:"loadPanel",masterDetail:"masterDetail",noDataText:"noDataText",pager:"pager",paging:"paging",remoteOperations:"remoteOperations",renderAsync:"renderAsync",repaintChangesOnly:"repaintChangesOnly",rowAlternationEnabled:"rowAlternationEnabled",rowDragging:"rowDragging",rowTemplate:"rowTemplate",rtlEnabled:"rtlEnabled",scrolling:"scrolling",searchPanel:"searchPanel",selectedRowKeys:"selectedRowKeys",selection:"selection",selectionFilter:"selectionFilter",showBorders:"showBorders",showColumnHeaders:"showColumnHeaders",showColumnLines:"showColumnLines",showRowLines:"showRowLines",sortByGroupSummaryInfo:"sortByGroupSummaryInfo",sorting:"sorting",stateStoring:"stateStoring",summary:"summary",syncLookupFilterValues:"syncLookupFilterValues",tabIndex:"tabIndex",toolbar:"toolbar",twoWayBindingEnabled:"twoWayBindingEnabled",visible:"visible",width:"width",wordWrapEnabled:"wordWrapEnabled"},outputs:{onAdaptiveDetailRowPreparing:"onAdaptiveDetailRowPreparing",onCellClick:"onCellClick",onCellDblClick:"onCellDblClick",onCellHoverChanged:"onCellHoverChanged",onCellPrepared:"onCellPrepared",onContentReady:"onContentReady",onContextMenuPreparing:"onContextMenuPreparing",onDataErrorOccurred:"onDataErrorOccurred",onDisposing:"onDisposing",onEditCanceled:"onEditCanceled",onEditCanceling:"onEditCanceling",onEditingStart:"onEditingStart",onEditorPrepared:"onEditorPrepared",onEditorPreparing:"onEditorPreparing",onExporting:"onExporting",onFocusedCellChanged:"onFocusedCellChanged",onFocusedCellChanging:"onFocusedCellChanging",onFocusedRowChanged:"onFocusedRowChanged",onFocusedRowChanging:"onFocusedRowChanging",onInitialized:"onInitialized",onInitNewRow:"onInitNewRow",onKeyDown:"onKeyDown",onOptionChanged:"onOptionChanged",onRowClick:"onRowClick",onRowCollapsed:"onRowCollapsed",onRowCollapsing:"onRowCollapsing",onRowDblClick:"onRowDblClick",onRowExpanded:"onRowExpanded",onRowExpanding:"onRowExpanding",onRowInserted:"onRowInserted",onRowInserting:"onRowInserting",onRowPrepared:"onRowPrepared",onRowRemoved:"onRowRemoved",onRowRemoving:"onRowRemoving",onRowUpdated:"onRowUpdated",onRowUpdating:"onRowUpdating",onRowValidating:"onRowValidating",onSaved:"onSaved",onSaving:"onSaving",onSelectionChanged:"onSelectionChanged",onToolbarPreparing:"onToolbarPreparing",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowColumnReorderingChange:"allowColumnReorderingChange",allowColumnResizingChange:"allowColumnResizingChange",autoNavigateToFocusedRowChange:"autoNavigateToFocusedRowChange",cacheEnabledChange:"cacheEnabledChange",cellHintEnabledChange:"cellHintEnabledChange",columnAutoWidthChange:"columnAutoWidthChange",columnChooserChange:"columnChooserChange",columnFixingChange:"columnFixingChange",columnHidingEnabledChange:"columnHidingEnabledChange",columnMinWidthChange:"columnMinWidthChange",columnResizingModeChange:"columnResizingModeChange",columnsChange:"columnsChange",columnWidthChange:"columnWidthChange",customizeColumnsChange:"customizeColumnsChange",dataRowTemplateChange:"dataRowTemplateChange",dataSourceChange:"dataSourceChange",dateSerializationFormatChange:"dateSerializationFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",errorRowEnabledChange:"errorRowEnabledChange",exportChange:"exportChange",filterBuilderChange:"filterBuilderChange",filterBuilderPopupChange:"filterBuilderPopupChange",filterPanelChange:"filterPanelChange",filterRowChange:"filterRowChange",filterSyncEnabledChange:"filterSyncEnabledChange",filterValueChange:"filterValueChange",focusedColumnIndexChange:"focusedColumnIndexChange",focusedRowEnabledChange:"focusedRowEnabledChange",focusedRowIndexChange:"focusedRowIndexChange",focusedRowKeyChange:"focusedRowKeyChange",groupingChange:"groupingChange",groupPanelChange:"groupPanelChange",headerFilterChange:"headerFilterChange",heightChange:"heightChange",highlightChangesChange:"highlightChangesChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",keyboardNavigationChange:"keyboardNavigationChange",keyExprChange:"keyExprChange",loadPanelChange:"loadPanelChange",masterDetailChange:"masterDetailChange",noDataTextChange:"noDataTextChange",pagerChange:"pagerChange",pagingChange:"pagingChange",remoteOperationsChange:"remoteOperationsChange",renderAsyncChange:"renderAsyncChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rowAlternationEnabledChange:"rowAlternationEnabledChange",rowDraggingChange:"rowDraggingChange",rowTemplateChange:"rowTemplateChange",rtlEnabledChange:"rtlEnabledChange",scrollingChange:"scrollingChange",searchPanelChange:"searchPanelChange",selectedRowKeysChange:"selectedRowKeysChange",selectionChange:"selectionChange",selectionFilterChange:"selectionFilterChange",showBordersChange:"showBordersChange",showColumnHeadersChange:"showColumnHeadersChange",showColumnLinesChange:"showColumnLinesChange",showRowLinesChange:"showRowLinesChange",sortByGroupSummaryInfoChange:"sortByGroupSummaryInfoChange",sortingChange:"sortingChange",stateStoringChange:"stateStoringChange",summaryChange:"summaryChange",syncLookupFilterValuesChange:"syncLookupFilterValuesChange",tabIndexChange:"tabIndexChange",toolbarChange:"toolbarChange",twoWayBindingEnabledChange:"twoWayBindingEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange",wordWrapEnabledChange:"wordWrapEnabledChange"},features:[bt([Ft,zi,ie,_o]),Le,On],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),qR=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({imports:[[NO,Wa,Ra,Ba,ka,Va,Ha,yI,xI,VO,OI,LO,gc,oI,lI,ZO,JO,aI,AO,UO,kO,XO,PO,pc,EI,RO,BO,gI,Aa,La,Na,za,Ga,Pa,jO,KO,WO,GO,qO,tI,$O,YO,QO,uI,nI,iI,rI,sI,dI,hI,pI,fI,mI,HO,vI,_I,CI,SI,bI,wI,eI,FI,DI,II,Gs,mo],NO,Wa,Ra,Ba,ka,Va,Ha,yI,xI,VO,OI,LO,gc,oI,lI,ZO,JO,aI,AO,UO,kO,XO,PO,pc,EI,RO,BO,gI,Aa,La,Na,za,Ga,Pa,jO,KO,WO,GO,qO,tI,$O,YO,QO,uI,nI,iI,rI,sI,dI,hI,pI,fI,mI,HO,vI,_I,CI,SI,bI,wI,eI,FI,DI,II,mo]}),t})();var zY=function(t,e,i){var n=h(t),o=i?n.scrollLeft():n.scrollTop(),r=i?"Width":"Height",a=n.prop("scroll".concat(r)),s=n.prop("client".concat(r)),l=a-s-o|0;if(o===0&&l===0)return!1;var d=o===0&&e>=0,u=l===0&&e<=0,c=o>0&&l>0;if(d||u||c)return!0};function FC(t,e){return(t||e)&&!(t&&e)}var om="dxTagData",R1e="dx-tagbox",B1e="dx-tag-container",rm="dx-tag",UY="dx-tagbox-multi-tag",jY="dx-tag-custom",$Y="dx-tag-remove-button",k1e="dx-tagbox-only-select",KY="dx-tagbox-single-line",P1e="dx-tagbox-popup-wrapper",N1e="dx-tag-content",L1e="dx-tagbox-default-template",V1e="dx-tagbox-custom-template",H1e="dx-texteditor-input-container",W1e=-.3,qY=th.inherit({_supportedKeys(){var t=this.callBase(),e=n=>this._list._keyboardHandler(n),i=this.option("rtlEnabled");return v({},t,{backspace(n){if(this._isCaretAtTheStart()){this._processKeyboardEvent(n),this._isTagRemoved=!0;var o=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),o.length!==0&&(this._preserveFocusedTag=!0,this._removeTagElement(o),delete this._preserveFocusedTag)}},upArrow:(n,o)=>n.altKey||!this._list?t.upArrow.call(this,n):e(o),downArrow:(n,o)=>n.altKey||!this._list?t.downArrow.call(this,n):e(o),del(n){if(!(!this._$focusedTag||!this._isCaretAtTheStart())){this._processKeyboardEvent(n),this._isTagRemoved=!0;var o=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(o),delete this._preserveFocusedTag}},enter(n,o){var r=this._list&&this._list.option("focusedElement")!==null,a=this.option("acceptCustomValue")&&!r;if(a){n.preventDefault(),this._searchValue()!==""&&this._customItemAddedHandler(n);return}this.option("opened")&&(this._saveValueChangeEvent(n),e(o),n.preventDefault())},space(n,o){var r=this.option("opened"),a=this._shouldRenderSearchEvent();r&&!a&&(this._saveValueChangeEvent(n),e(o),n.preventDefault())},leftArrow(n){if(!(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&i&&!this._$focusedTag)){n.preventDefault();var o=i?"next":"prev";this._moveTagFocus(o),!this.option("multiline")&&this._scrollContainer(o)}},rightArrow(n){if(!(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!i&&!this._$focusedTag)){n.preventDefault();var o=i?"prev":"next";this._moveTagFocus(o),!this.option("multiline")&&this._scrollContainer(o)}}})},_processKeyboardEvent(t){t.preventDefault(),t.stopPropagation(),this._saveValueChangeEvent(t)},_isEmpty(){return this._getValue().length===0},_updateTagsContainer(t){this._$tagsContainer=t.addClass(B1e)},_allowSelectItemByTab:()=>!1,_isCaretAtTheStart(){var t=Rg(this._input());return t?.start===0&&t.end===0},_updateInputAriaActiveDescendant(t){this.setAria("activedescendant",t,this._input())},_moveTagFocus(t,e){if(!this._$focusedTag){var i=this._tagElements();this._$focusedTag=t==="next"?i.first():i.last(),this._toggleFocusClass(!0,this._$focusedTag),this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"));return}var n=this._$focusedTag[t](".".concat(rm));n.length>0?(this._replaceFocusedTag(n),this._updateInputAriaActiveDescendant(n.attr("id"))):(e||t==="next"&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())},_replaceFocusedTag(t){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=t,this._toggleFocusClass(!0,this._$focusedTag)},_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)},_focusClassTarget(t){return t&&t.length&&t[0]!==this._focusTarget()[0]?t:this.callBase()},_getLabelContainer(){return this._$tagsContainer},_getFieldElement(){return this._input()},_scrollContainer(t){if(!(this.option("multiline")||!W())&&this._$tagsContainer){var e=this._getScrollPosition(t);this._$tagsContainer.scrollLeft(e)}},_getScrollPosition(t){return t==="start"||t==="end"?this._getBorderPosition(t):this._$focusedTag?this._getFocusedTagPosition(t):this._getBorderPosition("end")},_getBorderPosition(t){var e=this.option("rtlEnabled"),i=FC(t==="end",e),n=e?-1:1;return FC(i,!e)?0:n*(this._$tagsContainer.get(0).scrollWidth-ee(this._$tagsContainer))},_getFocusedTagPosition(t){var e=this.option("rtlEnabled"),i=FC(t==="next",e),{left:n}=this._$focusedTag.position(),o=this._$tagsContainer.scrollLeft();return i&&(n+=ee(this._$focusedTag,!0)-ee(this._$tagsContainer)),FC(i,n<0)&&(o+=n),o},_setNextValue:D,_getDefaultOptions(){return v(this.callBase(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:w.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})},_init(){this.callBase(),this._selectedItems=[],this._initSelectAllValueChangedAction()},_initActions(){this.callBase(),this._initMultiTagPreparingAction()},_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:t=>{this._multiTagPreparingHandler(t.args[0])},excludeValidators:["disabled","readOnly"]})},_multiTagPreparingHandler(t){var{length:e}=this._getValue();this.option("showMultiTagOnly")?t.text=w.getFormatter("dxTagBox-selected")(e):t.text=w.getFormatter("dxTagBox-moreSelected")(e-this.option("maxDisplayedTags")+1)},_initDynamicTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({tag:new Bi((t,e)=>{var i,n=h("<div>").addClass(N1e);h("<span>").text((i=e.text)!==null&&i!==void 0?i:e).appendTo(n),h("<div>").addClass($Y).appendTo(n),t.append(n)},["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})},_toggleSubmitElement(t){t?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)},_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=h("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))},_setSubmitValue(){if(this.option("useSubmitBehavior")){for(var t=this._getValue(),e=[],i=0,n=t.length;i<n;i++){var o=this._shouldUseDisplayValue(t[i]);e.push(h("<option>").val(o?this._displayGetter(t[i]):t[i]).attr("selected","selected"))}this._getSubmitElement().empty().append(e)}},_initMarkup(){this._tagElementsCache=h();var t=!this.option("multiline");this.$element().addClass(R1e).toggleClass(k1e,!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass(KY,t),this.setAria({role:"group",roledescription:"tagbox"},this.$element()),this._initTagTemplate(),this.callBase()},_getNewLabelId(t,e,i){return t?i?t===e?void 0:t.split(" ").filter(n=>n!==e).join(" "):"".concat(t," ").concat(e):e},_updateElementAria(t,e){var i=!t;if(i){this.setAria("labelledby",void 0,this.$element());return}var n=this.$element().attr("aria-labelledby"),o=this._getNewLabelId(n,t,e);this.setAria("labelledby",o,this.$element())},_render(){this.callBase(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")},_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")},_renderField(){var t=!f(this.option("fieldTemplate"));this.$element().toggleClass(L1e,t).toggleClass(V1e,!t),this.callBase()},_renderTagRemoveAction(){var t=this._createAction(this._removeTagHandler.bind(this)),e=F(se,"dxTagBoxTagRemove");_.off(this._$tagsContainer,e),_.on(this._$tagsContainer,e,".".concat($Y),i=>{t({event:i})})},_renderSingleLineScroll(){var t=F("dxmousewheel",this.NAME),e=this.$element(),i=this.option("multiline");if(_.off(e,t),R.real().deviceType!=="desktop"){this._$tagsContainer&&this._$tagsContainer.css("overflowX",i?"":"auto");return}i||_.on(e,t,this._tagContainerMouseWheelHandler.bind(this))},_tagContainerMouseWheelHandler(t){var e=this._$tagsContainer.scrollLeft(),i=t.delta*W1e;if(!ut(t)&&zY(this._$tagsContainer,i,!0))return this._$tagsContainer.scrollLeft(e+i),!1},_renderEvents(){this.callBase();var t=this._input(),e=F("keydown",this.NAME);_.on(t,e,i=>{var n=Ae(i);!this._isControlKey(n)&&this._isEditable()&&this._clearTagFocus()})},_popupWrapperClass(){return"".concat(this.callBase()," ").concat(P1e)},_renderInput(){this.callBase(),this._renderPreventBlurOnInputClick()},_renderPreventBlurOnInputClick(){var t=F("mousedown","dxTagBox");_.off(this._inputWrapper(),t),_.on(this._inputWrapper(),t,e=>{e.target!==this._input()[0]&&this._isFocused()&&e.preventDefault()})},_renderInputValueImpl(){return this._renderMultiSelect()},_loadInputValue:()=>A(),_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")},_focusInHandler(t){this._preventNestedFocusEvent(t)||this._scrollContainer("end"),this.callBase(t)},_renderInputValue(){return this.option("displayValue",this._searchValue()),this.callBase()},_restoreInputText(t){t||this._clearTextValue()},_focusOutHandler(t){this._preventNestedFocusEvent(t)||(this._clearTagFocus(),this._scrollContainer("start")),this.callBase(t)},_getFirstPopupElement(){return this.option("showSelectionControls")?this._list._focusTarget():this.callBase()},_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")},_renderList(){this.callBase(),this._setListDataSourceFilter(),this.option("showSelectionControls")&&(this._list.registerKeyHandler("tab",t=>this._popupElementTabHandler(t)),this._list.registerKeyHandler("escape",t=>this._popupElementEscHandler(t)))},_canListHaveFocus(){return this.option("applyValueMode")==="useButtons"},_listConfig(){var t=this.option("showSelectionControls")?"all":"multiple";return v(this.callBase(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:t,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:e=>{var{value:i}=e;this._selectAllValueChangeAction({value:i})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})},_renderMultiSelect(){var t=new S;return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(()=>{this._popup&&this._popup.refreshPosition(),t.resolve()}).fail(t.reject),t.promise()},_listItemClickHandler(t){!this.option("showSelectionControls")&&this._clearTextValue(),this.option("applyValueMode")!=="useButtons"&&(this.callBase(t),this._saveValueChangeEvent(void 0))},_shouldClearFilter(){var t=this.callBase(),e=this.option("showSelectionControls");return!e&&t},_renderInputSize(){var t=this._input(),e=t.val(),i=N(e)&&e,n="",o,r=this.option("searchEnabled")||this.option("acceptCustomValue");if(i&&r){var a=k_(t,e,{includePaddings:!0});a.insertAfter(t),n=ee(a)+5,a.remove()}else e||(o=1);t.css("width",n),t.attr("size",o??"")},_renderInputSubstitution(){this.callBase(),this._updateWidgetHeight()},_getValue(){return this.option("value")||[]},_multiTagRequired(){var t=this._getValue(),e=this.option("maxDisplayedTags");return f(e)&&t.length>e},_renderMultiTag(t){var e=h("<div>").addClass(rm).addClass(UY),i={multiTagElement:V(e),selectedItems:this.option("selectedItems")};return this._multiTagPreparingAction(i),i.cancel?!1:(e.data(om,i.text),e.insertBefore(t),this._tagTemplate.render({model:i.text,container:V(e)}),e)},_getFilter(t){var e=this._dataController.filter(),i=t.getCombinedFilter(this.option("valueExpr"),e),n=encodeURI(JSON.stringify(i)).length,o=this.option("maxFilterQueryLength");if(n<=o)return i;X.log("W1019",o)},_getFilteredItems(t){var e,i;(e=this._loadFilteredItemsPromise)===null||e===void 0||e.reject();var n=new lg(t),o=(i=this._list)===null||i===void 0?void 0:i.option("selectedItems"),r=!!o&&this._list._dataController.isLoaded(),a=o||this.option("selectedItems"),s=n.getLocalFilter(this._valueGetter),l=a.filter(s),d=l.length===t.length,u=new S,c=this._dataController;if((!this._isDataSourceChanged||r)&&d)return u.resolve(l).promise();var{customQueryParams:p,expand:g,select:m}=c.loadOptions(),y=this._getFilter(n);return c.loadFromStore({filter:y,customQueryParams:p,expand:g,select:m}).done((C,b)=>{if(this._isDataSourceChanged=!1,this._disposed){u.reject();return}var{data:O}=sc(C,b),k=c.applyMapFunction(O);u.resolve(k.filter(s))}).fail(u.reject),this._loadFilteredItemsPromise=u,u.promise()},_createTagsData(t,e){var i=[],n={},o=this._valueGetterExpr()==="this",r={};e.forEach(l=>{var d=o?JSON.stringify(l):this._valueGetter(l);r[d]=l});var a=[];t.forEach((l,d)=>{var u=r[o?JSON.stringify(l):l];if(o&&!f(u))a.push(this._loadItem(l,n).always(p=>{var g=this._createTagData(p,l);i.splice(d,0,g)}));else{var c=this._createTagData(u,l);i.splice(d,0,c)}});var s=new S;return A.apply(this,a).always(()=>{s.resolve(i)}),s.promise()},_createTagData(t,e){if(f(t))return this._selectedItems.push(t),t;var i=this.option("selectedItem"),n=this._valueGetter(i)===e?i:e;return n},_isGroupedData(){return this.option("grouped")&&!this._dataController.group()},_getItemsByValues(t){var e=[];return t.forEach(i=>{var n=this._getItemFromPlain(i);f(n)&&e.push(n)}),e},_getFilteredGroupedItems(t){var e=new S;return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?e.resolve(this._getItemsByValues(t)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done(()=>{e.resolve(this._getItemsByValues(t))}).fail(()=>{e.resolve([])}).always(()=>{this._filteredGroupedItemsLoadPromise=void 0}),e.promise()},_loadTagsData(){var t=this._getValue(),e=new S;this._selectedItems=[];var i=this._isGroupedData()?this._getFilteredGroupedItems(t):this._getFilteredItems(t);return i.done(n=>{var o=this._createTagsData(t,n);o.always(r=>{e.resolve(r)})}).fail(e.reject.bind(this)),e.promise()},_renderTags(){var t=new S,e=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._renderTagsImpl(this._selectedItems),e=!0,t.resolve())),e||this._loadTagsData().done(i=>{if(this._disposed){t.reject();return}this._renderTagsImpl(i),t.resolve()}).fail(t.reject),t.promise()},_renderTagsImpl(t){this._renderTagsCore(t),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus()},_shouldGetItemsFromPlain(t){return t&&this._dataController.isLoaded()&&t.length<=this._getPlainItems().length},_getItemsFromPlain(t){var e=this._getSelectedItemsFromList(t),i=e.length===0&&t.length>0||e.length<t.length;if(i){var n=this._getPlainItems();e=this._filterSelectedItems(n,t)}return e},_getSelectedItemsFromList(t){var e,i=(e=this._list)===null||e===void 0?void 0:e.option("selectedItems"),n=[];return t.length===i?.length&&(n=this._filterSelectedItems(i,t)),n},_filterSelectedItems(t,e){var i=t.filter(n=>{for(var o,r=0;r<e.length;r++)if(o=e[r],L(o)){if(this._isValueEquals(n,o))return!0}else if(this._isValueEquals(this._valueGetter(n),o))return!0;return!1},this);return i},_integrateInput(){this._isInputReady.resolve(),this.callBase();var t=this.$element().find(".".concat(H1e));this._updateTagsContainer(t),this._renderTagRemoveAction()},_renderTagsCore(t){var e;(e=this._isInputReady)===null||e===void 0||e.reject(),this._isInputReady=new S,this._renderField(),this.option("selectedItems",this._selectedItems.slice()),this._cleanTags(),this._input().length>0&&this._isInputReady.resolve(),A(this._isInputReady).done(()=>{this._renderTagsElements(t)})},_renderTagsElements(t){var e=this._multiTagRequired()&&this._renderMultiTag(this._input()),i=this.option("showMultiTagOnly"),n=this.option("maxDisplayedTags");t.forEach((o,r)=>{if(e&&i||e&&!i&&r-n>=-1)return!1;this._renderTag(o,e||this._input())}),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()},_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{var t=this._tagElements(),e=this._getValue();x(t,(i,n)=>{var o=h(n),r=o.data(om);e?.includes(r)||o.remove()})}this._updateElementAria()},_renderEmptyState(){var t=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(t),this._renderDisplayText()},_renderDisplayText(){this._renderInputSize()},_refreshTagElements(){this._tagElementsCache=this.$element().find(".".concat(rm))},_tagElements(){return this._tagElementsCache},_applyTagTemplate(t,e){this._tagTemplate.render({model:t,container:V(e)})},_renderTag(t,e){var i=this._valueGetter(t);if(f(i)){var n=this._getTag(i),o=this._displayGetter(t),r=this._getItemModel(t,o);if(n)f(o)&&(n.empty(),this._applyTagTemplate(r,n)),n.removeClass(jY),this._updateElementAria(n.attr("id"));else{var a="dx-".concat(new Ee);n=this._createTag(i,e,a),f(t)?this._applyTagTemplate(r,n):(n.addClass(jY),this._applyTagTemplate(i,n)),this._updateElementAria(a)}}},_getItemModel(t,e){return L(t)&&f(e)?t:Re(e,"")},_getTag(t){for(var e=this._tagElements(),i=e.length,n=!1,o=0;o<i;o++){var r=e[o],a=Ve(r,om);if(t===a||_e(t,a)){n=h(r);break}}return n},_createTag:(t,e,i)=>h("<div>").attr("id",i).addClass(rm).data(om,t).insertBefore(e),_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)},_customItemAddedHandler(t){this.callBase(t),this._clearTextValue()},_removeTagHandler(t){var e=t.event;e.stopPropagation(),this._saveValueChangeEvent(e);var i=h(e.target).closest(".".concat(rm));this._removeTagElement(i)},_removeTagElement(t){if(t.hasClass(UY)){this.option("showMultiTagOnly")?this.reset():this.option("value",this._getValue().slice(0,this.option("maxDisplayedTags")));return}var e=t.data(om),i=t.attr("id");this._removeTagWithUpdate(e),this._updateElementAria(i,!0),this._refreshTagElements()},_updateField:D,_removeTagWithUpdate(t){var e=this._getValue().slice();this._removeTag(e,t),this.option("value",e),this.option("selectedItem",null),e.length===0&&this._clearTagFocus()},_getCurrentValue(){return this._lastValue()},_selectionChangeHandler(t){if(this.option("applyValueMode")!=="useButtons"){var e=this._getValue().slice();if(x(t.removedItems||[],(n,o)=>{this._removeTag(e,this._valueGetter(o))}),x(t.addedItems||[],(n,o)=>{this._addTag(e,this._valueGetter(o))}),this._updateWidgetHeight(),!_e(this._list.option("selectedItemKeys"),this.option("value"))){var i=this._list._getSelectionChangeEvent();i&&this._saveValueChangeEvent(i),this.option("value",e)}this._list._saveSelectionChangeEvent(void 0)}},_removeTag(t,e){var i=this._valueIndex(e,t);i>=0&&t.splice(i,1)},_addTag(t,e){var i=this._valueIndex(e);i<0&&t.push(e)},_fieldRenderData(){return this._selectedItems.slice()},_completeSelection(t){this.option("showSelectionControls")||this._setValue(t)},_setValue(t){var e,i;if(t!==null){var n=this.option("applyValueMode")==="useButtons",o=this._valueIndex(t),r=(n?((e=this._list)===null||e===void 0?void 0:e.option("selectedItemKeys"))||[]:this._getValue()).slice();o>=0?r.splice(o,1):r.push(t),n?(i=this._list)===null||i===void 0||i.option("selectedItemKeys",r):this.option("value",r)}},_isSelectedValue(t,e){return this._valueIndex(t,null,e)>-1},_valueIndex(t,e,i){var n=-1;return i&&typeof t!="object"&&(i.indexByValues||(i.indexByValues={},e=e||this._getValue(),e.forEach((o,r)=>{i.indexByValues[o]=r})),t in i.indexByValues)?i.indexByValues[t]:(e=e||this._getValue(),x(e,(o,r)=>{if(this._isValueEquals(t,r))return n=o,!1}),n)},_lastValue(){var t=this._getValue(),e=t[t.length-1];return e??null},_shouldRenderSearchEvent(){return this.option("searchEnabled")||this.option("acceptCustomValue")},_searchHandler(t){this.option("searchEnabled")&&t&&!this._isTagRemoved&&(this.callBase(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved},_updateWidgetHeight(){var t=this.$element(),e=Y(t);this._renderInputSize();var i=Y(t);this._popup&&this.option("opened")&&this._isEditable()&&i!==e&&this._popup.repaint()},_refreshSelected(){var t;!((t=this._list)===null||t===void 0)&&t.getDataSource()&&this._list.option("selectedItems",this._selectedItems)},_resetListDataSourceFilter(){var t=this._dataController;delete this._userFilter,t.filter(null),t.reload()},_setListDataSourceFilter(){if(!(!this.option("hideSelectedItems")||!this._list)){var t=this._dataController,e=this._valueGetterExpr();if(N(e)&&e!=="this"){var i=this._dataSourceFilterExpr();this._userFilter===void 0&&(this._userFilter=t.filter()||null),this._userFilter&&i.push(this._userFilter),i.length?t.filter(i):t.filter(null)}else t.filter(this._dataSourceFilterFunction.bind(this));t.load()}},_dataSourceFilterExpr(){var t=[];return this._getValue().forEach(e=>t.push(["!",[this._valueGetterExpr(),e]])),t},_dataSourceFilterFunction(t){var e=this._valueGetter(t),i=!0;return x(this._getValue(),(n,o)=>{if(this._isValueEquals(o,e))return i=!1,!1}),i},_dataSourceChangedHandler(){this._isDataSourceChanged=!0,this.callBase.apply(this,arguments)},_applyButtonHandler(t){this._saveValueChangeEvent(t.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),this.callBase(),this._cancelSearchIfNeed()},_getSortedListValues(){var t=this._getListValues(),e=this.option("value")||[],i=t.length?QH(e,t):[],n=i.length?Zp(t,e):t;return i.concat(n)},_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map(t=>this._valueGetter(t)):[]},_setListDataSource(){var t=this._getValue();this.callBase(),t!==this.option("value")&&this.option("value",t),this._refreshSelected()},_renderOpenedState(){this.callBase(),this.option("applyValueMode")==="useButtons"&&!this.option("opened")&&this._refreshSelected()},reset(){this._restoreInputText();var t=this._getDefaultOptions().value,e=this.option("value");t&&t.length===0&&e&&t.length===e.length||this.callBase()},_clean(){this.callBase(),delete this._defaultTagTemplate,delete this._valuesToUpdate,delete this._tagTemplate},_getSelectedItemsDifference(t,e){if(!t.length)return{addedItems:[],removedItems:e.slice()};if(!e.length)return{addedItems:t.slice(),removedItems:[]};var i=e.reduce((o,r)=>{var a=this._valueGetter(r);return o[a]=r,o},{}),n=[];return t.forEach(o=>{var r=this._valueGetter(o);i[r]||n.push(o),delete i[r]}),{addedItems:n,removedItems:Object.values(i)}},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":i?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(i);break;case"displayExpr":this.callBase(t),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":this.callBase(t),!i&&this._refreshEvents();break;case"value":this._valuesToUpdate=i,this.callBase(t),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(e,i);break;case"selectedItem":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(i,n));break;case"multiline":this.$element().toggleClass(KY,!i),this._renderSingleLineScroll();break;case"maxFilterQueryLength":break;default:this.callBase(t)}},_getActualSearchValue(){return this.callBase()||this._searchValue()},_popupHidingHandler(){this.callBase(),this._clearFilter()}});K("dxTagBox",qY);var YY=qY;var QY=YY;var G1e=["*"],YR=(()=>{class t extends Ws{constructor(i,n,o,r,a,s,l,d){super(i,n,o,r,l,d),this._watcherHelper=r,this._idh=a,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"hidden",emit:"onHidden"},{subscribe:"hiding",emit:"onHiding"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"resize",emit:"onResize"},{subscribe:"resizeEnd",emit:"onResizeEnd"},{subscribe:"resizeStart",emit:"onResizeStart"},{subscribe:"showing",emit:"onShowing"},{subscribe:"shown",emit:"onShown"},{subscribe:"titleRendered",emit:"onTitleRendered"},{emit:"accessKeyChange"},{emit:"animationChange"},{emit:"closeOnOutsideClickChange"},{emit:"containerChange"},{emit:"contentTemplateChange"},{emit:"copyRootClassesToWrapperChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"dragAndResizeAreaChange"},{emit:"dragEnabledChange"},{emit:"dragOutsideBoundaryChange"},{emit:"elementAttrChange"},{emit:"enableBodyScrollChange"},{emit:"focusStateEnabledChange"},{emit:"fullScreenChange"},{emit:"heightChange"},{emit:"hideOnOutsideClickChange"},{emit:"hideOnParentScrollChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"maxHeightChange"},{emit:"maxWidthChange"},{emit:"minHeightChange"},{emit:"minWidthChange"},{emit:"positionChange"},{emit:"resizeEnabledChange"},{emit:"restorePositionChange"},{emit:"rtlEnabledChange"},{emit:"shadingChange"},{emit:"shadingColorChange"},{emit:"showCloseButtonChange"},{emit:"showTitleChange"},{emit:"tabIndexChange"},{emit:"titleChange"},{emit:"titleTemplateChange"},{emit:"toolbarItemsChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapperAttrChange"}]),this._idh.setHost(this),s.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get animation(){return this._getOption("animation")}set animation(i){this._setOption("animation",i)}get closeOnOutsideClick(){return this._getOption("closeOnOutsideClick")}set closeOnOutsideClick(i){this._setOption("closeOnOutsideClick",i)}get container(){return this._getOption("container")}set container(i){this._setOption("container",i)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(i){this._setOption("contentTemplate",i)}get copyRootClassesToWrapper(){return this._getOption("copyRootClassesToWrapper")}set copyRootClassesToWrapper(i){this._setOption("copyRootClassesToWrapper",i)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(i){this._setOption("deferRendering",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(i){this._setOption("dragAndResizeArea",i)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(i){this._setOption("dragEnabled",i)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(i){this._setOption("dragOutsideBoundary",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(i){this._setOption("enableBodyScroll",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(i){this._setOption("fullScreen",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(i){this._setOption("hideOnOutsideClick",i)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(i){this._setOption("hideOnParentScroll",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(i){this._setOption("maxHeight",i)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(i){this._setOption("maxWidth",i)}get minHeight(){return this._getOption("minHeight")}set minHeight(i){this._setOption("minHeight",i)}get minWidth(){return this._getOption("minWidth")}set minWidth(i){this._setOption("minWidth",i)}get position(){return this._getOption("position")}set position(i){this._setOption("position",i)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(i){this._setOption("resizeEnabled",i)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(i){this._setOption("restorePosition",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get shading(){return this._getOption("shading")}set shading(i){this._setOption("shading",i)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(i){this._setOption("shadingColor",i)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(i){this._setOption("showCloseButton",i)}get showTitle(){return this._getOption("showTitle")}set showTitle(i){this._setOption("showTitle",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(i){this._setOption("titleTemplate",i)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(i){this._setOption("toolbarItems",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(i){this._setOption("wrapperAttr",i)}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(i){this.setChildren("toolbarItems",i)}_createInstance(i,n){return new J5(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("toolbarItems",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("toolbarItems"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let o=this._idh.setupSingle(i,n),r=this._idh.getChanges(i,n)!==null;(o||r)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(B(dt),B(Ne),B(Ft),B(zi),B(_o),B(ie),B(Tr),B(Di))},t.\u0275cmp=Se({type:t,selectors:[["dx-popup"]],contentQueries:function(i,n,o){if(i&1&&_t(o,FG,4),i&2){let r;ot(r=rt())&&(n.toolbarItemsChildren=r)}},inputs:{accessKey:"accessKey",animation:"animation",closeOnOutsideClick:"closeOnOutsideClick",container:"container",contentTemplate:"contentTemplate",copyRootClassesToWrapper:"copyRootClassesToWrapper",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",elementAttr:"elementAttr",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",accessKeyChange:"accessKeyChange",animationChange:"animationChange",closeOnOutsideClickChange:"closeOnOutsideClickChange",containerChange:"containerChange",contentTemplateChange:"contentTemplateChange",copyRootClassesToWrapperChange:"copyRootClassesToWrapperChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",dragAndResizeAreaChange:"dragAndResizeAreaChange",dragEnabledChange:"dragEnabledChange",dragOutsideBoundaryChange:"dragOutsideBoundaryChange",elementAttrChange:"elementAttrChange",enableBodyScrollChange:"enableBodyScrollChange",focusStateEnabledChange:"focusStateEnabledChange",fullScreenChange:"fullScreenChange",heightChange:"heightChange",hideOnOutsideClickChange:"hideOnOutsideClickChange",hideOnParentScrollChange:"hideOnParentScrollChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",maxHeightChange:"maxHeightChange",maxWidthChange:"maxWidthChange",minHeightChange:"minHeightChange",minWidthChange:"minWidthChange",positionChange:"positionChange",resizeEnabledChange:"resizeEnabledChange",restorePositionChange:"restorePositionChange",rtlEnabledChange:"rtlEnabledChange",shadingChange:"shadingChange",shadingColorChange:"shadingColorChange",showCloseButtonChange:"showCloseButtonChange",showTitleChange:"showTitleChange",tabIndexChange:"tabIndexChange",titleChange:"titleChange",titleTemplateChange:"titleTemplateChange",toolbarItemsChange:"toolbarItemsChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapperAttrChange:"wrapperAttrChange"},features:[bt([Ft,zi,ie,_o]),Le,On],ngContentSelectors:G1e,decls:1,vars:0,template:function(i,n){i&1&&(Tn(),qi(0))},encapsulation:2}),t})(),QR=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({imports:[[Aa,La,Na,Wa,Ra,Ba,ka,Va,Ha,za,Ga,Pa,Gs,mo],Aa,La,Na,Wa,Ra,Ba,ka,Va,Ha,za,Ga,Pa,mo]}),t})();var z1e={provide:o3,useExisting:mu(()=>JY),multi:!0},JY=(()=>{class t extends Ws{constructor(i,n,o,r,a,s,l,d){super(i,n,o,r,l,d),this._watcherHelper=r,this._idh=a,this.touched=u=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"multiTagPreparing",emit:"onMultiTagPreparing"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"selectAllValueChanged",emit:"onSelectAllValueChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"applyValueModeChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hideSelectedItemsChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxDisplayedTagsChange"},{emit:"maxFilterQueryLengthChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"multilineChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectAllModeChange"},{emit:"selectAllTextChange"},{emit:"selectedItemsChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showMultiTagOnlyChange"},{emit:"showSelectionControlsChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"tagTemplateChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),s.setHost(this)}get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(i){this._setOption("acceptCustomValue",i)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get applyValueMode(){return this._getOption("applyValueMode")}set applyValueMode(i){this._setOption("applyValueMode",i)}get buttons(){return this._getOption("buttons")}set buttons(i){this._setOption("buttons",i)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(i){this._setOption("customItemCreateEvent",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(i){this._setOption("deferRendering",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(i){this._setOption("displayExpr",i)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(i){this._setOption("dropDownButtonTemplate",i)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(i){this._setOption("dropDownOptions",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(i){this._setOption("fieldTemplate",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get grouped(){return this._getOption("grouped")}set grouped(i){this._setOption("grouped",i)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(i){this._setOption("groupTemplate",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hideSelectedItems(){return this._getOption("hideSelectedItems")}set hideSelectedItems(i){this._setOption("hideSelectedItems",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(i){this._setOption("inputAttr",i)}get isValid(){return this._getOption("isValid")}set isValid(i){this._setOption("isValid",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get label(){return this._getOption("label")}set label(i){this._setOption("label",i)}get labelMode(){return this._getOption("labelMode")}set labelMode(i){this._setOption("labelMode",i)}get maxDisplayedTags(){return this._getOption("maxDisplayedTags")}set maxDisplayedTags(i){this._setOption("maxDisplayedTags",i)}get maxFilterQueryLength(){return this._getOption("maxFilterQueryLength")}set maxFilterQueryLength(i){this._setOption("maxFilterQueryLength",i)}get maxLength(){return this._getOption("maxLength")}set maxLength(i){this._setOption("maxLength",i)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(i){this._setOption("minSearchLength",i)}get multiline(){return this._getOption("multiline")}set multiline(i){this._setOption("multiline",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get noDataText(){return this._getOption("noDataText")}set noDataText(i){this._setOption("noDataText",i)}get opened(){return this._getOption("opened")}set opened(i){this._setOption("opened",i)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(i){this._setOption("openOnFieldClick",i)}get placeholder(){return this._getOption("placeholder")}set placeholder(i){this._setOption("placeholder",i)}get readOnly(){return this._getOption("readOnly")}set readOnly(i){this._setOption("readOnly",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(i){this._setOption("searchEnabled",i)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(i){this._setOption("searchExpr",i)}get searchMode(){return this._getOption("searchMode")}set searchMode(i){this._setOption("searchMode",i)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(i){this._setOption("searchTimeout",i)}get selectAllMode(){return this._getOption("selectAllMode")}set selectAllMode(i){this._setOption("selectAllMode",i)}get selectAllText(){return this._getOption("selectAllText")}set selectAllText(i){this._setOption("selectAllText",i)}get selectedItems(){return this._getOption("selectedItems")}set selectedItems(i){this._setOption("selectedItems",i)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(i){this._setOption("showClearButton",i)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(i){this._setOption("showDataBeforeSearch",i)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(i){this._setOption("showDropDownButton",i)}get showMultiTagOnly(){return this._getOption("showMultiTagOnly")}set showMultiTagOnly(i){this._setOption("showMultiTagOnly",i)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(i){this._setOption("showSelectionControls",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get tagTemplate(){return this._getOption("tagTemplate")}set tagTemplate(i){this._setOption("tagTemplate",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(i){this._setOption("useItemTextAsTitle",i)}get validationError(){return this._getOption("validationError")}set validationError(i){this._setOption("validationError",i)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(i){this._setOption("validationErrors",i)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(i){this._setOption("validationMessageMode",i)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(i){this._setOption("validationMessagePosition",i)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(i){this._setOption("validationStatus",i)}get value(){return this._getOption("value")}set value(i){this._setOption("value",i)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(i){this._setOption("valueChangeEvent",i)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(i){this._setOption("valueExpr",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(i){this._setOption("wrapItemText",i)}change(i){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(i){this.setChildren("buttons",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new QY(i,n)}writeValue(i){this.eventHelper.lockedValueChangeEvent=!0,this.value=i,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(i){this.disabled=i}registerOnChange(i){this.change=i}registerOnTouched(i){this.touched=i}_createWidget(i){super._createWidget(i),this.instance.on("focusOut",n=>{this.eventHelper.fireNgEvent("onBlur",[n])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("buttons",i),this.setupChanges("dataSource",i),this.setupChanges("items",i),this.setupChanges("searchExpr",i),this.setupChanges("selectedItems",i),this.setupChanges("validationErrors",i),this.setupChanges("value",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("selectedItems"),this._idh.doCheck("validationErrors"),this._idh.doCheck("value"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let o=this._idh.setupSingle(i,n),r=this._idh.getChanges(i,n)!==null;(o||r)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(B(dt),B(Ne),B(Ft),B(zi),B(_o),B(ie),B(Tr),B(Di))},t.\u0275cmp=Se({type:t,selectors:[["dx-tag-box"]],contentQueries:function(i,n,o){if(i&1&&(_t(o,ug,4),_t(o,ld,4)),i&2){let r;ot(r=rt())&&(n.buttonsChildren=r),ot(r=rt())&&(n.itemsChildren=r)}},hostBindings:function(i,n){i&1&&Wi("valueChange",function(r){return n.change(r)})("onBlur",function(r){return n.touched(r)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",applyValueMode:"applyValueMode",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hideSelectedItems:"hideSelectedItems",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxDisplayedTags:"maxDisplayedTags",maxFilterQueryLength:"maxFilterQueryLength",maxLength:"maxLength",minSearchLength:"minSearchLength",multiline:"multiline",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectAllMode:"selectAllMode",selectAllText:"selectAllText",selectedItems:"selectedItems",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showMultiTagOnly:"showMultiTagOnly",showSelectionControls:"showSelectionControls",stylingMode:"stylingMode",tabIndex:"tabIndex",tagTemplate:"tagTemplate",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCustomItemCreating:"onCustomItemCreating",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onMultiTagPreparing:"onMultiTagPreparing",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onSelectAllValueChanged:"onSelectAllValueChanged",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",applyValueModeChange:"applyValueModeChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hideSelectedItemsChange:"hideSelectedItemsChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxDisplayedTagsChange:"maxDisplayedTagsChange",maxFilterQueryLengthChange:"maxFilterQueryLengthChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",multilineChange:"multilineChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectAllModeChange:"selectAllModeChange",selectAllTextChange:"selectAllTextChange",selectedItemsChange:"selectedItemsChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showMultiTagOnlyChange:"showMultiTagOnlyChange",showSelectionControlsChange:"showSelectionControlsChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",tagTemplateChange:"tagTemplateChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},features:[bt([Ft,zi,z1e,ie,_o]),Le,On],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),JR=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({imports:[[gc,cI,zO,Aa,La,Na,Wa,Ra,Ba,ka,Va,Ha,za,Ga,Pa,pc,Gs,mo],gc,cI,zO,Aa,La,Na,Wa,Ra,Ba,ka,Va,Ha,za,Ga,Pa,pc,mo]}),t})();var ZR;try{ZR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZR=!1}var _r=(()=>{class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?bL(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ZR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||t)(ne(Di))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var am;function j1e(){if(am==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>am=!0}))}finally{am=am||!1}return am}function _h(t){return j1e()?t:!!t.capture}var XR;function $1e(){if(XR==null){let t=typeof document<"u"?document.head:null;XR=!!(t&&(t.createShadowRoot||t.attachShadow))}return XR}function XY(t){if($1e()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ol(t){return t.composedPath?t.composedPath()[0]:t.target}function ZY(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function eQ(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function tB(t){return Array.isArray(t)?t:[t]}function jd(t){return t instanceof dt?t.nativeElement:t}var tQ=new Set,$d,K1e=(()=>{class t{constructor(i,n){this._platform=i,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Y1e}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&q1e(i,this._nonce),this._matchMedia(i)}static{this.\u0275fac=function(n){return new(n||t)(ne(_r),ne(Kh,8))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function q1e(t,e){if(!tQ.has(t))try{$d||($d=document.createElement("style"),e&&$d.setAttribute("nonce",e),$d.setAttribute("type","text/css"),document.head.appendChild($d)),$d.sheet&&($d.sheet.insertRule(`@media ${t} {body{ }}`,0),tQ.add(t))}catch(i){console.error(i)}}function Y1e(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var nQ=(()=>{class t{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new Ot}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return iQ(tB(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=iQ(tB(i)).map(a=>this._registerQuery(a).observable),r=tu(o);return r=hs(r.pipe(Ki(1)),r.pipe(Eh(1),wh(0))),r.pipe(Ie(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{s.matches=s.matches||l,s.breakpoints[d]=l}),s}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let n=this._mediaMatcher.matchMedia(i),r={observable:new lt(a=>{let s=l=>this._zone.run(()=>a.next(l));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(ca(n),Ie(({matches:a})=>({query:i,matches:a})),io(this._destroySubject)),mql:n};return this._queries.set(i,r),r}static{this.\u0275fac=function(n){return new(n||t)(ne(K1e),ne(Ne))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iQ(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var nB=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ot,this._typeaheadSubscription=Tt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new Ot,this.change=new Ot,e instanceof ys?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):fD(e)&&(this._effectRef=SD(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(jt(i=>this._pressedLetters.push(i)),wh(e),Li(()=>this._pressedLetters.length>0),Ie(()=>this._pressedLetters.join(""))).subscribe(i=>{let n=this._getItemsArray();for(let o=1;o<n.length+1;o++){let r=(this._activeItemIndex+o)%n.length,a=n[r];if(!this._skipPredicateFn(a)&&a.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!e[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(r<a?r:a-1,-1);break}else return;default:(o||eQ(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),n=typeof e=="number"?e:i.indexOf(e),o=i[n];this._activeItem=o??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let o=(this._activeItemIndex+e*n+i.length)%i.length,r=i[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=i,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return fD(this._items)?this._items():this._items instanceof ys?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}};var AC=class extends nB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};function oB(t){return t.buttons===0||t.detail===0}function rB(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var gAe=new Ce("cdk-input-modality-detector-options"),fAe={ignoreKeys:[18,17,224,91,16]},aQ=650,yh=_h({passive:!0,capture:!0}),mAe=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(i,n,o,r){this._platform=i,this._mostRecentTarget=null,this._modality=new Si(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ol(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<aQ||(this._modality.next(oB(a)?"keyboard":"mouse"),this._mostRecentTarget=Ol(a))},this._onTouchstart=a=>{if(rB(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ol(a)},this._options=te(te({},fAe),r),this.modalityDetected=this._modality.pipe(Eh(1)),this.modalityChanged=this.modalityDetected.pipe(sS()),i.isBrowser&&n.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,yh),o.addEventListener("mousedown",this._onMousedown,yh),o.addEventListener("touchstart",this._onTouchstart,yh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yh),document.removeEventListener("mousedown",this._onMousedown,yh),document.removeEventListener("touchstart",this._onTouchstart,yh))}static{this.\u0275fac=function(n){return new(n||t)(ne(_r),ne(Ne),ne(ft),ne(gAe,8))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MC=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(MC||{}),vAe=new Ce("cdk-focus-monitor-default-options"),TC=_h({passive:!0,capture:!0}),sQ=(()=>{class t{constructor(i,n,o,r,a){this._ngZone=i,this._platform=n,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ot,this._rootNodeFocusAndBlurListener=s=>{let l=Ol(s);for(let d=l;d;d=d.parentElement)s.type==="focus"?this._onFocus(s,d):this._onBlur(s,d)},this._document=r,this._detectionMode=a?.detectionMode||MC.IMMEDIATE}monitor(i,n=!1){let o=jd(i);if(!this._platform.isBrowser||o.nodeType!==1)return De();let r=XY(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return n&&(a.checkChildren=!0),a.subject;let s={checkChildren:n,subject:new Ot,rootNode:r};return this._elementInfo.set(o,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(i){let n=jd(i),o=this._elementInfo.get(n);o&&(o.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(o))}focusVia(i,n,o){let r=jd(i),a=this._getDocument().activeElement;r===a?this._getClosestElementsInfo(r).forEach(([s,l])=>this._originChanged(s,n,l)):(this._setOrigin(n),typeof r.focus=="function"&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===MC.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused",n==="touch"),i.classList.toggle("cdk-keyboard-focused",n==="keyboard"),i.classList.toggle("cdk-mouse-focused",n==="mouse"),i.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&n,this._detectionMode===MC.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?aQ:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,n){let o=this._elementInfo.get(n),r=Ol(i);!o||!o.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),o)}_onBlur(i,n){let o=this._elementInfo.get(n);!o||o.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(o,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let n=i.rootNode,o=this._rootNodeFocusListenerCount.get(n)||0;o||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,TC),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,TC)}),this._rootNodeFocusListenerCount.set(n,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(io(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(i){let n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let o=this._rootNodeFocusListenerCount.get(n);o>1?this._rootNodeFocusListenerCount.set(n,o-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,TC),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,TC),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,o){this._setClasses(i,n),this._emitOrigin(o,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){let n=[];return this._elementInfo.forEach((o,r)=>{(r===i||o.checkChildren&&r.contains(i))&&n.push([r,o])}),n}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:n,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!n||n===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let r=i.labels;if(r){for(let a=0;a<r.length;a++)if(r[a].contains(n))return!0}return!1}static{this.\u0275fac=function(n){return new(n||t)(ne(Ne),ne(_r),ne(mAe),ne(ft,8),ne(vAe,8))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Kd=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Kd||{}),oQ="cdk-high-contrast-black-on-white",rQ="cdk-high-contrast-white-on-black",iB="cdk-high-contrast-active",lQ=(()=>{class t{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=Z(nQ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Kd.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(i):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Kd.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Kd.BLACK_ON_WHITE}return Kd.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(iB,oQ,rQ),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Kd.BLACK_ON_WHITE?i.add(iB,oQ):n===Kd.WHITE_ON_BLACK&&i.add(iB,rQ)}}static{this.\u0275fac=function(n){return new(n||t)(ne(_r),ne(ft))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _Ae=new Ce("cdk-dir-doc",{providedIn:"root",factory:yAe});function yAe(){return Z(ft)}var xAe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function CAe(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?xAe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var uQ=(()=>{class t{constructor(i){if(this.value="ltr",this.change=new Mt,i){let n=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=CAe(n||o||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||t)(ne(_Ae,8))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var aB=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=$({type:t})}static{this.\u0275inj=j({})}}return t})();function bAe(){return!0}var DAe=new Ce("mat-sanity-checks",{providedIn:"root",factory:bAe}),sm=(()=>{class t{constructor(i,n,o){this._sanityChecks=n,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return ZY()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}static{this.\u0275fac=function(n){return new(n||t)(ne(lQ),ne(DAe,8),ne(ft))}}static{this.\u0275mod=$({type:t})}static{this.\u0275inj=j({imports:[aB,aB]})}}return t})();var yQ=(()=>{class t{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vo=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Vo||{}),dB=class{constructor(e,i,n,o=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=o,this.state=Vo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},cQ=_h({passive:!0,capture:!0}),uB=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=Ol(e);i&&this._events.get(e.type)?.forEach((n,o)=>{(o===i||o.contains(i))&&n.forEach(r=>r.handleEvent(e))})}}addHandler(e,i,n,o){let r=this._events.get(i);if(r){let a=r.get(n);a?a.add(o):r.set(n,new Set([o]))}else this._events.set(i,new Map([[n,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,cQ)})}removeHandler(e,i,n){let o=this._events.get(e);if(!o)return;let r=o.get(i);r&&(r.delete(n),r.size===0&&o.delete(i),o.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,cQ)))}},hQ={enterDuration:225,exitDuration:150},wAe=800,pQ=_h({passive:!0,capture:!0}),gQ=["mousedown","touchstart"],fQ=["mouseup","mouseleave","touchend","touchcancel"],cB=class t{static{this._eventManager=new uB}constructor(e,i,n,o){this._target=e,this._ngZone=i,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=jd(n))}fadeInRipple(e,i,n={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=te(te({},hQ),n.animation);n.centered&&(e=o.left+o.width/2,i=o.top+o.height/2);let a=n.radius||EAe(e,i,o),s=e-o.left,l=i-o.top,d=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,n.color!=null&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(u);let c=window.getComputedStyle(u),p=c.transitionProperty,g=c.transitionDuration,m=p==="none"||g==="0s"||g==="0s, 0s"||o.width===0&&o.height===0,y=new dB(this,u,n,m);u.style.transform="scale3d(1, 1, 1)",y.state=Vo.FADING_IN,n.persistent||(this._mostRecentTransientRipple=y);let C=null;return!m&&(d||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>this._finishRippleTransition(y),O=()=>this._destroyRipple(y);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",O),C={onTransitionEnd:b,onTransitionCancel:O}}),this._activeRipples.set(y,C),(m||!d)&&this._finishRippleTransition(y),y}fadeOutRipple(e){if(e.state===Vo.FADING_OUT||e.state===Vo.HIDDEN)return;let i=e.element,n=te(te({},hQ),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=Vo.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=jd(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,gQ.forEach(n=>{t._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fQ.forEach(i=>{this._triggerElement.addEventListener(i,this,pQ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Vo.FADING_IN?this._startFadeOutTransition(e):e.state===Vo.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Vo.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Vo.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=oB(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+wAe;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!rB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===Vo.VISIBLE||e.config.terminateOnPointerUp&&e.state===Vo.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(gQ.forEach(i=>t._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(fQ.forEach(i=>e.removeEventListener(i,this,pQ)),this._pointerUpEventsRegistered=!1))}};function EAe(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),o=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+o*o)}var BC=new Ce("mat-ripple-global-options"),OAe=(()=>{class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,o,r,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new cB(this,n,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:te(te(te({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,n,te(te({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,te(te({},this.rippleConfig),i))}static{this.\u0275fac=function(n){return new(n||t)(B(dt),B(Ne),B(_r),B(BC,8),B($h,8))}}static{this.\u0275dir=ao({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,o){n&2&&Os("mat-ripple-unbounded",o.unbounded)},inputs:{color:[St.None,"matRippleColor","color"],unbounded:[St.None,"matRippleUnbounded","unbounded"],centered:[St.None,"matRippleCentered","centered"],radius:[St.None,"matRippleRadius","radius"],animation:[St.None,"matRippleAnimation","animation"],disabled:[St.None,"matRippleDisabled","disabled"],trigger:[St.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),xQ=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=$({type:t})}static{this.\u0275inj=j({imports:[sm,sm]})}}return t})();var mQ={capture:!0},vQ=["focus","click","mouseenter","touchstart"],sB="mat-ripple-loader-uninitialized",lB="mat-ripple-loader-class-name",_Q="mat-ripple-loader-centered",RC="mat-ripple-loader-disabled",CQ=(()=>{class t{constructor(){this._document=Z(ft,{optional:!0}),this._animationMode=Z($h,{optional:!0}),this._globalRippleOptions=Z(BC,{optional:!0}),this._platform=Z(_r),this._ngZone=Z(Ne),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let o=i.target.closest(`[${sB}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let i of vQ)this._document?.addEventListener(i,this._onInteraction,mQ)})}ngOnDestroy(){let i=this._hosts.keys();for(let n of i)this.destroyRipple(n);for(let n of vQ)this._document?.removeEventListener(n,this._onInteraction,mQ)}configureRipple(i,n){i.setAttribute(sB,""),(n.className||!i.hasAttribute(lB))&&i.setAttribute(lB,n.className||""),n.centered&&i.setAttribute(_Q,""),n.disabled&&i.setAttribute(RC,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,n){let o=this._hosts.get(i);if(o){o.disabled=n;return}n?i.setAttribute(RC,""):i.removeAttribute(RC)}_createRipple(i){if(!this._document)return;let n=this._hosts.get(i);if(n)return n;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(lB)),i.append(o);let r=new OAe(new dt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=i,r.centered=i.hasAttribute(_Q),r.disabled=i.hasAttribute(RC),this.attachRipple(i,r),r}attachRipple(i,n){i.removeAttribute(sB),this._hosts.set(i,n)}destroyRipple(i){let n=this._hosts.get(i);n&&(n.ngOnDestroy(),this._hosts.delete(i))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var IAe=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],FAe=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function TAe(t,e){t&1&&(nt(0,"span",3),qi(1,1),st())}function MAe(t,e){t&1&&(nt(0,"span",6),qi(1,2),st())}var AAe=["*"];var RAe=new Ce("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),SQ=new Ce("MatChipAvatar"),bQ=new Ce("MatChipTrailingIcon"),DQ=new Ce("MatChipRemove"),OQ=new Ce("MatChip"),wQ=(()=>{class t{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(i){this._disabled=i}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(i,n){this._elementRef=i,this._parentChip=n,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,i.nativeElement.nodeName==="BUTTON"&&i.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(i){!this.disabled&&this.isInteractive&&this._isPrimary&&(i.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(i.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static{this.\u0275fac=function(n){return new(n||t)(B(dt),B(OQ))}}static{this.\u0275dir=ao({type:t,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(n,o){n&1&&Wi("click",function(a){return o._handleClick(a)})("keydown",function(a){return o._handleKeydown(a)}),n&2&&(Fr("tabindex",o._getTabindex())("disabled",o._getDisabledAttribute())("aria-disabled",o.disabled),Os("mdc-evolution-chip__action--primary",o._isPrimary)("mdc-evolution-chip__action--presentational",!o.isInteractive)("mdc-evolution-chip__action--trailing",!o._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[St.HasDecoratorInputTransform,"disabled","disabled",Mn],tabIndex:[St.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?-1:tp(i)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[Ir]})}}return t})();var BAe=0,hB=(()=>{class t{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(i){this._value=i}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}constructor(i,n,o,r,a,s,l,d){this._changeDetectorRef=i,this._elementRef=n,this._ngZone=o,this._focusMonitor=r,this._globalRippleOptions=l,this._onFocus=new Ot,this._onBlur=new Ot,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${BAe++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new Mt,this.destroyed=new Mt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=Z(CQ),this._document=a,this._animationsDisabled=s==="NoopAnimations",d!=null&&(this.tabIndex=parseInt(d)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let i=this._elementRef.nativeElement;this._isBasicChip=i.hasAttribute(this.basicChipAttrName)||i.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Vm(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(i){(i.keyCode===8&&!i.repeat||i.keyCode===46)&&(i.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(i){return this._getActions().find(n=>{let o=n._elementRef.nativeElement;return o===i||o.contains(i)})}_getActions(){let i=[];return this.primaryAction&&i.push(this.primaryAction),this.removeIcon&&i.push(this.removeIcon),this.trailingIcon&&i.push(this.trailingIcon),i}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{let n=i!==null;n!==this._hasFocusInternal&&(this._hasFocusInternal=n,n?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Ki(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static{this.\u0275fac=function(n){return new(n||t)(B(qo),B(dt),B(Ne),B(sQ),B(ft),B($h,8),B(BC,8),_u("tabindex"))}}static{this.\u0275cmp=Se({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,o,r){if(n&1&&(_t(r,SQ,5),_t(r,bQ,5),_t(r,DQ,5),_t(r,SQ,5),_t(r,bQ,5),_t(r,DQ,5)),n&2){let a;ot(a=rt())&&(o.leadingIcon=a.first),ot(a=rt())&&(o.trailingIcon=a.first),ot(a=rt())&&(o.removeIcon=a.first),ot(a=rt())&&(o._allLeadingIcons=a),ot(a=rt())&&(o._allTrailingIcons=a),ot(a=rt())&&(o._allRemoveIcons=a)}},viewQuery:function(n,o){if(n&1&&Xh(wQ,5),n&2){let r;ot(r=rt())&&(o.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(n,o){n&1&&Wi("keydown",function(a){return o._handleKeydown(a)}),n&2&&(Rv("id",o.id),Fr("role",o.role)("tabindex",o._getTabIndex())("aria-label",o.ariaLabel),Mv("mat-"+(o.color||"primary")),Os("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",o.leadingIcon)("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-basic-chip",o._isBasicChip)("mat-mdc-standard-chip",!o._isBasicChip)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon())("_mat-animation-noopable",o._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[St.None,"aria-label","ariaLabel"],ariaDescription:[St.None,"aria-description","ariaDescription"],value:"value",color:"color",removable:[St.HasDecoratorInputTransform,"removable","removable",Mn],highlighted:[St.HasDecoratorInputTransform,"highlighted","highlighted",Mn],disableRipple:[St.HasDecoratorInputTransform,"disableRipple","disableRipple",Mn],disabled:[St.HasDecoratorInputTransform,"disabled","disabled",Mn],tabIndex:[St.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?void 0:tp(i)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[bt([{provide:OQ,useExisting:t}]),Ir,lo],ngContentSelectors:FAe,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(n,o){n&1&&(Tn(IAe),wi(0,"span",0),nt(1,"span",1)(2,"span",2),Ko(3,TAe,2,0,"span",3),nt(4,"span",4),qi(5),wi(6,"span",5),st()()(),Ko(7,MAe,2,0,"span",6)),n&2&&(Qe(2),gt("isInteractive",!1),Qe(),Av(3,o.leadingIcon?3:-1),Qe(4),Av(7,o._hasTrailingIcon()?7:-1))},dependencies:[wQ],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})();var IQ=(()=>{class t{get chipFocusChanges(){return this._getChipStream(i=>i._onFocus)}get chipDestroyedChanges(){return this._getChipStream(i=>i.destroyed)}get chipRemovedChanges(){return this._getChipStream(i=>i.removed)}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._syncChipsState()}get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(i){this._explicitRole=i}get focused(){return this._hasFocusedChip()}constructor(i,n,o){this._elementRef=i,this._changeDetectorRef=n,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Ot,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new ys}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(i=>i._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(i=>{i.disabled=this._disabled,i._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(i){this._originatesFromChip(i)&&this._keyManager.onKeydown(i)}_isValidIndex(i){return i>=0&&i<this._chips.length}_allowFocusEscape(){if(this.tabIndex!==-1){let i=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=i)}}_getChipStream(i){return this._chips.changes.pipe(ca(null),Sn(()=>Vm(...this._chips.map(i))))}_originatesFromChip(i){let n=i.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-mdc-chip"))return!0;n=n.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ca(this._chips)).subscribe(i=>{let n=[];i.forEach(o=>o._getActions().forEach(r=>n.push(r))),this._chipActions.reset(n),this._chipActions.notifyOnChanges()}),this._keyManager=new AC(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(i=>this._skipPredicate(i)),this.chipFocusChanges.pipe(io(this._destroyed)).subscribe(({chip:i})=>{let n=i._getSourceAction(document.activeElement);n&&this._keyManager.updateActiveItem(n)}),this._dir?.change.pipe(io(this._destroyed)).subscribe(i=>this._keyManager.withHorizontalOrientation(i))}_skipPredicate(i){return!i.isInteractive||i.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ca(null),io(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(io(this._destroyed)).subscribe(i=>{let o=this._chips.toArray().indexOf(i.chip);this._isValidIndex(o)&&i.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let i=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),n=this._chips.toArray()[i];n.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():n.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static{this.\u0275fac=function(n){return new(n||t)(B(dt),B(qo),B(uQ,8))}}static{this.\u0275cmp=Se({type:t,selectors:[["mat-chip-set"]],contentQueries:function(n,o,r){if(n&1&&_t(r,hB,5),n&2){let a;ot(a=rt())&&(o._chips=a)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(n,o){n&1&&Wi("keydown",function(a){return o._handleKeydown(a)}),n&2&&Fr("role",o.role)},inputs:{disabled:[St.HasDecoratorInputTransform,"disabled","disabled",Mn],role:"role",tabIndex:[St.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?0:tp(i)]},standalone:!0,features:[Ir,lo],ngContentSelectors:AAe,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(n,o){n&1&&(Tn(),nt(0,"div",0),qi(1),st())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return t})();var FQ=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=$({type:t})}static{this.\u0275inj=j({providers:[yQ,{provide:RAe,useValue:{separatorKeyCodes:[13]}}],imports:[sm,xQ,sm]})}}return t})();var PAe=["*"],kC;function NAe(){if(kC===void 0&&(kC=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(kC=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return kC}function lm(t){return NAe()?.createHTML(t)||t}function TQ(t){return Error(`Unable to find icon with the name "${t}"`)}function LAe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function MQ(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function AQ(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var us=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},VAe=(()=>{class t{constructor(i,n,o,r){this._httpClient=i,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,n,o){return this.addSvgIconInNamespace("",i,n,o)}addSvgIconLiteral(i,n,o){return this.addSvgIconLiteralInNamespace("",i,n,o)}addSvgIconInNamespace(i,n,o,r){return this._addSvgIconConfig(i,n,new us(o,null,r))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,o,r){let a=this._sanitizer.sanitize(Fn.HTML,o);if(!a)throw AQ(o);let s=lm(a);return this._addSvgIconConfig(i,n,new us("",s,r))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,o){return this._addSvgIconSetConfig(i,new us(n,null,o))}addSvgIconSetLiteralInNamespace(i,n,o){let r=this._sanitizer.sanitize(Fn.HTML,n);if(!r)throw AQ(n);let a=lm(r);return this._addSvgIconSetConfig(i,new us("",a,o))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let n=this._sanitizer.sanitize(Fn.RESOURCE_URL,i);if(!n)throw MQ(i);let o=this._cachedIconsByUrl.get(n);return o?De(PC(o)):this._loadSvgIconFromConfig(new us(i,null)).pipe(jt(r=>this._cachedIconsByUrl.set(n,r)),Ie(r=>PC(r)))}getNamedSvgIcon(i,n=""){let o=RQ(n,i),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(n,i),r)return this._svgIconConfigs.set(o,r),this._getSvgFromConfig(r);let a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(i,a):cs(TQ(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?De(PC(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(Ie(n=>PC(n)))}_getSvgFromIconSetConfigs(i,n){let o=this._extractIconWithNameFromAnySet(i,n);if(o)return De(o);let r=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(xr(s=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Fn.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(d)),De(null)})));return rS(r).pipe(Ie(()=>{let a=this._extractIconWithNameFromAnySet(i,n);if(!a)throw TQ(i);return a}))}_extractIconWithNameFromAnySet(i,n){for(let o=n.length-1;o>=0;o--){let r=n[o];if(r.svgText&&r.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(r),s=this._extractSvgIconFromSet(a,i,r.options);if(s)return s}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(jt(n=>i.svgText=n),Ie(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?De(null):this._fetchIcon(i).pipe(jt(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,o){let r=i.querySelector(`[id="${n}"]`);if(!r)return null;let a=r.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let s=this._svgElementFromString(lm("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,o)}_svgElementFromString(i){let n=this._document.createElement("DIV");n.innerHTML=i;let o=n.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let n=this._svgElementFromString(lm("<svg></svg>")),o=i.attributes;for(let r=0;r<o.length;r++){let{name:a,value:s}=o[r];a!=="id"&&n.setAttribute(a,s)}for(let r=0;r<i.childNodes.length;r++)i.childNodes[r].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[r].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){let{url:n,options:o}=i,r=o?.withCredentials??!1;if(!this._httpClient)throw LAe();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let a=this._sanitizer.sanitize(Fn.RESOURCE_URL,n);if(!a)throw MQ(n);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:r}).pipe(Ie(d=>lm(d)),fs(()=>this._inProgressUrlFetches.delete(a)),cS());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(i,n,o){return this._svgIconConfigs.set(RQ(i,n),o),this}_addSvgIconSetConfig(i,n){let o=this._iconSetConfigs.get(i);return o?o.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){let n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let o=0;o<this._resolvers.length;o++){let r=this._resolvers[o](n,i);if(r)return HAe(r)?new us(r.url,null,r.options):new us(r,null)}}static{this.\u0275fac=function(n){return new(n||t)(ne(ML,8),ne(VD),ne(ft,8),ne(En))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PC(t){return t.cloneNode(!0)}function RQ(t,e){return t+":"+e}function HAe(t){return!!(t.url&&t.options)}var WAe=new Ce("MAT_ICON_DEFAULT_OPTIONS"),GAe=new Ce("mat-icon-location",{providedIn:"root",factory:zAe});function zAe(){let t=Z(ft),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var BQ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],UAe=BQ.map(t=>`[${t}]`).join(", "),jAe=/^url\(['"]?#(.*?)['"]?\)$/,kQ=(()=>{class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(i,n,o,r,a,s){this._elementRef=i,this._iconRegistry=n,this._location=r,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Tt.EMPTY,s&&(s.color&&(this.color=this._defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let o=i.childNodes[n];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),n.forEach(o=>i.classList.add(o)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let n=this._elementsWithExternalReferences;n&&n.forEach((o,r)=>{o.forEach(a=>{r.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let n=i.querySelectorAll(UAe),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<n.length;r++)BQ.forEach(a=>{let s=n[r],l=s.getAttribute(a),d=l?l.match(jAe):null;if(d){let u=o.get(s);u||(u=[],o.set(s,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[n,o]=this._splitIconName(i);n&&(this._svgNamespace=n),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,n).pipe(Ki(1)).subscribe(r=>this._setSvgElement(r),r=>{let a=`Error retrieving icon ${n}:${o}! ${r.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(n){return new(n||t)(B(dt),B(VAe),_u("aria-hidden"),B(GAe),B(En),B(WAe,8))}}static{this.\u0275cmp=Se({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,o){n&2&&(Fr("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Mv(o.color?"mat-"+o.color:""),Os("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[St.HasDecoratorInputTransform,"inline","inline",Mn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ir,lo],ngContentSelectors:PAe,decls:1,vars:0,template:function(n,o){n&1&&(Tn(),qi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return t})();var $Ae=/^(\d+)/,KAe=/^(\d+\.\d+)/,qAe=/^(\d+\.\d+\.\d+)/;var YAe=/\d+/g;function QAe(t){let e=t.match($Ae);if(!e?.length)throw new Error(`Invalid id ${t}`);return+e[0]}function JAe(t){let e=t.match(KAe);if(!e||e.length===0)throw new Error(`Invalid id ${t}`);return e[0]}function XAe(t){let e=t.match(qAe);if(!e||e.length===0)throw new Error(`Invalid id ${t}`);return e[0]}function PQ(t){if(typeof t=="number")return["SEASON",+t];let e=t.match(YAe);if(e)switch(e.length){case 1:return["SEASON",+t];case 2:return["SECTION",t];case 3:return["STAGE",t];case 4:return["CHALLENGE",t];default:case 0:return}}function pB(t,e){return t.has(QAe(e))}function NQ(t,e){return t.has(JAe(e))}function ZAe(t,e){return t.has(XAe(e))}var dm=class{constructor(e){this.seasonIds=new Set,this.sectionIds=new Set,this.stageIds=new Set,this.challengeIds=new Set,e&&(this.seasonIds=new Set(e.seasonIds),this.sectionIds=new Set(e.sectionIds),this.stageIds=new Set(e.stageIds),this.challengeIds=new Set(e.challengeIds))}isEmpty(){return this.seasonIds.size===0&&this.sectionIds.size===0&&this.stageIds.size===0&&this.challengeIds.size===0}complete(e){let i=PQ(e);if(i)switch(i[0]){case"SEASON":this.seasonIds.add(i[1]);break;case"SECTION":this.sectionIds.add(i[1]);break;case"STAGE":this.stageIds.add(i[1]);break;case"CHALLENGE":this.challengeIds.add(i[1]);break}}uncomplete(e){let i=PQ(e);if(i)switch(i[0]){case"SEASON":this.seasonIds.delete(i[1]);break;case"SECTION":this.sectionIds.delete(i[1]);break;case"STAGE":this.stageIds.delete(i[1]);break;case"CHALLENGE":this.challengeIds.delete(i[1]);break}}createDxFilter(){let e=[],i=(n,o)=>[n,"<>",o];return this.seasonIds.forEach(n=>{e.push(i("seasonId",n),"and")}),this.sectionIds.forEach(n=>{pB(this.seasonIds,n)||e.push(i("sectionId",n),"and")}),this.stageIds.forEach(n=>{!pB(this.seasonIds,n)&&!NQ(this.sectionIds,n)&&e.push(i("stageId",n),"and")}),this.challengeIds.forEach(n=>{!pB(this.seasonIds,n)&&!NQ(this.sectionIds,n)&&!ZAe(this.stageIds,n)&&e.push(i("id",n),"and")}),1<e.length&&e.pop(),e}toJSON(){return{seasonIds:Array.from(this.seasonIds.values()),sectionIds:Array.from(this.sectionIds.values()),stageIds:Array.from(this.stageIds.values()),challengeIds:Array.from(this.challengeIds.values())}}};var NC=class{constructor(e){this._data=e??[]}isEmpty(){return this._data.length===0}pop(){return this._data.pop()}push(e){this._data.push(e)}};var LQ=(()=>{class t{constructor(){}put(i,n){localStorage.setItem(i,JSON.stringify(n))}get(i){let n=localStorage.getItem(i);return n?JSON.parse(n):void 0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gB="CbTracker-CompletedChallenges";var tRe=()=>["contains"];function iRe(t,e){if(t&1){let i=Jh();nt(0,"div",33)(1,"h2",34),ti(2),st(),nt(3,"div",35)(4,"a",36),Wi("click",function(){let o=Ds(i).$implicit,r=Ca();return ws(r.completeGrouped(o))}),st()()()}if(t&2){let i,n,o=e.$implicit,r=Ca();Qe(2),Su((i=r.getSeason(o.value))==null?null:i.name),Qe(),gt("title","Complete season "+((n=r.getSeason(o.value))==null?null:n.name))}}function nRe(t,e){if(t&1){let i=Jh();nt(0,"div",33)(1,"h2",34),ti(2),st(),nt(3,"div",35)(4,"a",36),Wi("click",function(){let o=Ds(i).$implicit,r=Ca();return ws(r.completeGrouped(o))}),st()()()}if(t&2){let i,n,o=e.$implicit,r=Ca();Qe(2),Su((i=r.getSection(o.value))==null?null:i.name),Qe(),gt("title","Complete section "+((n=r.getSection(o.value))==null?null:n.name))}}function oRe(t,e){if(t&1){let i=Jh();nt(0,"div",33)(1,"h3",34),ti(2),st(),nt(3,"div",35)(4,"a",36),Wi("click",function(){let o=Ds(i).$implicit,r=Ca();return ws(r.completeGrouped(o))}),st()()()}if(t&2){let i,n,o=e.$implicit,r=Ca();Qe(2),yD(" ( ",((i=(i=r.getStage(o.value))==null||i.challenges==null?null:i.challenges.length)!==null&&i!==void 0?i:0)-((i=o==null||o.data==null||o.data.items==null?null:o.data.items.length)!==null&&i!==void 0?i:0)," / ",(i=r.getStage(o.value))==null?null:i.required," ) ",(i=r.getStage(o.value))==null?null:i.name," "),Qe(),gt("title","Complete stage "+((n=r.getStage(o.value))==null?null:n.name))}}function rRe(t,e){if(t&1&&(nt(0,"mat-chip"),ti(1),st()),t&2){let i=e.$implicit;Qe(),Su(i)}}function aRe(t,e){if(t&1&&(nt(0,"div",37)(1,"mat-chip-set"),Ko(2,rRe,2,1,"mat-chip",38),st()()),t&2){let i=e.$implicit;Qe(2),gt("ngForOf",i.data.tags)}}var VQ=(()=>{class t{constructor(i,n){this.seasonService=i,this.localStorage=n,this.ChallengeTags=DV.map(o=>({text:o,value:o})),this.completed=new dm,this.completedChange=new Mt,this.sessionOrderedCompletions=new NC,this._subs=new Tt,this.calculateTagsValue=o=>o.tags.join(","),this.calculateTagsFilter=(o,r,a)=>["tags","contains",o],this.completeChallenge=o=>{o.row&&this.complete(o.row.data.id)},this.completeChallengeDblClick=o=>{let r="key"in o?o.key:o.id;this.complete(r)}}ngOnInit(){let i=this.localStorage.get(gB);i&&(this.completed=new dm(i)),this.data=new Fo({data:this.seasonService.challenges,key:"id",onLoading:n=>{this.completed.isEmpty()||(n.filter?n.filter=[n.filter,"and",this.completed.createDxFilter()]:n.filter=this.completed.createDxFilter())}}),this.seasons=this.seasonService.seasons.map(n=>({text:n.name,value:n.id})),this.sections=this.seasonService.sections.map(n=>({text:n.name,value:n.id})),this._subs.add(this.completedChange.subscribe(n=>this.localStorage.put(gB,n)))}ngOnDestroy(){this._subs.unsubscribe()}getSeason(i){return this.seasonService.getSeason(i)}getSection(i){return this.seasonService.getSection(i)}getStage(i){return this.seasonService.getStage(i)}completeGrouped(i){this.complete(i.value)}complete(i){this.completed.complete(i),this.completedChange.emit(this.completed),this.sessionOrderedCompletions.push(i),this.challengeGrid.instance.refresh()}undo(){if(this.sessionOrderedCompletions.isEmpty())return;let i=this.sessionOrderedCompletions.pop();i&&(this.completed.uncomplete(i),this.completedChange.emit(this.completed)),this.challengeGrid.instance.refresh()}static{this.\u0275fac=function(n){return new(n||t)(B(wV),B(LQ))}}static{this.\u0275cmp=Se({type:t,selectors:[["app-challenge-table"]],viewQuery:function(n,o){if(n&1&&Xh(nm,5),n&2){let r;ot(r=rt())&&(o.challengeGrid=r.first)}},inputs:{completed:"completed"},outputs:{completedChange:"completedChange"},standalone:!0,features:[lo],decls:58,vars:40,consts:[["grid",""],["InfoPopup",""],[1,"table-container"],[1,"challenge-grid",3,"onRowDblClick","dataSource","rowAlternationEnabled","allowColumnResizing"],["location","before"],["icon","info","hint","Information",3,"onClick"],["location","before","text","Conqueror's Blade Challenges"],["location","after"],["icon","undo","hint","Undo completion",3,"onClick","disabled"],["icon","refresh","hint","Refresh Challenges",3,"onClick"],["location","after","name","columnChooserButton"],[3,"enabled"],["mode","infinite"],[3,"visible"],[3,"visible","allowColumnDragging"],[3,"allowCollapsing"],["caption","Season","dataField","seasonId","width","85px","groupCellTemplate","seasonGroupCellTemplate",3,"allowHeaderFiltering","allowFiltering","showWhenGrouped","groupIndex"],[3,"dataSource","allowSearch"],["class","group-header-container",4,"dxTemplate","dxTemplateOf"],["caption","Section","dataField","sectionId","width","85px","groupCellTemplate","sectionGroupCellTemplate",3,"allowHeaderFiltering","allowFiltering","showWhenGrouped","groupIndex"],["caption","Stage","dataField","stageId","groupCellTemplate","stageGroupCellTemplate",3,"groupIndex"],["caption","Id","dataField","id","dataType","string",3,"allowHeaderFiltering","visible"],["caption","Text","dataField","text","dataType","string",3,"allowHeaderFiltering"],["caption","Tags","dataField","tags","dataType","string","cellTemplate","tagTemplate",3,"allowHeaderFiltering","calculateCellValue","calculateFilterExpression","filterOperations"],["searchMode","contains",3,"dataSource"],["class","challenge-tag-container",4,"dxTemplate","dxTemplateOf"],["type","buttons"],["icon","check","cssClass","grid-check","hint","Complete Challenge",3,"onClick"],["title","Information","height","80vh","width","80vw",3,"showCloseButton"],[1,"info-text"],[2,"margin-top","0"],[3,"inline"],["href","https://jsp.ellpeck.de/#03120789",1,"text-link"],[1,"group-header-container"],[1,"group-header"],[1,"group-buttons",3,"title"],[1,"grid-check","dx-link","material-icons","done_all",3,"click"],[1,"challenge-tag-container"],[4,"ngFor","ngForOf"]],template:function(n,o){if(n&1){let r=Jh();nt(0,"div",2)(1,"dx-data-grid",3,0),Wi("onRowDblClick",function(s){return Ds(r),ws(o.completeChallengeDblClick(s.data))}),nt(3,"dxo-toolbar")(4,"dxi-item",4)(5,"dx-button",5),Wi("onClick",function(){Ds(r);let s=vD(34);return ws(s.instance.show())}),st()(),wi(6,"dxi-item",6),nt(7,"dxi-item",7)(8,"dx-button",8),Wi("onClick",function(){return Ds(r),ws(o.undo())}),st()(),nt(9,"dxi-item",7)(10,"dx-button",9),Wi("onClick",function(){Ds(r);let s=vD(2);return ws(s.instance.refresh())}),st()(),wi(11,"dxi-item",10),st(),wi(12,"dxo-column-chooser",11)(13,"dxo-scrolling",12)(14,"dxo-filter-row",13)(15,"dxo-header-filter",13)(16,"dxo-group-panel",14)(17,"dxo-grouping",15),nt(18,"dxi-column",16),wi(19,"dxo-header-filter",17),st(),Ko(20,iRe,5,2,"div",18),nt(21,"dxi-column",19),wi(22,"dxo-header-filter",17),st(),Ko(23,nRe,5,2,"div",18),wi(24,"dxi-column",20),Ko(25,oRe,5,4,"div",18),wi(26,"dxi-column",21)(27,"dxi-column",22),nt(28,"dxi-column",23),wi(29,"dxo-header-filter",24),st(),Ko(30,aRe,3,1,"div",25),nt(31,"dxi-column",26),wi(32,"dxi-button",27),st()()(),nt(33,"dx-popup",28,1)(35,"pre",29),ti(36,"    "),nt(37,"h1",30),ti(38,"Conqueror's Blade Challenge Tracker"),st(),ti(39,`
    A simple app to track your Conqueror's Blade Challenges.

    This app allows you to mark challenges, stages, sections (units/weapons) and seasons as complete so that they are hidden from view.
    You can then use the filter and sort functionality to quickly search for available challenges based on the content you are playing.

    `),nt(40,"h2"),ti(41,"Usage"),st(),ti(42,`
    Either click the `),nt(43,"mat-icon",31),ti(44,"check"),st(),ti(45,` icon or double click a row to complete the challenge. You may complete an individual challenge or an entire stage, section, or season at a time.

    You can use the `),nt(46,"mat-icon",31),ti(47,"undo"),st(),ti(48,` button in the toolbar to undo actions that have been taken. Note that this is only tracked during the current session unlike challenge progress which is persisted.

    `),nt(49,"h2"),ti(50,"Progress"),st(),ti(51,`
    Progress is saved in your browser storage so it will persist through sessions.

    TODO: Import/Export feature to backup progress

    `),nt(52,"h2"),ti(53,"Notes"),st(),ti(54,`
    Many thanks to "@lx__" who gathered and formatted the data `),nt(55,"a",32),ti(56,"on this site"),st(),ti(57,` which is where I pulled the data from.
  `),st()()}n&2&&(Qe(),gt("dataSource",o.data)("rowAlternationEnabled",!0)("allowColumnResizing",!0),Qe(7),gt("disabled",o.sessionOrderedCompletions.isEmpty()),Qe(4),gt("enabled",!0),Qe(2),gt("visible",!0),Qe(),gt("visible",!0),Qe(),gt("visible",!1)("allowColumnDragging",!1),Qe(),gt("allowCollapsing",!0),Qe(),gt("allowHeaderFiltering",!0)("allowFiltering",!1)("showWhenGrouped",!0)("groupIndex",0),Qe(),gt("dataSource",o.seasons)("allowSearch",!0),Qe(),gt("dxTemplateOf","seasonGroupCellTemplate"),Qe(),gt("allowHeaderFiltering",!0)("allowFiltering",!1)("showWhenGrouped",!0)("groupIndex",1),Qe(),gt("dataSource",o.sections)("allowSearch",!0),Qe(),gt("dxTemplateOf","sectionGroupCellTemplate"),Qe(),gt("groupIndex",2),Qe(),gt("dxTemplateOf","stageGroupCellTemplate"),Qe(),gt("allowHeaderFiltering",!1)("visible",!1),Qe(),gt("allowHeaderFiltering",!1),Qe(),gt("allowHeaderFiltering",!0)("calculateCellValue",o.calculateTagsValue)("calculateFilterExpression",o.calculateTagsFilter)("filterOperations",rL(39,tRe)),Qe(),gt("dataSource",o.ChallengeTags),Qe(),gt("dxTemplateOf","tagTemplate"),Qe(2),gt("onClick",o.completeChallenge),Qe(),gt("showCloseButton",!0),Qe(10),gt("inline",!0),Qe(3),gt("inline",!0))},dependencies:[DD,SL,qR,nm,IG,u0,ug,RG,ld,TG,AG,MG,BG,PG,A2,JR,FQ,hB,IQ,kQ,OT,ET,QR,YR],styles:[".table-container[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}.table-container[_ngcontent-%COMP%]   .challenge-grid[_ngcontent-%COMP%]{position:absolute;inset:0}.table-container[_ngcontent-%COMP%]     .grid-check{font-size:24px!important}.group-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.group-header-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{margin:4px}.group-header-container[_ngcontent-%COMP%]   .group-buttons[_ngcontent-%COMP%]{margin-right:14px}.info-text[_ngcontent-%COMP%]{text-wrap:auto}"]})}}return t})();var HQ=[{path:"",component:VQ}];var WQ={providers:[SV(HQ)]};var GQ=(()=>{class t{constructor(){this.title="CbChallengeTracker"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Se({type:t,selectors:[["app-root"]],standalone:!0,features:[lo],decls:2,vars:0,consts:[[1,"app-container"]],template:function(n,o){n&1&&(nt(0,"div",0),wi(1,"router-outlet"),st())},dependencies:[xw],styles:[".app-container[_ngcontent-%COMP%]{height:100%;width:100%}"]})}}return t})();VL(GQ,WQ).catch(t=>console.error(t));
